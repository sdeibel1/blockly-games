// Automatically generated file.  Do not edit!
'use strict';var c;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ba(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var ca="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)},ea="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
function fa(a,b){if(b){var d=ea;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];f in d||(d[f]={});d=d[f]}a=a[a.length-1];e=d[a];b=b(e);b!=e&&null!=b&&ca(d,a,{configurable:!0,writable:!0,value:b})}}
fa("String.prototype.startsWith",function(a){return a?a:function(b,d){if(null==this)throw new TypeError("The 'this' value for String.prototype.startsWith must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.startsWith must not be a regular expression");var e=this+"";b+="";var f=e.length,h=b.length;d=Math.max(0,Math.min(d|0,e.length));for(var k=0;k<h&&d<f;)if(e[d++]!=b[k++])return!1;return k>=h}});
function ha(){ha=function(){};ea.Symbol||(ea.Symbol=ia)}function ja(a,b){this.hv=a;ca(this,"description",{configurable:!0,writable:!0,value:b})}ja.prototype.toString=function(){return this.hv};var ia=function(){function a(d){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new ja("jscomp_symbol_"+(d||"")+"_"+b++,d)}var b=0;return a}();
function ka(){ha();var a=ea.Symbol.iterator;a||(a=ea.Symbol.iterator=ea.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&ca(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return la(aa(this))}});ka=function(){}}function la(a){ka();a={next:a};a[ea.Symbol.iterator]=function(){return this};return a}
function ma(a,b){ka();a instanceof String&&(a+="");var d=0,e={next:function(){if(d<a.length){var f=d++;return{value:b(f,a[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e}fa("Array.prototype.keys",function(a){return a?a:function(){return ma(this,function(b){return b})}});
fa("Array.prototype.fill",function(a){return a?a:function(b,d,e){var f=this.length||0;0>d&&(d=Math.max(0,f+d));if(null==e||e>f)e=f;e=Number(e);0>e&&(e=Math.max(0,f+e));for(d=Number(d||0);d<e;d++)this[d]=b;return this}});var g=this||self;function p(a){return"string"==typeof a}function na(a){return"number"==typeof a}
function oa(a,b){a=a.split(".");var d=g;a[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===b?d=d[e]&&d[e]!==Object.prototype[e]?d[e]:d[e]={}:d[e]=b}function pa(){}function qa(a){a.kp=void 0;a.mg=function(){return a.kp?a.kp:a.kp=new a}}
function ra(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function sa(a){return"array"==ra(a)}function ta(a){var b=ra(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ua(a){return"function"==ra(a)}function va(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function wa(a){return a[xa]||(a[xa]=++ya)}var xa="closure_uid_"+(1E9*Math.random()>>>0),ya=0;function za(a,b,d){return a.call.apply(a.bind,arguments)}
function Aa(a,b,d){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,e);return a.apply(b,f)}}return function(){return a.apply(b,arguments)}}function Ba(a,b,d){Ba=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?za:Aa;return Ba.apply(null,arguments)}
function Ca(a,b){var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice();e.push.apply(e,arguments);return a.apply(this,e)}}function u(a,b){function d(){}d.prototype=b.prototype;a.v=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.qB=function(e,f,h){for(var k=Array(arguments.length-2),l=2;l<arguments.length;l++)k[l-2]=arguments[l];return b.prototype[f].apply(e,k)}};
var v={};v.I=Object(null);function Da(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Da);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}u(Da,Error);Da.prototype.name="CustomError";var Ea;function Fa(a,b){a=a.split("%s");for(var d="",e=a.length-1,f=0;f<e;f++)d+=a[f]+(f<b.length?b[f]:"%s");Da.call(this,d+a[e])}u(Fa,Da);Fa.prototype.name="AssertionError";var Ga=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(p(a))return p(b)&&1==b.length?a.indexOf(b,0):-1;for(var d=0;d<a.length;d++)if(d in a&&a[d]===b)return d;return-1},Ha=Array.prototype.forEach?function(a,b,d){Array.prototype.forEach.call(a,b,d)}:function(a,b,d){for(var e=a.length,f=p(a)?a.split(""):a,h=0;h<e;h++)h in f&&b.call(d,f[h],h,a)},Ia=Array.prototype.filter?function(a,b){return Array.prototype.filter.call(a,b,void 0)}:function(a,b){for(var d=
a.length,e=[],f=0,h=p(a)?a.split(""):a,k=0;k<d;k++)if(k in h){var l=h[k];b.call(void 0,l,k,a)&&(e[f++]=l)}return e},Ja=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var d=a.length,e=Array(d),f=p(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(void 0,f[h],h,a));return e},Ka=Array.prototype.every?function(a,b){return Array.prototype.every.call(a,b,void 0)}:function(a,b){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(void 0,
e[f],f,a))return!1;return!0};function La(a,b){return 0<=Ga(a,b)}function Ma(a,b){b=Ga(a,b);var d;(d=0<=b)&&Array.prototype.splice.call(a,b,1);return d}function Na(a){return Array.prototype.concat.apply([],arguments)}function Oa(a){var b=a.length;if(0<b){for(var d=Array(b),e=0;e<b;e++)d[e]=a[e];return d}return[]}function Pa(a,b,d,e){Array.prototype.splice.apply(a,Qa(arguments,1))}function Qa(a,b,d){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,d)};var Ra=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};
function Sa(a,b){if(b)a=a.replace(Ta,"&amp;").replace(Ua,"&lt;").replace(Va,"&gt;").replace(Wa,"&quot;").replace(Xa,"&#39;").replace(Ya,"&#0;");else{if(!Za.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ta,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ua,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Va,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Wa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Xa,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Ya,"&#0;"))}return a}
var Ta=/&/g,Ua=/</g,Va=/>/g,Wa=/"/g,Xa=/'/g,Ya=/\x00/g,Za=/[\x00&<>"']/;function $a(a,b){return a<b?-1:a>b?1:0};var ab;a:{var bb=g.navigator;if(bb){var cb=bb.userAgent;if(cb){ab=cb;break a}}ab=""}function db(a){return-1!=ab.indexOf(a)};function eb(a,b,d){for(var e in a)b.call(d,a[e],e,a)}var fb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gb(a,b){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)a[d]=e[d];for(var h=0;h<fb.length;h++)d=fb[h],Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=e[d])}}
function hb(a){var b=arguments.length;if(1==b&&sa(arguments[0]))return hb.apply(null,arguments[0]);for(var d={},e=0;e<b;e++)d[arguments[e]]=!0;return d};var ib={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function jb(a,b){this.Jq=a===kb&&b||"";this.rw=lb}jb.prototype.Ze=!0;jb.prototype.Zd=function(){return this.Jq};jb.prototype.toString=function(){return"Const{"+this.Jq+"}"};function nb(a){return a instanceof jb&&a.constructor===jb&&a.rw===lb?a.Jq:"type_error:Const"}var lb={},kb={};function ob(){this.ku=""}ob.prototype.Ze=!0;ob.prototype.Zd=function(){return this.ku.toString()};ob.prototype.tg=function(a){this.ku=a;return this};(new ob).tg("");function pb(){this.mu="";this.yw=qb}pb.prototype.Ze=!0;pb.prototype.Zd=function(){return this.mu.toString()};pb.prototype.hp=!0;pb.prototype.kh=function(){return 1};var qb={};function rb(){this.cq="";this.pw=sb}rb.prototype.Ze=!0;rb.prototype.Zd=function(){return this.cq.toString()};rb.prototype.hp=!0;rb.prototype.kh=function(){return 1};function tb(a){if(a instanceof rb&&a.constructor===rb&&a.pw===sb)return a.cq;ra(a);return"type_error:SafeUrl"}var ub=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function vb(a){if(a instanceof rb)return a;a="object"==typeof a&&a.Ze?a.Zd():String(a);ub.test(a)||(a="about:invalid#zClosurez");return wb(a)}var sb={};
function wb(a){var b=new rb;b.cq=a;return b}wb("about:blank");function xb(){this.bq="";this.ow=yb}xb.prototype.Ze=!0;var yb={};xb.prototype.Zd=function(){return this.bq};xb.prototype.tg=function(a){this.bq=a;return this};var zb=(new xb).tg("");function Ab(a){var b="",d;for(d in a){if(!/^[-_a-zA-Z0-9]+$/.test(d))throw Error("Name allows only [-_a-zA-Z0-9], got: "+d);var e=a[d];null!=e&&(e=sa(e)?Ja(e,Bb).join(" "):Bb(e),b+=d+":"+e+";")}return b?(new xb).tg(b):zb}
function Bb(a){if(a instanceof rb)return'url("'+tb(a).toString().replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(a instanceof jb)a=nb(a);else{a=String(a);var b=a.replace(Cb,"$1").replace(Cb,"$1").replace(Db,"url");if(Eb.test(b)){if(b=!Fb.test(a)){for(var d=b=!0,e=0;e<a.length;e++){var f=a.charAt(e);"'"==f&&d?b=!b:'"'==f&&b&&(d=!d)}b=b&&d&&Gb(a)}a=b?Hb(a):"zClosurez"}else a="zClosurez"}if(/[{;}]/.test(a))throw new Fa("Value does not allow [{;}], got: %s.",[a]);return a}
function Gb(a){for(var b=!0,d=/^[-_a-zA-Z0-9]$/,e=0;e<a.length;e++){var f=a.charAt(e);if("]"==f){if(b)return!1;b=!0}else if("["==f){if(!b)return!1;b=!1}else if(!b&&!d.test(f))return!1}return b}var Eb=/^[-,."'%_!# a-zA-Z0-9\[\]]+$/,Db=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,Cb=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,Fb=/\/\*/;
function Hb(a){return a.replace(Db,function(b,d,e,f){var h="";e=e.replace(/^(['"])(.*)\1$/,function(k,l,m){h=l;return m});b=vb(e).Zd();return d+h+b+h+f})};function Ib(){this.lu=""}Ib.prototype.Ze=!0;Ib.prototype.Zd=function(){return this.lu};Ib.prototype.tg=function(a){this.lu=a;return this};(new Ib).tg("");function Jb(){this.aq="";this.nw=Kb;this.Es=null}Jb.prototype.hp=!0;Jb.prototype.kh=function(){return this.Es};Jb.prototype.Ze=!0;Jb.prototype.Zd=function(){return this.aq.toString()};function Lb(a){if(a instanceof Jb&&a.constructor===Jb&&a.nw===Kb)return a.aq;ra(a);return"type_error:SafeHtml"}function Mb(a){if(a instanceof Jb)return a;var b="object"==typeof a,d=null;b&&a.hp&&(d=a.kh());return Nb(Sa(b&&a.Ze?a.Zd():String(a)),d)}
var Ob=/^[a-zA-Z0-9-]+$/,Pb={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},Qb={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};
function Rb(a,b,d){var e=String(a);if(!Ob.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in Qb)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.");a=String(a);e=null;var f="<"+a,h="";if(b)for(n in b){if(!Ob.test(n))throw Error('Invalid attribute name "'+n+'".');var k=b[n];if(null!=k){var l=a;var m=n;if(k instanceof jb)k=nb(k);else if("style"==m.toLowerCase()){if(!va(k))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof k+
" given: "+k);k instanceof xb||(k=Ab(k));k instanceof xb&&k.constructor===xb&&k.ow===yb?k=k.bq:(ra(k),k="type_error:SafeStyle")}else{if(/^on/i.test(m))throw Error('Attribute "'+m+'" requires goog.string.Const value, "'+k+'" given.');if(m.toLowerCase()in Pb)if(k instanceof pb)k instanceof pb&&k.constructor===pb&&k.yw===qb?k=k.mu:(ra(k),k="type_error:TrustedResourceUrl"),k=k.toString();else if(k instanceof rb)k=tb(k).toString();else if(p(k))k=vb(k).Zd();else throw Error('Attribute "'+m+'" on tag "'+
l+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+k+'" given.');}k.Ze&&(k=k.Zd());m=m+'="'+Sa(String(k))+'"';h+=" "+m}}var n=f+h;null!=d?sa(d)||(d=[d]):d=[];!0===ib[a.toLowerCase()]?n+=">":(d=Sb(d),n+=">"+Lb(d).toString()+"</"+a+">",e=d.kh());(b=b&&b.dir)&&(e=/^(ltr|rtl|auto)$/i.test(b)?0:null);return Nb(n,e)}
function Tb(a){function b(h){sa(h)?Ha(h,b):(h=Mb(h),f.push(Lb(h).toString()),h=h.kh(),0==e?e=h:0!=h&&e!=h&&(e=null))}var d=Mb(Ub),e=d.kh(),f=[];Ha(a,b);return Nb(f.join(Lb(d).toString()),e)}function Sb(a){return Tb(Array.prototype.slice.call(arguments))}var Kb={};function Nb(a,b){return(new Jb).tg(a,b)}Jb.prototype.tg=function(a,b){this.aq=a;this.Es=b;return this};Nb("<!DOCTYPE html>",0);var Ub=Nb("",0),Vb=Nb("<br>",0);var Wb=function(a){var b=!1,d;return function(){b||(d=a(),b=!0);return d}}(function(){var a=document.createElement("div"),b=document.createElement("div");b.appendChild(document.createElement("div"));a.appendChild(b);b=a.firstChild.firstChild;a.innerHTML=Lb(Ub);return!b.parentElement});function Xb(a,b){if(Wb())for(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=Lb(b)}function Yb(a,b){Xb(a,b)};function Zb(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}function $b(a){return a=Sa(a,void 0)}function ac(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var d=g.document.createElement("div");return a.replace(bc,function(e,f){var h=b[e];if(h)return h;"#"==f.charAt(0)&&(f=Number("0"+f.substr(1)),isNaN(f)||(h=String.fromCharCode(f)));h||(h=Nb(e+" ",null),Xb(d,h),h=d.firstChild.nodeValue.slice(0,-1));return b[e]=h})}
function cc(a){return a.replace(/&([^;]+);/g,function(b,d){switch(d){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=d.charAt(0)||(d=Number("0"+d.substr(1)),isNaN(d))?b:String.fromCharCode(d)}})}var bc=/&([^;\s<&]+);?/g;function dc(a){dc[" "](a);return a}dc[" "]=pa;function ec(a,b){var d=fc;return Object.prototype.hasOwnProperty.call(d,a)?d[a]:d[a]=b(a)};var gc=db("Opera"),x=db("Trident")||db("MSIE"),hc=db("Edge"),ic=db("Gecko")&&!(-1!=ab.toLowerCase().indexOf("webkit")&&!db("Edge"))&&!(db("Trident")||db("MSIE"))&&!db("Edge"),z=-1!=ab.toLowerCase().indexOf("webkit")&&!db("Edge"),jc=z&&db("Mobile"),kc=db("Macintosh"),lc=db("Android"),mc=db("iPhone")&&!db("iPod")&&!db("iPad"),nc=db("iPad");function oc(){var a=g.document;return a?a.documentMode:void 0}var pc;
a:{var qc="",rc=function(){var a=ab;if(ic)return/rv:([^\);]+)(\)|;)/.exec(a);if(hc)return/Edge\/([\d\.]+)/.exec(a);if(x)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(z)return/WebKit\/(\S+)/.exec(a);if(gc)return/(?:Version)[ \/]?(\S+)/.exec(a)}();rc&&(qc=rc?rc[1]:"");if(x){var sc=oc();if(null!=sc&&sc>parseFloat(qc)){pc=String(sc);break a}}pc=qc}var fc={};
function tc(a){return ec(a,function(){for(var b=0,d=Ra(String(pc)).split("."),e=Ra(String(a)).split("."),f=Math.max(d.length,e.length),h=0;0==b&&h<f;h++){var k=d[h]||"",l=e[h]||"";do{k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==k[0].length&&0==l[0].length)break;b=$a(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||$a(0==k[2].length,0==l[2].length)||$a(k[2],l[2]);k=k[3];l=l[3]}while(0==b)}return 0<=b})}var uc;
uc=g.document&&x?oc():void 0;var vc=!x||9<=Number(uc),wc=!ic&&!x||x&&9<=Number(uc)||ic&&tc("1.9.1"),xc=x&&!tc("9");function A(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}c=A.prototype;c.clone=function(){return new A(this.x,this.y)};function yc(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function zc(a,b){var d=a.x-b.x;a=a.y-b.y;return Math.sqrt(d*d+a*a)}function Ac(a,b){return new A(a.x-b.x,a.y-b.y)}function Bc(a,b){return new A(a.x+b.x,a.y+b.y)}c.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};c.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};
c.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};c.translate=function(a,b){a instanceof A?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),na(b)&&(this.y+=b));return this};c.scale=function(a,b){b=na(b)?b:a;this.x*=a;this.y*=b;return this};function Cc(a,b){this.width=a;this.height=b}c=Cc.prototype;c.clone=function(){return new Cc(this.width,this.height)};c.aspectRatio=function(){return this.width/this.height};c.ut=function(){return!(this.width*this.height)};c.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};c.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
c.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};c.scale=function(a,b){b=na(b)?b:a;this.width*=a;this.height*=b;return this};function Dc(a){return a?new Ec(Fc(a)):Ea||(Ea=new Ec)}function Gc(a,b){eb(b,function(d,e){d&&"object"==typeof d&&d.Ze&&(d=d.Zd());"style"==e?a.style.cssText=d:"class"==e?a.className=d:"for"==e?a.htmlFor=d:Hc.hasOwnProperty(e)?a.setAttribute(Hc[e],d):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,d):a[e]=d})}
var Hc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ic(){var a=window.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Cc(a.clientWidth,a.clientHeight)}
function Jc(a){var b=Kc(a);a=a.parentWindow||a.defaultView;return x&&tc("10")&&a.pageYOffset!=b.scrollTop?new A(b.scrollLeft,b.scrollTop):new A(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}function Kc(a){return a.scrollingElement?a.scrollingElement:z||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function Lc(a,b,d,e){function f(k){k&&b.appendChild(p(k)?a.createTextNode(k):k)}for(;e<d.length;e++){var h=d[e];!ta(h)||va(h)&&0<h.nodeType?f(h):Ha(Mc(h)?Oa(h):h,f)}}
function Nc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Oc(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Pc(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Fc(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Qc(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=String(b);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(b)}else Nc(a),a.appendChild(Fc(a).createTextNode(String(b)))}var Rc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Sc={IMG:" ",BR:"\n"};function Tc(a){return x&&!tc("9")?(a=a.getAttributeNode("tabindex"),null!=a&&a.specified):a.hasAttribute("tabindex")}
function Uc(a){a=a.tabIndex;return na(a)&&0<=a&&32768>a}function Vc(a){var b=[];Wc(a,b,!1);return b.join("")}function Wc(a,b,d){if(!(a.nodeName in Rc))if(3==a.nodeType)d?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Sc)b.push(Sc[a.nodeName]);else for(a=a.firstChild;a;)Wc(a,b,d),a=a.nextSibling}
function Mc(a){if(a&&"number"==typeof a.length){if(va(a))return"function"==typeof a.item||"string"==typeof a.item;if(ua(a))return"function"==typeof a.item}return!1}function Ec(a){this.Me=a||g.document||document}c=Ec.prototype;c.Te=Dc;c.K=function(a){return p(a)?this.Me.getElementById(a):a};c.getElementsByTagName=function(a,b){return(b||this.Me).getElementsByTagName(String(a))};c.setProperties=Gc;
c.ba=function(a,b,d){var e=this.Me,f=arguments,h=String(f[0]),k=f[1];if(!vc&&k&&(k.name||k.type)){h=["<",h];k.name&&h.push(' name="',$b(k.name),'"');if(k.type){h.push(' type="',$b(k.type),'"');var l={};gb(l,k);delete l.type;k=l}h.push(">");h=h.join("")}h=e.createElement(h);k&&(p(k)?h.className=k:sa(k)?h.className=k.join(" "):Gc(h,k));2<f.length&&Lc(e,h,f,2);return h};c.createElement=function(a){return this.Me.createElement(String(a))};c.createTextNode=function(a){return this.Me.createTextNode(String(a))};
c.appendChild=function(a,b){a.appendChild(b)};c.append=function(a,b){Lc(Fc(a),a,arguments,1)};c.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
c.vu=Nc;c.removeNode=Oc;c.Hf=function(a){return wc&&void 0!=a.children?a.children:Ia(a.childNodes,function(b){return 1==b.nodeType})};c.contains=Pc;
c.xg=function(a){var b;(b="A"==a.tagName&&a.hasAttribute("href")||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!Tc(a)||Uc(a)):Tc(a)&&Uc(a))&&x?(a=!ua(a.getBoundingClientRect)||x&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect(),a=null!=a&&0<a.height&&0<a.width):a=b;return a};
v.i={};v.i.removeAttribute=function(a,b){x&&tc("10.0")?a.setAttribute(b,null):a.removeAttribute(b)};v.i.Ya=function(a,b){var d=a.getAttribute("class")||"";if(-1!=(" "+d+" ").indexOf(" "+b+" "))return!1;d&&(d+=" ");a.setAttribute("class",d+b);return!0};
v.i.Fb=function(a,b){var d=a.getAttribute("class");if(-1==(" "+d+" ").indexOf(" "+b+" "))return!1;d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=b||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):v.i.removeAttribute(a,"class");return!0};v.i.dt=function(a,b){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")};v.i.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};v.i.mz=function(a){a.preventDefault();a.stopPropagation()};
v.i.Lm=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
v.i.ad=function(a){var b=new A(0,0),d=a.getAttribute("x");d&&(b.x=parseInt(d,10));if(d=a.getAttribute("y"))b.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(v.i.ad.Dw))b.x+=parseFloat(d[1]),d[3]&&(b.y+=parseFloat(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&((d=a.match(v.i.ad.Bw))||(d=a.match(v.i.ad.Cw)),d&&(b.x+=parseFloat(d[1]),d[3]&&(b.y+=parseFloat(d[3]))));return b};
v.i.$j=function(a){for(var b=0,d=0;a;){var e=v.i.ad(a);b+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new A(b,d)};v.i.ad.Dw=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*\))?/;v.i.ad.Cw=/transform:\s*translate3d\(\s*([-+\d.e]+)px([ ,]\s*([-+\d.e]+)\s*)px([ ,]\s*([-+\d.e]+)\s*)px\)?/;v.i.ad.Bw=/transform:\s*translate\(\s*([-+\d.e]+)px([ ,]\s*([-+\d.e]+)\s*)px\)?/;
v.i.C=function(a,b,d){a=document.createElementNS(v.Qn,a);for(var e in b)a.setAttribute(e,b[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};v.i.Ag=function(a){return a.ctrlKey&&kc?!0:2==a.button};v.i.Ek=function(a,b,d){var e=b.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=b.getScreenCTM().inverse());return e.matrixTransform(d)};
v.i.Vo=function(a){switch(a.deltaMode){case 0:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*v.$q,y:a.deltaY*v.$q};case 2:return{x:a.deltaX*v.ir,y:a.deltaY*v.ir}}};v.i.zq=function(a){return a.length?a.reduce(function(b,d){return b.length<d.length?b:d}).length:0};
v.i.lx=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;b=b||v.i.zq(a);for(var e=0;e<b;e++){for(var f=a[0][e],h=1;h<a.length;h++)if(f!=a[h][e])return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h][e])&&" "!=f)return d;return b};
v.i.mx=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;b=b||v.i.zq(a);for(var e=0;e<b;e++){for(var f=a[0].substr(-e-1,1),h=1;h<a.length;h++)if(f!=a[h].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h].charAt(a[h].length-e-1))&&" "!=f)return d;return b};v.i.qA=function(a){return v.i.Lq(a,!0)};v.i.oc=function(a){if("string"!=typeof a)return a;a=v.i.Lq(a,!1);return a.length?a[0]:""};
v.i.Kr=function(a){for(var b=v.g,d=/%{(BKY_[A-Z][A-Z0-9_]*)}/gi,e=d.exec(a);e;){var f=e[1];f=f.toUpperCase();"BKY_"!=f.substr(0,4)?console.log("WARNING: Unsupported message table prefix in %{"+e[1]+"}."):void 0==b[f.substr(4)]&&console.log("WARNING: No message string for %{"+e[1]+"}.");a=a.substring(e.index+f.length+1);e=d.exec(a)}};
v.i.Lq=function(a,b){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var h=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):b&&"0"<=l&&"9">=l?(f=2,h=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?h+=l:(d.push(parseInt(h,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[a-zA-Z][a-zA-Z0-9_]*/.test(f)?(l=f.toUpperCase(),(l=v.i.startsWith(l,
"BKY_")?l.substring(4):null)&&l in v.g?(f=v.g[l],"string"==typeof f?Array.prototype.push.apply(d,v.i.Lq(f,b)):b?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);b=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&b.push(l),a.length=0,b.push(d[k]));(l=a.join(""))&&b.push(l);a.length=0;return b};v.i.Re=function(){for(var a=v.i.Re.Iu.length,b=[],d=0;20>d;d++)b[d]=v.i.Re.Iu.charAt(Math.random()*a);return b.join("")};
v.i.Re.Iu="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";v.i.fv=function(a,b){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=v.i.DA(a[d],b);return a.join("\n")};
v.i.DA=function(a,b){if(a.length<=b)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>b&&(b=d[e].length);e=-Infinity;var f=1;do{var h=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=v.i.gv(d,a,b);e=v.i.Pq(d,a,b);a=v.i.EA(d,a);f++}while(e>h);return k};
v.i.Pq=function(a,b,d){for(var e=[0],f=[],h=0;h<a.length;h++)e[e.length-1]+=a[h].length,!0===b[h]?(e.push(0),f.push(a[h].charAt(a[h].length-1))):!1===b[h]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(h=b=0;h<e.length;h++)b-=2*Math.pow(Math.abs(d-e[h]),1.5),b-=Math.pow(a-e[h],1.5),-1!=".?!".indexOf(f[h])?b+=d/3:-1!=",;)]}".indexOf(f[h])&&(b+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(b+=.5);return b};
v.i.gv=function(a,b,d){for(var e=v.i.Pq(a,b,d),f,h=0;h<b.length-1;h++)if(b[h]!=b[h+1]){var k=[].concat(b);k[h]=!k[h];k[h+1]=!k[h+1];var l=v.i.Pq(a,k,d);l>e&&(e=l,f=k)}return f?v.i.gv(a,f,d):b};v.i.EA=function(a,b){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==b[e]&&d.push(b[e]?"\n":" ");return d.join("")};
v.i.wg=function(){if(void 0!==v.i.wg.ao)return v.i.wg.ao;if(!g.getComputedStyle)return!1;var a=document.createElement("p"),b="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";b=g.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(d[e])}document.body.removeChild(a);
v.i.wg.ao="none"!==b;return v.i.wg.ao};v.i.uh=function(a,b){var d=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");d?b.insertBefore(a,d):b.appendChild(a)};v.i.Au=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)};
v.i.Uk=function(a,b){a.style.transform=b;a.style["-webkit-transform"]=b};v.i.Ys=function(){var a=Ic(),b=Xc();return{right:a.width+b.x,bottom:a.height+b.y,top:b.y,left:b.x}};v.i.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};v.i.Ej=function(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0};v.i.fl=function(a){return a*Math.PI/180};v.i.pA=function(a){return 180*a/Math.PI};v.i.containsNode=function(a,b){return!!(a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)};
v.i.Po=function(a,b){var d=Object.create(null),e=Yc(a,!0);b&&(a=Zc(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;b=e[a];a++)d[b.type]?d[b.type]++:d[b.type]=1;return d};v.i.bo=function(a,b,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(b,d))};v.i.Wz=function(a,b){var d=b.x;b=b.y;var e=$c(a).getBoundingClientRect();d=new A(d-e.left,b-e.top);b=v.i.$j(a.Sa);return Ac(d,b).scale(1/a.scale)};var ad=!x||9<=Number(uc),bd=!x||9<=Number(uc),cd=x&&!tc("9"),dd="ontouchstart"in g||!!(g.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!g.navigator||!g.navigator.maxTouchPoints&&!g.navigator.msMaxTouchPoints),ed="PointerEvent"in g,fd="MSPointerEvent"in g&&!(!g.navigator||!g.navigator.msPointerEnabled),gd=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{g.addEventListener("test",
pa,b),g.removeEventListener("test",pa,b)}catch(d){}return a}();
v.Touch={};v.Touch.jl=null;v.Touch.Ee={};g.PointerEvent?v.Touch.Ee={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:dd&&(v.Touch.Ee={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});v.Pm=0;
v.$y=function(a,b){v.Dg();a.changedTouches&&1!=a.changedTouches.length||(v.Pm=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&hd(b,a)},v.Yv))};v.Dg=function(){v.Pm&&(clearTimeout(v.Pm),v.Pm=0)};v.Touch.zf=function(){v.Touch.jl=null};v.Touch.Aq=function(a){return!v.Touch.Qy(a)||v.Touch.ex(a)};
v.Touch.zm=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};v.Touch.ex=function(a){var b=v.Touch.zm(a);return void 0!==v.Touch.jl&&null!==v.Touch.jl?v.Touch.jl==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(v.Touch.jl=b,!0):!1};
v.Touch.Zz=function(a){if(v.i.startsWith(a.type,"touch")){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}};v.Touch.Qy=function(a){return v.i.startsWith(a.type,"touch")||v.i.startsWith(a.type,"mouse")||v.i.startsWith(a.type,"pointer")};v.Touch.Mm=function(a){return v.i.startsWith(a.type,"touch")||v.i.startsWith(a.type,"pointer")};
v.Touch.dA=function(a){var b=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)b[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};v.j={};v.j.fk="";v.j.mc=!0;v.j.xo=0;v.j.Bl="create";v.j.uj=v.j.Bl;v.j.Dn="delete";v.j.vl=v.j.Dn;v.j.Xg="change";v.j.HA=v.j.Xg;v.j.zj="move";v.j.Sq=v.j.zj;v.j.qr="var_create";v.j.rr="var_delete";v.j.vr="var_rename";v.j.Hl="ui";v.j.zl="comment_create";v.j.Vq="comment_delete";v.j.Uq="comment_change";v.j.Al="comment_move";v.j.Dv="finished_loading";v.j.jv=[v.j.uj,v.j.Sq,v.j.zl,v.j.Al];v.j.vj=[];v.j.Y=function(a){v.j.isEnabled()&&(v.j.vj.length||setTimeout(v.j.Vx,0),v.j.vj.push(a))};
v.j.Vx=function(){for(var a=v.j.filter(v.j.vj,!0),b=v.j.vj.length=0,d;d=a[b];b++){var e=id[d.Jb]||null;if(e){var f=d;if(f.mc)for(e.Yh.push(f),e.Ok.length=0;e.Yh.length>e.cr&&0<=e.cr;)e.Yh.shift();for(var h=0;d=e.dd[h];h++)d(f)}}};
v.j.filter=function(a,b){a=a.slice();b||a.reverse();for(var d=[],e=Object.create(null),f=0,h;h=a[f];f++)if(!h.Pi()){var k=[h.type,h.Mb,h.Jb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:h,index:f},d.push(h);else if(h.type==v.j.zj&&l.index==f-1)m.Ch=h.Ch,m.Bh=h.Bh,m.Eg=h.Eg,l.index=f;else if(h.type==v.j.Xg&&h.element==m.element&&h.name==m.name)m.newValue=h.newValue;else if(h.type!=v.j.Hl||"click"!=h.element||"commentOpen"!=m.element&&"mutatorOpen"!=m.element&&"warningOpen"!=m.element)e[k]={event:h,
index:1},d.push(h)}a=d.filter(function(n){return!n.Pi()});b||a.reverse();for(f=1;h=a[f];f++)h.type==v.j.Xg&&"mutation"==h.element&&a.unshift(a.splice(f,1)[0]);return a};v.j.hx=function(){for(var a=0,b;b=v.j.vj[a];a++)b.mc=!1};v.j.disable=function(){v.j.xo++};v.j.enable=function(){v.j.xo--};v.j.isEnabled=function(){return 0==v.j.xo};v.j.Qb=function(){return v.j.fk};v.j.T=function(a){v.j.fk="boolean"==typeof a?a?v.i.Re():"":a};
v.j.Vs=function(a){var b=[];a=Yc(a,!1);for(var d=0,e;e=a[d];d++)b[d]=e.id;return b};
v.j.ma=function(a){switch(a.type){case v.j.Bl:var b=new jd(null);break;case v.j.Dn:b=new kd(null);break;case v.j.Xg:b=new ld(null,"","","","");break;case v.j.zj:b=new md(null);break;case v.j.qr:b=new nd(null);break;case v.j.rr:b=new od(null);break;case v.j.vr:b=new pd(null,"");break;case v.j.Hl:b=new qd(null);break;case v.j.zl:b=new rd(null);break;case v.j.Uq:b=new sd(null);break;case v.j.Al:b=new td(null);break;case v.j.Vq:b=new ud(null);break;default:throw Error("Unknown event type.");}b.ma(a);
b.Jb=(void 0).id;return b};v.j.Ix=function(a){if(a.type==v.j.zj||a.type==v.j.Bl){var b=id[a.Jb]||null;if(a=vd(b,a.Mb))if(a.getParent()&&!a.getParent().disabled){b=Yc(a,!1);a=0;for(var d;d=b[a];a++)d.Ub(!0)}else if((a.M||a.R)&&!b.Rb()){do a.Ub(!1),a=Zc(a);while(a)}}};
function wd(){this.Jb=void 0;this.group=v.j.fk;this.mc=v.j.mc}wd.prototype.Na=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};wd.prototype.ma=function(a){this.group=a.group};wd.prototype.Pi=function(){return!1};wd.prototype.run=function(){};function xd(a){a=id[a.Jb]||null;if(!a)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return a};function yd(a){yd.v.constructor.call(this);this.Vg=a.ea();this.Jb=a.o.id}u(yd,wd);yd.prototype.Na=function(){var a=yd.v.Na.call(this);a.varId=this.Vg;return a};yd.prototype.ma=function(a){yd.v.Na.call(this);this.Vg=a.varId};function nd(a){a&&(nd.v.constructor.call(this,a),this.ai=a.type,this.$h=a.name)}u(nd,yd);nd.prototype.type=v.j.qr;nd.prototype.Na=function(){var a=nd.v.Na.call(this);a.varType=this.ai;a.varName=this.$h;return a};
nd.prototype.ma=function(a){nd.v.ma.call(this,a);this.ai=a.varType;this.$h=a.varName};nd.prototype.run=function(a){var b=xd(this);a?b.Yc(this.$h,this.ai,this.Vg):b.Le(this.Vg)};function od(a){a&&(od.v.constructor.call(this,a),this.ai=a.type,this.$h=a.name)}u(od,yd);od.prototype.type=v.j.rr;od.prototype.Na=function(){var a=od.v.Na.call(this);a.varType=this.ai;a.varName=this.$h;return a};od.prototype.ma=function(a){od.v.ma.call(this,a);this.ai=a.varType;this.$h=a.varName};
od.prototype.run=function(a){var b=xd(this);a?b.Le(this.Vg):b.Yc(this.$h,this.ai,this.Vg)};function pd(a,b){a&&(pd.v.constructor.call(this,a),this.Lp=a.name,this.Hp=b)}u(pd,yd);pd.prototype.type=v.j.vr;pd.prototype.Na=function(){var a=pd.v.Na.call(this);a.oldName=this.Lp;a.newName=this.Hp;return a};pd.prototype.ma=function(a){pd.v.ma.call(this,a);this.Lp=a.oldName;this.Hp=a.newName};pd.prototype.run=function(a){var b=xd(this);a?b.Kh(this.Vg,this.Hp):b.Kh(this.Vg,this.Lp)};
function zd(a){this.Ea={};this.o=a}c=zd.prototype;c.clear=function(){this.Ea=Object(null)};c.jn=function(a,b){var d=this.Kc(b,a.type),e=B(this.o,!1);v.j.T(!0);try{if(d&&d.ea()!=a.ea()){var f=a.type;b!=d.name&&Ad(d,b,e);for(b=0;b<e.length;b++)e[b].Sk(a.ea(),d.ea());v.j.Y(new od(a));this.Ea[f].splice(this.ek(f).indexOf(a),1)}else Ad(a,b,e)}finally{v.j.T(!1)}};c.Kh=function(a,b){var d=this.oe(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.jn(d,b)};
function Ad(a,b,d){v.j.Y(new pd(a,b));a.name=b;for(b=0;b<d.length;b++)d[b].wn(a)}c.Yc=function(a,b,d){var e=this.Kc(a,b);if(e){if(d&&e.ea()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.ea()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.oe(d))throw Error('Variable id, "'+d+'", is already in use.');d=d||v.i.Re();b=b||"";e=new Bd(this.o,a,b,d);this.Ea[b]?this.Ea[b].push(e):this.Ea[b]=[e];return e};
c.Le=function(a){var b=this.oe(a);if(b){var d=b.name,e=this.Xo(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=C(f,"NAME");d=v.g.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);v.alert(d);return}var h=this;1<e.length?(d=v.g.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),v.confirm(d,function(k){k&&h.bm(b,e)})):h.bm(b,e)}else console.warn("Can't delete non-existent variable: "+a)};
c.bm=function(a,b){var d=v.j.Qb();d||v.j.T(!0);try{for(var e=0;e<b.length;e++)b[e].D(!0,!1);var f=this.Ea[a.type];b=0;for(var h;h=f[b];b++)if(h.ea()==a.ea()){f.splice(b,1);v.j.Y(new od(a));break}}finally{d||v.j.T(!1)}};c.Kc=function(a,b){if(b=this.Ea[b||""])for(var d=0,e;e=b[d];d++)if(Cd(e.name,a))return e;return null};c.oe=function(a){for(var b=Object.keys(this.Ea),d=0;d<b.length;d++)for(var e=b[d],f=0,h;h=this.Ea[e][f];f++)if(h.ea()==a)return h;return null};
c.ek=function(a){return(a=this.Ea[a||""])?a.slice():[]};c.Wo=function(){for(var a=Object.keys(this.Ea),b=!1,d=0;d<a.length;d++)""==a[d]&&(b=!0);b||a.push("");return a};c.Se=function(){for(var a=[],b=Object.keys(this.Ea),d=0;d<b.length;d++)a=a.concat(this.Ea[b[d]]);return a};c.Xo=function(a){for(var b=[],d=B(this.o,!1),e=0;e<d.length;e++){var f=d[e].Kf();if(f)for(var h=0;h<f.length;h++)f[h].ea()==a&&b.push(d[e])}return b};v.B={};v.B.i={};v.B.i.createElement=function(a){return document.createElement(a)};v.B.i.createTextNode=function(a){return document.createTextNode(a)};v.B.i.kA=function(a){return(new DOMParser).parseFromString(a,"text/xml")};v.B.i.md=function(a){return(new XMLSerializer).serializeToString(a)};function Dd(a){Dd.v.constructor.call(this);this.Mb=a.id;this.Jb=a.o.id}u(Dd,wd);Dd.prototype.Na=function(){var a=Dd.v.Na.call(this);a.blockId=this.Mb;return a};Dd.prototype.ma=function(a){Dd.v.Na.call(this);this.Mb=a.blockId};function ld(a,b,d,e,f){a&&(ld.v.constructor.call(this,a),this.element=b,this.name=d,this.oldValue=e,this.newValue=f,"field"===this.element&&(v.j.disable(),Ed(a,this.newValue,this.name),v.j.enable()),Fd(a))}u(ld,Dd);v.j.jd=ld;c=ld.prototype;c.type=v.j.Xg;
c.Na=function(){var a=ld.v.Na.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};c.ma=function(a){ld.v.ma.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};c.Pi=function(){return this.oldValue==this.newValue};
c.run=function(a){var b=vd(xd(this),this.Mb);if(b)switch(b.ed&&b.ed.Ba(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=D(b,this.name))?(Gd(b,a),b.setValue(a)):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.Lh(a||null);break;case "collapsed":b.Og(a);break;case "disabled":b.Ub(!a);break;case "inline":b.Id(a);break;case "mutation":var d="";b.za&&(d=(d=b.za())&&v.B.md(d));if(b.Qa){a=a||"<mutation></mutation>";var e=v.B.td("<xml>"+a+"</xml>");b.Qa(e.firstChild)}v.j.Y(new ld(b,
"mutation",null,d,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.Mb)};function jd(a){a&&(jd.v.constructor.call(this,a),this.xml=a.o.U?v.B.Zn(a):v.B.cg(a),this.rg=v.j.Vs(a))}u(jd,Dd);v.j.yl=jd;jd.prototype.type=v.j.Bl;jd.prototype.Na=function(){var a=jd.v.Na.call(this);a.xml=v.B.md(this.xml);a.ids=this.rg;return a};
jd.prototype.ma=function(a){jd.v.ma.call(this,a);this.xml=v.B.td("<xml>"+a.xml+"</xml>").firstChild;this.rg=a.ids};jd.prototype.run=function(a){var b=xd(this);if(a)a=v.B.i.createElement("xml"),a.appendChild(this.xml),v.B.Ef(a,b);else{a=0;for(var d;d=this.rg[a];a++){var e=vd(b,d);e?e.D(!1,!1):d==this.Mb&&console.warn("Can't uncreate non-existent block: "+d)}}};
function kd(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");kd.v.constructor.call(this,a);this.St=a.o.U?v.B.Zn(a):v.B.cg(a);this.rg=v.j.Vs(a)}}u(kd,Dd);v.j.Tq=kd;kd.prototype.type=v.j.Dn;kd.prototype.Na=function(){var a=kd.v.Na.call(this);a.ids=this.rg;return a};kd.prototype.ma=function(a){kd.v.ma.call(this,a);this.rg=a.ids};
kd.prototype.run=function(a){var b=xd(this);if(a){a=0;for(var d;d=this.rg[a];a++){var e=vd(b,d);e?e.D(!1,!1):d==this.Mb&&console.warn("Can't delete non-existent block: "+d)}}else a=v.B.i.createElement("xml"),a.appendChild(this.St),v.B.Ef(a,b)};function md(a){a&&(md.v.constructor.call(this,a),a=Hd(this),this.Qt=a.cu,this.Pt=a.nt,this.Jp=a.bs)}u(md,Dd);v.j.ei=md;c=md.prototype;c.type=v.j.zj;
c.Na=function(){var a=md.v.Na.call(this);this.Ch&&(a.newParentId=this.Ch);this.Bh&&(a.newInputName=this.Bh);this.Eg&&(a.newCoordinate=Math.round(this.Eg.x)+","+Math.round(this.Eg.y));return a};c.ma=function(a){md.v.ma.call(this,a);this.Ch=a.newParentId;this.Bh=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.Eg=new A(parseFloat(a[0]),parseFloat(a[1])))};c.df=function(){var a=Hd(this);this.Ch=a.cu;this.Bh=a.nt;this.Eg=a.bs;Fd(vd(id[this.Jb]||null,this.Mb))};
function Hd(a){var b=vd(id[a.Jb]||null,a.Mb);a={};var d=b.getParent();if(d){a.cu=d.id;a:{for(var e=0,f;f=d.L[e];e++)if(f.connection&&E(f.connection)==b){b=f;break a}b=null}b&&(a.nt=b.name)}else a.bs=b.va();return a}c.Pi=function(){return this.Qt==this.Ch&&this.Pt==this.Bh&&yc(this.Jp,this.Eg)};
c.run=function(a){var b=xd(this),d=vd(b,this.Mb);if(d){var e=a?this.Ch:this.Qt,f=a?this.Bh:this.Pt;a=a?this.Eg:this.Jp;var h=null;if(e&&(h=vd(b,e),!h)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&Id(d);if(a)f=d.va(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.M||d.R;if(f){if(b=F(h,f))var k=b.connection}else d.type==v.ke&&(k=h.J);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.Mb)};
function Jd(a){this.Jb=a.id;this.group=v.j.fk;this.mc=!1}u(Jd,wd);Jd.prototype.type=v.j.Dv;Jd.prototype.Na=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Jb&&(a.workspaceId=this.Jb);return a};Jd.prototype.ma=function(a){this.Jb=a.workspaceId;this.group=a.group};v.B.Oq=function(a,b){var d=v.B.i.createElement("xml"),e=v.B.zA(v.G.yr(a));e.hasChildNodes()&&d.appendChild(e);var f=Kd(a,!0);e=0;for(var h;h=f[e];e++)d.appendChild(h.il(b));a=Ld(a,!0);for(e=0;f=a[e];e++)d.appendChild(v.B.Zn(f,b));return d};v.B.zA=function(a){for(var b=v.B.i.createElement("variables"),d=0,e;e=a[d];d++){var f=v.B.i.createElement("variable");f.appendChild(v.B.i.createTextNode(e.name));f.setAttribute("type",e.type);f.setAttribute("id",e.ea());b.appendChild(f)}return b};
v.B.Zn=function(a,b){var d;a.o.w&&(d=a.o.Lc());b=v.B.cg(a,b);var e=a.va();b.setAttribute("x",Math.round(a.o.w?d-e.x:e.x));b.setAttribute("y",Math.round(e.y));return b};v.B.Sx=function(a){var b=!1;a.name&&(a.uf?b=!0:a.Yf&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),b=!0));return b?a.hl(v.B.i.createElement("field")):null};
v.B.Iw=function(a,b){for(var d=0,e;e=a.L[d];d++)for(var f=0,h;h=e.oa[f];f++)(h=v.B.Sx(h))&&b.appendChild(h)};
v.B.cg=function(a,b){var d=v.B.i.createElement(a.Oa?"shadow":"block");d.setAttribute("type",a.type);b||d.setAttribute("id",a.id);if(a.za){var e=a.za();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}v.B.Iw(a,d);var f=a.qm();f&&(e=v.B.i.createElement("comment"),e.appendChild(v.B.i.createTextNode(f)),"object"==typeof a.cb&&(e.setAttribute("pinned",a.cb.isVisible()),f=a.cb.jh(),e.setAttribute("h",f.height),e.setAttribute("w",f.width)),d.appendChild(e));a.data&&(e=v.B.i.createElement("data"),
e.appendChild(v.B.i.createTextNode(a.data)),d.appendChild(e));f=0;for(var h;h=a.L[f];f++){var k,l=!0;if(h.type!=v.pf){var m=E(h.connection);h.type==v.Fa?k=v.B.i.createElement("value"):h.type==v.Ga&&(k=v.B.i.createElement("statement"));e=h.connection.ye;!e||m&&m.Oa||k.appendChild(v.B.Qr(e));m&&(k.appendChild(v.B.cg(m,b)),l=!1);k.setAttribute("name",h.name);l||d.appendChild(k)}}a.My!=a.vg&&d.setAttribute("inline",a.vg);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.disabled&&d.setAttribute("disabled",
!0);a.wc()||a.Oa||d.setAttribute("deletable",!1);a.Sb()||a.Oa||d.setAttribute("movable",!1);Md(a)||d.setAttribute("editable",!1);if(f=Zc(a))k=v.B.i.createElement("next"),k.appendChild(v.B.cg(f,b)),d.appendChild(k);e=a.J&&a.J.ye;!e||f&&f.Oa||k.appendChild(v.B.Qr(e));return d};
v.B.Qr=function(a){for(var b=a=a.cloneNode(!0),d;b;)if(b.firstChild)b=b.firstChild;else{for(;b&&!b.nextSibling;)d=b,b=b.parentNode,3==d.nodeType&&""==d.data.trim()&&b.firstChild!=d&&v.i.removeNode(d);b&&(d=b,b=b.nextSibling,3==d.nodeType&&""==d.data.trim()&&v.i.removeNode(d))}return a};v.B.md=function(a){return v.B.i.md(a)};
v.B.wB=function(a){a=v.B.md(a).split("<");for(var b="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(b=b.substring(2));a[d]=b+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(b+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};v.B.td=function(a){a=v.B.i.kA(a);if(!a||!a.documentElement||"xml"!=a.documentElement.nodeName.toLowerCase())throw TypeError("Blockly.Xml.textToDom expected an <xml> document.");return a.documentElement};
v.B.sB=function(a,b){b.qc(!1);b.clear();a=v.B.Ef(a,b);b.qc(!0);return a};
v.B.Ef=function(a,b){if(a instanceof Nd){var d=a;a=b;b=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;b.w&&(e=b.Lc());d=[];Od();var f=a.childNodes.length,h=v.j.Qb();h||v.j.T(!0);b.qc&&b.qc(!1);var k=!0;try{for(var l=0;l<f;l++){var m=a.childNodes[l],n=m.nodeName.toLowerCase();if("block"==n||"shadow"==n&&!v.j.mc){var t=v.B.yi(m,b);d.push(t.id);var w=m.hasAttribute("x")?parseInt(m.getAttribute("x"),10):10,r=m.hasAttribute("y")?parseInt(m.getAttribute("y"),
10):10;isNaN(w)||isNaN(r)||t.moveBy(b.w?e-w:w,r);k=!1}else{if("shadow"==n)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==n)if(b.U)Pd(m,b,e);else{var q=m,y=b,K=Qd(q),R=new Rd(y,K.content,K.at,K.cv,K.id),da=parseInt(q.getAttribute("x"),10),mb=parseInt(q.getAttribute("y"),10);isNaN(da)||isNaN(mb)||R.moveBy(da,mb);Sd(R)}else if("variables"==n){if(k)v.B.Ox(m,b);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
k=!1}}}}finally{h||v.j.T(!1),Td()}b.qc&&b.qc(!0);v.j.Y(new Jd(b));return d};v.B.pB=function(a,b){if(b.hasOwnProperty("scale")){var d=G;try{G=0;var e=Ud(b)}finally{G=d}}a=v.B.Ef(a,b);if(e&&e.height){d=e.y+e.height;var f=e.x;var h=Infinity,k=Infinity;for(e=0;e<a.length;e++){var l=vd(b,a[e]).va();l.y<k&&(k=l.y);l.x<h&&(h=l.x)}d=d-k+10;f-=h;var m;b.w&&(m=b.Lc());for(e=0;e<a.length;e++)vd(b,a[e]).moveBy(b.w?m-f:f,d)}return a};
v.B.yi=function(a,b){if(a instanceof Nd){var d=a;a=b;b=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}v.j.disable();d=b.Se();try{var e=v.B.Do(a,b),f=Yc(e,!1);if(b.U){Vd(e,!0);for(var h=f.length-1;0<=h;h--)f[h].ic();for(h=f.length-1;0<=h;h--)f[h].ca(!1);setTimeout(function(){e.o&&Vd(e,!1)},1);Wd(e);Xd(b)}else for(h=f.length-1;0<=h;h--)f[h].sh()}finally{v.j.enable()}if(v.j.isEnabled()){a=v.G.Us(b,d);for(h=0;h<a.length;h++)v.j.Y(new nd(a[h]));v.j.Y(new v.j.yl(e))}return e};
v.B.Ox=function(a,b){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==Element.ELEMENT_NODE){var f=e.getAttribute("type"),h=e.getAttribute("id");e=e.textContent;if(null==f)throw Error("Variable with id, "+h+" is without a type");b.Yc(e,f,h)}};
v.B.Do=function(a,b){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=b.ce(e,f);var h=null;f=0;for(var k;k=a.childNodes[f];f++)if(3!=k.nodeType){for(var l=h=null,m=0,n;n=k.childNodes[m];m++)1==n.nodeType&&("block"==n.nodeName.toLowerCase()?h=n:"shadow"==n.nodeName.toLowerCase()&&(l=n));!h&&l&&(h=l);m=k.getAttribute("name");switch(k.nodeName.toLowerCase()){case "mutation":d.Qa&&(d.Qa(k),d.ic&&d.ic());break;case "comment":d.Lh(k.textContent);
var t=k.getAttribute("pinned");t&&!d.yb&&setTimeout(function(){d.cb&&d.cb.Ba&&d.cb.Ba("true"==t)},1);h=parseInt(k.getAttribute("w"),10);k=parseInt(k.getAttribute("h"),10);!isNaN(h)&&!isNaN(k)&&d.cb&&d.cb.Ba&&d.cb.Ng(h,k);break;case "data":d.data=k.textContent;break;case "title":case "field":v.B.Nx(d,m,k);break;case "value":case "statement":k=F(d,m);if(!k){console.warn("Ignoring non-existent input "+m+" in block "+e);break}l&&(k.connection.ye=l);if(h)if(h=v.B.Do(h,b),h.M)k.connection.connect(h.M);
else if(h.R)k.connection.connect(h.R);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&d.J&&(d.J.ye=l);if(h){if(!d.J)throw TypeError("Next statement does not exist.");if(d.J.isConnected())throw TypeError("Next statement is already connected.");h=v.B.Do(h,b);if(!h.R)throw TypeError("Next block does not have previous statement.");d.J.connect(h.R)}break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(f=a.getAttribute("inline"))&&d.Id("true"==
f);(f=a.getAttribute("disabled"))&&d.Ub("true"!=f&&"disabled"!=f);(f=a.getAttribute("deletable"))&&d.rq("true"==f);(f=a.getAttribute("movable"))&&d.Nh("true"==f);(f=a.getAttribute("editable"))&&d.tq("true"==f);(f=a.getAttribute("collapsed"))&&d.Og("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=d.Hf(!1);for(f=0;b=a[f];f++)if(!b.Oa)throw TypeError("Shadow block not allowed non-shadow child.");if(d.Kf().length)throw TypeError("Shadow blocks cannot have variable references.");d.xq(!0)}return d};
v.B.Nx=function(a,b,d){var e=D(a,b);e?e.Qs(d):console.warn("Ignoring non-existent field "+b+" in block "+a.type)};v.B.Fx=function(a){for(var b=0,d;d=a.childNodes[b];b++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};g.Blockly||(g.Blockly={});g.Blockly.Xml||(g.Blockly.Xml={});g.Blockly.Xml.domToText=v.B.md;g.Blockly.Xml.domToWorkspace=v.B.Ef;g.Blockly.Xml.textToDom=v.B.td;g.Blockly.Xml.workspaceToDom=v.B.Oq;function Yd(a){this.Ie=a.id;this.Jb=a.o.id;this.group=v.j.fk;this.mc=v.j.mc}u(Yd,wd);Yd.prototype.Na=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Ie&&(a.commentId=this.Ie);return a};Yd.prototype.ma=function(a){this.Ie=a.commentId;this.group=a.group};function sd(a,b,d){a&&(sd.v.constructor.call(this,a),this.Ot=b,this.Xm=d)}u(sd,Yd);c=sd.prototype;c.type=v.j.Uq;c.Na=function(){var a=sd.v.Na.call(this);a.newContents=this.Xm;return a};
c.ma=function(a){sd.v.ma.call(this,a);this.Xm=a.newValue};c.Pi=function(){return this.Ot==this.Xm};c.run=function(a){var b=Zd(xd(this),this.Ie);b?b.ef(a?this.Xm:this.Ot):console.warn("Can't change non-existent comment: "+this.Ie)};function rd(a){a&&(rd.v.constructor.call(this,a),this.xml=a.il())}u(rd,Yd);rd.prototype.type=v.j.zl;rd.prototype.Na=function(){var a=rd.v.Na.call(this);a.xml=v.B.md(this.xml);return a};rd.prototype.ma=function(a){rd.v.ma.call(this,a);this.xml=v.B.td("<xml>"+a.xml+"</xml>").firstChild};
rd.prototype.run=function(a){v.j.Wq(this,a)};v.j.Wq=function(a,b){var d=xd(a);b?(b=v.B.i.createElement("xml"),b.appendChild(a.xml),v.B.Ef(b,d)):(d=Zd(d,a.Ie))?d.D(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.Ie)};function ud(a){a&&(ud.v.constructor.call(this,a),this.xml=a.il())}u(ud,Yd);ud.prototype.type=v.j.Vq;ud.prototype.Na=function(){return ud.v.Na.call(this)};ud.prototype.ma=function(a){ud.v.ma.call(this,a)};ud.prototype.run=function(a){v.j.Wq(this,!a)};
function td(a){a&&(td.v.constructor.call(this,a),this.io=a,this.Kp=a.Pd.clone(),this.Ah=null)}u(td,Yd);c=td.prototype;c.df=function(){if(!this.io)throw Error("Tried to record the new position of a comment on the same event twice.");this.Ah=this.io.Pd.clone();this.io=null};c.type=v.j.Al;c.Na=function(){var a=td.v.Na.call(this);this.Ah&&(a.newCoordinate=Math.round(this.Ah.x)+","+Math.round(this.Ah.y));return a};
c.ma=function(a){td.v.ma.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.Ah=new A(parseFloat(a[0]),parseFloat(a[1])))};c.Pi=function(){return yc(this.Kp,this.Ah)};c.run=function(a){var b=Zd(xd(this),this.Ie);if(b){a=a?this.Ah:this.Kp;var d=b.Pd.clone();b.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.Ie)};function Rd(a,b,d,e,f){this.id=f&&!Zd(a,f)?f:v.i.Re();a.mj.push(this);a.Vl[this.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+this.id+'"');a.Vl[this.id]=this;this.Pd=new A(0,0);this.xa=d;this.ka=e;this.o=a;this.w=a.w;this.Fk=this.Qj=!0;this.ld=b;this.np=!0;Sd(this)}c=Rd.prototype;
c.D=function(){if(this.o){v.j.isEnabled()&&v.j.Y(new ud(this));var a=this.o;if(!v.i.Ej(a.mj,this))throw Error("Comment not present in workspace's list of top-most comments.");delete a.Vl[this.id];this.o=null}};c.Ei=function(){return this.xa};c.Lc=function(){return this.ka};c.moveBy=function(a,b){var d=new td(this);this.Pd.translate(a,b);d.df();v.j.Y(d)};c.wc=function(){return this.Qj&&!(this.o&&this.o.options.readOnly)};c.rq=function(a){this.Qj=a};c.Sb=function(){return this.Fk&&!(this.o&&this.o.options.readOnly)};
c.Nh=function(a){this.Fk=a};c.lg=function(){return this.ld};c.ef=function(a){this.ld!=a&&(v.j.Y(new sd(this,this.ld,a)),this.ld=a)};c.il=function(a){a=this.hl(a);a.setAttribute("x",Math.round(this.Pd.x));a.setAttribute("y",Math.round(this.Pd.y));a.setAttribute("h",this.xa);a.setAttribute("w",this.ka);return a};c.hl=function(a){var b=v.B.i.createElement("comment");a||b.setAttribute("id",this.id);b.textContent=this.lg();return b};
function Sd(a){if(v.j.isEnabled()){var b=v.j.Qb();b||v.j.T(!0);try{v.j.Y(new rd(a))}finally{b||v.j.T(!1)}}}function Qd(a){var b=a.getAttribute("h"),d=a.getAttribute("w");return{id:a.getAttribute("id"),at:b?parseInt(b,10):100,cv:d?parseInt(d,10):100,x:parseInt(a.getAttribute("x"),10),y:parseInt(a.getAttribute("y"),10),content:a.textContent}};function $d(){this.Cb=null}c=$d.prototype;c.types={OA:"field",GA:"block",PA:"input",hB:"output",QA:"next",iB:"previous",lB:"stack",mB:"workspace"};function ae(a,b){a.Cb=b;a.Zu()}c.Zu=function(){};c.next=function(){var a=this.Cb;if(!a)return null;(a=a.next())&&a.Qc===be&&(a=a.next()||a);a&&ae(this,a);return a};c.pk=function(){var a=this.Cb;if(!a)return null;(a=a.pk())&&a.Qc===ce&&(a=a.next()||a);a&&ae(this,a);return a};
c.ej=function(){var a=this.Cb;if(!a)return null;(a=a.ej())&&a.Qc===be&&(a=a.ej()||a);a&&ae(this,a);return a};c.Jk=function(){var a=this.Cb;if(!a)return null;(a=a.Jk())&&ae(this,a);return a};function Nd(a){this.id=v.i.Re();id[this.id]=this;this.options=a||{};this.w=!!this.options.w;this.od=!!this.options.od;this.ra=this.options.ra;this.lj=[];this.mj=[];this.Vl=Object.create(null);this.dd=[];this.Yh=[];this.Ok=[];this.Yn=Object.create(null);this.Uf=Object.create(null);this.Ea=new zd(this);this.dj=null;this.cursor=this.ds()}c=Nd.prototype;c.U=!1;c.mp=!1;c.cr=1024;c.ds=function(){return new $d};c.D=function(){this.dd.length=0;this.clear();delete id[this.id]};
c.gf=function(a,b){a=a.va();b=b.va();return a.y+Nd.prototype.gf.offset*a.x-(b.y+Nd.prototype.gf.offset*b.x)};function de(a,b){if(!v.i.Ej(a.lj,b))throw Error("Block not present in workspace's list of top-most blocks.");}function Ld(a,b){var d=[].concat(a.lj);b&&1<d.length&&(a.gf.offset=Math.sin(v.i.fl(3)),a.w&&(a.gf.offset*=-1),d.sort(a.gf));return d}function Kd(a,b){var d=[].concat(a.mj);b&&1<d.length&&(a.gf.offset=Math.sin(v.i.fl(3)),a.w&&(a.gf.offset*=-1),d.sort(a.gf));return d}
function B(a,b){if(b){a=Ld(a,!0);b=[];for(var d=0;d<a.length;d++)b.push.apply(b,Yc(a[d],!0))}else for(b=Ld(a,!1),d=0;d<b.length;d++)b.push.apply(b,b[d].Hf(!1));return b.filter(function(e){return!e.re})}c.clear=function(){this.mp=!0;try{var a=v.j.Qb();for(a||v.j.T(!0);this.lj.length;)this.lj[0].D();for(;this.mj.length;)this.mj[this.mj.length-1].D();a||v.j.T(!1);this.Ea.clear();this.dj&&this.dj.clear()}finally{this.mp=!1}};c.Kh=function(a,b){this.Ea.Kh(a,b)};
c.Yc=function(a,b,d){return this.Ea.Yc(a,b,d)};c.Xo=function(a){return this.Ea.Xo(a)};c.Le=function(a){this.Ea.Le(a)};c.bm=function(a,b){this.Ea.bm(a,b)};c.Kc=function(a,b){return this.Ea.Kc(a,b)};c.oe=function(a){return this.Ea.oe(a)};c.ek=function(a){return this.Ea.ek(a)};c.Wo=function(){return this.Ea.Wo()};c.Se=function(){return this.Ea.Se()};c.Lc=function(){return 0};c.ce=function(a,b){return new ee(this,a,b)};function fe(a){return isNaN(a.options.Bp)?Infinity:a.options.Bp-B(a).length}
function ge(a,b){if(!he(a))return!0;var d=0,e;for(e in b){var f=b[e];if(a.options.Cp){var h=a.options.Cp[e]||Infinity;var k=a.Uf[e]?a.Uf[e].slice(0):[];h-=k.length}else h=Infinity;if(f>h)return!1;d+=b[e]}return d>fe(a)?!1:!0}function he(a){return Infinity!=a.options.Bp||!!a.options.Cp}
c.Nq=function(a){var b=a?this.Ok:this.Yh,d=a?this.Yh:this.Ok,e=b.pop();if(e){for(var f=[e];b.length&&e.group&&e.group==b[b.length-1].group;)f.push(b.pop());for(b=0;e=f[b];b++)d.push(e);f=v.j.filter(f,a);v.j.mc=!1;try{for(b=0;e=f[b];b++)e.run(a)}finally{v.j.mc=!0}}};c.Pr=function(){this.Yh.length=0;this.Ok.length=0;v.j.hx()};c.Vc=function(a){this.dd.push(a);return a};c.Ig=function(a){v.i.Ej(this.dd,a)};function vd(a,b){return a.Yn[b]||null}function Zd(a,b){return a.Vl[b]||null}var id=Object.create(null);
function ie(){var a=[],b;for(b in id)a.push(id[b]);return a}Nd.prototype.clear=Nd.prototype.clear;Nd.prototype.clearUndo=Nd.prototype.Pr;Nd.prototype.addChangeListener=Nd.prototype.Vc;Nd.prototype.removeChangeListener=Nd.prototype.Ig;function je(a,b,d,e,f,h){this.m=a;this.ld=b;this.Hu=d;d=ke;this.m.w&&(d=-d);this.Mw=v.i.fl(d);a.Md.appendChild(this.Mj(b,!(!f||!h)));this.Bb=e;this.Lg&&le(this);f&&h||(b=this.ld.getBBox(),f=b.width+2*me,h=b.height+2*me);this.Ng(f,h);le(this);ne(this);this.Lg=!0;a.options.readOnly||(v.W(this.Fj,"mousedown",this,this.Uw),this.bc&&v.W(this.bc,"mousedown",this,this.gq))}var me=6,ke=20,oe=null,pe=null;c=je.prototype;c.fq=null;function qe(){oe&&(v.Ta(oe),oe=null);pe&&(v.Ta(pe),pe=null)}
function re(){v.Touch.zf();qe()}c.Lg=!1;c.Bb=null;c.Mf=0;c.Hg=0;c.ka=0;c.xa=0;c.Kl=!0;
c.Mj=function(a,b){this.zd=v.i.C("g",{},null);var d={filter:"url(#"+this.m.options.Ls+")"};-1!=ab.indexOf("JavaFX")&&(d={});d=v.i.C("g",d,this.zd);this.$n=v.i.C("path",{},d);this.Fj=v.i.C("rect",{"class":"blocklyDraggable",x:0,y:0,rx:me,ry:me},d);b?(this.bc=v.i.C("g",{"class":this.m.w?"blocklyResizeSW":"blocklyResizeSE"},this.zd),b=2*me,v.i.C("polygon",{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.bc),v.i.C("line",{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.bc),v.i.C("line",
{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.bc)):this.bc=null;this.zd.appendChild(a);return this.zd};c.X=function(){return this.zd};function se(a,b){a.zd.dataset&&(a.zd.dataset.Mb=b)}c.Uw=function(a){var b=this.m.Ue(a);b&&te(b,a,this)};c.jj=function(){};c.wc=function(){return!1};c.gq=function(a){ue(this);qe();v.i.Ag(a)||(this.m.sn(a,new A(this.m.w?-this.ka:this.ka,this.xa)),oe=v.W(document,"mouseup",this,re),pe=v.W(document,"mousemove",this,this.hq),v.hc());a.stopPropagation()};
c.hq=function(a){this.Kl=!1;a=ve(this.m,a);this.Ng(this.m.w?-a.x:a.x,a.y);this.m.w&&le(this)};function ue(a){var b=a.zd.parentNode;return b.lastChild!==a.zd?(b.appendChild(a.zd),!0):!1}function we(a,b,d){var e=a.m.w?a.Bb.x-b.x-a.ka:b.x+a.Bb.x;b=b.y+a.Bb.y;return Math.max(0,Math.min(1,(Math.min(e+a.ka,d.vb+d.Ka)-Math.max(e,d.vb))*(Math.min(b+a.xa,d.Ib+d.Pa)-Math.max(b,d.Ib))/(a.ka*a.xa)))}function le(a){var b=a.Bb.x;b=a.m.w?b-(a.Mf+a.ka):b+a.Mf;a.moveTo(b,a.Hg+a.Bb.y)}
c.moveTo=function(a,b){this.zd.setAttribute("transform","translate("+a+","+b+")")};c.jh=function(){return{width:this.ka,height:this.xa}};
c.Ng=function(a,b){var d=2*me;a=Math.max(a,d+45);b=Math.max(b,d+20);this.ka=a;this.xa=b;this.Fj.setAttribute("width",a);this.Fj.setAttribute("height",b);this.bc&&(this.m.w?this.bc.setAttribute("transform","translate("+2*me+","+(b-d)+") scale(-1 1)"):this.bc.setAttribute("transform","translate("+(a-d)+","+(b-d)+")"));if(this.Lg){if(this.Kl){a=this.m.qb();a.vb/=this.m.scale;a.Ka/=this.m.scale;a.Ib/=this.m.scale;a.Pa/=this.m.scale;b=-this.ka/4;if(!(this.ka>a.Ka)){if(this.m.w){d=this.Bb.x-b;var e=d-this.ka;
var f=a.vb+a.Ka,h=a.vb+xe/this.m.scale}else e=b+this.Bb.x,d=e+this.ka,h=a.vb,f=a.vb+a.Ka-xe/this.m.scale;this.m.w?e<h?b=-(h-this.Bb.x+this.ka):d>f&&(b=-(f-this.Bb.x)):e<h?b=h-this.Bb.x:d>f&&(b=f-this.Bb.x-this.ka)}e=b;b=-this.xa/4;if(!(this.xa>a.Pa)){d=this.Bb.y+b;f=d+this.xa;h=a.Ib;var k=a.Ib+a.Pa-xe/this.m.scale,l=this.Bb.y;d<h?b=h-l:f>k&&(b=k-l-this.xa)}h=b;f=this.Hu.getBBox();b={x:e,y:-this.xa-25};d={x:-this.ka-30,y:h};h={x:f.width,y:h};k={x:e,y:f.height};e=f.width<f.height?h:k;f=f.width<f.height?
k:h;h=we(this,b,a);k=we(this,d,a);l=we(this,e,a);a=Math.max(h,k,l,we(this,f,a));h==a?(this.Mf=b.x,this.Hg=b.y):k==a?(this.Mf=d.x,this.Hg=d.y):l==a?(this.Mf=e.x,this.Hg=e.y):(this.Mf=f.x,this.Hg=f.y)}le(this);ne(this)}this.fq&&this.fq()};
function ne(a){var b=[],d=a.ka/2,e=a.xa/2,f=-a.Mf,h=-a.Hg;if(d==f&&e==h)b.push("M "+d+","+e);else{h-=e;f-=d;a.m.w&&(f*=-1);var k=Math.sqrt(h*h+f*f),l=Math.acos(f/k);0>h&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),t=Math.cos(m),w=a.jh();m=(w.width+w.height)/5;m=Math.min(m,w.width,w.height)/4;w=1-8/k;f=d+w*f;h=e+w*h;w=d+m*t;var r=e+m*n;d-=m*t;e-=m*n;n=l+a.Mw;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/4;k=Math.cos(n)*k/4;b.push("M"+w+","+r);b.push("C"+(w+k)+","+
(r+l)+" "+f+","+h+" "+f+","+h);b.push("C"+f+","+h+" "+(d+k)+","+(e+l)+" "+d+","+e)}b.push("z");a.$n.setAttribute("d",b.join(" "))}c.fe=function(a){this.Fj.setAttribute("fill",a);this.$n.setAttribute("fill",a)};c.D=function(){qe();v.i.removeNode(this.zd);this.Hu=this.ld=this.m=this.bc=this.Fj=this.$n=this.zd=null};c.Vm=function(a,b){a?a.Sf(b.x,b.y):this.moveTo(b.x,b.y);this.Mf=this.m.w?this.Bb.x-b.x-this.ka:b.x-this.Bb.x;this.Hg=b.y-this.Bb.y;ne(this)};
c.va=function(){return new A(this.Bb.x+this.Mf,this.Bb.y+this.Hg)};c.Cu=function(a){this.Kl=a};function qd(a,b,d,e){qd.v.constructor.call(this);this.Mb=a?a.id:null;this.Jb=a?a.o.id:null;this.element=b;this.oldValue=d;this.newValue=e;this.mc=!1}u(qd,wd);qd.prototype.type=v.j.Hl;qd.prototype.Na=function(){var a=qd.v.Na.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.Mb&&(a.blockId=this.Mb);return a};qd.prototype.ma=function(a){qd.v.ma.call(this,a);this.element=a.element;this.newValue=a.newValue;this.Mb=a.blockId};function ye(a){this.Z=a}c=ye.prototype;c.Rr=!0;c.Mn=17;c.fb=null;c.rh=null;function ze(a){a.bd||(a.bd=v.i.C("g",{"class":"blocklyIconGroup"},null),a.Z.yb&&v.i.Ya(a.bd,"blocklyIconGroupReadonly"),a.Eo(a.bd),a.Z.X().appendChild(a.bd),v.W(a.bd,"mouseup",a,a.gp),a.Wf())}c.D=function(){v.i.removeNode(this.bd);this.bd=null;this.Ba(!1);this.Z=null};c.Wf=function(){};c.isVisible=function(){return!!this.fb};c.gp=function(a){this.Z.o.Rb()||this.Z.yb||v.i.Ag(a)||this.Ba(!this.isVisible())};
c.Vf=function(){this.isVisible()&&this.fb.fe(this.Z.Ud)};function Ae(a){var b=a.Z.va(),d=v.i.ad(a.bd);b=new A(b.x+d.x+a.Mn/2,b.y+d.y+a.Mn/2);yc(a.rh,b)||(a.rh=b,a.isVisible()&&(a=a.fb,a.Bb=b,a.Lg&&le(a)))};
function Be(a){Be.v.constructor.call(this,a);ze(this)}u(Be,ye);c=Be.prototype;c.qa="";c.ka=160;c.xa=80;c.Eo=function(a){v.i.C("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);v.i.C("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);v.i.C("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
c.Nj=function(){this.Bd=v.i.C("foreignObject",{x:me,y:me},null);var a=document.createElementNS(v.Zf,"body");a.setAttribute("xmlns",v.Zf);a.className="blocklyMinimalBody";var b=document.createElementNS(v.Zf,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.Z.w?"RTL":"LTR");a.appendChild(b);this.Hb=b;this.Bd.appendChild(a);v.W(b,"mouseup",this,this.lA,!0,!0);v.W(b,"wheel",this,function(d){d.stopPropagation()});v.W(b,"change",this,function(){this.qa!=b.value&&(v.j.Y(new v.j.jd(this.Z,
"comment",null,this.qa,b.value)),this.qa=b.value)});setTimeout(function(){b.focus()},0);return this.Bd};c.Wf=function(){this.isVisible()&&(this.Ba(!1),this.Ba(!0));ye.prototype.Wf.call(this)};c.ln=function(){if(this.isVisible()){var a=this.fb.jh(),b=2*me;this.Bd.setAttribute("width",a.width-b);this.Bd.setAttribute("height",a.height-b);this.Hb.style.width=a.width-b-4+"px";this.Hb.style.height=a.height-b-4+"px"}};
c.Ba=function(a){if(a!=this.isVisible())if(v.j.Y(new qd(this.Z,"commentOpen",!a,a)),!Md(this.Z)&&!this.Hb||x)Ce.prototype.Ba.call(this,a);else{var b=this.Eb(),d=this.jh();a?(this.fb=new je(this.Z.o,this.Nj(),this.Z.zc,this.rh,this.ka,this.xa),se(this.fb,this.Z.id),a=this.ln.bind(this),this.fb.fq=a,this.Vf()):(this.fb.D(),this.Bd=this.Hb=this.fb=null);this.Gb(b);this.Ng(d.width,d.height)}};c.lA=function(){ue(this.fb)&&this.Hb.focus()};
c.jh=function(){return this.isVisible()?this.fb.jh():{width:this.ka,height:this.xa}};c.Ng=function(a,b){this.Hb?this.fb.Ng(a,b):(this.ka=a,this.xa=b)};c.Eb=function(){return this.Hb?this.Hb.value:this.qa};c.Gb=function(a){this.qa!=a&&(v.j.Y(new v.j.jd(this.Z,"comment",null,this.qa,a)),this.qa=a);this.Hb&&(this.Hb.value=a)};c.D=function(){v.j.isEnabled()&&this.Gb("");this.Z.cb=null;ye.prototype.D.call(this)};function De(a,b){this.u=a;this.type=b;a.o.jo&&(this.Vd=a.o.jo[b],this.am=a.o.jo[v.mi[b]],this.We=!this.Vd)}c=De.prototype;c.V=null;c.wf=null;c.ye=null;c.Wb=0;c.Ua=0;c.sg=!1;c.Vd=null;c.am=null;c.We=null;
c.Wl=function(a){var b=this,d=b.u,e=a.u;a.isConnected()&&a.disconnect();if(b.isConnected()){var f=E(b),h=b.ye;b.ye=null;if(f.Oa)h=v.B.cg(f),f.D(),f=null;else if(b.type==v.Fa){if(!f.M)throw Error("Orphan block does not have an output connection.");var k=Ee(e,f);k&&(f.M.connect(k),f=null)}else if(b.type==v.Ga){if(!f.R)throw Error("Orphan block does not have a previous connection.");for(k=e;k.J;){var l=Zc(k);if(l&&!l.Oa)k=l;else{Fe(f.R,k.J)&&(k.J.connect(f.R),f=null);break}}}if(f&&(b.disconnect(),v.j.mc)){var m=
v.j.Qb();setTimeout(function(){f.o&&!f.getParent()&&(v.j.T(m),f.M?Ge(f.M,b):f.R&&Ge(f.R,b),v.j.T(!1))},v.xl)}b.ye=h}var n;v.j.isEnabled()&&(n=new v.j.ei(e));He(b,a);e.Oh(d);n&&(n.df(),v.j.Y(n))};c.D=function(){if(this.isConnected())throw Error("Disconnect connection before disposing of it.");this.sg&&Ie(this.Vd,this);this.am=this.Vd=null};function Je(a){return a.type==v.Fa||a.type==v.Ga}c.isConnected=function(){return!!this.V};
function Ke(a,b){if(!b)return 3;if(Je(a))var d=a.u,e=b.u;else e=a.u,d=b.u;return d&&d==e?1:b.type!=v.mi[a.type]?2:d&&e&&d.o!==e.o?5:Fe(a,b)?d.Oa&&!e.Oa?6:0:4}
c.Gm=function(a){if(a.u.re||0!=Ke(this,a))return!1;switch(a.type){case v.ke:return this.V||-1!=v.Rj.indexOf(a)?a=!1:a.V?(a=E(a),a=a.re?!(a.R&&E(a.R)):!1):a=!0,a;case v.je:if(a.isConnected()&&!E(a).re||this.isConnected())return!1;break;case v.Fa:if(a.isConnected()&&!E(a).Sb()&&!E(a).Oa)return!1;break;case v.Ga:if(a.isConnected()&&!this.u.J&&!E(a).Oa&&E(a).J)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=v.Rj.indexOf(a)?!1:!0};
c.connect=function(a){if(this.V!=a){switch(Ke(this,a)){case 0:break;case 1:throw Error("Attempted to connect a block to itself.");case 5:throw Error("Blocks not on same workspace.");case 2:throw Error("Attempt to connect incompatible types.");case 3:throw Error("Target connection is null.");case 4:throw Error("Connection checks failed. "+(this+" expected "+this.wf+", found "+a.wf));case 6:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}var b=v.j.Qb();b||v.j.T(!0);Je(this)?this.Wl(a):a.Wl(this);b||v.j.T(!1)}};function He(a,b){if(!a||!b)throw Error("Cannot connect null connections.");a.V=b;b.V=a}function Le(a,b){for(var d=!1,e=0;e<a.L.length;e++){var f=a.L[e].connection;if(f&&f.type==v.Fa&&Fe(b.M,f)){if(d)return null;d=f}}return d}function Ee(a,b){for(var d;d=Le(a,b);)if(a=E(d),!a||a.Oa)return d;return null}
c.disconnect=function(){var a=this.V;if(!a)throw Error("Source connection not connected.");if(a.V!=this)throw Error("Target connection not connected to source connection.");if(Je(this)){var b=this.u;var d=a.u;a=this}else b=a.u,d=this.u;var e=v.j.Qb();e||v.j.T(!0);this.zo(b,d);a.jq();e||v.j.T(!1)};c.zo=function(a,b){var d;v.j.isEnabled()&&(d=new v.j.ei(b));this.V=this.V.V=null;b.Oh(null);d&&(d.df(),v.j.Y(d))};
c.jq=function(){var a=this.u,b=this.ye;if(a.o&&b&&v.j.mc)if(a=v.B.yi(b,a.o),a.M)this.connect(a.M);else if(a.R)this.connect(a.R);else throw Error("Child block does not have output or previous statement.");};function E(a){return a.isConnected()?a.V.u:null}function Fe(a,b){if(!a.wf||!b.wf)return!0;for(var d=0;d<a.wf.length;d++)if(-1!=b.wf.indexOf(a.wf[d]))return!0;return!1}c.Tt=function(){this.isConnected()&&!Fe(this,this.V)&&Id(Je(this)?E(this):this.u)};
c.ga=function(a){a?(Array.isArray(a)||(a=[a]),this.wf=a,this.Tt()):this.wf=null;return this};c.Nt=function(){return[]};c.Ve=function(){for(var a=null,b=this.u,d=b.L,e=0;e<b.L.length;e++)if(d[e].connection===this){a=d[e];break}return a};
c.toString=function(){var a=this.u;if(a)if(a.M==this)var b="Output Connection of ";else if(a.R==this)b="Previous Connection of ";else if(a.J==this)b="Next Connection of ";else{b=null;for(var d=0,e;e=a.L[d];d++)if(e.connection==this){b=e;break}if(b)b='Input "'+b.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";return b+Me(a)};function Ne(){this.Nb=[]}function Oe(a,b){if(b.sg)throw Error("Connection already in database.");b.u.yb||(a.Nb.splice(Pe(a,b),0,b),b.sg=!0)}function Qe(a,b){if(!a.Nb.length)return-1;var d=Pe(a,b);if(d>=a.Nb.length)return-1;for(var e=b.Ua,f=d;0<=f&&a.Nb[f].Ua==e;){if(a.Nb[f]==b)return f;f--}for(;d<a.Nb.length&&a.Nb[d].Ua==e;){if(a.Nb[d]==b)return d;d++}return-1}
function Pe(a,b){if(!a.Nb.length)return 0;for(var d=0,e=a.Nb.length;d<e;){var f=Math.floor((d+e)/2);if(a.Nb[f].Ua<b.Ua)d=f+1;else if(a.Nb[f].Ua>b.Ua)e=f;else{d=f;break}}return d}function Ie(a,b){if(!b.sg)throw Error("Connection not in database.");var d=Qe(a,b);if(-1==d)throw Error("Unable to find connection in connectionDB.");b.sg=!1;a.Nb.splice(d,1)}
function Re(a,b,d){function e(n){var t=h-f[n].Wb,w=k-f[n].Ua;Math.sqrt(t*t+w*w)<=d&&m.push(f[n]);return w<d}var f=a.Nb,h=b.Wb,k=b.Ua;a=0;for(var l=b=f.length-2;a<l;)f[l].Ua<k?a=l:b=l,l=Math.floor((a+b)/2);var m=[];b=a=l;if(f.length){for(;0<=a&&e(a);)a--;do b++;while(b<f.length&&e(b))}return m};v.tB={};v.$q=40;v.ir=125;v.zv=5;v.Ev=10;v.Sc=28;v.nv=v.Sc;v.tv=8;v.Pv="#000000";v.xl=250;v.Cn=10;v.kv=30;v.Yv=750;v.qw=100;v.Av=!0;v.Nv=.45;v.Ov=.65;v.Tc={width:96,height:124,url:"sprites.png"};v.Qn="http://www.w3.org/2000/svg";v.Zf="http://www.w3.org/1999/xhtml";v.Fa=1;v.je=2;v.Ga=3;v.ke=4;v.pf=5;v.tj=-1;v.ul=0;v.ec=1;v.LA=0;v.MA=1;v.JA=1;v.KA=2;v.mi=[];v.mi[v.Fa]=v.je;v.mi[v.je]=v.Fa;v.mi[v.Ga]=v.ke;v.mi[v.ke]=v.Ga;v.Uc=0;v.$f=1;v.kd=2;v.De=3;v.Xq=null;v.En=1;v.Yq=2;v.pr="VARIABLE";v.zw="VARIABLE_DYNAMIC";
v.jr="PROCEDURE";v.kr="RENAME_VARIABLE_ID";v.Zq="DELETE_VARIABLE_ID";function Se(a,b){Se.v.constructor.call(this);this.m=a;this.Ni=b||!1}u(Se,$d);c=Se.prototype;c.Gd=null;c.eg=null;c.X=function(){return this.A};
c.ba=function(){this.A=v.i.C("g",{"class":"blocklyCursor"},null);var a=this.Ni?"#4286f4":"#cc0a0a";this.qo=v.i.C("g",{width:100,height:5},this.A);this.fg=v.i.C("rect",{x:"0",y:"0",fill:a,width:100,height:5,style:"display: none;"},this.qo);this.gg=v.i.C("rect",{"class":"blocklyVerticalCursor",x:"0",y:"0",rx:"10",ry:"10",style:"display: none;",stroke:a},this.qo);this.$l=v.i.C("path",{width:100,height:5,d:"m 0,0 "+Te+" v 5",transform:"",style:"display: none;",fill:a},this.qo);this.Ni||(v.i.C("animate",
{attributeType:"XML",attributeName:"fill",dur:"1s",values:"#cc0a0a;transparent;transparent;",repeatCount:"indefinite"},this.fg),v.i.C("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:"#cc0a0a;transparent;transparent;",repeatCount:"indefinite"},this.$l));return this.A};function Ue(a,b){var d=a.Gd;if(b!=d){var e=a.X();b?b.appendChild(e):d&&a.m.Sa.appendChild(e);a.Gd=b}}function Ve(a,b,d,e){a.fg.setAttribute("x",b);a.fg.setAttribute("y",d);a.fg.setAttribute("width",e)}
function We(a,b,d,e,f){a.gg.setAttribute("x",b);a.gg.setAttribute("y",d);a.gg.setAttribute("width",e);a.gg.setAttribute("height",f)}function Xe(a){a.ya();a.eg.style.display=""}c.ya=function(){this.fg.style.display="none";this.gg.style.display="none";this.$l.style.display="none"};
c.Zu=function(){if(this.Cb){var a=this.Cb;if(a.Qc===Ye)a=this.Cb.pa,this.eg=this.gg,Ue(this,a.X()),We(this,0,0,a.width,a.height),Xe(this);else if(a.pa.type===v.Fa||a.Qc===ce)a=this.Cb.pa,this.eg=this.$l,Ue(this,a.u.X()),this.$l.setAttribute("transform","translate("+a.Eh.x+","+a.Eh.y+")"+(a.u.w?" scale(-1 1)":"")),Xe(this);else if(a.pa.type===v.Ga){a=this.Cb.pa;var b=a.Eh.y,d=a.u.Db().width;this.eg=this.fg;Ue(this,a.u.X());Ve(this,0,b,d);Xe(this)}else if(a.Qc===Ze)a=this.Cb.pa,b=a.u.Db().width,this.eg=
this.fg,Ue(this,a.u.X()),Ve(this,0,0,b),Xe(this);else if(a.Qc===$e)a=this.Cb.pa,b=a.Wc.width.baseVal.value,d=a.Wc.height.baseVal.value,this.eg=this.gg,Ue(this,a.X()),We(this,0,0,b,d),Xe(this);else if(a.Qc===af)a=this.Cb.sj,this.eg=this.fg,Ue(this,this.m.Sa),Ve(this,a.x,a.y,100),Xe(this);else if(a.Qc===bf){a=this.Cb.pa;d=a.Db();b=d.width+10;d=d.height+10;var e=-5;a.M&&(e-=G);this.eg=this.gg;Ue(this,a.X());We(this,e,-5,b,d);Xe(this)}}};c.next=function(){return this.Ni?null:Se.v.next.call(this)};
c.pk=function(){return this.Ni?null:Se.v.pk.call(this)};c.ej=function(){return this.Ni?null:Se.v.ej.call(this)};c.Jk=function(){return this.Ni?null:Se.v.Jk.call(this)};v.Wa={};v.Wa.Ao=0;v.Wa.em=null;v.Wa.Lx=function(a){var b=a.o,d=a.X();b.Ge.play("delete");a=cf(b,d);d=d.cloneNode(!0);d.uA=a.x;d.vA=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");H(b).appendChild(d);d.Br=d.getBBox();v.Wa.Gs(d,b.w,new Date,b.scale)};v.Wa.Gs=function(a,b,d,e){var f=(new Date-d)/150;1<f?v.i.removeNode(a):(a.setAttribute("transform","translate("+(a.uA+(b?-1:1)*a.Br.width*e/2*f)+","+(a.vA+a.Br.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(v.Wa.Gs,10,a,b,d,e))};
v.Wa.ox=function(a){var b=a.o,d=b.scale;b.Ge.play("click");if(!(1>d)){var e=cf(b,a.X());a.M?(e.x+=(a.w?3:-3)*d,e.y+=13*d):a.R&&(e.x+=(a.w?-23:23)*d,e.y+=3*d);a=v.i.C("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},H(b));v.Wa.Xr(a,new Date,d)}};v.Wa.Xr=function(a,b,d){var e=(new Date-b)/150;1<e?v.i.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,v.Wa.Ao=setTimeout(v.Wa.Xr,10,a,b,d))};
v.Wa.Kx=function(a){a.o.Ge.play("disconnect");if(!(1>a.o.scale)){var b=a.Db().height;b=Math.atan(10/b)/Math.PI*180;a.w||(b*=-1);v.Wa.Fs(a.X(),b,new Date)}};v.Wa.Fs=function(a,b,d){var e=(new Date-d)/200;1<e?a.Qh="":(a.Qh="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*b)+")",v.Wa.em=a,v.Wa.Ao=setTimeout(v.Wa.Fs,10,a,b,d));a.setAttribute("transform",a.Tf+a.Qh)};v.Wa.Bo=function(){if(v.Wa.em){clearTimeout(v.Wa.Ao);var a=v.Wa.em;a.Qh="";a.setAttribute("transform",a.Tf);v.Wa.em=null}};function df(a,b){df.v.constructor.call(this,a,b);this.Eh=new A(0,0)}u(df,De);function ef(a,b){var d=a.Wb-b.Wb;a=a.Ua-b.Ua;return Math.sqrt(d*d+a*a)}function Ge(a,b){if(!a.u.o.Rb()){var d=ff(a.u);if(!d.yb){var e=!1;if(!d.Sb()){d=ff(b.u);if(!d.Sb())return;b=a;e=!0}var f=v.selected==d;f||d.ri();var h=b.Wb+v.Sc+Math.floor(Math.random()*v.Cn)-a.Wb,k=b.Ua+v.Sc+Math.floor(Math.random()*v.Cn)-a.Ua;e&&(k=-k);d.w&&(h=b.Wb-v.Sc-Math.floor(Math.random()*v.Cn)-a.Wb);d.moveBy(h,k);f||d.Jh()}}}c=df.prototype;
c.moveTo=function(a,b){this.sg&&Ie(this.Vd,this);this.Wb=a;this.Ua=b;this.We||Oe(this.Vd,this)};c.moveBy=function(a,b){this.moveTo(this.Wb+a,this.Ua+b)};function gf(a,b){a.moveTo(b.x+a.Eh.x,b.y+a.Eh.y)}function hf(a,b,d){a.Eh.x=b;a.Eh.y=d}function jf(a){var b=a.V.Wb-a.Wb,d=a.V.Ua-a.Ua;if(0!=b||0!=d){a=E(a);var e=a.X();if(!e)throw Error("block is not rendered.");e=v.i.ad(e);a.X().setAttribute("transform","translate("+(e.x-b)+","+(e.y-d)+")");kf(a,-b,-d)}}
c.closest=function(a,b){var d=this.am;if(d.Nb.length){var e=this.Ua,f=this.Wb;this.Wb=f+b.x;this.Ua=e+b.y;var h=Pe(d,this);b=null;for(var k=a,l,m=h-1;0<=m&&Math.abs(d.Nb[m].Ua-this.Ua)<=a;)l=d.Nb[m],this.Gm(l,k)&&(b=l,k=ef(l,this)),m--;for(;h<d.Nb.length&&Math.abs(d.Nb[h].Ua-this.Ua)<=a;)l=d.Nb[h],this.Gm(l,k)&&(b=l,k=ef(l,this)),h++;this.Wb=f;this.Ua=e;a={connection:b,gn:k}}else a={connection:null,gn:a};return a};
c.gt=function(){var a=this.type==v.Fa||this.type==v.je?"m 0,0 "+Te+" v 5":"m -20,0 h 5 l 6,4 3,0 6,-4 h 5";var b=this.u.va();De.jt=v.i.C("path",{"class":"blocklyHighlightedConnectionPath",d:a,transform:"translate("+(this.Wb-b.x)+","+(this.Ua-b.y)+")"+(this.u.w?" scale(-1 1)":"")},this.u.X())};
function lf(a){mf(a,!1);var b=[];if(a.type!=v.Fa&&a.type!=v.Ga)return b;if(a=E(a)){if(a.isCollapsed()){var d=[];a.M&&d.push(a.M);a.J&&d.push(a.J);a.R&&d.push(a.R)}else d=a.Yd(!0);for(var e=0;e<d.length;e++)b.push.apply(b,lf(d[e]));b.length||(b[0]=a)}return b}function mf(a,b){(a.We=b)&&a.sg?Ie(a.Vd,a):b||a.sg||Oe(a.Vd,a)}function nf(a){mf(a,!0);if(a.V){a=Yc(E(a),!1);for(var b=0;b<a.length;b++){for(var d=a[b],e=d.Yd(!0),f=0;f<e.length;f++)mf(e[f],!0);d=of(d);for(f=0;f<d.length;f++)d[f].Ba(!1)}}}
c.Gm=function(a,b){return ef(this,a)>b?!1:df.v.Gm.call(this,a)};c.connect=function(a){df.v.connect.call(this,a);if(this.We||a.We){a=Je(this)?this:a;a.We?nf(a):lf(a);var b=E(a);b.X().style.display=a.We?"none":"block";b.U=!a.We}};c.disconnect=function(){var a=Je(this)?this:this.V;if(this.V&&a.We){lf(a);var b=E(a);b.X().style.display="block";b.U=!0;mf(a,!0)}df.v.disconnect.call(this)};c.zo=function(a,b){df.v.zo.call(this,a,b);a.U&&a.ca();b.U&&(Wd(b),b.ca())};
c.jq=function(){var a=this.u,b=this.ye;if(a.o&&b&&v.j.mc){df.v.jq.call(this);b=E(this);if(!b)throw Error("Couldn't respawn the shadow block that should exist here.");b.ic();b.ca(!1);a.U&&!this.We&&a.ca()}};c.Nt=function(a){return Re(this.am,this,a)};c.Wl=function(a){df.v.Wl.call(this,a);var b=this.u;a=a.u;b.U&&Wd(b);a.U&&Wd(a);b.U&&a.U&&(this.type==v.Ga||this.type==v.ke?a.ca():b.ca())};c.Tt=function(){this.isConnected()&&!Fe(this,this.V)&&(Id(Je(this)?E(this):this.u),this.u.ob())};function pf(a){this.Ae=v.selected=a;this.m=a.o;this.xh=this.sp=null;this.Ai=qf(this,this.Ae);this.jc=this.gb=null;this.nf=!1;this.Vi=null;this.fp=!1;this.Li=null;a=this.Ae.Yd(!1);var b;a:{for(b=this.Ae.J;b;){var d=E(b);if(!d)break a;b=d.J}b=null}b&&b!=this.Ae.J&&(a.push(b),this.sp=b,this.xh=qf(this,b.u));this.Xn=a}
pf.prototype.D=function(){this.m=this.Ae=null;this.Xn.length=0;this.jc=this.gb=null;v.j.disable();try{this.Ai&&(this.Ai.D(),this.Ai=null),this.xh&&(this.xh.D(),this.xh=null)}finally{v.j.enable()}this.Li=null};
pf.prototype.update=function(a,b){var d=this.gb&&this.jc?v.nv:v.Sc;for(var e=null,f=null,h=0;h<this.Xn.length;h++){var k=this.Xn[h],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.gn)}e=(d={closest:e,local:f,gn:d},!!d.closest)&&b!=v.Yq;if((this.nf=!!b&&!this.Ae.getParent()&&this.Ae.wc()&&!e)||rf(this,d,a)){v.j.disable();d.closest?(a=this.gb!=d.closest,b=this.jc!=d.local,this.gb&&this.jc&&(a||b||this.nf)&&sf(this)):sf(this);this.jc=this.gb=this.Vi=null;if(!this.nf&&(a=d.closest,b=d.local,a))if(a==
this.gb||a.u.re)console.log("trying to connect to an insertion marker");else{this.gb=a;this.jc=b;a=this.gb;b=this.jc;if(b.type==v.je)a=a.isConnected()&&!Ee(this.Ae,a.V.u);else{a:{for(d=0;e=b.u.L[d];d++)if(e.connection&&e.connection.type==v.Ga){d=e.connection;break a}d=null}a=b==d?0:!this.Ae.J&&b.type==v.ke&&a.isConnected()}if(a)a=this.gb,b=this.jc,E(a)?(this.Li=E(a),tf(E(a),!0)):b.type==v.je&&(this.Li=a.u,a.u.Dy(a,!0)),this.fp=!0;else{d=this.jc;a=this.gb;b=this.sp&&d==this.sp?this.xh:this.Ai;a:{f=
d.u;e=b.Yd(!0);f=f.Yd(!0);if(e.length!=f.length)throw Error("Connection lists did not match in length.");for(h=0;h<f.length;h++)if(f[h]==d){d=e[h];break a}d=null}b.ca();b.U=!0;b.X().setAttribute("visibility","visible");uf(b,d,a);d.connect(a);this.Vi=d}this.gb&&this.gb.gt()}v.j.enable()}};
function qf(a,b){var d=b.type;v.j.disable();try{var e=a.m.ce(d);e.Fu(!0);if(b.za){var f=b.za();f&&e.Qa(f)}for(a=0;a<b.L.length;a++){var h=b.L[a];for(d=0;d<h.oa.length;d++){var k=h.oa[d];Ed(e,k.getValue(),k.name)}}e.ic();e.X().setAttribute("visibility","hidden")}finally{v.j.enable()}return e}
function rf(a,b,d){var e=b.local,f=b.closest;b=b.gn;if(e&&f){if(a.jc&&a.gb){if(a.gb==f&&a.jc==e)return!1;e=a.jc.Wb+d.x-a.gb.Wb;a=a.jc.Ua+d.y-a.gb.Ua;a=Math.sqrt(e*e+a*a);return!(f&&b>a-v.tv)}if(a.jc||a.gb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.jc||!a.gb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function sf(a){a.gb&&(v.i.removeNode(De.jt),delete De.jt);if(a.fp){var b=a.gb;b.type!=v.Fa||b.isConnected()?tf(a.Li,!1):a.Li.Dy(b,!1);a.Li=null;a.fp=!1}else if(a.Vi)if(a.Vi){b=a.Vi;var d=b.u,e=d.J,f=d.R,h=d.M;h=b.type==v.Fa&&!(h&&h.V);!(b!=e||f&&f.V)||h?Id(E(b),!1):b.type==v.Ga&&b!=e?(e=b.V,Id(e.u,!1),f=f?f.V:null,Id(d,!0),f&&f.connect(e)):Id(d,!0);if(b.V)throw"markerConnection_ still connected at the end of disconnectInsertionMarker";a.Vi=null;d.X().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
pf.prototype.Fi=function(){var a=[];this.Ai&&a.push(this.Ai);this.xh&&a.push(this.xh);return a};function vf(a,b){this.ib=a;this.m=b;this.Ne=new pf(this.ib);this.fh=null;this.nf=!1;this.hf=this.ib.va();b=[];a=Yc(a,!1);for(var d=0,e;e=a[d];d++){e=of(e);for(var f=0;f<e.length;f++)b.push({location:e[f].rh,icon:e[f]})}this.hm=b}vf.prototype.D=function(){this.dc=this.m=this.ib=null;this.hm.length=0;this.Ne&&(this.Ne.D(),this.Ne=null)};
function wf(a,b,d){d=a.aj(d);a.ib.Vm(Bc(a.hf,d));for(var e=0;e<a.hm.length;e++){var f=a.hm[e],h=f.icon;f=Bc(f.location,d);h.rh=f;h.isVisible()&&(h=h.fb,h.Bb=f,h.Lg&&le(h))}a.fh=xf(a.m,b);a.Ne.update(d,a.fh);a.nf=a.Ne.nf;b=a.m.Ac;a.nf?(a.ib.Vk(!0),a.fh==v.En&&b&&yf(b,!0)):(a.ib.Vk(!1),b&&yf(b,!1))}
function zf(a,b,d){wf(a,b,d);a.hm=[];Td();v.Wa.Bo();b=a.aj(d);a.ib.Mt(Bc(a.hf,b));d=a.m.Ac;a.nf?(d&&setTimeout(d.close.bind(d),100),a.Uj(),a.ib.D(!1,!0)):d&&d.close();a.nf||(kf(a.ib,b.x,b.y),a.ib.Pg(!1),a.Uj(),a.Ne.gb?(b=a.Ne,b.gb&&(v.j.disable(),sf(b),v.j.enable(),b.jc.connect(b.gb),b.Ae.U&&(v.Wa.ox((Je(b.jc)?b.gb:b.jc).u),Af(ff(b.Ae))))):a.ib.ca(),Bf(a.ib));a.m.qc(!0);(b=a.m.$)&&v.i.Fb(b.Rc,a.ib.wc()?"blocklyToolboxDelete":"blocklyToolboxGrab");v.j.T(!1)}
vf.prototype.Uj=function(){var a=new v.j.ei(this.ib);a.Jp=this.hf;a.df();v.j.Y(a)};vf.prototype.aj=function(a){a=new A(a.x/this.m.scale,a.y/this.m.scale);this.m.Oi&&(a=a.scale(1/this.m.options.Tb.scale));return a};vf.prototype.Fi=function(){return this.Ne&&this.Ne.Fi?this.Ne.Fi():[]};function Cf(a,b,d,e,f){this.A=v.i.C("g",{"class":"blocklyComment"},null);this.A.Tf="";this.cl=v.i.C("rect",{"class":"blocklyCommentRect",x:0,y:0,rx:3,ry:3});this.A.appendChild(this.cl);this.Lg=!1;this.mf=v.i.wg()&&!!a.Lb;Cf.v.constructor.call(this,a,b,d,e,f);this.ca()}u(Cf,Rd);c=Cf.prototype;
c.D=function(){if(this.o){if(v.selected==this){this.Ug();var a=this.o;a.Ob&&a.Ob.cancel()}v.j.isEnabled()&&v.j.Y(new ud(this));v.i.removeNode(this.A);this.Th=this.Sg=this.Bd=this.Hb=this.cl=this.A=null;this.Df=!0;v.j.disable();Cf.v.D.call(this);v.j.enable()}};c.ic=function(){if(!this.o.U)throw TypeError("Workspace is headless.");this.o.options.readOnly||this.Go||(v.W(this.Sg,"mousedown",this,this.du),v.W(this.Th,"mousedown",this,this.du));this.Go=!0;Df(this);this.X().parentNode||this.o.Md.appendChild(this.X())};
c.du=function(a){var b=this.o.Ue(a);b&&te(b,a,this)};c.jj=function(a){if(!this.o.options.readOnly){var b=[];this.wc()&&this.Sb()&&(b.push(v.la.kx(this)),b.push(v.la.jx(this)));v.la.show(a,b,this.w)}};c.select=function(){if(v.selected!=this){var a=null;if(v.selected){a=v.selected.id;v.j.disable();try{v.selected.Ug()}finally{v.j.enable()}}a=new qd(null,"selected",a,this.id);a.Jb=this.o.id;v.j.Y(a);v.selected=this;this.ri()}};
c.Ug=function(){if(v.selected==this){var a=new qd(null,"selected",this.id,null);a.Jb=this.o.id;v.j.Y(a);v.selected=null;this.Jh();Ef(this)}};c.ri=function(){v.i.Ya(this.A,"blocklySelected");this.uq()};c.Jh=function(){v.i.Fb(this.A,"blocklySelected");Ef(this)};
c.va=function(){var a=0,b=0,d=this.mf?this.o.Lb.Qb():null,e=this.X();if(e){do{var f=v.i.ad(e);a+=f.x;b+=f.y;this.mf&&this.o.Lb.Wd.firstChild==e&&(f=this.o.Lb.ym(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.o.Md&&e!=d)}return this.Pd=new A(a,b)};c.moveBy=function(a,b){var d=new td(this),e=this.va();this.translate(e.x+a,e.y+b);this.Pd=new A(e.x+a,e.y+b);d.df();v.j.Y(d);Xd(this.o)};c.translate=function(a,b){this.Pd=new A(a,b);this.X().setAttribute("transform","translate("+a+","+b+")")};
c.Wm=function(){if(this.mf){var a=this.va();v.i.removeAttribute(this.X(),"transform");this.o.Lb.Sf(a.x,a.y);Ff(this.o.Lb,this.X())}};c.Mt=function(a){this.mf&&(this.translate(a.x,a.y),this.o.Lb.Hj(this.o.Sa))};c.Vm=function(a,b){a?a.Sf(b.x,b.y):(this.A.Tf="translate("+b.x+","+b.y+")",this.A.setAttribute("transform",this.A.Tf+this.A.Qh))};c.moveTo=function(a,b){this.translate(a,b)};
c.mm=function(){var a=this.va(),b=this.Db();if(this.w){var d=new A(a.x-b.width,a.y);a=new A(a.x,a.y+b.height)}else d=new A(a.x,a.y),a=new A(a.x+b.width,a.y+b.height);return{hd:d,yd:a}};function Df(a){a.Sb()?v.i.Ya(a.A,"blocklyDraggable"):v.i.Fb(a.A,"blocklyDraggable")}c.Nh=function(a){Cf.v.Nh.call(this,a);Df(this)};c.Pg=function(a){a?(a=this.X(),a.Tf="",a.Qh="",v.i.Ya(this.A,"blocklyDragging")):v.i.Fb(this.A,"blocklyDragging")};c.X=function(){return this.A};
c.lg=function(){return this.Hb?this.Hb.value:this.ld};c.ef=function(a){Cf.v.ef.call(this,a);this.Hb&&(this.Hb.value=a)};c.Vk=function(a){a?v.i.Ya(this.A,"blocklyDraggingDelete"):v.i.Fb(this.A,"blocklyDraggingDelete")};c.Cu=function(){};function Pd(a,b,d){v.j.disable();try{var e=Qd(a),f=new Cf(b,e.content,e.at,e.cv,e.id);b.U&&(f.ic(),f.ca(!1));if(!isNaN(e.x)&&!isNaN(e.y))if(b.w){var h=d||b.Lc();f.moveBy(h-e.x,e.y)}else f.moveBy(e.x,e.y)}finally{v.j.enable()}Sd(f);return f}
c.il=function(a){var b;this.o.w&&(b=this.o.Lc());a=this.hl(a);var d=this.va();a.setAttribute("x",Math.round(this.o.w?b-d.x:d.x));a.setAttribute("y",Math.round(d.y));a.setAttribute("h",this.Ei());a.setAttribute("w",this.Lc());return a};function Gf(a,b){this.$b=a;this.m=b;this.fh=null;this.yn=!1;this.hf=this.$b.va();this.hh=v.i.wg()&&b.Lb?b.Lb:null}Gf.prototype.D=function(){this.hh=this.m=this.$b=null};function Hf(a,b,d){d=a.aj(d);a.$b.Vm(a.hh,Bc(a.hf,d));a.$b.wc()&&(a.fh=xf(a.m,b),a.yn=a.fh!=v.Xq,b=a.m.Ac,a.yn?(a.$b.Vk(!0),a.fh==v.En&&b&&yf(b,!0)):(a.$b.Vk(!1),b&&yf(b,!1)))}
function If(a,b,d){Hf(a,b,d);b=a.aj(d);b=Bc(a.hf,b);a.$b.moveTo(b.x,b.y);b=a.m.Ac;a.yn?(b&&setTimeout(b.close.bind(b),100),a.Uj(),a.$b.D(!1,!0)):b&&b.close();a.yn||(a.hh&&a.hh.Hj(a.m.Md),a.$b.Pg&&a.$b.Pg(!1),a.Uj());a.m.qc(!0);a.m.$&&v.i.Fb(a.m.$.Rc,a.$b.wc()?"blocklyToolboxDelete":"blocklyToolboxGrab");v.j.T(!1)}Gf.prototype.Uj=function(){if(this.$b.np){var a=new td(this.$b);a.Kp=this.hf;a.df();v.j.Y(a)}};
Gf.prototype.aj=function(a){a=new A(a.x/this.m.scale,a.y/this.m.scale);this.m.Oi&&(a=a.scale(1/this.m.options.Tb.scale));return a};Gf.prototype.Wm=function(){this.$b.moveTo(0,0);this.hh.Sf(this.hf.x,this.hf.y);Ff(this.hh,this.$b.X())};function Jf(a){this.m=a;this.fA=new A(a.scrollX,a.scrollY)}Jf.prototype.D=function(){this.m=null};Jf.prototype.sn=function(){v.selected&&v.selected.Ug();Kf(this.m)};Jf.prototype.gh=function(a){a=Bc(this.fA,a);this.m.scroll(a.x,a.y)};function Lf(a){Lf.v.constructor.call(this,a.ng());this.pc=a.pc;this.Xe=a.Xe}u(Lf,Jf);v.F={};v.F.visible=!1;v.F.ti=!1;v.F.Sv=50;v.F.Lt=0;v.F.Xk=0;v.F.up=0;v.F.vp=0;v.F.aa=null;v.F.an=null;v.F.dr=0;v.F.er=10;v.F.lw=10;v.F.Mv=750;v.F.Fn=5;v.F.sa=null;v.F.ba=function(){v.F.sa||(v.F.sa=document.createElement("div"),v.F.sa.className="blocklyTooltipDiv",document.body.appendChild(v.F.sa))};v.F.ah=function(a){v.tc(a,"mouseover",null,v.F.Cz);v.tc(a,"mouseout",null,v.F.Bz);a.addEventListener("mousemove",v.F.Az,!1)};
v.F.Cz=function(a){if(!v.F.ti){for(a=a.target;"string"!=typeof a.ud&&"function"!=typeof a.ud;)a=a.ud;v.F.aa!=a&&(v.F.ya(),v.F.an=null,v.F.aa=a);clearTimeout(v.F.Lt)}};v.F.Bz=function(){v.F.ti||(v.F.Lt=setTimeout(function(){v.F.aa=null;v.F.an=null;v.F.ya()},1),clearTimeout(v.F.Xk))};
v.F.Az=function(a){if(v.F.aa&&v.F.aa.ud&&!v.N.isVisible()&&!v.F.ti)if(v.F.visible){var b=v.F.up-a.pageX;a=v.F.vp-a.pageY;Math.sqrt(b*b+a*a)>v.F.lw&&v.F.ya()}else v.F.an!=v.F.aa&&(clearTimeout(v.F.Xk),v.F.up=a.pageX,v.F.vp=a.pageY,v.F.Xk=setTimeout(v.F.bA,v.F.Mv))};v.F.ya=function(){v.F.visible&&(v.F.visible=!1,v.F.sa&&(v.F.sa.style.display="none"));v.F.Xk&&clearTimeout(v.F.Xk)};v.F.block=function(){v.F.ya();v.F.ti=!0};v.F.wA=function(){v.F.ti=!1};
v.F.bA=function(){if(!v.F.ti&&(v.F.an=v.F.aa,v.F.sa)){v.F.sa.innerHTML="";for(var a=v.F.aa.ud;"function"==typeof a;)a=a();a=v.i.fv(a,v.F.Sv);a=a.split("\n");for(var b=0;b<a.length;b++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[b]));v.F.sa.appendChild(d)}a=v.F.aa.w;b=Ic();v.F.sa.style.direction=a?"rtl":"ltr";v.F.sa.style.display="block";v.F.visible=!0;d=v.F.up;d=a?d-(v.F.dr+v.F.sa.offsetWidth):d+v.F.dr;var e=v.F.vp+v.F.er;e+v.F.sa.offsetHeight>b.height+window.scrollY&&
(e-=v.F.sa.offsetHeight+2*v.F.er);a?d=Math.max(v.F.Fn-window.scrollX,d):d+v.F.sa.offsetWidth>b.width+window.scrollX-2*v.F.Fn&&(d=b.width-v.F.sa.offsetWidth-2*v.F.Fn);v.F.sa.style.top=e+"px";v.F.sa.style.left=d+"px"}};function Mf(a,b){this.dc=this.rc=this.Rh=this.Sh=this.Kd=this.$c=this.Kt=null;this.fs=b;this.tk=this.wh=this.vk=this.mh=!1;this.se=a;this.H=this.Wg=this.le=this.vf=this.Zm=this.Ym=null;this.Im=this.nh=this.Gr=!1;this.ft=!v.Av}c=Mf.prototype;c.D=function(){v.Touch.zf();v.F.wA();this.fs.Ob=null;this.Ym&&v.Ta(this.Ym);this.Zm&&v.Ta(this.Zm);this.H=this.dc=this.rc=this.Rh=this.Sh=null;this.le&&(this.le.D(),this.le=null);this.Wg&&(this.Wg.D(),this.Wg=null);this.vf&&(this.vf.D(),this.vf=null)};
function Nf(a,b){a.$c=Ac(new A(b.clientX,b.clientY),a.Kt);if(a.mh)var d=!1;else d=a.$c,a.mh=Math.sqrt(d.x*d.x+d.y*d.y)>(a.H?v.Ev:v.zv),d=a.mh;if(d){if(a.Gr)throw Error("updateIsDragging_ should only be called once per gesture.");a.Gr=!0;if(a.Kd){a.tk=!0;a.vf=new Gf(a.Kd,a.dc);d=a.vf;v.j.Qb()||v.j.T(!0);d.m.qc(!1);d.$b.Cu(!1);d.hh&&d.Wm();d.$b.Pg&&d.$b.Pg(!0);var e=d.m.$;e&&v.i.Ya(e.Rc,d.$b.wc()?"blocklyToolboxDelete":"blocklyToolboxGrab");Hf(a.vf,a.se,a.$c);d=!0}else d=!1;if(!d){if(a.rc)if(a.H?(a.H.st(a.rc)?
!Of(a.H)||a.H.tt(a.$c)?(a.dc=a.H.Ca,Pf(a.dc),v.j.Qb()||v.j.T(!0),a.Rh=null,a.rc=Qf(a.H,a.rc),a.rc.select(),d=!0):d=!1:d=!1,a.wh=d):a.rc.Sb()&&(a.wh=!0),a.wh){a.le=new vf(a.rc,a.dc);d=a.le;e=a.$c;var f=a.ft;v.j.Qb()||v.j.T(!0);d.m.Oi&&Af(d.ib);Od();d.m.qc(!1);v.Wa.Bo();if(d.ib.getParent()||f&&d.ib.J&&E(d.ib.J))Id(d.ib,f),e=d.aj(e),e=Bc(d.hf,e),d.ib.translate(e.x,e.y),v.Wa.Kx(d.ib);d.ib.Pg(!0);d.ib.Wm();(e=d.m.$)&&v.i.Ya(e.Rc,d.ib.wc()?"blocklyToolboxDelete":"blocklyToolboxGrab");wf(a.le,a.se,a.$c);
d=!0}else d=!1;else d=!1;if(d=!d)if(a.H)d=Of(a.H);else if(d=a.dc)d=a.dc,d=d.options.kc&&d.options.kc.gh;d&&(a.Wg=a.H?new Lf(a.H):new Jf(a.dc),a.vk=!0,a.Wg.sn())}v.Dg()}a.se=b}
c.Co=function(a){v.i.Lm(a)?this.cancel():(this.nh=!0,v.Wa.Bo(),Pf(this.dc),this.dc.Oi&&this.dc.resize(),Rf(this.dc),this.se=a,v.hc(!!this.H),v.F.block(),this.rc&&(this.rc.select(),!this.rc.yb&&a.shiftKey&&v.s.km()),v.i.Ag(a)?hd(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||v.$y(a,this),this.Kt=new A(a.clientX,a.clientY),this.ft=a.altKey||a.ctrlKey||a.metaKey,this.ah(a)))};
c.ah=function(a){this.Ym=v.W(document,"mousemove",null,this.ik.bind(this));this.Zm=v.W(document,"mouseup",null,this.Bm.bind(this));a.preventDefault();a.stopPropagation()};c.ik=function(a){Nf(this,a);this.vk?this.Wg.gh(this.$c):this.wh?wf(this.le,this.se,this.$c):this.tk&&Hf(this.vf,this.se,this.$c);a.preventDefault();a.stopPropagation()};
c.Bm=function(a){Nf(this,a);v.Dg();if(this.Im)console.log("Trying to end a gesture recursively.");else{this.Im=!0;if(this.tk)If(this.vf,a,this.$c);else if(this.wh)zf(this.le,a,this.$c);else if(this.vk){var b=this.Wg;b.gh(this.$c);Sf(b.m)}else if(this.Kd&&!this.mh)this.Kd.uq&&this.Kd.uq(),this.Kd.select&&this.Kd.select();else if(Tf(this))this.Sh.ze(),Uf(this);else if(this.Rh&&!this.mh&&!Tf(this))this.H&&this.H.si?this.rc.disabled||(v.j.Qb()||v.j.T(!0),Bf(Qf(this.H,this.rc))):v.j.Y(new qd(this.Rh,"click",
void 0,void 0)),Uf(this),v.j.T(!1);else if(!(this.Rh||this.Kd||this.Sh||this.mh))if(v.Si=!1,b=this.fs,b.cursor.ya(),a.shiftKey){var d=v.i.Wz(b,new A(a.clientX,a.clientY));d=Vf(b,d);ae(b.cursor,d);v.Si=!0}else v.selected&&v.selected.Ug();a.preventDefault();a.stopPropagation();this.D()}};c.cancel=function(){if(!this.Im){v.Dg();if(this.tk)If(this.vf,this.se,this.$c);else if(this.wh)zf(this.le,this.se,this.$c);else if(this.vk){var a=this.Wg;a.gh(this.$c);Sf(a.m)}this.D()}};
function hd(a,b){a.rc?(Uf(a),v.hc(a.H),a.rc.jj(b)):a.Kd?a.Kd.jj(b):a.dc&&!a.H&&(v.hc(),a.dc.jj(b));b.preventDefault();b.stopPropagation();a.D()}function Wf(a,b,d){if(a.nh)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.dc||(a.dc=d);a.se=b;a.Co(b)}function Xf(a,b,d){if(a.nh)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.H||(a.H=d);Wf(a,b,d.ng())}
function te(a,b,d){if(a.nh)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");a.Kd||(a.Kd=d);a.se=b}function Uf(a){a.rc&&!a.H&&Af(a.rc)}function Yf(a,b){a.Rh||a.Kd||(a.Rh=b,b.yb&&b!=ff(b)?Zf(a,ff(b)):Zf(a,b))}function Zf(a,b){b.Oa?Zf(a,b.getParent()):a.rc=b}function Tf(a){return(a.Sh?$f(a.Sh):!1)&&!a.mh&&(!a.H||!a.H.si)}c.Rb=function(){return this.vk||this.wh||this.tk};c.Fi=function(){return this.le?this.le.Fi():[]};
function ag(){for(var a=ie(),b=0,d;d=a[b];b++)if(d.Ob)return!0;return!1};function bg(a,b){this.Gi=a;this.Eq=b.spacing;this.Ct=b.length;this.Uy=(this.xp=a.firstChild)&&this.xp.nextSibling;this.cA=b.snap}bg.prototype.Mg=1;bg.prototype.D=function(){this.Gi=null};bg.prototype.update=function(a){this.Mg=a;var b=this.Eq*a||100;this.Gi.setAttribute("width",b);this.Gi.setAttribute("height",b);b=Math.floor(this.Eq/2)+.5;var d=b-this.Ct/2,e=b+this.Ct/2;b*=a;d*=a;e*=a;cg(this.xp,a,d,e,b,b);cg(this.Uy,a,b,b,d,e)};
function cg(a,b,d,e,f,h){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",h))}bg.prototype.moveTo=function(a,b){this.Gi.setAttribute("x",a);this.Gi.setAttribute("y",b);(x||hc)&&this.update(this.Mg)};v.nr={};
v.nr.wv=new function(){this.Tw={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};this.Xw={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},
math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}}};function dg(a){var b=!!a.readOnly;if(b)var d=null,e=!1,f=!1,h=!1,k=!1,l=!1,m=!1;else{d=eg(a.toolbox);e=!(!d||!d.getElementsByTagName("category").length);f=a.trashcan;void 0===f&&(f=e);var n=a.maxTrashcanContents;f?void 0===n&&(n=32):n=0;h=a.collapse;void 0===h&&(h=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var t=!!a.rtl,w=a.horizontalLayout;void 0===w&&(w=!1);var r=a.toolboxPosition;r="end"===r?!1:!0;r=w?r?v.Uc:v.$f:r==t?v.De:v.kd;var q=a.css;void 0===
q&&(q=!0);var y="https://blockly-demo.appspot.com/static/media/";a.media?y=a.media:a.path&&(y=a.path+"media/");var K=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,R=a.theme||v.nr.wv;this.w=t;this.fd=K;this.collapse=h;this.Jj=k;this.disable=l;this.readOnly=b;this.Bp=a.maxBlocks||Infinity;this.Cp=a.maxInstances;this.ve=y;this.ct=e;b=a.move||{};h={};h.scrollbars=void 0===b.scrollbars&&void 0===a.scrollbars?e:!!b.scrollbars||!!a.scrollbars;h.bi=h.scrollbars&&void 0!==b.wheel?!!b.wheel:!1;h.gh=h.scrollbars?
void 0===b.drag?!0:!!b.drag:!1;this.kc=h;this.et=f;this.Xi=n;this.Ay=m;this.zy=q;this.od=w;this.af=d;d=a.grid||{};e={};e.spacing=parseFloat(d.spacing)||0;e.Ul=d.colour||"#888";e.length=parseFloat(d.length)||1;e.IB=0<e.spacing&&!!d.snap;this.Zs=e;a=a.zoom||{};d={};d.controls=void 0===a.controls?!1:!!a.controls;d.bi=void 0===a.wheel?!1:!!a.wheel;d.Mu=void 0===a.startScale?1:parseFloat(a.startScale);d.Ck=void 0===a.maxScale?3:parseFloat(a.maxScale);d.Dk=void 0===a.minScale?.3:parseFloat(a.minScale);
d.Vz=void 0===a.scaleSpeed?1.2:parseFloat(a.scaleSpeed);this.eb=d;this.ra=r;this.nA=R}dg.prototype.Tb=null;dg.prototype.Of=null;dg.prototype.qb=null;function eg(a){a?("string"!=typeof a&&("undefined"==typeof XSLTProcessor&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=v.B.td(a))):a=null;return a};function fg(a){this.m=a;this.Ed=new gg(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.Od=new gg(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.Lj=v.i.C("rect",{height:xe,width:xe,"class":"blocklyScrollbarBackground"},null);v.i.uh(this.Lj,a.Md)}fg.prototype.lb=null;fg.prototype.D=function(){v.i.removeNode(this.Lj);this.lb=this.m=this.Lj=null;this.Ed.D();this.Ed=null;this.Od.D();this.Od=null};
fg.prototype.resize=function(){var a=this.m.qb();if(a){var b=!1,d=!1;this.lb&&this.lb.Ka==a.Ka&&this.lb.Pa==a.Pa&&this.lb.Ab==a.Ab&&this.lb.zb==a.zb?(this.lb&&this.lb.Xc==a.Xc&&this.lb.vb==a.vb&&this.lb.wb==a.wb||(b=!0),this.lb&&this.lb.Hc==a.Hc&&this.lb.Ib==a.Ib&&this.lb.pb==a.pb||(d=!0)):d=b=!0;b&&this.Ed.resize(a);d&&this.Od.resize(a);this.lb&&this.lb.Ka==a.Ka&&this.lb.zb==a.zb||this.Lj.setAttribute("x",this.Od.Oc.x);this.lb&&this.lb.Pa==a.Pa&&this.lb.Ab==a.Ab||this.Lj.setAttribute("y",this.Ed.Oc.y);
this.lb=a}};fg.prototype.set=function(a,b){var d={};a*=this.Ed.lc;b*=this.Od.lc;var e=this.Od.ee,f=a/this.Ed.ee;d.x=isNaN(f)?0:f;e=b/e;d.y=isNaN(e)?0:e;this.m.Of(d);hg(this.Ed,a);hg(this.Od,b)};
function gg(a,b,d,e){this.m=a;this.$i=d||!1;this.qh=b;this.lb=null;this.Mj(e);this.Oc=new A(0,0);a=xe;b?(this.Ld.setAttribute("height",a),this.bf.setAttribute("height",a),this.kf.setAttribute("height",a-5),this.kf.setAttribute("y",2.5),this.yk="width",this.fu="x"):(this.Ld.setAttribute("width",a),this.bf.setAttribute("width",a),this.kf.setAttribute("width",a-5),this.kf.setAttribute("x",2.5),this.yk="height",this.fu="y");this.Yt=v.W(this.Ld,"mousedown",this,this.xz);this.Zt=v.W(this.kf,"mousedown",
this,this.yz)}var ig,jg;c=gg.prototype;c.Qp=new A(0,0);c.Lu=0;c.ee=0;c.pg=0;c.jk=0;c.Bg=!0;c.bh=!0;var xe=15;dd&&(xe=25);gg.prototype.D=function(){kg();v.Ta(this.Yt);this.Yt=null;v.Ta(this.Zt);this.Zt=null;v.i.removeNode(this.bf);this.m=this.kf=this.Ld=this.A=this.bf=null};function hg(a,b){a.jk=b;a.kf.setAttribute(a.fu,a.jk)}function lg(a,b){a.ee=b;a.bf.setAttribute(a.yk,a.ee);a.Ld.setAttribute(a.yk,a.ee)}fg.prototype.Mh=function(a){this.Ed.Mh(a);this.Od.Mh(a)};
function mg(a,b,d){a.Oc.x=b;a.Oc.y=d;v.i.Uk(a.bf,"translate("+(a.Oc.x+a.Qp.x)+"px,"+(a.Oc.y+a.Qp.y)+"px)")}c=gg.prototype;c.resize=function(a){if(!a&&(a=this.m.qb(),!a))return;var b=this.lb;a&&b&&a.Ka==b.Ka&&a.Pa==b.Pa&&a.vb==b.vb&&a.Ib==b.Ib&&a.Ab==b.Ab&&a.zb==b.zb&&a.Xc==b.Xc&&a.Hc==b.Hc&&a.wb==b.wb&&a.pb==b.pb||(this.lb=a,this.qh?ng(this,a):og(this,a),pg(this))};function ng(a,b){var d=b.Ka-1;a.$i&&(d-=xe);lg(a,Math.max(0,d));d=b.zb+.5;a.$i&&a.m.w&&(d+=xe);mg(a,d,b.Ab+b.Pa-xe-.5);qg(a,b)}
function qg(a,b){a.$i||a.Ba(a.ee<b.Xc);a.lc=a.ee/b.Xc;if(-Infinity==a.lc||Infinity==a.lc||isNaN(a.lc))a.lc=0;a.pg=Math.max(0,b.Ka*a.lc);a.kf.setAttribute(a.yk,a.pg);hg(a,rg(a,(b.vb-b.wb)*a.lc))}function og(a,b){var d=b.Pa-1;a.$i&&(d-=xe);lg(a,Math.max(0,d));d=b.zb+.5;a.m.w||(d+=b.Ka-xe-1);mg(a,d,b.Ab+.5);sg(a,b)}
function sg(a,b){a.$i||a.Ba(a.ee<b.Hc);a.lc=a.ee/b.Hc;if(-Infinity==a.lc||Infinity==a.lc||isNaN(a.lc))a.lc=0;a.pg=Math.max(0,b.Pa*a.lc);a.kf.setAttribute(a.yk,a.pg);hg(a,rg(a,(b.Ib-b.pb)*a.lc))}
c.Mj=function(a){var b="blocklyScrollbar"+(this.qh?"Horizontal":"Vertical");a&&(b+=" "+a);this.bf=v.i.C("svg",{"class":b},null);this.A=v.i.C("g",{},this.bf);this.Ld=v.i.C("rect",{"class":"blocklyScrollbarBackground"},this.A);a=Math.floor((xe-5)/2);this.kf=v.i.C("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.A);v.i.uh(this.bf,H(this.m))};c.isVisible=function(){return this.Bg};c.Mh=function(a){var b=a!=this.bh;this.bh=a;b&&this.ml()};
c.Ba=function(a){var b=a!=this.isVisible();if(this.$i)throw Error("Unable to toggle visibility of paired scrollbars.");this.Bg=a;b&&this.ml()};c.ml=function(){this.bh&&this.isVisible()?this.bf.setAttribute("display","block"):this.bf.setAttribute("display","none")};
c.xz=function(a){Rf(this.m);v.Touch.zf();kg();if(v.i.Ag(a))a.stopPropagation();else{var b=v.i.Ek(a,H(this.m),tg(this.m));b=this.qh?b.x:b.y;var d=v.i.$j(this.kf);d=this.qh?d.x:d.y;var e=this.jk,f=.95*this.pg;b<=d?e-=f:b>=d+this.pg&&(e+=f);hg(this,rg(this,e));pg(this);a.stopPropagation();a.preventDefault()}};
c.yz=function(a){Rf(this.m);kg();v.i.Ag(a)?a.stopPropagation():(this.eA=this.jk,Kf(this.m),this.Lu=this.qh?a.clientX:a.clientY,ig=v.W(document,"mouseup",this,this.Dz),jg=v.W(document,"mousemove",this,this.zz),a.stopPropagation(),a.preventDefault())};c.zz=function(a){hg(this,rg(this,this.eA+((this.qh?a.clientX:a.clientY)-this.Lu)));pg(this)};c.Dz=function(){Sf(this.m);v.Touch.zf();kg()};function kg(){v.hc(!0);ig&&(v.Ta(ig),ig=null);jg&&(v.Ta(jg),jg=null)}
function rg(a,b){return b=0>=b||isNaN(b)||a.ee<a.pg?0:Math.min(b,a.ee-a.pg)}function pg(a){var b=a.jk/a.ee;isNaN(b)&&(b=0);var d={};a.qh?d.x=b:d.y=b;a.m.Of(d)}c.set=function(a){hg(this,rg(this,a*this.lc));pg(this)};function ug(a,b){ug.v.constructor.call(this,a,b);this.Jm=!1;this.Td={};this.Ku=this.Nk=0;this.Pp=null}u(ug,Mf);c=ug.prototype;c.Co=function(a){ug.v.Co.call(this,a);!this.Im&&v.Touch.Mm(a)&&vg(this,a)};c.ah=function(a){this.Pp=v.W(document,"mousedown",null,this.wy.bind(this),!0);this.Ym=v.W(document,"mousemove",null,this.ik.bind(this),!0);this.Zm=v.W(document,"mouseup",null,this.Bm.bind(this),!0);a.preventDefault();a.stopPropagation()};
c.wy=function(a){!this.Rb()&&v.Touch.Mm(a)&&(vg(this,a),this.Jm&&v.Dg())};c.ik=function(a){if(this.Rb())v.Touch.Aq(a)&&ug.v.ik.call(this,a);else if(this.Jm){if(v.Touch.Mm(a)){this.Td[v.Touch.zm(a)]=wg(this,a);var b=Object.keys(this.Td);if(2==b.length){b=zc(this.Td[b[0]],this.Td[b[1]])/this.Ku;if(0<this.Nk&&Infinity>this.Nk){var d=b-this.Nk;d=0<d?5*d:6*d;var e=this.dc,f=v.i.Ek(a,H(e),tg(e));e.zoom(f.x,f.y,d)}this.Nk=b;a.preventDefault()}}v.Dg()}else ug.v.ik.call(this,a)};
c.Bm=function(a){if(v.Touch.Mm(a)&&!this.Rb()){var b=v.Touch.zm(a);this.Td[b]&&delete this.Td[b];2>Object.keys(this.Td).length&&(this.Td={},this.Nk=0)}!this.Jm||this.Rb()?v.Touch.Aq(a)&&ug.v.Bm.call(this,a):(a.preventDefault(),a.stopPropagation(),this.D())};c.D=function(){ug.v.D.call(this);this.Pp&&v.Ta(this.Pp)};function vg(a,b){a.Td[v.Touch.zm(b)]=wg(a,b);var d=Object.keys(a.Td);2==d.length&&(a.Ku=zc(a.Td[d[0]],a.Td[d[1]]),a.Jm=!0,b.preventDefault())}
function wg(a,b){return a.dc?new A(b.pageX?b.pageX:b.changedTouches[0].pageX,b.pageY?b.pageY:b.changedTouches[0].pageY):null};function xg(a,b,d,e){this.top=a;this.right=b;this.bottom=d;this.left=e}c=xg.prototype;c.Lc=function(){return this.right-this.left};c.Ei=function(){return this.bottom-this.top};c.clone=function(){return new xg(this.top,this.right,this.bottom,this.left)};c.contains=function(a){return this&&a?a instanceof xg?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
c.expand=function(a,b,d,e){va(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(d),this.left-=Number(e));return this};c.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
c.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};c.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};c.translate=function(a,b){a instanceof A?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,na(b)&&(this.top+=b,this.bottom+=b));return this};
c.scale=function(a,b){b=na(b)?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};function yg(a,b,d,e){this.left=a;this.top=b;this.width=d;this.height=e}c=yg.prototype;c.clone=function(){return new yg(this.left,this.top,this.width,this.height)};c.contains=function(a){return a instanceof A?a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height:this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height};c.ck=function(){return new Cc(this.width,this.height)};
c.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};c.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};c.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
c.translate=function(a,b){a instanceof A?(this.left+=a.x,this.top+=a.y):(this.left+=a,na(b)&&(this.top+=b));return this};c.scale=function(a,b){b=na(b)?b:a;this.left*=a;this.width*=a;this.top*=b;this.height*=b;return this};function zg(a){this.m=a;this.cp=!1;this.ui=[];0>=this.m.options.Xi||(a={scrollbars:!0,Cf:this.m.options.Cf,Tb:this.m,w:this.m.w,fd:this.m.options.fd},this.m.od?(a.ra=this.m.ra==v.Uc?v.$f:v.Uc,this.H=new Ag(a)):(a.ra=this.m.ra==v.De?v.kd:v.De,this.H=new Bg(a)),this.m.Vc(Cg(this)))}c=zg.prototype;c.$g=47;c.wl=44;c.ii=16;c.Gn=20;c.yj=20;c.El=10;c.Nn=0;c.On=32;c.Lv=.1;c.Qi=!1;c.Tm=0;c.A=null;c.un=null;c.wp=0;c.Cg=0;c.xk=0;c.nj=0;
c.ba=function(){this.A=v.i.C("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=v.i.C("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.A);v.i.C("rect",{width:this.$g,height:this.wl,y:this.ii},b);var d=v.i.C("image",{width:v.Tc.width,x:-this.Nn,height:v.Tc.height,y:-this.On,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.A);d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.m.options.ve+v.Tc.url);b=v.i.C("clipPath",{id:"blocklyTrashLidClipPath"+
a},this.A);v.i.C("rect",{width:this.$g,height:this.ii},b);this.un=v.i.C("image",{width:v.Tc.width,x:-this.Nn,height:v.Tc.height,y:-this.On,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.A);this.un.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.m.options.ve+v.Tc.url);v.W(this.A,"mouseup",this,this.click);v.tc(d,"mouseover",this,this.fz);v.tc(d,"mouseout",this,this.ez);this.Vn();return this.A};
c.O=function(a){0<this.m.options.Xi&&(v.i.uh(this.H.ba("svg"),H(this.m)),this.H.O(this.m),this.H.st=function(){return!0});this.Xf=this.Gn+a;yf(this,!1);return this.Xf+this.wl+this.ii};c.D=function(){this.A&&(v.i.removeNode(this.A),this.A=null);this.m=this.un=null;clearTimeout(this.wp)};
c.position=function(){if(this.Xf){var a=this.m.qb();a&&(this.xk=a.ra==v.kd||this.m.od&&!this.m.w?a.Ka+a.zb-this.$g-this.yj-xe:this.yj+xe,this.nj=a.ra==v.$f?this.Xf:a.Pa+a.Ab-(this.wl+this.ii)-this.Xf,this.A.setAttribute("transform","translate("+this.xk+","+this.nj+")"))}};c.Ci=function(){if(!this.A)return null;var a=this.A.getBoundingClientRect();return new yg(a.left+this.Nn-this.El,a.top+this.On-this.El,this.$g+2*this.El,this.ii+this.wl+2*this.El)};
function yf(a,b){a.Qi!=b&&(clearTimeout(a.wp),a.Qi=b,a.Vn())}c.Vn=function(){this.Cg+=this.Qi?.2:-.2;this.Cg=Math.min(Math.max(this.Cg,this.Tm),1);Dg(this,45*this.Cg);this.A.style.opacity=.4+.4*this.Cg;this.Cg>this.Tm&&1>this.Cg&&(this.wp=setTimeout(this.Vn.bind(this),20))};function Dg(a,b){var d=a.m.ra==v.De||a.m.od&&a.m.w;a.un.setAttribute("transform","rotate("+(d?-b:b)+","+(d?4:a.$g-4)+","+(a.ii-2)+")")}c.close=function(){yf(this,!1)};
c.click=function(){if(this.cp){for(var a=[],b=0,d;d=this.ui[b];b++)a[b]=v.B.td(d).firstChild;this.H.show(a)}};c.fz=function(){this.cp&&yf(this,!0)};c.ez=function(){yf(this,!1)};
function Cg(a){return function(b){if(!(0>=a.m.options.Xi)&&b.type==v.j.vl){for(var d=b=b.St.cloneNode(!0);d;){d.removeAttribute&&(d.removeAttribute("x"),d.removeAttribute("y"),d.removeAttribute("id"));var e=d.firstChild||d.nextSibling;if(!e)for(e=d.parentNode;e;){if(e.nextSibling){e=e.nextSibling;break}e=e.parentNode}d=e}b="<xml>"+v.B.md(b)+"</xml>";-1==a.ui.indexOf(b)&&(a.ui.unshift(b),a.ui.length>a.m.options.Xi&&a.ui.splice(a.m.options.Xi,a.ui.length-a.m.options.Xi),a.cp=!0,a.Tm=a.Lv,Dg(a,45*a.Tm))}}}
;function Bd(a,b,d,e){this.o=a;this.name=b;this.type=d||"";this.Mi=e||v.i.Re();v.j.Y(new nd(this))}Bd.prototype.ea=function(){return this.Mi};function Eg(a,b){a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a==b?0:1};v.G={};v.G.ab=v.pr;v.G.yr=function(a){var b=B(a,!1);a=Object.create(null);for(var d=0;d<b.length;d++){var e=b[d].Kf();if(e)for(var f=0;f<e.length;f++){var h=e[f],k=h.ea();k&&(a[k]=h)}}b=[];for(k in a)b.push(a[k]);return b};v.G.oB=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};v.G.Rq={};
v.G.Hw=function(a){a=B(a,!1);for(var b=Object.create(null),d=0,e;e=a[d];d++){var f=e.AB;!f&&e.ay&&(f=e.ay,v.G.Rq[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),v.G.Rq[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)b[e[f]]=!0}return Object.keys(b)};
v.G.kg=function(a){var b=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");Fg(a,"CREATE_VARIABLE",function(e){v.G.wi(e.Ca)});b.push(d);a=v.G.Ko(a);return b=b.concat(a)};
v.G.Ko=function(a){a=a.ek("");var b=[];if(0<a.length){var d=v.G.Yj(a[a.length-1]);if(v.I.variables_set){var e=v.I.math_change?8:24;e=v.B.td('<xml><block type="variables_set" gap="'+e+'">'+d+"</block></xml>").firstChild;b.push(e)}v.I.math_change&&(e=v.I.variables_get?20:8,e=v.B.td('<xml><block type="math_change" gap="'+e+'">'+d+'<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></xml>').firstChild,b.push(e));if(v.I.variables_get)for(a.sort(Eg),d=0;e=
a[d];d++)e='<xml><block type="variables_get" gap="8">'+v.G.Yj(e)+"</block></xml>",e=v.B.td(e).firstChild,b.push(e)}return b};v.G.Ss=function(a){a=a.Se();var b="";if(a.length)for(var d=1,e=0,f="ijkmnopqrstuvwxyzabcdefgh".charAt(e);!b;){for(var h=!1,k=0;k<a.length;k++)if(a[k].name.toLowerCase()==f){h=!0;break}h?(e++,25==e&&(e=0,d++),f="ijkmnopqrstuvwxyzabcdefgh".charAt(e),1<d&&(f+=d)):b=f}else b="i";return b};
v.G.wi=function(a,b,d){function e(h){v.G.pu(v.g.NEW_VARIABLE_TITLE,h,function(k){if(k){var l=v.G.hz(k,a);if(l){var m=k.toLowerCase();if(l.type==f)var n=v.g.VARIABLE_ALREADY_EXISTS.replace("%1",m);else n=v.g.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,n=n.replace("%1",m).replace("%2",l.type);v.alert(n,function(){e(k)})}else a.Yc(k,f),b&&b(k)}else b&&b(null)})}var f=d||"";e("")};oa("Blockly.Variables.createVariableButtonHandler",v.G.wi);v.G.Yc=v.G.wi;oa("Blockly.Variables.createVariable",v.G.Yc);
v.G.jn=function(a,b){function d(e){var f=v.g.RENAME_VARIABLE_TITLE.replace("%1",b.name);v.G.pu(f,e,function(h){if(h){var k=v.G.iz(h,b.type,a);k?(k=v.g.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",h.toLowerCase()).replace("%2",k.type),v.alert(k,function(){d(h)})):a.Kh(b.ea(),h)}})}d("")};v.G.pu=function(a,b,d){v.prompt(a,b,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),e==v.g.RENAME_VARIABLE||e==v.g.NEW_VARIABLE)&&(e=null);d(e)})};
v.G.iz=function(a,b,d){d=d.Ea.Se();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=b)return f;return null};v.G.hz=function(a,b){b=b.Ea.Se();a=a.toLowerCase();for(var d=0,e;e=b[d];d++)if(e.name.toLowerCase()==a)return e;return null};v.G.Yj=function(a){var b=a.type;""==b&&(b="''");return'<field name="VAR" id="'+a.ea()+'" variabletype="'+$b(b)+'">'+$b(a.name)+"</field>"};v.G.Ts=function(a){a="<xml>"+v.G.Yj(a)+"</xml>";return v.B.td(a).firstChild};
v.G.vm=function(a,b,d,e){var f=v.G.Kc(a,b,d,e);f||(f=v.G.qx(a,b,d,e));return f};v.G.Kc=function(a,b,d,e){var f=a.dj;if(b){var h=a.oe(b);!h&&f&&(h=f.oe(b));if(h)return h}if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");h=a.Kc(d,e);!h&&f&&(h=f.Kc(d,e))}return h};v.G.qx=function(a,b,d,e){var f=a.dj;d||(d=v.G.Ss(a.ae?a.Wh:a));return f?f.Yc(d,e,b):a.Yc(d,e,b)};
v.G.Us=function(a,b){a=a.Se();var d=[];if(b.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==b.indexOf(f)&&d.push(f)}return d};v.Sd={};v.Sd.qz=function(a){v.G.wi(a.Ca,null,"String")};v.Sd.pz=function(a){v.G.wi(a.Ca,null,"Number")};v.Sd.oz=function(a){v.G.wi(a.Ca,null,"Colour")};
v.Sd.kg=function(a){var b=[],d=document.createElement("button");d.setAttribute("text",v.g.NEW_STRING_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_STRING");b.push(d);d=document.createElement("button");d.setAttribute("text",v.g.NEW_NUMBER_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER");b.push(d);d=document.createElement("button");d.setAttribute("text",v.g.NEW_COLOUR_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR");b.push(d);Fg(a,"CREATE_VARIABLE_STRING",v.Sd.qz);
Fg(a,"CREATE_VARIABLE_NUMBER",v.Sd.pz);Fg(a,"CREATE_VARIABLE_COLOUR",v.Sd.oz);a=v.Sd.Ko(a);return b=b.concat(a)};v.Sd.Ko=function(a){a=a.Se();var b=[];if(0<a.length){if(v.I.variables_set_dynamic){var d='<xml><block type="variables_set_dynamic" gap="24">'+v.G.Yj(a[a.length-1])+"</block></xml>";d=v.B.td(d).firstChild;b.push(d)}if(v.I.variables_get_dynamic){a.sort(Eg);for(var e=0;d=a[e];e++)d='<xml><block type="variables_get_dynamic" gap="8">'+v.G.Yj(d)+"</block></xml>",d=v.B.td(d).firstChild,b.push(d)}}return b};function Gg(a){this.Tp=a;this.Dj=Object.create(null)}c=Gg.prototype;c.tp=null;c.D=function(){this.Dj=this.Tp=null};c.load=function(a,b){if(a.length){try{var d=new window.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var h=a[f],k=h.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new window.Audio(h);break}}e&&e.play&&(this.Dj[b]=e)}};c.preload=function(){for(var a in this.Dj){var b=this.Dj[a];b.volume=.01;b.play().catch(function(){});b.pause();if(nc||mc)break}};
c.play=function(a,b){var d=this.Dj[a];d?(a=new Date,null!=this.tp&&a-this.tp<v.qw||(this.tp=a,d=uc&&9===uc||nc||lc?d:d.cloneNode(),d.volume=void 0===b?1:b,d.play())):this.Tp&&this.Tp.Ge.play(a,b)};c=Cf.prototype;c.Db=function(){return{width:this.Lc(),height:this.Ei()}};
c.ca=function(){if(!this.Lg){var a=this.Db();this.Nj();this.A.appendChild(this.Bd);this.Th=v.i.C("rect",{"class":"blocklyCommentHandleTarget",x:0,y:0});this.A.appendChild(this.Th);this.Sg=v.i.C("rect",{"class":"blocklyCommentTarget",x:0,y:0,rx:3,ry:3});this.A.appendChild(this.Sg);this.bc=v.i.C("g",{"class":this.w?"blocklyResizeSW":"blocklyResizeSE"},this.A);v.i.C("polygon",{points:"0,x x,x x,0".replace(/x/g,(8).toString())},this.bc);v.i.C("line",{"class":"blocklyResizeLine",x1:8/3,y1:7,x2:7,y2:8/
3},this.bc);v.i.C("line",{"class":"blocklyResizeLine",x1:16/3,y1:7,x2:7,y2:16/3},this.bc);this.wc()&&(this.jg=v.i.C("g",{"class":"blocklyCommentDeleteIcon"},this.A),this.zs=v.i.C("circle",{"class":"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.jg),v.i.C("line",{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.jg),v.i.C("line",{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.jg));Hg(this,a.width,a.height);this.Hb.value=this.ld;this.Lg=!0;this.bc&&v.W(this.bc,
"mousedown",this,this.gq);this.wc()&&(v.W(this.jg,"mousedown",this,this.Cx),v.W(this.jg,"mouseout",this,this.Dx),v.W(this.jg,"mouseup",this,this.Ex))}};
c.Nj=function(){this.Bd=v.i.C("foreignObject",{x:0,y:10,"class":"blocklyCommentForeignObject"},null);var a=document.createElementNS(v.Zf,"body");a.setAttribute("xmlns",v.Zf);a.className="blocklyMinimalBody";var b=document.createElementNS(v.Zf,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.w?"RTL":"LTR");a.appendChild(b);this.Hb=b;this.Bd.appendChild(a);v.W(b,"wheel",this,function(d){d.stopPropagation()});v.W(b,"change",this,function(){this.ef(b.value)});return this.Bd};
c.gq=function(a){Ig(this);v.i.Ag(a)||(this.o.sn(a,new A(this.o.w?-this.ka:this.ka,this.xa)),this.Fh=v.W(document,"mouseup",this,this.Sz),this.Op=v.W(document,"mousemove",this,this.hq),v.hc());a.stopPropagation()};c.Cx=function(a){v.i.Ya(this.zs,"blocklyDeleteIconHighlighted");a.stopPropagation()};c.Dx=function(){v.i.Fb(this.zs,"blocklyDeleteIconHighlighted")};c.Ex=function(a){this.D(!0,!0);a.stopPropagation()};function Ig(a){a.Fh&&(v.Ta(a.Fh),a.Fh=null);a.Op&&(v.Ta(a.Op),a.Op=null)}
c.Sz=function(){v.Touch.zf();Ig(this)};c.hq=function(a){this.Kl=!1;a=ve(this.o,a);Hg(this,this.w?-a.x:a.x,a.y)};
function Hg(a,b,d){b=Math.max(b,45);d=Math.max(d,30);a.ka=b;a.xa=d;a.cl.setAttribute("width",b);a.cl.setAttribute("height",d);a.Sg.setAttribute("width",b);a.Sg.setAttribute("height",d);a.Th.setAttribute("width",b);a.Th.setAttribute("height",10);a.w&&(a.cl.setAttribute("transform","scale(-1 1)"),a.Sg.setAttribute("transform","scale(-1 1)"));a.bc&&(a.w?(a.bc.setAttribute("transform","translate("+(-b+8)+","+(d-8)+") scale(-1 1)"),a.jg.setAttribute("transform","translate("+(-b+8)+",-8) scale(-1 1)")):
(a.bc.setAttribute("transform","translate("+(b-8)+","+(d-8)+")"),a.jg.setAttribute("transform","translate("+(b-8)+",-8)")));b=a.Db();a.Bd.setAttribute("width",b.width);a.Bd.setAttribute("height",b.height-10);a.w&&a.Bd.setAttribute("x",-b.width);a.Hb.style.width=b.width-4+"px";a.Hb.style.height=b.height-4-10+"px"}
c.uq=function(){var a=this;this.Vj=!0;setTimeout(function(){a.Df||(a.Hb.focus(),v.i.Ya(a.A,"blocklyFocused"),v.i.Ya(a.Sg,"blocklyCommentTargetFocused"),v.i.Ya(a.Th,"blocklyCommentHandleTargetFocused"))},0)};function Ef(a){a.Vj=!1;setTimeout(function(){a.Df||(a.Hb.blur(),v.i.Fb(a.A,"blocklyFocused"),v.i.Fb(a.Sg,"blocklyCommentTargetFocused"),v.i.Fb(a.Th,"blocklyCommentHandleTargetFocused"))},0)};function Jg(a){this.Kj=a;this.ba()}c=Jg.prototype;c.Ia=null;c.Wd=null;c.Kj=null;c.ba=function(){this.Ia||(this.Ia=v.i.C("svg",{xmlns:v.Qn,"xmlns:html":v.Zf,"xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Kj.appendChild(this.Ia))};c.Sf=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.Ia.style.display="block";v.i.Uk(this.Ia,"translate3d("+a+"px, "+b+"px, 0px)")};c.ym=function(){return v.i.ad(this.Ia)};
c.Hj=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.Ia.childNodes[0],d=this.Ia.childNodes[1];if(!(b&&d&&v.i.dt(b,"blocklyBlockCanvas")&&v.i.dt(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.we?v.i.uh(b,this.we):a.insertBefore(b,a.firstChild);v.i.uh(d,b);this.Ia.style.display="none";if(this.Ia.childNodes.length)throw Error("Drag surface was not cleared.");v.i.Uk(this.Ia,"");
this.we=null};
function Kg(a){this.m=a}c=Kg.prototype;c.$g=32;c.wj=110;c.Gn=20;c.yj=20;c.A=null;c.xk=0;c.nj=0;c.ba=function(){this.A=v.i.C("g",{},null);var a=String(Math.random()).substring(2);Lg(this,a);Mg(this,a);this.m.Sb()&&Ng(this,a);return this.A};c.O=function(a){this.Xf=this.Gn+a;return this.Xf+this.wj};c.D=function(){this.A&&(v.i.removeNode(this.A),this.A=null);this.m=null};
c.position=function(){if(this.Xf){var a=this.m.qb();a&&(this.xk=a.ra==v.kd||this.m.od&&!this.m.w?a.Ka+a.zb-this.$g-this.yj-xe:this.yj+xe,a.ra==v.$f?(this.nj=this.Xf,this.zn.setAttribute("transform","translate(0, 34)"),this.An&&this.An.setAttribute("transform","translate(0, 77)")):(this.nj=a.Pa+a.Ab-this.wj-this.Xf,this.zn.setAttribute("transform","translate(0, 43)"),this.Qq.setAttribute("transform","translate(0, 77)")),this.A.setAttribute("transform","translate("+this.xk+","+this.nj+")"))}};
function Lg(a,b){var d=a.m;a.Qq=v.i.C("g",{"class":"blocklyZoom"},a.A);var e=v.i.C("clipPath",{id:"blocklyZoomoutClipPath"+b},a.Qq);v.i.C("rect",{width:32,height:32},e);a=v.i.C("image",{width:v.Tc.width,height:v.Tc.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+b+")"},a.Qq);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.options.ve+v.Tc.url);v.W(a,"mousedown",null,function(f){Rf(d);Og(d,-1);v.Touch.zf();f.stopPropagation();f.preventDefault()})}
function Mg(a,b){var d=a.m;a.zn=v.i.C("g",{"class":"blocklyZoom"},a.A);var e=v.i.C("clipPath",{id:"blocklyZoominClipPath"+b},a.zn);v.i.C("rect",{width:32,height:32},e);a=v.i.C("image",{width:v.Tc.width,height:v.Tc.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+b+")"},a.zn);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.options.ve+v.Tc.url);v.W(a,"mousedown",null,function(f){Rf(d);Og(d,1);v.Touch.zf();f.stopPropagation();f.preventDefault()})}
function Ng(a,b){var d=a.m;a.An=v.i.C("g",{"class":"blocklyZoom"},a.A);var e=v.i.C("clipPath",{id:"blocklyZoomresetClipPath"+b},a.An);v.i.C("rect",{width:32,height:32},e);a=v.i.C("image",{width:v.Tc.width,height:v.Tc.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+b+")"},a.An);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.options.ve+v.Tc.url);v.W(a,"mousedown",null,function(f){Rf(d);d.setScale(d.options.eb.Mu);Pg(d);Qg(d);setTimeout(function(){v.i.Fb(d.Sa,"blocklyCanvasTransitioning");
v.i.Fb(d.Md,"blocklyCanvasTransitioning")},500);v.Touch.zf();f.stopPropagation();f.preventDefault()})};
function Rg(a,b,d){Rg.v.constructor.call(this,a);this.qb=a.qb||Sg;this.Of=a.Of||Tg;var e=[];e[v.Fa]=new Ne;e[v.je]=new Ne;e[v.Ga]=new Ne;e[v.ke]=new Ne;this.jo=e;b&&(this.Lb=b);d&&(this.ci=d);this.xn=this.ci&&v.i.wg();this.lk=[];this.Ge=new Gg(a.Tb);this.$d=this.options.$s?new bg(a.$s,a.Zs):null;v.G&&v.G.kg&&Ug(this,v.pr,v.G.kg);v.Sd&&v.Sd.kg&&Ug(this,v.zw,v.Sd.kg);v.ta&&v.ta.kg&&Ug(this,v.jr,v.ta.kg);this.Gt=new Se(this,!0)}u(Rg,Nd);c=Rg.prototype;c.nn=null;c.U=!0;c.Bg=!0;c.ae=!1;c.Oi=!1;c.iq=!0;
c.scrollX=0;c.scrollY=0;c.Is=null;c.scale=1;c.Ac=null;c.sb=null;c.Ob=null;c.Lb=null;c.ci=null;c.xn=!1;c.Hm=!1;c.jp=null;c.At=null;c.Jo={};c.Mq={};c.Vr=null;c.Wh=null;c.qt=null;c.lp=!0;c.ds=function(){return new Se(this)};function tg(a){if(a.lp){var b=H(a).getScreenCTM();b&&(a.qt=b.inverse(),a.lp=!1)}return a.qt}c.ol=function(){this.lp=!0};c.isVisible=function(){return this.Bg};
function cf(a,b){var d=0,e=0,f=1;if(v.i.containsNode(a.Sa,b)||v.i.containsNode(a.Md,b))f=a.scale;do{var h=v.i.ad(b);if(b==a.Sa||b==a.Md)f=1;d+=h.x*f;e+=h.y*f;b=b.parentNode}while(b&&b!=H(a));return new A(d,e)}function $c(a){if(!a.jp)for(var b=a.A;b;){if(-1!=(" "+(b.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.jp=b;break}b=b.parentNode}return a.jp}
c.ba=function(a){this.A=v.i.C("g",{"class":"blocklyWorkspace"},null);a&&(this.Ld=v.i.C("rect",{height:"100%",width:"100%","class":a},this.A),"blocklyMainBackground"==a&&this.$d&&(this.Ld.style.fill="url(#"+this.$d.Gi.id+")"));this.Sa=v.i.C("g",{"class":"blocklyBlockCanvas"},this.A);this.Md=v.i.C("g",{"class":"blocklyBubbleCanvas"},this.A);this.ae||(v.W(this.A,"mousedown",this,this.Fg,!1,!0),v.W(this.A,"wheel",this,this.Fz));this.options.ct&&(this.$=new Vg(this));this.$d&&this.$d.update(this.scale);
Wg(this);a=this.cursor.ba();this.A.appendChild(a);a=this.Gt.ba();this.A.appendChild(a);return this.A};
c.D=function(){this.U=!1;this.Ob&&this.Ob.cancel();Rg.v.D.call(this);this.A&&(v.i.removeNode(this.A),this.A=null);this.Md=this.Sa=null;this.$&&(this.$.D(),this.$=null);this.H&&(this.H.D(),this.H=null);this.Ac&&(this.Ac.D(),this.Ac=null);this.sb&&(this.sb.D(),this.sb=null);this.di&&(this.di.D(),this.di=null);this.Pb&&(this.Pb.D(),this.Pb=null);this.Ge&&(this.Ge.D(),this.Ge=null);this.$d&&(this.$d.D(),this.$d=null);this.Jo=this.Mq=null;if(!this.options.Tb){var a=H(this).parentNode;a&&v.i.removeNode(a)}this.nn&&
(v.Ta(this.nn),this.nn=null)};c.ce=function(a,b){return new I(this,a,b)};function Xg(a){a.Ac=new zg(a);var b=a.Ac.ba();a.A.insertBefore(b,a.Sa)}function Yg(a){a.di=new Kg(a);var b=a.di.ba();a.A.appendChild(b)}function Zg(a,b){var d={Cf:a.options.Cf,Tb:a,w:a.w,fd:a.options.fd,od:a.od,ra:a.options.ra};a.H=null;a.H=a.od?new Ag(d):new Bg(d);a.H.si=!1;return a.H.ba(b)}function $g(a){return a.H?a.H:a.$?a.$.H:null}function Xd(a){if(a.iq&&a.U){if(a.sb){var b=a.qb();qg(a.sb.Ed,b);sg(a.sb.Od,b)}a.ol()}}
c.resize=function(){this.$&&this.$.position();this.H&&this.H.position();this.Ac&&this.Ac.position();this.di&&this.di.position();this.sb&&this.sb.resize();this.ol();Wg(this)};function Pf(a){var b=Jc(document);yc(a.At,b)||(a.At=b,a.ol(),Wg(a))}function H(a){if(a.Dr)return a.Dr;for(var b=a.A;b;){if("svg"==b.tagName)return a.Dr=b;b=b.parentNode}return null}
c.translate=function(a,b){if(this.xn&&this.Hm)this.ci.Sf(a,b);else{var d="translate("+a+","+b+") scale("+this.scale+")";this.Sa.setAttribute("transform",d);this.Md.setAttribute("transform",d)}if(this.Lb){d=this.Lb;var e=this.scale;d.Mg=e;d.Wd.setAttribute("transform","translate("+a.toFixed(0)+","+b.toFixed(0)+") scale("+e+")")}this.$d&&this.$d.moveTo(a,b)};
function Sf(a){if(a.xn){a.Hm=!1;var b=a.ci.ym();a.ci.Hj(a.A);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.Sa.setAttribute("transform",b);a.Md.setAttribute("transform",b)}}
function Kf(a){if(a.xn&&!a.Hm){a.Hm=!0;var b=a.Sa.previousSibling,d=parseInt(H(a).getAttribute("width"),10),e=parseInt(H(a).getAttribute("height"),10),f=v.i.ad(a.Sa),h=a.ci,k=a.Sa,l=a.Md,m=a.scale;if(h.Ia.childNodes.length)throw Error("Already dragging a block.");h.we=b;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");h.Ia.setAttribute("width",d);h.Ia.setAttribute("height",e);h.Ia.appendChild(k);h.Ia.appendChild(l);h.Ia.style.display=
"block";a.ci.Sf(f.x,f.y)}}c.Lc=function(){var a=this.qb();return a?a.Ka/this.scale:0};c.Ba=function(a){this.sb&&this.sb.Mh(a);$g(this)&&$g(this).Mh(a);H(this).style.display=a?"block":"none";this.$&&(this.$.Rc.style.display=a?"block":"none");a?(this.ca(),this.$&&this.$.position()):v.hc(!0);this.Bg=a};c.ca=function(){for(var a=B(this,!1),b=a.length-1;0<=b;b--)a[b].ca(!1);if(this.Ob)for(a=this.Ob.Fi(),b=0;b<a.length;b++)a[b].ca(!1)};
function ah(a){var b=v.Ij;if(a.U&&!(b.getElementsByTagName("block").length>=fe(a)))if(a.Ob&&a.Ob.cancel(),"comment"==b.tagName.toLowerCase()){v.j.disable();try{var d=Pd(b,a),e=parseInt(b.getAttribute("x"),10),f=parseInt(b.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.w&&(e=-e),d.moveBy(e+50,f+50))}finally{v.j.enable()}d.select()}else a:{v.j.disable();try{var h=v.B.yi(b,a);if(v.s.Oy){v.s.ot(h,v.s.Oy);break a}var k=parseInt(b.getAttribute("x"),10),l=parseInt(b.getAttribute("y"),10);if(!isNaN(k)&&!isNaN(l)){a.w&&
(k=-k);do{b=!1;var m=B(a,!1);d=0;for(var n;n=m[d];d++){var t=n.va();if(1>=Math.abs(k-t.x)&&1>=Math.abs(l-t.y)){b=!0;break}}if(!b){var w=h.Yd(!1);d=0;for(var r;r=w[d];d++)if(r.closest(v.Sc,new A(k,l)).connection){b=!0;break}}b&&(k=a.w?k-v.Sc:k+v.Sc,l+=2*v.Sc)}while(b);h.moveBy(k,l)}}finally{v.j.enable()}v.j.isEnabled()&&!h.Oa&&v.j.Y(new v.j.yl(h));h.select()}}function bh(a){if((a=a.ae?a.Wh:a)&&!a.Ob&&a.$&&a.$.H){a=a.$;var b=a.Bc.Pc;b&&b.He&&a.H.show(b.He)}}
c.Kh=function(a,b){Rg.v.Kh.call(this,a,b);bh(this)};c.Le=function(a){Rg.v.Le.call(this,a);bh(this)};c.Yc=function(a,b,d){a=Rg.v.Yc.call(this,a,b,d);bh(this);return a};function Wg(a){a.ys=a.Ac&&a.A.parentNode?a.Ac.Ci():null;a.xs=a.H?a.H.Ci():a.$?a.$.Ci():null}function xf(a,b){b=new A(b.clientX,b.clientY);return a.ys&&a.ys.contains(b)?v.En:a.xs&&a.xs.contains(b)?v.Yq:v.Xq}c.Fg=function(a){var b=this.Ue(a);b&&Wf(b,a,this)};
c.sn=function(a,b){a=v.i.Ek(a,H(this),tg(this));a.x/=this.scale;a.y/=this.scale;this.Is=Ac(b,a)};function ve(a,b){b=v.i.Ek(b,H(a),tg(a));b.x/=a.scale;b.y/=a.scale;return Bc(a.Is,b)}c.Rb=function(){return null!=this.Ob&&this.Ob.Rb()};function ch(a){return a.options.kc&&a.options.kc.scrollbars||a.options.kc&&a.options.kc.bi||a.options.kc&&a.options.kc.gh||a.options.eb&&a.options.eb.controls||a.options.eb&&a.options.eb.bi}
c.Sb=function(){return this.options.kc&&this.options.kc.scrollbars||this.options.kc&&this.options.kc.bi||this.options.kc&&this.options.kc.gh||this.options.eb&&this.options.eb.bi};
c.Fz=function(a){if(ag())a.preventDefault(),a.stopPropagation();else{var b=this.options.eb&&this.options.eb.bi,d=this.options.kc&&this.options.kc.bi;if(b||d){var e=v.i.Vo(a);!b||!a.ctrlKey&&d?(b=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(b=this.scrollX-e.y,d=this.scrollY),this.scroll(b,d)):(e=-e.y/50,b=v.i.Ek(a,H(this),tg(this)),this.zoom(b.x,b.y,e));a.preventDefault()}}};
function Ud(a){var b=Ld(a,!1);a=Kd(a,!1);b=b.concat(a);if(!b.length)return{x:0,y:0,width:0,height:0};a=b[0].mm();for(var d=1;d<b.length;d++){var e=b[d].mm();e.hd.x<a.hd.x&&(a.hd.x=e.hd.x);e.yd.x>a.yd.x&&(a.yd.x=e.yd.x);e.hd.y<a.hd.y&&(a.hd.y=e.hd.y);e.yd.y>a.yd.y&&(a.yd.y=e.yd.y)}return{x:a.hd.x,y:a.hd.y,width:a.yd.x-a.hd.x,height:a.yd.y-a.hd.y}}
c.gx=function(){this.qc(!1);v.j.T(!0);for(var a=Ld(this,!0),b=0,d=0,e;e=a[d];d++)if(e.Sb()){var f=e.va();e.moveBy(-f.x,b-f.y);dh(e);b=e.va().y+e.Db().height+25}v.j.T(!1);this.qc(!0)};
c.jj=function(a){function b(q){if(q.wc())r=r.concat(Yc(q,!1));else{q=q.Hf(!1);for(var y=0;y<q.length;y++)b(q[y])}}function d(){v.j.T(h);var q=r.shift();q&&(q.o?(q.D(!1,!0),setTimeout(d,10)):d());v.j.T(!1)}if(!this.options.readOnly&&!this.ae){var e=[],f=Ld(this,!0),h=v.i.Re(),k=this,l={};l.text=v.g.UNDO;l.enabled=0<this.Yh.length;l.bb=this.Nq.bind(this,!1);e.push(l);l={};l.text=v.g.REDO;l.enabled=0<this.Ok.length;l.bb=this.Nq.bind(this,!0);e.push(l);this.Sb()&&(l={},l.text=v.g.CLEAN_UP,l.enabled=1<
f.length,l.bb=this.gx.bind(this),e.push(l));if(this.options.collapse){for(var m=l=!1,n=0;n<f.length;n++)for(var t=f[n];t;)t.isCollapsed()?l=!0:m=!0,t=Zc(t);var w=function(q){for(var y=0,K=0;K<f.length;K++)for(var R=f[K];R;)setTimeout(R.Og.bind(R,q),y),R=Zc(R),y+=10};m={enabled:m};m.text=v.g.COLLAPSE_ALL;m.bb=function(){w(!0)};e.push(m);l={enabled:l};l.text=v.g.EXPAND_ALL;l.bb=function(){w(!1)};e.push(l)}var r=[];for(n=0;n<f.length;n++)b(f[n]);l={text:1==r.length?v.g.DELETE_BLOCK:v.g.DELETE_X_BLOCKS.replace("%1",
String(r.length)),enabled:0<r.length,bb:function(){k.Ob&&k.Ob.cancel();2>r.length?d():v.confirm(v.g.DELETE_ALL_BLOCKS.replace("%1",r.length),function(q){q&&d()})}};e.push(l);this.Vr&&this.Vr(e);v.la.show(a,e,this.w)}};
c.Yu=function(a){if(a=eg(a)){if(!this.options.af)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(a.getElementsByTagName("category").length){if(!this.$)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.af=a;a=this.$.cn(a);eh(this.$);this.$.position();this.$.Bc.ff(a)}else{if(!this.H)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.af=a;this.H.show(a.childNodes)}}else if(this.options.af)throw Error("Can't nullify an existing toolbox.");
};function Rf(a){if(a.options.Tb)Rf(a.options.Tb);else{v.zk=a;document.activeElement&&document.activeElement.blur();try{H(a).focus()}catch(b){try{H(a).parentNode.setActive()}catch(d){H(a).parentNode.focus()}}}}
c.zoom=function(a,b,d){d=Math.pow(this.options.eb.Vz,d);var e=this.scale*d;if(this.scale!=e){e>this.options.eb.Ck?d=this.options.eb.Ck/this.scale:e<this.options.eb.Dk&&(d=this.options.eb.Dk/this.scale);var f=this.Sa.getCTM(),h=H(this).createSVGPoint();h.x=a;h.y=b;h=h.matrixTransform(f.inverse());a=h.x;b=h.y;f=f.translate(a*(1-d),b*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
function Og(a,b){var d=a.qb();if(a.H){var e=d.jA/2;d=d.iA/2}else e=d.Ka/2+d.zb,d=d.Pa/2+d.Ab;a.zoom(e,d,b)}c.scroll=function(a,b){var d=this.qb();a=Math.min(a,-d.wb);b=Math.min(b,-d.pb);a=Math.max(a,d.Ka-d.wb-d.Xc);b=Math.max(b,d.Pa-d.pb-d.Hc);v.N.ya(!0);this.sb.set(-a-d.wb,-b-d.pb)};function Pg(a){v.i.Ya(a.Sa,"blocklyCanvasTransitioning");v.i.Ya(a.Md,"blocklyCanvasTransitioning")}
function Qg(a){if(a.Sb()){var b=a.qb(),d=(b.Xc-b.Ka)/2,e=(b.Hc-b.Pa)/2;d=-d-b.wb;e=-e-b.pb;a.scroll(d,e)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}
c.setScale=function(a){this.options.eb.Ck&&a>this.options.eb.Ck?a=this.options.eb.Ck:this.options.eb.Dk&&a<this.options.eb.Dk&&(a=this.options.eb.Dk);this.scale=a;v.hc(!1);this.H&&(this.H.eq(),Wg(this));this.$d&&this.$d.update(this.scale);a=this.qb();this.scrollX-=a.zb;this.scrollY-=a.Ab;a.vb+=a.zb;a.Ib+=a.Ab;this.scroll(this.scrollX,this.scrollY);this.sb&&(this.H?(ng(this.sb.Ed,a),og(this.sb.Od,a)):(qg(this.sb.Ed,a),sg(this.sb.Od,a)))};
c.scroll=function(a,b){var d=this.qb(),e=d.Xc+d.wb-d.Ka,f=d.Hc+d.pb-d.Pa;a=Math.min(a,-d.wb);b=Math.min(b,-d.pb);a=Math.max(a,-e);b=Math.max(b,-f);this.scrollX=a;this.scrollY=b;this.sb&&(hg(this.sb.Ed,-(a+d.wb)*this.sb.Ed.lc),hg(this.sb.Od,-(b+d.pb)*this.sb.Od.lc));v.N.ya(!0);a+=d.zb;b+=d.Ab;this.translate(a,b)};function fh(a){var b=0,d=0;a&&(b=a.Lc(),d=a.Ei());return{width:b,height:d}}
function gh(a){var b=Ud(a),d=a.scale;a=b.width*d;var e=b.height*d,f=b.x*d;b=b.y*d;return{left:f,top:b,right:f+a,bottom:b+e,width:a,height:e}}
function Sg(){var a=fh(this.$),b=fh(this.H),d=v.Qu(H(this)),e=d.height,f=d.width;if(this.$)if(this.ra==v.Uc||this.ra==v.$f)e-=a.height;else{if(this.ra==v.kd||this.ra==v.De)f-=a.width}else if(this.H)if(this.ra==v.Uc||this.ra==v.$f)e-=b.height;else if(this.ra==v.kd||this.ra==v.De)f-=b.width;if(ch(this)){var h=gh(this);var k=f,l=e,m=k/2,n=l/2,t=Math.min(h.left-m,h.right-k),w=Math.min(h.top-n,h.bottom-l);h={left:t,top:w,height:Math.max(h.bottom+n,h.top+l)-w,width:Math.max(h.right+m,h.left+k)-t}}else h=
gh(this);k=0;this.$&&this.ra==v.kd?k=a.width:this.H&&this.ra==v.kd&&(k=b.width);l=0;this.$&&this.ra==v.Uc?l=a.height:this.H&&this.ra==v.Uc&&(l=b.height);return{Hc:h.height,Xc:h.width,pb:h.top,wb:h.left,Pa:e,Ka:f,Ib:-this.scrollY,vb:-this.scrollX,Ab:l,zb:k,iA:d.height,jA:d.width,Uu:a.width,Tu:a.height,zB:b.width,yB:b.height,ra:this.ra}}
function Tg(a){var b=this.qb();"number"==typeof a.x&&(this.scrollX=-b.Xc*a.x-b.wb);"number"==typeof a.y&&(this.scrollY=-b.Hc*a.y-b.pb);this.translate(this.scrollX+b.zb,this.scrollY+b.Ab)}c.qc=function(a){var b=!this.iq&&a;this.iq=a;b&&Xd(this)};c.clear=function(){this.qc(!1);Rg.v.clear.call(this);this.qc(!0)};function Fg(a,b,d){if("function"!=typeof d)throw TypeError("Button callbacks must be functions.");a.Jo[b]=d}function hh(a,b){return(a=a.Jo[b])?a:null}
function Ug(a,b,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.Mq[b]=d}c.Ue=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.Ob;return d?b&&d.nh?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:b?this.Ob=new ug(a,this):null};Rg.prototype.setVisible=Rg.prototype.Ba;function ih(a){ih.v.constructor.call(this,null);this.qu=a}u(ih,ye);c=ih.prototype;c.rj=0;c.tl=0;
c.Eo=function(a){v.i.C("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);v.i.C("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
v.i.C("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};c.gp=function(a){Md(this.Z)&&ye.prototype.gp.call(this,a)};
c.Nj=function(){this.bl=v.i.C("svg",{x:me,y:me},null);if(this.qu.length)for(var a=v.B.i.createElement("xml"),b=0,d;d=this.qu[b];b++){var e=v.B.i.createElement("block");e.setAttribute("type",d);a.appendChild(e)}else a=null;a={disable:!1,Cf:this.Z.o.options.Cf,af:a,Tb:this.Z.o,ve:this.Z.o.options.ve,w:this.Z.w,ra:this.Z.w?v.De:v.kd,od:!1,qb:this.by.bind(this),Of:null};this.m=new Rg(a);this.m.Oi=!0;this.m.Vc(v.j.Ix);a=Zg(this.m,"g");b=this.m.ba("blocklyMutatorBackground");b.insertBefore(a,this.m.Sa);
this.bl.appendChild(b);return this.bl};c.Wf=function(){this.Z.yb||(Md(this.Z)?this.bd&&v.i.Fb(this.bd,"blocklyIconGroupReadonly"):(this.Ba(!1),this.bd&&v.i.Ya(this.bd,"blocklyIconGroupReadonly")));ye.prototype.Wf.call(this)};
c.ln=function(){var a=2*me,b=this.m.Sa.getBBox();var d=this.Z.w?-b.x:b.width+b.x;b=b.height+3*a;if(this.m.H){var e=this.m.H.If();b=Math.max(b,e.Hc+20)}d+=3*a;if(Math.abs(this.rj-d)>a||Math.abs(this.tl-b)>a)this.rj=d,this.tl=b,this.fb.Ng(d+a,b+a),this.bl.setAttribute("width",this.rj),this.bl.setAttribute("height",this.tl);this.Z.w&&this.m.Sa.setAttribute("transform","translate("+this.rj+",0)");this.m.resize()};
c.Ba=function(a){if(a!=this.isVisible())if(v.j.Y(new qd(this.Z,"mutatorOpen",!a,a)),a){this.fb=new je(this.Z.o,this.Nj(),this.Z.zc,this.rh,null,null);se(this.fb,this.Z.id);if(a=this.m.options.af)this.m.H.O(this.m),this.m.H.show(a.childNodes);this.Nf=this.Z.Ke(this.m);a=Yc(this.Nf,!1);for(var b=0,d;d=a[b];b++)d.ca();this.Nf.Nh(!1);this.Nf.rq(!1);this.m.H?(a=2*this.m.H.wa,b=$g(this.m).Lc()+a):b=a=16;this.Z.w&&(b=-b);this.Nf.moveBy(b,a);if(this.Z.Tk){var e=this;this.Z.Tk(this.Nf);this.qn=function(){e.Z.Tk(e.Nf)};
this.Z.o.Vc(this.qn)}this.ln();this.m.Vc(this.BA.bind(this));this.Vf()}else this.bl=null,this.m.D(),this.Nf=this.m=null,this.fb.D(),this.fb=null,this.tl=this.rj=0,this.qn&&(this.Z.o.Ig(this.qn),this.qn=null)};
c.BA=function(a){if(a.type!=v.j.Hl&&(a.type!=v.j.Xg||"disabled"!=a.element)){if(!this.m.Rb()){a=Ld(this.m,!1);for(var b=0,d;d=a[b];b++){var e=d.va(),f=d.Db();20>e.y+f.height&&d.moveBy(0,20-f.height-e.y)}}if(this.Nf.o==this.m){v.j.T(!0);d=this.Z;a=(a=d.za())&&v.B.md(a);b=d.U;d.U=!1;d.Je(this.Nf);d.U=b;d.ic();b=(b=d.za())&&v.B.md(b);if(a!=b){v.j.Y(new v.j.jd(d,"mutation",null,a,b));var h=v.j.Qb();setTimeout(function(){v.j.T(h);d.ob();v.j.T(!1)},v.xl)}d.U&&d.ca();this.m.Rb()||this.ln();v.j.T(!1)}}};
c.by=function(){return{Pa:this.tl,Ka:this.rj-$g(this.m).Lc(),Ab:0,zb:this.m.w?0:$g(this.m).Lc()}};c.D=function(){this.Z.ed=null;ye.prototype.D.call(this)};function jh(a,b,d){if(!a||!a.u.o)return!1;d=F(b,d).connection;var e=E(a);return e&&e!=b||d.V==a?!1:(d.isConnected()&&d.disconnect(),d.connect(a),!0)}function kh(a){var b=null;if(a&&a.options){var d=a.options.Tb;a.ae?d&&d.options&&(b=d.options.Tb):d&&(b=d)}return b}g.Blockly||(g.Blockly={});g.Blockly.Mutator||(g.Blockly.Mutator={});
g.Blockly.Mutator.reconnect=jh;v.S={};v.S.Bn={};v.S.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(v.S.Bn[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');v.S.Bn[a]=b};v.S.hn=function(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');v.S.register(a,function(){lh(this,b)})};
v.S.Qk=function(a,b,d,e){var f='Error when registering mutator "'+a+'": ';v.S.Jr(f,b.Qa,"domToMutation");v.S.Jr(f,b.za,"mutationToDom");var h=v.S.Lr(b,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');v.S.register(a,function(){h&&this.ij(new ih(e));lh(this,b);d&&d.apply(this)})};
v.S.apply=function(a,b,d){var e=v.S.Bn[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)v.S.bx(a,b);else var f=v.S.Uo(b);e.apply(b);if(d)v.S.$w('Error after applying mutator "'+a+'": ',b);else if(!v.S.gz(f,b))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
v.S.Jr=function(a,b,d){if(!b)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof b)throw Error(a+'" required property "'+d+'" must be a function');};v.S.bx=function(a,b){if(v.S.Uo(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);};
v.S.Lr=function(a,b){var d=void 0!==a.Je,e=void 0!==a.Ke;if(d&&e){if("function"!=typeof a.Je)throw Error(b+"compose must be a function.");if("function"!=typeof a.Ke)throw Error(b+"decompose must be a function.");return!0}if(d||e)throw Error(b+'Must have both or neither of "compose" and "decompose"');return!1};
v.S.$w=function(a,b){if("function"!=typeof b.Qa)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.za)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');v.S.Lr(b,a)};v.S.Uo=function(a){var b=[];void 0!==a.Qa&&b.push(a.Qa);void 0!==a.za&&b.push(a.za);void 0!==a.Je&&b.push(a.Je);void 0!==a.Ke&&b.push(a.Ke);return b};v.S.gz=function(a,b){b=v.S.Uo(b);if(b.length!=a.length)return!1;for(var d=0;d<b.length;d++)if(a[d]!=b[d])return!1;return!0};
v.S.Ll=function(a,b){var d=[];"object"==typeof document&&v.i.Au(function(){for(var e in b)v.i.Kr(b[e])});return function(){this.type&&-1===d.indexOf(this.type)&&(v.S.ax(this,a,b),d.push(this.type));this.Aa(function(){var e=C(this,a),f=b[e];null==f?-1===d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=v.i.oc(f);return f}.bind(this))}};
v.S.ax=function(a,b,d){var e=D(a,b);if("function"!=typeof e.zh){e=e.getOptions();for(var f=0;f<e.length;++f){var h=e[f][1];null==d[h]&&console.warn("No tooltip mapping for value "+h+" of field "+b+" of block type "+a.type)}}};v.S.Ml=function(a){"object"==typeof document&&v.i.Au(function(){v.i.Kr(a)});return function(){this.Aa(function(){var b=D(this,"VAR");return v.i.oc(a).replace("%1",b?b.Eb():"")}.bind(this))}};
v.S.Rx=function(){this.tA=this.ud;this.Aa(function(){var a=this.getParent();return a&&mh(a)&&a.ud||this.tA}.bind(this))};v.S.register("parent_tooltip_when_inline",v.S.Rx);function nh(a,b){var d=Fc(a);return d.defaultView&&d.defaultView.getComputedStyle&&(a=d.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function oh(a,b){return nh(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function Xc(){var a=document,b=a.body;a=a.documentElement;return new A(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)}
function ph(a){try{var b=a.getBoundingClientRect()}catch(d){return{left:0,top:0,right:0,bottom:0}}x&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}function qh(a){var b=Fc(a),d=new A(0,0);var e=b?Fc(b):document;e=!x||9<=Number(uc)||"CSS1Compat"==Dc(e).Me.compatMode?e.documentElement:e.body;if(a==e)return d;a=ph(a);b=Jc(Dc(b).Me);d.x=a.left+b.x;d.y=a.top+b.y;return d}
function rh(a){"number"==typeof a&&(a+="px");return a}function sh(a){var b=th;if("none"!=oh(a,"display"))return b(a);var d=a.style,e=d.display,f=d.visibility,h=d.position;d.visibility="hidden";d.position="absolute";d.display="inline";a=b(a);d.display=e;d.position=h;d.visibility=f;return a}function th(a){var b=a.offsetWidth,d=a.offsetHeight,e=z&&!b&&!d;return(void 0===b||e)&&a.getBoundingClientRect?(a=ph(a),new Cc(a.right-a.left,a.bottom-a.top)):new Cc(b,d)}
function uh(a,b){a.style.display=b?"":"none"}var vh=ic?"MozUserSelect":z||hc?"WebkitUserSelect":null;function wh(a,b,d){d=d?null:a.getElementsByTagName("*");if(vh){if(b=b?"none":"",a.style&&(a.style[vh]=b),d){a=0;for(var e;e=d[a];a++)e.style&&(e.style[vh]=b)}}else if(x||gc)if(b=b?"on":"",a.setAttribute("unselectable",b),d)for(a=0;e=d[a];a++)e.setAttribute("unselectable",b)}var xh={thin:2,medium:4,thick:6};
function yh(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var d=a.currentStyle?a.currentStyle[b+"Width"]:null;if(d in xh)a=xh[d];else if(/^\d+px?$/.test(d))a=parseInt(d,10);else{b=a.style.left;var e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=d;d=a.style.pixelLeft;a.style.left=b;a.runtimeStyle.left=e;a=+d}return a};function zh(a,b){this.cc=new Cc(0,25);this.setValue(a);this.Zh=b}var Ah={};function Bh(a,b){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'"');if(!b||"function"!=typeof b.ma)throw Error('Field "'+b+'" must have a fromJson function');Ah[a]=b}var Ch=null,Dh=0;c=zh.prototype;c.name=void 0;c.Ht=50;c.qa="";c.u=null;c.op=!0;c.mb=!0;c.Zh=null;c.eo=null;c.Yf=!0;c.uf=!1;c.yq=function(a){if(this.u)throw Error("Field already bound to a block.");this.u=a};
c.O=function(){this.jb||(this.jb=v.i.C("g",{},null),this.mb||(this.jb.style.display="none"),this.Wc=v.i.C("rect",{rx:4,ry:4,x:-5,y:0,height:16},this.jb),this.Ma=v.i.C("text",{"class":"blocklyText",y:this.cc.height-12.5},this.jb),this.Wf(),this.eo=this.X(),this.u.X().appendChild(this.jb),this.Um=v.W(this.eo,"mousedown",this,this.Fg))};c.sh=function(){};c.Qs=function(a){this.setValue(a.textContent)};c.hl=function(a){a.setAttribute("name",this.name);a.textContent=this.getValue();return a};
c.D=function(){this.Um&&(v.Ta(this.Um),this.Um=null);this.u=null;this.jb&&(v.i.removeNode(this.jb),this.jb=null);this.Zh=this.Wc=this.Ma=null};c.Wf=function(){var a=this.eo||this.X();this.Yf&&a&&(Md(this.u)?(v.i.Ya(a,"blocklyEditableText"),v.i.Fb(a,"blocklyNonEditableText"),a.style.cursor=this.Cl):(v.i.Ya(a,"blocklyNonEditableText"),v.i.Fb(a,"blocklyEditableText"),a.style.cursor=""))};function $f(a){return a.Yf&&!!a.u&&Md(a.u)}c.isVisible=function(){return this.mb};
c.Ba=function(a){if(this.mb!=a){this.mb=a;var b=this.X();b&&(b.style.display=a?"block":"none",this.cc.width=0)}};function Eh(a,b){a.Zh=b}c.co=function(a){return a};function Gd(a,b){var d=a.co(b);if(null===d)return null;void 0!==d&&(b=d);if(d=a.Zh){a=d.call(a,b);if(null===a)return null;void 0!==a&&(b=a)}return b}c.X=function(){return this.jb};c.Kg=function(){this.Ma.textContent=Fh(this);this.qj();this.op=!1};
c.qj=function(){var a=Gh(this.Ma);this.Wc&&this.Wc.setAttribute("width",a+10);this.cc.width=a};function Gh(a){var b=a.textContent+"\n"+a.className.baseVal,d;if(Ch&&(d=Ch[b]))return d;try{d=x||hc?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}Ch&&(Ch[b]=d);return d}function Od(){Dh++;Ch||(Ch={})}function Td(){Dh--;Dh||(Ch=null)}
c.ck=function(){this.op?this.Kg():this.mb&&0==this.cc.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Kg());return this.cc};function Hh(a){var b=a.Wc.getBBox(),d=b.height*a.u.o.scale;b=b.width*a.u.o.scale;a=qh(a.Wc);return{top:a.y,bottom:a.y+d,left:a.x,right:a.x+b}}
function Fh(a){var b=a.qa;if(!b)return"\u00a0";b.length>a.Ht&&(b=b.substring(0,a.Ht-2)+"\u2026");b=b.replace(/\s/g,"\u00a0");a.u.w&&(b+="\u200f");return b}c.Eb=function(){return this.qa};c.Gb=function(a){null!==a&&(a=String(a),a!==this.qa&&(this.qa=a,this.Wj()))};c.Wj=function(){this.op=!0;this.u&&this.u.U&&(this.u.ca(),this.u.ob())};c.getValue=function(){return this.Eb()};
c.setValue=function(a){if(null!==a){var b=Gd(this,a);null!==b&&(a=b);b=this.getValue();b!=a&&(this.u&&v.j.isEnabled()&&v.j.Y(new v.j.jd(this.u,"field",this.name,b,a)),this.Gb(a))}};c.Fg=function(a){if(this.u&&this.u.o&&(a=this.u.o.Ue(a))){if(a.nh)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.Sh||(a.Sh=this)}};c.Aa=function(){};c.Pk=function(){return!1};
c.Ve=function(){for(var a=null,b=this.u,d=b.L,e=0;e<b.L.length;e++)for(var f=d[e],h=f.oa,k=0;k<h.length;k++)if(h[k]===this){a=f;break}return a};function Ih(a,b){this.cc=new Cc(0,17.5);this.Or=b;this.setValue(a);this.Xh=""}u(Ih,zh);Ih.ma=function(a){var b=v.i.oc(a.text);return new Ih(b,a["class"])};c=Ih.prototype;c.Yf=!1;c.O=function(){this.Ma||(this.Ma=v.i.C("text",{"class":"blocklyText","aria-hidden":!0,y:this.cc.height-5},null),this.Or&&v.i.Ya(this.Ma,this.Or),this.mb||(this.Ma.style.display="none"),this.u.X().appendChild(this.Ma),this.Ma.ud=this.Xh?this.Xh:this.u,v.F.ah(this.Ma))};
c.D=function(){this.Ma&&(v.i.removeNode(this.Ma),this.Ma=null)};c.X=function(){return this.Ma};c.Aa=function(a){this.Xh=a;this.Ma&&(this.Ma.ud=a)};Bh("field_label",Ih);function Jh(a,b,d,e){if(a!=v.pf&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.u=d;this.connection=e;this.oa=[]}c=Jh.prototype;c.align=v.tj;c.mb=!0;function J(a,b,d){Kh(a,a.oa.length,b,d);return a}
function Kh(a,b,d,e){if(0>b||b>a.oa.length)throw Error("index "+b+" out of bounds.");if(!d&&!e)return b;"string"==typeof d&&(d=new Ih(d));d.yq(a.u);a.u.U&&d.O();d.name=e;d.Xp&&(b=Kh(a,b,d.Xp));a.oa.splice(b,0,d);++b;d.Kq&&(b=Kh(a,b,d.Kq));a.u.U&&(a.u.ca(),a.u.ob());return b}c.isVisible=function(){return this.mb};
c.Ba=function(a){var b=[];if(this.mb==a)return b;for(var d=(this.mb=a)?"block":"none",e=0,f;f=this.oa[e];e++)f.Ba(a);this.connection&&(a?b=lf(this.connection):nf(this.connection),e=E(this.connection))&&(e.X().style.display=d,a||(e.U=!1));return b};c.ga=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.ga(a);return this};function Lh(a,b){a.align=b;a.u.U&&a.u.ca();return a}c.O=function(){if(this.u.o.U)for(var a=0;a<this.oa.length;a++)this.oa[a].O()};
c.D=function(){for(var a=0,b;b=this.oa[a];a++)b.D();this.connection&&this.connection.D();this.u=null};function Ce(a){Ce.v.constructor.call(this,a);ze(this);this.qa={}}u(Ce,ye);c=Ce.prototype;c.Rr=!1;c.Eo=function(a){v.i.C("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);v.i.C("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);v.i.C("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
c.Ba=function(a){if(a!=this.isVisible())if(v.j.Y(new qd(this.Z,"warningOpen",!a,a)),a){var b=this.Eb();a=v.i.C("text",{"class":"blocklyText blocklyBubbleText",y:me},null);b=b.split("\n");for(var d=0;d<b.length;d++)v.i.C("tspan",{dy:"1em",x:me},a).appendChild(document.createTextNode(b[d]));this.fb=new je(this.Z.o,a,this.Z.zc,this.rh,null,null);se(this.fb,this.Z.id);if(this.Z.w){b=a.getBBox().width;d=0;for(var e;e=a.childNodes[d];d++)e.setAttribute("text-anchor","end"),e.setAttribute("x",b+me)}this.Vf();
a=this.fb.jh();this.fb.Ng(a.width,a.height)}else this.fb.D(),this.fb=null};c.Gb=function(a,b){this.qa[b]!=a&&(a?this.qa[b]=a:delete this.qa[b],this.isVisible()&&(this.Ba(!1),this.Ba(!0)))};c.Eb=function(){var a=[],b;for(b in this.qa)a.push(this.qa[b]);return a.join("\n")};c.D=function(){this.Z.Dc=null;ye.prototype.D.call(this)};function ee(a,b,d){if("undefined"!==typeof Mh.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=d&&!vd(a,d)?d:v.i.Re();a.Yn[this.id]=this;this.R=this.J=this.M=null;this.L=[];this.vg=void 0;this.disabled=!1;this.ud="";this.contextMenu=!0;this.ue=null;this.xf=[];this.Ks=this.Fk=this.Qj=!0;this.Af=this.Oa=!1;this.cb=null;this.Pd=new A(0,0);this.o=a;this.yb=a.ae;this.w=a.w;this.re=!1;this.oh=void 0;if(b){this.type=b;d=v.I[b];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+
b);for(var e in d)this[e]=d[e]}a.lj.push(this);a.Uf[this.type]||(a.Uf[this.type]=[]);a.Uf[this.type].push(this);"function"==typeof this.O&&this.O();this.My=this.vg;if(v.j.isEnabled()){(a=v.j.Qb())||v.j.T(!0);try{v.j.Y(new v.j.yl(this))}finally{a||v.j.T(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.Ik&&this.o.Ig(this.Ik);if(this.onchange=a)this.Ik=a.bind(this),this.o.Vc(this.Ik)}}c=ee.prototype;c.data=null;
c.Ud="#000000";c.Sr=null;c.Tr=null;c.$k=null;
c.D=function(a){if(this.o){this.Ik&&this.o.Ig(this.Ik);Id(this,a);v.j.isEnabled()&&v.j.Y(new v.j.Tq(this));v.j.disable();try{if(this.o){de(this.o,this);var b=this.o;b.Uf[this.type].splice(b.Uf[this.type].indexOf(this),1);b.Uf[this.type].length||delete b.Uf[this.type];delete this.o.Yn[this.id];this.o=null}v.selected==this&&(v.selected=null);for(var d=this.xf.length-1;0<=d;d--)this.xf[d].D(!1);d=0;for(var e;e=this.L[d];d++)e.D();this.L.length=0;var f=this.Yd(!0);for(d=0;d<f.length;d++){var h=f[d];h.isConnected()&&
h.disconnect();f[d].D()}}finally{v.j.enable()}}};c.sh=function(){for(var a=0,b;b=this.L[a];a++)for(var d=0,e;e=b.oa[d];d++)e.sh&&e.sh()};
function Id(a,b){if(a.M){var d=null;a.M.isConnected()&&(d=a.M.V,a.M.disconnect());if(d&&b){a:{b=null;for(var e=0;e<a.L.length;e++){var f=a.L[e].connection;if(f&&f.type==v.Fa&&f.V){if(b){a=null;break a}b=f}}a=b}a&&a.isConnected()&&!E(a).Oa&&(a=a.V,Fe(a,d)&&(a.disconnect(),d.connect(a)))}}else a.R&&(d=null,a.R.isConnected()&&(d=a.R.V,a.R.disconnect()),e=Zc(a),b&&e&&!e.Oa&&(a=a.J.V,a.disconnect(),d&&Fe(d,a)&&d.connect(a)))}
c.Yd=function(){var a=[];this.M&&a.push(this.M);this.R&&a.push(this.R);this.J&&a.push(this.J);for(var b=0,d;d=this.L[b];b++)d.connection&&a.push(d.connection);return a};c.ob=function(){console.warn("Not expected to reach Block.bumpNeighbours_ function. BlockSvg.bumpNeighbours_ was expected to be called instead.")};c.getParent=function(){return this.ue};function Nh(a){do{var b=a;a=a.getParent();if(!a)return null}while(Zc(a)==b);return a}function Zc(a){return a.J&&E(a.J)}
function ff(a){var b=a;do a=b,b=a.ue;while(b);return a}c.Hf=function(a){if(!a)return this.xf;a=[];for(var b=0,d;d=this.L[b];b++)d.connection&&(d=E(d.connection))&&a.push(d);(b=Zc(this))&&a.push(b);return a};c.Oh=function(a){if(a!=this.ue){if(this.ue){v.i.Ej(this.ue.xf,this);if(this.R&&this.R.isConnected())throw Error("Still connected to previous block.");if(this.M&&this.M.isConnected())throw Error("Still connected to parent block.");this.ue=null}else de(this.o,this);(this.ue=a)?a.xf.push(this):this.o.lj.push(this)}};
function Yc(a,b){var d=[a];a=a.Hf(b);for(var e,f=0;e=a[f];f++)d.push.apply(d,Yc(e,b));return d}c.wc=function(){return this.Qj&&!this.Oa&&!(this.o&&this.o.options.readOnly)};c.rq=function(a){this.Qj=a};c.Sb=function(){return this.Fk&&!this.Oa&&!(this.o&&this.o.options.readOnly)};c.Nh=function(a){this.Fk=a};c.xq=function(a){this.Oa=a};c.Fu=function(a){this.re=a};function Md(a){return a.Ks&&!(a.o&&a.o.options.readOnly)}c.tq=function(a){this.Ks=a;a=0;for(var b;b=this.L[a];a++)for(var d=0,e;e=b.oa[d];d++)e.Wf()};
function Vd(a,b){if(!b&&a.isCollapsed()){if(a.M&&mf(a.M,b),a.R&&mf(a.R,b),a.J){mf(a.J,b);var d=E(a.J);d&&Vd(d,b)}}else{a=a.Yd(!0);for(var e=0;d=a[e];e++)mf(d,b),Je(d)&&(d=E(d))&&Vd(d,b)}}c.Aa=function(a){this.ud=a};c.fe=function(a){var b="string"==typeof a?v.i.oc(a):a,d=Number(b);if(!isNaN(d)&&0<=d&&360>=d)this.Ud=v.kt(d);else if("string"==typeof b&&/^#[0-9a-fA-F]{6}$/.test(b))this.Ud=b;else throw d='Invalid colour: "'+b+'"',a!=b&&(d+=' (from "'+a+'")'),Error(d);};
function L(a,b){var d=v.dl;if(d)if(d=d.Tw[b],a.$k=b,d)a.Sr=d.colourSecondary,a.Tr=d.colourTertiary,a.oh=d.oh,a.fe(d.colourPrimary);else throw Error("Invalid style name: "+b);}function D(a,b){for(var d=0,e;e=a.L[d];d++)for(var f=0,h;h=e.oa[f];f++)if(h.name===b)return h;return null}c.Yo=function(){for(var a=[],b=0,d;d=this.L[b];b++)for(var e=0,f;f=d.oa[e];e++)f.Pk()&&a.push(f.getValue());return a};
c.Kf=function(){for(var a=[],b=0,d;d=this.L[b];b++)for(var e=0,f;f=d.oa[e];e++)f.Pk()&&(f=this.o.oe(f.getValue()))&&a.push(f);return a};c.wn=function(a){for(var b=0,d;d=this.L[b];b++)for(var e=0,f;f=d.oa[e];e++)f.Pk()&&a.ea()==f.getValue()&&f.Gb(a.name)};c.Sk=function(a,b){for(var d=0,e;e=this.L[d];d++)for(var f=0,h;h=e.oa[f];f++)h.Pk()&&a==h.getValue()&&h.setValue(b)};function C(a,b){return(a=D(a,b))?a.getValue():null}
function Ed(a,b,d){a=D(a,d);if(!a)throw Error('Field "'+d+'" not found.');a.setValue(b)}c.sd=function(a,b){if(a){void 0===b&&(b=null);if(!this.R){if(this.M)throw Error("Remove output connection prior to adding previous connection.");this.R=this.Ak(v.ke)}this.R.ga(b)}else if(this.R){if(this.R.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.R.D();this.R=null}};
c.rd=function(a,b){if(a)void 0===b&&(b=null),this.J||(this.J=this.Ak(v.Ga)),this.J.ga(b);else if(this.J){if(this.J.isConnected())throw Error("Must disconnect next statement before removing connection.");this.J.D();this.J=null}};
c.yc=function(a,b){if(a){void 0===b&&(b=null);if(!this.M){if(this.R)throw Error("Remove previous connection prior to adding output connection.");this.M=this.Ak(v.je)}this.M.ga(b)}else if(this.M){if(this.M.isConnected())throw Error("Must disconnect output value before removing connection.");this.M.D();this.M=null}};c.Id=function(a){this.vg!=a&&(v.j.Y(new v.j.jd(this,"inline",null,this.vg,a)),this.vg=a)};
function mh(a){if(void 0!=a.vg)return a.vg;for(var b=1;b<a.L.length;b++)if(a.L[b-1].type==v.pf&&a.L[b].type==v.pf)return!1;for(b=1;b<a.L.length;b++)if(a.L[b-1].type==v.Fa&&a.L[b].type==v.pf)return!0;return!1}c.isEnabled=function(){return!this.disabled};c.Ub=function(a){this.isEnabled()!=a&&(v.j.Y(new v.j.jd(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Oh(a){for(a=Nh(a);a;){if(a.disabled)return!0;a=Nh(a)}return!1}c.isCollapsed=function(){return this.Af};
c.Og=function(a){this.Af!=a&&(v.j.Y(new v.j.jd(this,"collapsed",null,this.Af,a)),this.Af=a)};c.toString=function(a,b){var d=[],e=b||"?";if(this.Af)d.push(F(this,"_TEMP_COLLAPSED_INPUT").oa[0].qa);else for(var f=0,h;h=this.L[f];f++){for(var k=0,l;l=h.oa[k];k++)l instanceof M&&!l.getValue()?d.push(e):d.push(l.Eb());h.connection&&((h=E(h.connection))?d.push(h.toString(void 0,b)):d.push(e))}d=d.join(" ").trim()||"???";a&&d.length>a&&(d=d.substring(0,a-3)+"...");return d};
function N(a,b){return a.Fe(v.Fa,b)}function O(a,b){return a.Fe(v.pf,b||"")}
function Ph(a,b){var d=b.type?'Block "'+b.type+'": ':"";if(b.output&&b.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");b.style&&b.style.oh&&(a.oh=b.style.oh,b.style=null);if(b.style&&b.colour)throw Error(d+"Must not have both a colour and a style.");if(b.style){var e=b.style;try{L(a,e)}catch(q){console.warn(d+"Style does not exist: ",e)}}else if("colour"in b)if(void 0===b.colour)console.warn(d+"Undefined colour value.");else{e=b.colour;try{a.fe(e)}catch(q){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==b["message"+e];){for(var f=a,h=b["args"+e]||[],k=b["lastDummyAlign"+e],l=v.i.qA(b["message"+e]),m=[],n=0,t=[],w=0;w<l.length;w++){var r=l[w];if("number"==typeof r){if(0>=r||r>h.length)throw Error('Block "'+f.type+'": Message index %'+r+" out of range.");if(m[r])throw Error('Block "'+f.type+'": Message index %'+r+" duplicated.");m[r]=!0;n++;t.push(h[r-1])}else(r=r.trim())&&t.push(r)}if(n!=h.length)throw Error('Block "'+f.type+'": Message does not reference all '+
h.length+" arg(s).");t.length&&("string"==typeof t[t.length-1]||v.i.startsWith(t[t.length-1].type,"field_"))&&(w={type:"input_dummy"},k&&(w.align=k),t.push(w));k={LEFT:v.tj,RIGHT:v.ec,CENTRE:v.ul};h=[];for(w=0;w<t.length;w++)if(m=t[w],"string"==typeof m)h.push([m,void 0]);else{l=r=null;do if(n=!1,"string"==typeof m)r=new Ih(m);else switch(m.type){case "input_value":l=N(f,m.name);break;case "input_statement":l=f.Fe(v.Ga,m.name);break;case "input_dummy":l=O(f,m.name);break;default:r=(r=Ah[m.type])?
r.ma(m):null,r||(m.alt?(m=m.alt,n=!0):console.warn("Blockly could not create a field of type "+m.type+". You may need to register your custom field.  See github.com/google/blockly/issues/1584"))}while(n);if(r)h.push([r,m.name]);else if(l){m.check&&l.ga(m.check);m.align&&Lh(l,k[m.align]);for(m=0;m<h.length;m++)J(l,h[m][0],h[m][1]);h.length=0}}e++}void 0!==b.inputsInline&&a.Id(b.inputsInline);void 0!==b.output&&a.yc(!0,b.output);void 0!==b.previousStatement&&a.sd(!0,b.previousStatement);void 0!==b.nextStatement&&
a.rd(!0,b.nextStatement);void 0!==b.tooltip&&(e=b.tooltip,e=v.i.oc(e),a.Aa(e));void 0!==b.enableContextMenu&&(e=b.enableContextMenu,a.contextMenu=!!e);void 0!==b.helpUrl&&(e=b.helpUrl,e=v.i.oc(e),a.xb=e);"string"==typeof b.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+b.type+"' block."),b.extensions=[b.extensions]);void 0!==b.mutator&&v.S.apply(b.mutator,a,!0);if(Array.isArray(b.extensions))for(b=b.extensions,d=0;d<b.length;++d)v.S.apply(b[d],
a,!1)}function lh(a,b){var d=[],e;for(e in b)void 0!==a[e]&&d.push(e);if(d.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(d));for(var f in b)a[f]=b[f]}c.Fe=function(a,b){var d=null;if(a==v.Fa||a==v.Ga)d=this.Ak(a);a=new Jh(a,b,this,d);this.L.push(a);return a};
function Qh(a,b,d){if(b!=d){for(var e=-1,f=d?-1:a.L.length,h=0,k;k=a.L[h];h++)if(k.name==b){if(e=h,-1!=f)break}else if(d&&k.name==d&&(f=h,-1!=e))break;if(-1==e)throw Error('Named input "'+b+'" not found.');if(-1==f)throw Error('Reference input "'+d+'" not found.');a.Ep(e,f)}}
c.Ep=function(a,b){if(a==b)throw Error("Can't move input to itself.");if(a>=this.L.length)throw RangeError("Input index "+a+" out of bounds.");if(b>this.L.length)throw RangeError("Reference input "+b+" out of bounds.");var d=this.L[a];this.L.splice(a,1);a<b&&b--;this.L.splice(b,0,d)};
c.Va=function(a,b){for(var d=0,e;e=this.L[d];d++)if(e.name==a){e.connection&&e.connection.isConnected()&&(e.connection.ye=null,a=E(e.connection),a.Oa?a.D():Id(a));e.D();this.L.splice(d,1);return}if(!b)throw Error("Input not found: "+a);};function F(a,b){for(var d=0,e;e=a.L[d];d++)if(e.name==b)return e;return null}function Rh(a,b){return(a=F(a,b))&&a.connection&&E(a.connection)}c.qm=function(){return this.cb||""};
c.Lh=function(a){this.cb!=a&&(v.j.Y(new v.j.jd(this,"comment",null,this.cb,a||"")),this.cb=a)};c.Qf=function(){};c.ij=function(){};c.va=function(){return this.Pd};c.moveBy=function(a,b){if(this.ue)throw Error("Block has parent.");var d=new v.j.ei(this);this.Pd.translate(a,b);d.df();v.j.Y(d)};c.Ak=function(a){return new De(this,a)};function Me(a){var b=a.type?'"'+a.type+'" block':"Block";a.id&&(b+=' (id="'+a.id+'")');return b};v.i.oj={};v.i.oj.ck=function(a){a=a.K();var b=sh(a);b.height=a.scrollHeight;return b};v.i.oj.xr=function(a,b,d){b.left+=d.width;b.right+=d.width;a.left+=d.width;a.right+=d.width};function Sh(){0!=Th&&(Uh[wa(this)]=this);this.Df=this.Df;this.Lf=this.Lf}var Th=0,Uh={};Sh.prototype.Df=!1;Sh.prototype.D=function(){if(!this.Df&&(this.Df=!0,this.Zb(),0!=Th)){var a=wa(this);if(0!=Th&&this.Lf&&0<this.Lf.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Uh[a]}};function Vh(a,b){a.Df?b():(a.Lf||(a.Lf=[]),a.Lf.push(b))}Sh.prototype.Zb=function(){if(this.Lf)for(;this.Lf.length;)this.Lf.shift()()};
function Wh(a){a&&"function"==typeof a.D&&a.D()};function Xh(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Hh=!1;this.zu=!0}Xh.prototype.stopPropagation=function(){this.Hh=!0};Xh.prototype.preventDefault=function(){this.defaultPrevented=!0;this.zu=!1};var Yh={ki:ed?"pointerdown":fd?"MSPointerDown":"mousedown",li:ed?"pointerup":fd?"MSPointerUp":"mouseup",ji:ed?"pointercancel":fd?"MSPointerCancel":"mousecancel",cw:ed?"pointermove":fd?"MSPointerMove":"mousemove",ew:ed?"pointerover":fd?"MSPointerOver":"mouseover",dw:ed?"pointerout":fd?"MSPointerOut":"mouseout",aw:ed?"pointerenter":fd?"MSPointerEnter":"mouseenter",bw:ed?"pointerleave":fd?"MSPointerLeave":"mouseleave"},Zh={ki:"mousedown",li:"mouseup",ji:"mousecancel",cw:"mousemove",ew:"mouseover",dw:"mouseout",
aw:"mouseenter",bw:"mouseleave"};function $h(a,b){Xh.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Wp=!1;this.pointerId=0;this.pointerType="";this.Oe=null;a&&this.O(a,b)}u($h,Xh);var ai=[1,4,2],bi={2:"touch",3:"pen",4:"mouse"};
$h.prototype.O=function(a,b){var d=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(ic){a:{try{dc(b.nodeName);var f=!0;break a}catch(h){}f=!1}f||(b=null)}}else"mouseover"==d?b=a.fromElement:"mouseout"==d&&(b=a.toElement);this.relatedTarget=b;e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=
e.screenY||0):(this.offsetX=z||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=z||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==d?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Wp=kc?a.metaKey:
a.ctrlKey;this.pointerId=a.pointerId||0;this.pointerType=p(a.pointerType)?a.pointerType:bi[a.pointerType]||"";this.state=a.state;this.Oe=a;a.defaultPrevented&&this.preventDefault()};function ci(a){return ad?0==a.Oe.button:"click"==a.type?!0:!!(a.Oe.button&ai[0])}$h.prototype.stopPropagation=function(){$h.v.stopPropagation.call(this);this.Oe.stopPropagation?this.Oe.stopPropagation():this.Oe.cancelBubble=!0};
$h.prototype.preventDefault=function(){$h.v.preventDefault.call(this);var a=this.Oe;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,cd)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var di="closure_listenable_"+(1E6*Math.random()|0);function ei(a){return!(!a||!a[di])}var fi=0;function gi(a,b,d,e,f){this.listener=a;this.proxy=null;this.src=b;this.type=d;this.capture=!!e;this.Cm=f;this.key=++fi;this.fj=this.Nl=!1}function hi(a){a.fj=!0;a.listener=null;a.proxy=null;a.src=null;a.Cm=null};function ii(a){this.src=a;this.cd={};this.ll=0}ii.prototype.add=function(a,b,d,e,f){var h=a.toString();a=this.cd[h];a||(a=this.cd[h]=[],this.ll++);var k=ji(a,b,e,f);-1<k?(b=a[k],d||(b.Nl=!1)):(b=new gi(b,this.src,h,!!e,f),b.Nl=d,a.push(b));return b};ii.prototype.remove=function(a,b,d,e){a=a.toString();if(!(a in this.cd))return!1;var f=this.cd[a];b=ji(f,b,d,e);return-1<b?(hi(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete this.cd[a],this.ll--),!0):!1};
function ki(a,b){var d=b.type;d in a.cd&&Ma(a.cd[d],b)&&(hi(b),0==a.cd[d].length&&(delete a.cd[d],a.ll--))}ii.prototype.removeAll=function(a){a=a&&a.toString();var b=0,d;for(d in this.cd)if(!a||d==a){for(var e=this.cd[d],f=0;f<e.length;f++)++b,hi(e[f]);delete this.cd[d];this.ll--}return b};ii.prototype.ak=function(a,b,d,e){a=this.cd[a.toString()];var f=-1;a&&(f=ji(a,b,d,e));return-1<f?a[f]:null};
function ji(a,b,d,e){for(var f=0;f<a.length;++f){var h=a[f];if(!h.fj&&h.listener==b&&h.capture==!!d&&h.Cm==e)return f}return-1};var li="closure_lm_"+(1E6*Math.random()|0),mi={},ni=0;function oi(a,b,d,e,f){if(e&&e.once)return pi(a,b,d,e,f);if(sa(b)){for(var h=0;h<b.length;h++)oi(a,b[h],d,e,f);return null}d=qi(d);return ei(a)?a.Ja(b,d,va(e)?!!e.capture:!!e,f):ri(a,b,d,!1,e,f)}
function ri(a,b,d,e,f,h){if(!b)throw Error("Invalid event type");var k=va(f)?!!f.capture:!!f,l=si(a);l||(a[li]=l=new ii(a));d=l.add(b,d,e,k,h);if(d.proxy)return d;e=ti();d.proxy=e;e.src=a;e.listener=d;if(a.addEventListener)gd||(f=k),void 0===f&&(f=!1),a.addEventListener(b.toString(),e,f);else if(a.attachEvent)a.attachEvent(ui(b.toString()),e);else if(a.addListener&&a.removeListener)a.addListener(e);else throw Error("addEventListener and attachEvent are unavailable.");ni++;return d}
function ti(){var a=vi,b=bd?function(d){return a.call(b.src,b.listener,d)}:function(d){d=a.call(b.src,b.listener,d);if(!d)return d};return b}function pi(a,b,d,e,f){if(sa(b)){for(var h=0;h<b.length;h++)pi(a,b[h],d,e,f);return null}d=qi(d);return ei(a)?a.Et(b,d,va(e)?!!e.capture:!!e,f):ri(a,b,d,!0,e,f)}function wi(a,b,d,e,f){if(sa(b))for(var h=0;h<b.length;h++)wi(a,b[h],d,e,f);else e=va(e)?!!e.capture:!!e,d=qi(d),ei(a)?a.Nd(b,d,e,f):a&&(a=si(a))&&(b=a.ak(b,d,e,f))&&xi(b)}
function xi(a){if(!na(a)&&a&&!a.fj){var b=a.src;if(ei(b))ki(b.Gf,a);else{var d=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(d,e,a.capture):b.detachEvent?b.detachEvent(ui(d),e):b.addListener&&b.removeListener&&b.removeListener(e);ni--;(d=si(b))?(ki(d,a),0==d.ll&&(d.src=null,b[li]=null)):hi(a)}}}function ui(a){return a in mi?mi[a]:mi[a]="on"+a}
function yi(a,b,d,e){var f=!0;if(a=si(a))if(b=a.cd[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var h=b[a];h&&h.capture==d&&!h.fj&&(h=zi(h,e),f=f&&!1!==h)}return f}function zi(a,b){var d=a.listener,e=a.Cm||a.src;a.Nl&&xi(a);return d.call(e,b)}
function vi(a,b){if(a.fj)return!0;if(!bd){if(!b)a:{b=["window","event"];for(var d=g,e=0;e<b.length;e++)if(d=d[b[e]],null==d){b=null;break a}b=d}e=b;b=new $h(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(k){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=b.currentTarget;f;f=f.parentNode)e.push(f);a=a.type;for(f=e.length-1;!b.Hh&&0<=f;f--){b.currentTarget=e[f];var h=yi(e[f],a,!0,b);d=d&&h}for(f=0;!b.Hh&&f<e.length;f++)b.currentTarget=
e[f],h=yi(e[f],a,!1,b),d=d&&h}return d}return zi(a,new $h(b,this))}function si(a){a=a[li];return a instanceof ii?a:null}var Ai="__closure_events_fn_"+(1E9*Math.random()>>>0);function qi(a){if(ua(a))return a;a[Ai]||(a[Ai]=function(b){return a.handleEvent(b)});return a[Ai]};function Bi(a){Sh.call(this);this.Ki=a;this.Ti={}}u(Bi,Sh);var Ci=[];c=Bi.prototype;c.Ja=function(a,b,d,e){sa(b)||(b&&(Ci[0]=b.toString()),b=Ci);for(var f=0;f<b.length;f++){var h=oi(a,b[f],d||this.handleEvent,e||!1,this.Ki||this);if(!h)break;this.Ti[h.key]=h}return this};c.Et=function(a,b,d,e){return Di(this,a,b,d,e)};function Di(a,b,d,e,f,h){if(sa(d))for(var k=0;k<d.length;k++)Di(a,b,d[k],e,f,h);else{b=pi(b,d,e||a.handleEvent,f,h||a.Ki||a);if(!b)return a;a.Ti[b.key]=b}return a}
c.Nd=function(a,b,d,e,f){if(sa(b))for(var h=0;h<b.length;h++)this.Nd(a,b[h],d,e,f);else d=d||this.handleEvent,e=va(e)?!!e.capture:!!e,f=f||this.Ki||this,d=qi(d),e=!!e,b=ei(a)?a.ak(b,d,e,f):a?(a=si(a))?a.ak(b,d,e,f):null:null,b&&(xi(b),delete this.Ti[b.key]);return this};c.removeAll=function(){eb(this.Ti,function(a,b){this.Ti.hasOwnProperty(b)&&xi(a)},this);this.Ti={}};c.Zb=function(){Bi.v.Zb.call(this);this.removeAll()};
c.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Ei(){Sh.call(this);this.Gf=new ii(this);this.Fw=this;this.Sp=null}u(Ei,Sh);Ei.prototype[di]=!0;c=Ei.prototype;c.wm=function(){return this.Sp};c.vq=function(a){this.Sp=a};c.addEventListener=function(a,b,d,e){oi(this,a,b,d,e)};c.removeEventListener=function(a,b,d,e){wi(this,a,b,d,e)};
c.dispatchEvent=function(a){var b,d=this.wm();if(d)for(b=[];d;d=d.wm())b.push(d);d=this.Fw;var e=a.type||a;if(p(a))a=new Xh(a,d);else if(a instanceof Xh)a.target=a.target||d;else{var f=a;a=new Xh(e,d);gb(a,f)}f=!0;if(b)for(var h=b.length-1;!a.Hh&&0<=h;h--){var k=a.currentTarget=b[h];f=Fi(k,e,!0,a)&&f}a.Hh||(k=a.currentTarget=d,f=Fi(k,e,!0,a)&&f,a.Hh||(f=Fi(k,e,!1,a)&&f));if(b)for(h=0;!a.Hh&&h<b.length;h++)k=a.currentTarget=b[h],f=Fi(k,e,!1,a)&&f;return f};
c.Zb=function(){Ei.v.Zb.call(this);this.removeAllListeners();this.Sp=null};c.Ja=function(a,b,d,e){return this.Gf.add(String(a),b,!1,d,e)};c.Et=function(a,b,d,e){return this.Gf.add(String(a),b,!0,d,e)};c.Nd=function(a,b,d,e){return this.Gf.remove(String(a),b,d,e)};c.removeAllListeners=function(a){return this.Gf?this.Gf.removeAll(a):0};
function Fi(a,b,d,e){b=a.Gf.cd[String(b)];if(!b)return!0;b=b.concat();for(var f=!0,h=0;h<b.length;++h){var k=b[h];if(k&&!k.fj&&k.capture==d){var l=k.listener,m=k.Cm||k.src;k.Nl&&ki(a.Gf,k);f=!1!==l.call(m,e)&&f}}return f&&0!=e.zu}c.ak=function(a,b,d,e){return this.Gf.ak(String(a),b,d,e)};function Gi(){}qa(Gi);Gi.prototype.lz=0;Gi.prototype.Gy="";function Hi(a){Ei.call(this);this.gm=a||Dc();this.gj=Ii;this.Mi=null;this.Ra=!1;this.aa=null;this.og=void 0;this.dg=this.Gc=this.Gd=this.Dp=null;this.cj=this.AA=!1}u(Hi,Ei);Hi.prototype.Fy=Gi.mg();var Ii=null;
function Ji(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}c=Hi.prototype;c.ea=function(){var a;(a=this.Mi)||(a=this.Fy,a=this.Mi=a.Gy+":"+(a.lz++).toString(36));return a};c.K=function(){return this.aa};
function Ki(a){a.og||(a.og=new Bi(a));return a.og}c.Oh=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.Gd&&this.Mi&&Li(this.Gd,this.Mi)&&this.Gd!=a)throw Error("Unable to set parent component");this.Gd=a;Hi.v.vq.call(this,a)};c.getParent=function(){return this.Gd};c.vq=function(a){if(this.Gd&&this.Gd!=a)throw Error("Method not supported");Hi.v.vq.call(this,a)};c.Te=function(){return this.gm};c.ba=function(){this.aa=this.gm.createElement("DIV")};c.ca=function(a){this.Kg(a)};
c.Kg=function(a,b){if(this.Ra)throw Error("Component already rendered");this.aa||this.ba();a?a.insertBefore(this.aa,b||null):this.gm.Me.body.appendChild(this.aa);this.Gd&&!this.Gd.Ra||this.uc()};c.uc=function(){this.Ra=!0;Mi(this,function(a){!a.Ra&&a.K()&&a.uc()})};c.Xd=function(){Mi(this,function(a){a.Ra&&a.Xd()});this.og&&this.og.removeAll();this.Ra=!1};
c.Zb=function(){this.Ra&&this.Xd();this.og&&(this.og.D(),delete this.og);Mi(this,function(a){a.D()});!this.AA&&this.aa&&Oc(this.aa);this.Gd=this.Dp=this.aa=this.dg=this.Gc=null;Hi.v.Zb.call(this)};c.Il=function(a,b){this.pi(a,Ni(this),b)};
c.pi=function(a,b,d){if(a.Ra&&(d||!this.Ra))throw Error("Component already rendered");if(0>b||b>Ni(this))throw Error("Child component index out of bounds");this.dg&&this.Gc||(this.dg={},this.Gc=[]);if(a.getParent()==this){var e=a.ea();this.dg[e]=a;Ma(this.Gc,a)}else{e=this.dg;var f=a.ea();if(null!==e&&f in e)throw Error('The object already contains the key "'+f+'"');e[f]=a}a.Oh(this);Pa(this.Gc,b,0,a);a.Ra&&this.Ra&&a.getParent()==this?(d=this.Cd(),b=d.childNodes[b]||null,b!=a.K()&&d.insertBefore(a.K(),
b)):d?(this.aa||this.ba(),b=P(this,b+1),a.Kg(this.Cd(),b?b.aa:null)):this.Ra&&!a.Ra&&a.aa&&a.aa.parentNode&&1==a.aa.parentNode.nodeType&&a.uc()};c.Cd=function(){return this.aa};function Oi(a){null==a.gj&&(a.gj="rtl"==oh(a.Ra?a.aa:a.gm.Me.body,"direction"));return a.gj}c.Pf=function(a){if(this.Ra)throw Error("Component already rendered");this.gj=a};function Pi(a){return!!a.Gc&&0!=a.Gc.length}function Ni(a){return a.Gc?a.Gc.length:0}
function Li(a,b){a.dg&&b?(a=a.dg,b=(null!==a&&b in a?a[b]:void 0)||null):b=null;return b}function P(a,b){return a.Gc?a.Gc[b]||null:null}function Mi(a,b,d){a.Gc&&Ha(a.Gc,b,d)}function Qi(a,b){return a.Gc&&b?Ga(a.Gc,b):-1}c.removeChild=function(a,b){if(a){var d=p(a)?a:a.ea();a=Li(this,d);if(d&&a){var e=this.dg;d in e&&delete e[d];Ma(this.Gc,a);b&&(a.Xd(),a.aa&&Oc(a.aa));a.Oh(null)}}if(!a)throw Error("Child is not in parent component");return a};
c.vu=function(a){for(var b=[];Pi(this);)b.push(this.removeChild(P(this,0),a));return b};var Ri;hb("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));function Si(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}
function Ti(a,b,d){sa(d)&&(d=d.join(" "));var e="aria-"+b;""===d||void 0==d?(Ri||(Ri={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),d=Ri,b in d?a.setAttribute(e,d[b]):a.removeAttribute(e)):a.setAttribute(e,d)};function Ui(a,b,d,e,f,h){if(z&&!tc("525"))return!0;if(kc&&f)return Vi(a);if(f&&!e)return!1;if(!ic){na(b)&&(b=Wi(b));var k=17==b||18==b||kc&&91==b;if((!d||kc)&&k||kc&&16==b&&(e||h))return!1}if((z||hc)&&e&&d)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(x&&e&&b==a)return!1;switch(a){case 13:return ic?h||f?!1:!(d&&e):!0;case 27:return!(z||hc||ic)}return ic&&(e||f||h)?!1:Vi(a)}
function Vi(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(z||hc)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return ic;default:return!1}}function Wi(a){if(ic)a=Xi(a);else if(kc&&z)switch(a){case 93:a=91}return a}
function Xi(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Yi(a,b){Ei.call(this);a&&Zi(this,a,b)}u(Yi,Ei);c=Yi.prototype;c.aa=null;c.Nm=null;c.pp=null;c.Om=null;c.pd=-1;c.$e=-1;c.Un=!1;
var $i={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},aj={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},bj=!z||tc("525"),cj=kc&&ic;c=Yi.prototype;
c.qy=function(a){if(z||hc)if(17==this.pd&&!a.ctrlKey||18==this.pd&&!a.altKey||kc&&91==this.pd&&!a.metaKey)this.$e=this.pd=-1;-1==this.pd&&(a.ctrlKey&&17!=a.keyCode?this.pd=17:a.altKey&&18!=a.keyCode?this.pd=18:a.metaKey&&91!=a.keyCode&&(this.pd=91));bj&&!Ui(a.keyCode,this.pd,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?this.handleEvent(a):(this.$e=Wi(a.keyCode),cj&&(this.Un=a.altKey))};c.sy=function(a){this.$e=this.pd=-1;this.Un=a.altKey};
c.handleEvent=function(a){var b=a.Oe,d=b.altKey;if(x&&"keypress"==a.type){var e=this.$e;var f=13!=e&&27!=e?b.keyCode:0}else(z||hc)&&"keypress"==a.type?(e=this.$e,f=0<=b.charCode&&63232>b.charCode&&Vi(e)?b.charCode:0):gc&&!z?(e=this.$e,f=Vi(e)?b.keyCode:0):("keypress"==a.type?(cj&&(d=this.Un),b.keyCode==b.charCode?32>b.keyCode?(e=b.keyCode,f=0):(e=this.$e,f=b.charCode):(e=b.keyCode||this.$e,f=b.charCode||0)):(e=b.keyCode||this.$e,f=b.charCode||0),kc&&63==f&&224==e&&(e=191));var h=e=Wi(e);e?63232<=
e&&e in $i?h=$i[e]:25==e&&a.shiftKey&&(h=9):b.keyIdentifier&&b.keyIdentifier in aj&&(h=aj[b.keyIdentifier]);ic&&bj&&"keypress"==a.type&&!Ui(h,this.pd,a.shiftKey,a.ctrlKey,d,a.metaKey)||(a=h==this.pd,this.pd=h,b=new dj(h,f,a,b),b.altKey=d,this.dispatchEvent(b))};c.K=function(){return this.aa};function Zi(a,b,d){a.Om&&a.detach();a.aa=b;a.Nm=oi(a.aa,"keypress",a,d);a.pp=oi(a.aa,"keydown",a.qy,d,a);a.Om=oi(a.aa,"keyup",a.sy,d,a)}
c.detach=function(){this.Nm&&(xi(this.Nm),xi(this.pp),xi(this.Om),this.Om=this.pp=this.Nm=null);this.aa=null;this.$e=this.pd=-1};c.Zb=function(){Yi.v.Zb.call(this);this.detach()};function dj(a,b,d,e){$h.call(this,e);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=d}u(dj,$h);function ej(a){if(a.classList)return a.classList;a=a.className;return p(a)&&a.match(/\S+/g)||[]}function fj(a,b){return a.classList?a.classList.contains(b):La(ej(a),b)}function gj(a,b){a.classList?a.classList.add(b):fj(a,b)||(a.className+=0<a.className.length?" "+b:b)}function hj(a,b){if(a.classList)Ha(b,function(f){gj(a,f)});else{var d={};Ha(ej(a),function(f){d[f]=!0});Ha(b,function(f){d[f]=!0});a.className="";for(var e in d)a.className+=0<a.className.length?" "+e:e}}
function ij(a,b){a.classList?a.classList.remove(b):fj(a,b)&&(a.className=Ia(ej(a),function(d){return d!=b}).join(" "))}function jj(a,b){a.classList?Ha(b,function(d){ij(a,d)}):a.className=Ia(ej(a),function(d){return!La(b,d)}).join(" ")};function kj(a,b){if(!a)throw Error("Invalid class name "+a);if(!ua(b))throw Error("Invalid decorator function "+b);}var lj={};function mj(a){this.Ar=a}qa(mj);c=mj.prototype;c.lm=function(){return this.Ar};function nj(a,b){a&&(a.tabIndex=b?0:-1)}c.ba=function(a){return a.Te().ba("DIV",this.pm(a).join(" "))};c.Cd=function(a){return a};c.qk=function(a){a=a.K();wh(a,!0,ic);x&&(a.hideFocus=!0);var b=this.lm();b&&Si(a,b)};c.gc=function(a){return a.K()};c.Ic=function(){return"goog-container"};c.pm=function(a){var b=this.Ic(),d=[b,a.Gh==oj?b+"-horizontal":b+"-vertical"];a.isEnabled()||d.push(b+"-disabled");return d};function pj(){}var qj;qa(pj);var rj={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};c=pj.prototype;c.lm=function(){};c.ba=function(a){return a.Te().ba("DIV",this.pm(a).join(" "),a.lg())};c.Cd=function(a){return a};c.Sj=function(a,b,d){if(a=a.K?a.K():a){var e=[b];x&&!tc("7")&&(e=sj(ej(a),b),e.push(b));(d?hj:jj)(a,e)}};c.qk=function(a){Oi(a)&&this.Pf(a.K(),!0);a.isEnabled()&&this.Qg(a,a.isVisible())};
function tj(a,b,d){if(a=d||a.lm())d=b.getAttribute("role")||null,a!=d&&Si(b,a)}function uj(a,b,d){var e=b.zr;null!=e&&a.oq(d,e);b.isVisible()||Ti(d,"hidden",!b.isVisible());b.isEnabled()||vj(d,1,!b.isEnabled());b.Vb&8&&vj(d,8,b.Km());b.Vb&16&&vj(d,16,!!(b.Za&16));b.Vb&64&&vj(d,64,b.Qi())}c.oq=function(a,b){Ti(a,"label",b)};c.nq=function(a,b){wh(a,!b,!x&&!gc)};c.Pf=function(a,b){this.Sj(a,this.Ic()+"-rtl",b)};c.xg=function(a){var b;return a.Vb&32&&(b=a.gc())?Tc(b)&&Uc(b):!1};
c.Qg=function(a,b){var d;if(a.Vb&32&&(d=a.gc())){if(!b&&a.Za&32){try{d.blur()}catch(e){}a.Za&32&&a.gk(null)}(Tc(d)&&Uc(d))!=b&&(a=d,b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex")))}};c.Ba=function(a,b){uh(a,b);a&&Ti(a,"hidden",!b)};c.xe=function(a,b,d){var e=a.K();if(e){var f=this.om(b);f&&this.Sj(a,f,d);vj(e,b,d)}};
function vj(a,b,d){qj||(qj={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=qj[b];var e=a.getAttribute("role")||null;e&&(e=rj[e]||b,b="checked"==b||"selected"==b?e:b);b&&Ti(a,b,d)}c.ef=function(a,b){var d=this.Cd(a);d&&(Nc(d),b&&(p(b)?Qc(d,b):(a=function(e){if(e){var f=Fc(d);d.appendChild(p(e)?f.createTextNode(e):e)}},sa(b)?Ha(b,a):!ta(b)||"nodeType"in b?a(b):Ha(Oa(b),a))))};c.gc=function(a){return a.K()};c.Ic=function(){return"goog-control"};
c.pm=function(a){var b=this.Ic(),d=[b],e=this.Ic();e!=b&&d.push(e);b=a.getState();for(e=[];b;){var f=b&-b;e.push(this.om(f));b&=~f}d.push.apply(d,e);(a=a.Pe)&&d.push.apply(d,a);x&&!tc("7")&&d.push.apply(d,sj(d));return d};function sj(a,b){var d=[];b&&(a=Na(a,[b]));Ha([],function(e){!Ka(e,Ca(La,a))||b&&!La(e,b)||d.push(e.join("_"))});return d}
c.om=function(a){if(!this.Mr){var b=this.Ic();b.replace(/\xa0|\s/g," ");this.Mr={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}}return this.Mr[a]};function wj(a,b,d){Hi.call(this,d);if(!b){b=this.constructor;for(var e;b;){e=wa(b);if(e=lj[e])break;b=b.v?b.v.constructor:null}b=e?ua(e.mg)?e.mg():new e:null}this.La=b;this.ld=void 0!==a?a:null;this.zr=null}u(wj,Hi);c=wj.prototype;c.ld=null;c.Za=0;c.Vb=39;c.Nw=255;c.Zk=0;c.mb=!0;c.Pe=null;c.hk=!0;c.Tn=!1;c.Kz=null;c.gc=function(){return this.La.gc(this)};c.tm=function(){return this.Nc||(this.Nc=new Yi)};
c.Sj=function(a,b){b?a&&(this.Pe?La(this.Pe,a)||this.Pe.push(a):this.Pe=[a],this.La.Sj(this,a,!0)):a&&this.Pe&&Ma(this.Pe,a)&&(0==this.Pe.length&&(this.Pe=null),this.La.Sj(this,a,!1))};c.ba=function(){var a=this.La.ba(this);this.aa=a;tj(this.La,a,this.xm());this.Tn||this.La.nq(a,!1);this.isVisible()||this.La.Ba(a,!1)};c.xm=function(){return this.Kz};c.oq=function(a){this.zr=a;var b=this.K();b&&this.La.oq(b,a)};c.Cd=function(){return this.La.Cd(this.K())};
c.uc=function(){wj.v.uc.call(this);uj(this.La,this,this.aa);this.La.qk(this);if(this.Vb&-2&&(this.hk&&xj(this,!0),this.Vb&32)){var a=this.gc();if(a){var b=this.tm();Zi(b,a);Ki(this).Ja(b,"key",this.pe).Ja(a,"focus",this.Am).Ja(a,"blur",this.gk)}}};
function xj(a,b){var d=a.cj?Yh:Zh,e=Ki(a),f=a.K();b?(e.Ja(f,d.ki,a.Ii).Ja(f,[d.li,d.ji],a.Ji).Ja(f,"mouseover",a.bp).Ja(f,"mouseout",a.ap),a.cj&&e.Ja(f,"gotpointercapture",a.fn),a.Hi!=pa&&e.Ja(f,"contextmenu",a.Hi),x&&(tc(9)||e.Ja(f,"dblclick",a.bt),a.nk||(a.nk=new yj(a),Vh(a,Ca(Wh,a.nk))))):(e.Nd(f,d.ki,a.Ii).Nd(f,[d.li,d.ji],a.Ji).Nd(f,"mouseover",a.bp).Nd(f,"mouseout",a.ap),a.cj&&e.Nd(f,"gotpointercapture",a.fn),a.Hi!=pa&&e.Nd(f,"contextmenu",a.Hi),x&&(tc(9)||e.Nd(f,"dblclick",a.bt),Wh(a.nk),a.nk=
null))}c.Xd=function(){wj.v.Xd.call(this);this.Nc&&this.Nc.detach();this.isVisible()&&this.isEnabled()&&this.La.Qg(this,!1)};c.Zb=function(){wj.v.Zb.call(this);this.Nc&&(this.Nc.D(),delete this.Nc);delete this.La;this.nk=this.Pe=this.ld=null};c.lg=function(){return this.ld};c.ef=function(a){this.La.ef(this.K(),a);this.ld=a};
c.Qo=function(){var a=this.lg();if(!a)return"";if(!p(a))if(sa(a))a=Ja(a,Vc).join("");else{if(xc&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Wc(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");xc||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""))}return Zb(a)};c.Pf=function(a){wj.v.Pf.call(this,a);var b=this.K();b&&this.La.Pf(b,a)};c.nq=function(a){this.Tn=a;var b=this.K();b&&this.La.nq(b,a)};
c.isVisible=function(){return this.mb};c.Ba=function(a,b){return b||this.mb!=a&&this.dispatchEvent(a?"show":"hide")?((b=this.K())&&this.La.Ba(b,a),this.isEnabled()&&this.La.Qg(this,a),this.mb=a,!0):!1};c.isEnabled=function(){return!(this.Za&1)};c.Ub=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!zj(this,1,!a)||(a||(this.setActive(!1),this.qd(!1)),this.isVisible()&&this.La.Qg(this,a),this.xe(1,!a,!0))};c.qd=function(a){zj(this,2,a)&&this.xe(2,a)};
c.setActive=function(a){zj(this,4,a)&&this.xe(4,a)};c.Km=function(){return!!(this.Za&8)};function Aj(a,b){zj(a,16,b)&&a.xe(16,b)}c.Qi=function(){return!!(this.Za&64)};function Bj(a,b){zj(a,64,b)&&a.xe(64,b)}c.getState=function(){return this.Za};c.xe=function(a,b,d){d||1!=a?this.Vb&a&&b!=!!(this.Za&a)&&(this.La.xe(this,a,b),this.Za=b?this.Za|a:this.Za&~a):this.Ub(!b)};
c.Jd=function(a,b){if(this.Ra&&this.Za&a&&!b)throw Error("Component already rendered");!b&&this.Za&a&&this.xe(a,!1);this.Vb=b?this.Vb|a:this.Vb&~a};function Cj(a,b){return!!(a.Nw&b)&&!!(a.Vb&b)}function zj(a,b,d){return!!(a.Vb&b)&&!!(a.Za&b)!=d&&(!(a.Zk&b)||a.dispatchEvent(Ji(b,d)))&&!a.Df}c.bp=function(a){!Dj(a,this.K())&&this.dispatchEvent("enter")&&this.isEnabled()&&Cj(this,2)&&this.qd(!0)};
c.ap=function(a){!Dj(a,this.K())&&this.dispatchEvent("leave")&&(Cj(this,4)&&this.setActive(!1),Cj(this,2)&&this.qd(!1))};c.fn=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};c.Hi=pa;function Dj(a,b){return!!a.relatedTarget&&Pc(b,a.relatedTarget)}c.Ii=function(a){this.isEnabled()&&(Cj(this,2)&&this.qd(!0),!ci(a)||z&&kc&&a.ctrlKey||(Cj(this,4)&&this.setActive(!0),this.La&&this.La.xg(this)&&this.gc().focus()));this.Tn||!ci(a)||z&&kc&&a.ctrlKey||a.preventDefault()};
c.Ji=function(a){this.isEnabled()&&(Cj(this,2)&&this.qd(!0),this.Za&4&&Ej(this,a)&&Cj(this,4)&&this.setActive(!1))};c.bt=function(a){this.isEnabled()&&Ej(this,a)};function Ej(a,b){Cj(a,16)&&Aj(a,!(a.Za&16));Cj(a,8)&&zj(a,8,!0)&&a.xe(8,!0);Cj(a,64)&&Bj(a,!a.Qi());var d=new Xh("action",a);b&&(d.altKey=b.altKey,d.ctrlKey=b.ctrlKey,d.metaKey=b.metaKey,d.shiftKey=b.shiftKey,d.Wp=b.Wp);return a.dispatchEvent(d)}c.Am=function(){Cj(this,32)&&zj(this,32,!0)&&this.xe(32,!0)};
c.gk=function(){Cj(this,4)&&this.setActive(!1);Cj(this,32)&&zj(this,32,!1)&&this.xe(32,!1)};c.pe=function(a){return this.isVisible()&&this.isEnabled()&&this.lh(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};c.lh=function(a){return 13==a.keyCode&&Ej(this,a)};if(!ua(wj))throw Error("Invalid component class "+wj);if(!ua(pj))throw Error("Invalid renderer class "+pj);var Fj=wa(wj);lj[Fj]=pj;kj("goog-control",function(){return new wj(null)});
function yj(a){Sh.call(this);this.Xl=a;this.Rl=!1;this.Ki=new Bi(this);Vh(this,Ca(Wh,this.Ki));a=this.Xl.aa;this.Ki.Ja(a,"mousedown",this.ty).Ja(a,"mouseup",this.uy).Ja(a,"click",this.jy)}u(yj,Sh);var Gj=!x||9<=Number(uc);yj.prototype.ty=function(){this.Rl=!1};yj.prototype.uy=function(){this.Rl=!0};
function Hj(a,b){if(!Gj)return a.button=0,a.type=b,a;var d=document.createEvent("MouseEvents");d.initMouseEvent(b,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,a.relatedTarget||null);return d}yj.prototype.jy=function(a){if(this.Rl)this.Rl=!1;else{var b=a.Oe,d=b.button,e=b.type,f=Hj(b,"mousedown");this.Xl.Ii(new $h(f,a.currentTarget));f=Hj(b,"mouseup");this.Xl.Ji(new $h(f,a.currentTarget));Gj||(b.button=d,b.type=e)}};
yj.prototype.Zb=function(){this.Xl=null;yj.v.Zb.call(this)};function Ij(a,b,d){Hi.call(this,d);this.La=b||mj.mg();this.Gh=a||Jj}u(Ij,Hi);var oj="horizontal",Jj="vertical";c=Ij.prototype;c.qp=null;c.Nc=null;c.La=null;c.Gh=null;c.mb=!0;c.ih=!0;c.Mo=!0;c.rb=-1;c.ac=null;c.Yi=!1;c.Kw=!1;c.Hz=!0;c.yf=null;c.gc=function(){return this.qp||this.La.gc(this)};c.tm=function(){return this.Nc||(this.Nc=new Yi(this.gc()))};c.ba=function(){this.aa=this.La.ba(this)};c.Cd=function(){return this.La.Cd(this.K())};
c.uc=function(){Ij.v.uc.call(this);Mi(this,function(d){d.Ra&&Kj(this,d)},this);var a=this.K();this.La.qk(this);this.Ba(this.mb,!0);var b=this.cj?Yh:Zh;Ki(this).Ja(this,"enter",this.Zo).Ja(this,"highlight",this.py).Ja(this,"unhighlight",this.yy).Ja(this,"open",this.vy).Ja(this,"close",this.ky).Ja(a,b.ki,this.Ii).Ja(Fc(a),[b.li,b.ji],this.ly).Ja(a,[b.ki,b.li,b.ji,"mouseover","mouseout","contextmenu"],this.iy);this.cj&&Ki(this).Ja(a,"gotpointercapture",this.fn);this.xg()&&Lj(this,!0)};
c.fn=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};function Lj(a,b){var d=Ki(a),e=a.gc();b?d.Ja(e,"focus",a.Am).Ja(e,"blur",a.gk).Ja(a.tm(),"key",a.pe):d.Nd(e,"focus",a.Am).Nd(e,"blur",a.gk).Nd(a.tm(),"key",a.pe)}c.Xd=function(){this.hj(-1);this.ac&&Bj(this.ac,!1);this.Yi=!1;Ij.v.Xd.call(this)};c.Zb=function(){Ij.v.Zb.call(this);this.Nc&&(this.Nc.D(),this.Nc=null);this.La=this.ac=this.yf=this.qp=null};c.Zo=function(){return!0};
c.py=function(a){var b=Qi(this,a.target);if(-1<b&&b!=this.rb){var d=P(this,this.rb);d&&d.qd(!1);this.rb=b;d=P(this,this.rb);this.Yi&&d.setActive(!0);this.Hz&&this.ac&&d!=this.ac&&(d.Vb&64?Bj(d,!0):Bj(this.ac,!1))}b=this.K();null!=a.target.K()&&Ti(b,"activedescendant",a.target.K().id)};c.yy=function(a){a.target==P(this,this.rb)&&(this.rb=-1);this.K().removeAttribute("aria-activedescendant")};c.vy=function(a){(a=a.target)&&a!=this.ac&&a.getParent()==this&&(this.ac&&Bj(this.ac,!1),this.ac=a)};
c.ky=function(a){a.target==this.ac&&(this.ac=null);var b=this.K(),d=a.target.K();b&&a.target.Za&2&&d&&(a="",d&&(a=d.id),Ti(b,"activedescendant",a))};c.Ii=function(a){this.ih&&(this.Yi=!0);var b=this.gc();b&&Tc(b)&&Uc(b)?b.focus():a.preventDefault()};c.ly=function(){this.Yi=!1};
c.iy=function(a){var b=this.cj?Yh:Zh;a:{var d=a.target;if(this.yf)for(var e=this.K();d&&d!==e;){var f=d.id;if(f in this.yf){d=this.yf[f];break a}d=d.parentNode}d=null}if(d)switch(a.type){case b.ki:d.Ii(a);break;case b.li:case b.ji:d.Ji(a);break;case "mouseover":d.bp(a);break;case "mouseout":d.ap(a);break;case "contextmenu":d.Hi(a)}};c.Am=function(){};c.gk=function(){this.hj(-1);this.Yi=!1;this.ac&&Bj(this.ac,!1)};
c.pe=function(a){return this.isEnabled()&&this.isVisible()&&(0!=Ni(this)||this.qp)&&this.lh(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
c.lh=function(a){var b=P(this,this.rb);if(b&&"function"==typeof b.pe&&b.pe(a)||this.ac&&this.ac!=b&&"function"==typeof this.ac.pe&&this.ac.pe(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.xg())this.gc().blur();else return!1;break;case 36:Mj(this);break;case 35:Nj(this);break;case 38:if(this.Gh==Jj)Oj(this);else return!1;break;case 37:if(this.Gh==oj)Oi(this)?Pj(this):Oj(this);else return!1;break;case 40:if(this.Gh==Jj)Pj(this);else return!1;break;
case 39:if(this.Gh==oj)Oi(this)?Oj(this):Pj(this);else return!1;break;default:return!1}return!0};function Kj(a,b){var d=b.K();d=d.id||(d.id=b.ea());a.yf||(a.yf={});a.yf[d]=b}c.Il=function(a,b){Ij.v.Il.call(this,a,b)};
c.pi=function(a,b,d){a.Zk|=2;a.Zk|=64;!this.xg()&&this.Kw||a.Jd(32,!1);a.Ra&&0!=a.hk&&xj(a,!1);a.hk=!1;var e=a.getParent()==this?Qi(this,a):-1;Ij.v.pi.call(this,a,b,d);a.Ra&&this.Ra&&Kj(this,a);a=e;-1==a&&(a=Ni(this));a==this.rb?this.rb=Math.min(Ni(this)-1,b):a>this.rb&&b<=this.rb?this.rb++:a<this.rb&&b>this.rb&&this.rb--};
c.removeChild=function(a,b){if(a=p(a)?Li(this,a):a){var d=Qi(this,a);-1!=d&&(d==this.rb?(a.qd(!1),this.rb=-1):d<this.rb&&this.rb--);var e=a.K();e&&e.id&&this.yf&&(d=this.yf,e=e.id,e in d&&delete d[e])}b=a=Ij.v.removeChild.call(this,a,b);b.Ra&&1!=b.hk&&xj(b,!0);b.hk=!0;return a};c.setOrientation=function(a){if(this.K())throw Error("Component already rendered");this.Gh=a};c.isVisible=function(){return this.mb};
c.Ba=function(a,b){if(b||this.mb!=a&&this.dispatchEvent(a?"show":"hide")){this.mb=a;var d=this.K();d&&(uh(d,a),this.xg()&&nj(this.gc(),this.ih&&this.mb),b||this.dispatchEvent(this.mb?"aftershow":"afterhide"));return!0}return!1};c.isEnabled=function(){return this.ih};
c.Ub=function(a){this.ih!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.ih=!0,Mi(this,function(b){b.dv?delete b.dv:b.Ub(!0)})):(Mi(this,function(b){b.isEnabled()?b.Ub(!1):b.dv=!0}),this.Yi=this.ih=!1),this.xg()&&nj(this.gc(),a&&this.mb))};c.xg=function(){return this.Mo};c.Qg=function(a){a!=this.Mo&&this.Ra&&Lj(this,a);this.Mo=a;this.ih&&this.mb&&nj(this.gc(),a)};c.hj=function(a){(a=P(this,a))?a.qd(!0):-1<this.rb&&P(this,this.rb).qd(!1)};c.qd=function(a){this.hj(Qi(this,a))};
function Mj(a){Qj(a,function(b,d){return(b+1)%d},Ni(a)-1)}function Nj(a){Qj(a,function(b,d){b--;return 0>b?d-1:b},0)}function Pj(a){Qj(a,function(b,d){return(b+1)%d},a.rb)}function Oj(a){Qj(a,function(b,d){b--;return 0>b?d-1:b},a.rb)}function Qj(a,b,d){d=0>d?Qi(a,a.ac):d;var e=Ni(a);d=b.call(a,d,e);for(var f=0;f<=e;){var h=P(a,d);if(h&&a.Hr(h)){a.hj(d);break}f++;d=b.call(a,d,e)}}c.Hr=function(a){return a.isVisible()&&a.isEnabled()&&!!(a.Vb&2)};function Rj(){}u(Rj,pj);qa(Rj);Rj.prototype.Ic=function(){return"goog-menuheader"};function Sj(a,b,d){wj.call(this,a,d||Rj.mg(),b);this.Jd(1,!1);this.Jd(2,!1);this.Jd(4,!1);this.Jd(32,!1);this.Za=1}u(Sj,wj);kj("goog-menuheader",function(){return new Sj(null)});function Tj(){this.Nr=[]}u(Tj,pj);qa(Tj);function Uj(a,b){var d=a.Nr[b];if(!d){switch(b){case 0:d=a.Ic()+"-highlight";break;case 1:d=a.Ic()+"-checkbox";break;case 2:d=a.Ic()+"-content"}a.Nr[b]=d}return d}c=Tj.prototype;c.lm=function(){return"menuitem"};c.ba=function(a){var b=a.Te().ba("DIV",this.pm(a).join(" "),Vj(this,a.lg(),a.Te()));Wj(this,a,b,!!(a.Vb&8)||!!(a.Vb&16));return b};c.Cd=function(a){return a&&a.firstChild};
c.ef=function(a,b){var d=this.Cd(a),e=Xj(this,a)?d.firstChild:null;Tj.v.ef.call(this,a,b);e&&!Xj(this,a)&&d.insertBefore(e,d.firstChild||null)};function Vj(a,b,d){a=Uj(a,2);return d.ba("DIV",a,b)}c.Gu=function(a,b,d){a&&b&&Wj(this,a,b,d)};c.qq=function(a,b,d){a&&b&&Wj(this,a,b,d)};function Xj(a,b){return(b=a.Cd(b))?(b=b.firstChild,a=Uj(a,1),!!b&&va(b)&&1==b.nodeType&&fj(b,a)):!1}
function Wj(a,b,d,e){tj(a,d,b.xm());uj(a,b,d);e!=Xj(a,d)&&(e?gj(d,"goog-option"):ij(d,"goog-option"),d=a.Cd(d),e?(a=Uj(a,1),d.insertBefore(b.Te().ba("DIV",a),d.firstChild||null)):d.removeChild(d.firstChild))}c.om=function(a){switch(a){case 2:return Uj(this,0);case 16:case 8:return"goog-option-selected";default:return Tj.v.om.call(this,a)}};c.Ic=function(){return"goog-menuitem"};function Yj(a,b,d,e){wj.call(this,a,e||Tj.mg(),d);this.setValue(b)}u(Yj,wj);c=Yj.prototype;c.getValue=function(){var a=this.Dp;return null!=a?a:this.Qo()};c.setValue=function(a){this.Dp=a};c.Jd=function(a,b){Yj.v.Jd.call(this,a,b);switch(a){case 8:this.Za&16&&!b&&Aj(this,!1);(a=this.K())&&this.La.Gu(this,a,b);break;case 16:(a=this.K())&&this.La.qq(this,a,b)}};c.Gu=function(a){this.Jd(8,a)};c.qq=function(a){this.Jd(16,a)};
c.Qo=function(){var a=this.lg();return sa(a)?(a=Ja(a,function(b){return va(b)&&1==b.nodeType&&(fj(b,"goog-menuitem-accel")||fj(b,"goog-menuitem-mnemonic-separator"))?"":Vc(b)}).join(""),Zb(a)):Yj.v.Qo.call(this)};c.Ji=function(a){var b=this.getParent();if(b){var d=b.bu;b.bu=null;if(d&&na(a.clientX)&&yc(d,new A(a.clientX,a.clientY)))return}Yj.v.Ji.call(this,a)};c.lh=function(a){return a.keyCode==this.Jt&&Ej(this,a)?!0:Yj.v.lh.call(this,a)};c.ey=function(){return this.Jt};kj("goog-menuitem",function(){return new Yj(null)});
Yj.prototype.xm=function(){return this.Vb&16?"menuitemcheckbox":this.Vb&8?"menuitemradio":Yj.v.xm.call(this)};Yj.prototype.getParent=function(){return wj.prototype.getParent.call(this)};Yj.prototype.wm=function(){return wj.prototype.wm.call(this)};function Zj(){}u(Zj,pj);qa(Zj);Zj.prototype.ba=function(a){return a.Te().ba("DIV",this.Ic())};Zj.prototype.ef=function(){};Zj.prototype.Ic=function(){return"goog-menuseparator"};function ak(a,b){wj.call(this,null,a||Zj.mg(),b);this.Jd(1,!1);this.Jd(2,!1);this.Jd(4,!1);this.Jd(32,!1);this.Za=1}u(ak,wj);ak.prototype.uc=function(){ak.v.uc.call(this);var a=this.K();Si(a,"separator")};kj("goog-menuseparator",function(){return new ak});function bk(a){this.Ar=a||"menu"}u(bk,mj);qa(bk);bk.prototype.Ic=function(){return"goog-menu"};bk.prototype.qk=function(a){bk.v.qk.call(this,a);a=a.K();Ti(a,"haspopup","true")};kj("goog-menuseparator",function(){return new ak});function ck(a,b){Ij.call(this,Jj,b||bk.mg(),a);this.Qg(!1)}u(ck,Ij);c=ck.prototype;c.Jl=!0;c.Lw=!1;c.Ic=function(){return this.La.Ic()};c.removeItem=function(a){(a=this.removeChild(a,!0))&&a.D()};c.setPosition=function(a,b){var d=this.isVisible();d||uh(this.K(),!0);var e=this.K(),f=a;a=qh(e);f instanceof A&&(b=f.y,f=f.x);var h=e.offsetLeft+(f-a.x);h instanceof A?(f=h.x,b=h.y):(f=h,b=e.offsetTop+(Number(b)-a.y));e.style.left=rh(f);e.style.top=rh(b);d||uh(this.K(),!1)};
c.Xs=function(){return this.isVisible()?qh(this.K()):null};c.Ba=function(a,b,d){(b=ck.v.Ba.call(this,a,b))&&a&&this.Ra&&this.Jl&&this.gc().focus();this.bu=a&&d&&na(d.clientX)?new A(d.clientX,d.clientY):null;return b};c.Zo=function(a){this.Jl&&this.gc().focus();return ck.v.Zo.call(this,a)};c.Hr=function(a){return(this.Lw||a.isEnabled())&&a.isVisible()&&!!(a.Vb&2)};
c.lh=function(a){var b=ck.v.lh.call(this,a);b||Mi(this,function(d){!b&&d.ey&&d.Jt==a.keyCode&&(this.isEnabled()&&this.qd(d),b=d.pe(a))},this);return b};
c.hj=function(a){ck.v.hj.call(this,a);if(a=P(this,a)){var b=a.K();a=this.K()||Kc(document);var d=a||Kc(document);var e=qh(b),f=qh(d);if(!x||9<=Number(uc)){k=nh(d,"borderLeftWidth");var h=nh(d,"borderRightWidth");l=nh(d,"borderTopWidth");m=nh(d,"borderBottomWidth");h=new xg(parseFloat(l),parseFloat(h),parseFloat(m),parseFloat(k))}else{var k=yh(d,"borderLeft");h=yh(d,"borderRight");var l=yh(d,"borderTop"),m=yh(d,"borderBottom");h=new xg(l,h,m,k)}d==Kc(document)?(k=e.x-d.scrollLeft,e=e.y-d.scrollTop,
!x||10<=Number(uc)||(k+=h.left,e+=h.top)):(k=e.x-f.x-h.left,e=e.y-f.y-h.top);b=th(b);f=d.clientHeight-b.height;h=d.scrollLeft;l=d.scrollTop;h+=Math.min(k,Math.max(k-(d.clientWidth-b.width),0));l+=Math.min(e,Math.max(e-f,0));d=new A(h,l);a.scrollLeft=d.x;a.scrollTop=d.y}};v.la={};v.la.Yl=null;v.la.Ms=null;v.la.show=function(a,b,d){v.N.show(v.la,d,null);if(b.length){var e=v.la.cn(b,d);oi(e,"action",v.la.ya);v.la.Oc(e,a,d);setTimeout(function(){e.K().focus()},1);v.la.Yl=null}else v.la.ya()};v.la.cn=function(a,b){var d=new ck;d.Pf(b);for(var e=0,f;f=a[e];e++){var h=new Yj(f.text);h.Pf(b);d.Il(h,!0);h.Ub(f.enabled);f.enabled&&(oi(h,"action",f.bb),h.Hi=function(){this.dispatchEvent("action")})}return d};
v.la.Oc=function(a,b,d){var e=v.i.Ys();b={top:b.clientY+e.top,bottom:b.clientY+e.top,left:b.clientX+e.left,right:b.clientX+e.left};v.la.Oj(a);var f=v.i.oj.ck(a);d&&v.i.oj.xr(e,b,f);v.N.iu(e,b,f,d);a.K().focus()};v.la.Oj=function(a){a.ca(v.N.sa);var b=a.K();v.i.Ya(b,"blocklyContextMenu");v.W(b,"contextmenu",null,v.i.mz);a.Jl=!0;a.Qg(!0)};v.la.ya=function(){v.N.kk(v.la);v.la.Yl=null;v.la.Ms&&v.Ta(v.la.Ms)};
v.la.Ol=function(a,b){return function(){v.j.disable();try{var d=v.B.yi(b,a.o),e=a.va();e.x=a.w?e.x-v.Sc:e.x+v.Sc;e.y+=2*v.Sc;d.moveBy(e.x,e.y)}finally{v.j.enable()}v.j.isEnabled()&&!d.Oa&&v.j.Y(new v.j.yl(d));d.select()}};v.la.Qw=function(a){var b=Yc(a,!1).length,d=Zc(a);d&&(b-=Yc(d,!1).length);return{text:1==b?v.g.DELETE_BLOCK:v.g.DELETE_X_BLOCKS.replace("%1",String(b)),enabled:!0,bb:function(){v.j.T(!0);a.D(!0,!0);v.j.T(!1)}}};
v.la.Sw=function(a){return{enabled:!("function"==typeof a.xb?!a.xb():!a.xb),text:v.g.HELP,bb:function(){var b="function"==typeof a.xb?a.xb():a.xb;b&&window.open(b)}}};v.la.Rw=function(a){var b=he(a.o)?ge(a.o,v.i.Po(a,!0)):!0;return{text:v.g.DUPLICATE_BLOCK,enabled:b,bb:function(){v.Js(a)}}};v.la.Pw=function(a){var b={enabled:!x};a.cb?(b.text=v.g.REMOVE_COMMENT,b.bb=function(){a.Lh(null)}):(b.text=v.g.ADD_COMMENT,b.bb=function(){a.Lh("")});return b};
v.la.jx=function(a){return{text:v.g.jB,enabled:!0,bb:function(){v.j.T(!0);a.D(!0,!0);v.j.T(!1)}}};v.la.kx=function(a){return{text:v.g.NA,enabled:!0,bb:function(){v.Js(a)}}};v.la.JB=function(a,b){var d={enabled:!x};d.text=v.g.FA;d.bb=function(){var e=new Cf(a,v.g.nB,100,100),f=$c(a).getBoundingClientRect();f=new A(b.clientX-f.left,b.clientY-f.top);var h=v.i.$j(a.Sa);f=Ac(f,h).scale(1/a.scale);e.moveBy(f.x,f.y);a.U&&(e.ic(),e.ca(!1),e.select())};return d};var dk=/#(.)(.)(.)/;function ek(a){var b=a[0],d=a[1];a=a[2];b=Number(b);d=Number(d);a=Number(a);if(b!=(b&255)||d!=(d&255)||a!=(a&255))throw Error('"('+b+","+d+","+a+'") is not a valid RGB color');d=b<<16|d<<8|a;return 16>b?"#"+(16777216|d).toString(16).substr(1):"#"+d.toString(16)}var fk=/^#(?:[0-9a-f]{3}){1,2}$/i;function gk(a,b,d){d=Math.min(Math.max(d,0),1);return[Math.round(b[0]+d*(a[0]-b[0])),Math.round(b[1]+d*(a[1]-b[1])),Math.round(b[2]+d*(a[2]-b[2]))]};function I(a,b,d){this.A=v.i.C("g",{},null);this.A.Tf="";this.Uh=v.i.C("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.A);this.zc=v.i.C("path",{"class":"blocklyPath","aria-label":b.replace(/_/g," ")},this.A);this.lf=v.i.C("path",{"class":"blocklyPathLight"},this.A);this.zc.ud=this;this.U=!1;this.mf=v.i.wg()&&!!a.Lb;v.F.ah(this.zc);I.v.constructor.call(this,a,b,d);this.A.dataset&&(this.A.dataset.id=this.id)}u(I,ee);c=I.prototype;c.height=0;c.width=0;c.wd=null;
c.ic=function(){if(!this.o.U)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.L[a];a++)b.O();b=of(this);for(a=0;a<b.length;a++)ze(b[a]);this.Vf();Df(this);this.o.options.readOnly||this.Go||v.W(this.X(),"mousedown",this,this.Fg);this.Go=!0;this.X().parentNode||this.o.Sa.appendChild(this.X())};
function hk(a){var b="";a=ba(a.L);for(var d=a.next();!d.done;d=a.next())d=d.value,b+=d.oa.reduce(function(e,f){return e+f.Eb()+" "},""),d.connection&&d.connection.V&&1===d.type&&(b+=hk(d.connection.V.u)+" ");return b.trim()}function Fd(a){var b=void 0===b?!0:b;a.zc&&(a.zc.setAttribute("aria-label",hk(a)),b&&a.getParent()&&Fd(a.getParent()))}
c.select=function(){if(this.Oa&&this.getParent())this.getParent().select();else if(v.selected!=this){var a=null;if(v.selected){a=v.selected.id;v.j.disable();try{v.selected.Ug()}finally{v.j.enable()}}a=new qd(null,"selected",a,this.id);a.Jb=this.o.id;v.j.Y(a);v.selected=this;this.ri()}};c.Ug=function(){if(v.selected==this){var a=new qd(null,"selected",this.id,null);a.Jb=this.o.id;v.j.Y(a);v.selected=null;this.Jh()}};c.ed=null;c.cb=null;c.Dc=null;
function of(a){var b=[];a.ed&&b.push(a.ed);a.cb&&b.push(a.cb);a.Dc&&b.push(a.Dc);return b}c.Oh=function(a){var b=this.ue;if(a!=b){Od();I.v.Oh.call(this,a);Td();var d=this.X();if(!this.o.mp&&d){var e=this.va();a?(a.X().appendChild(d),a=this.va(),kf(this,a.x-e.x,a.y-e.y)):b&&(this.o.Sa.appendChild(d),this.translate(e.x,e.y))}}};
c.va=function(){var a=0,b=0,d=this.mf?this.o.Lb.Qb():null,e=this.X();if(e){do{var f=v.i.ad(e);a+=f.x;b+=f.y;this.mf&&this.o.Lb.Wd.firstChild==e&&(f=this.o.Lb.ym(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.o.Sa&&e!=d)}return new A(a,b)};c.moveBy=function(a,b){if(this.ue)throw Error("Block has parent.");var d=v.j.isEnabled();if(d)var e=new v.j.ei(this);var f=this.va();this.translate(f.x+a,f.y+b);kf(this,a,b);d&&(e.df(),v.j.Y(e));Xd(this.o)};
c.moveTo=function(a){if(this.ue)throw Error("Block has parent.");var b=v.j.isEnabled();if(b)var d=new v.j.ei(this);var e=this.va();this.translate(a.x,a.y);kf(this,a.x-e.x,a.y-e.y);b&&(d.df(),v.j.Y(d));Xd(this.o)};c.translate=function(a,b){this.X().setAttribute("transform","translate("+a+","+b+")")};c.Wm=function(){if(this.mf){var a=this.va();v.i.removeAttribute(this.X(),"transform");this.o.Lb.Sf(a.x,a.y);Ff(this.o.Lb,this.X())}};c.Mt=function(a){this.mf&&(this.translate(a.x,a.y),this.o.Lb.Hj(this.o.Sa))};
c.Vm=function(a){this.mf?this.o.Lb.Sf(a.x,a.y):(this.A.Tf="translate("+a.x+","+a.y+")",this.A.setAttribute("transform",this.A.Tf+this.A.Qh))};function dh(a){if(a.o&&!a.o.Rb()&&!a.getParent()&&!a.yb){var b=a.o.$d;if(b&&b.cA){var d=b.Eq,e=d/2,f=a.va();b=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;b=Math.round(b);d=Math.round(d);0==b&&0==d||a.moveBy(b,d)}}}
c.mm=function(){var a=this.va(),b=this.M?G:0,d=this.Db();if(this.w){var e=new A(a.x-(d.width-b),a.y);a=new A(a.x+b,a.y+d.height)}else e=new A(a.x-b,a.y),a=new A(a.x+d.width-b,a.y+d.height);return{hd:e,yd:a}};
c.Og=function(a){if(this.Af!=a){for(var b=[],d=0,e;e=this.L[d];d++)b.push.apply(b,e.Ba(!a));if(a){e=of(this);for(d=0;d<e.length;d++)e[d].Ba(!1);d=this.toString(v.kv);J(O(this,"_TEMP_COLLAPSED_INPUT"),d).O();e=Yc(this,!0);if(d=Zc(this))d=e.indexOf(d),e.splice(d,e.length-d);d=1;for(var f;f=e[d];d++)if(f.Dc){this.Qf(v.g.COLLAPSED_WARNINGS_WARNING,"TEMP_COLLAPSED_WARNING_");break}}else this.Va("_TEMP_COLLAPSED_INPUT"),this.Dc&&(this.Dc.Gb("","TEMP_COLLAPSED_WARNING_"),Object.keys(this.Dc.qa).length||
this.Qf(null));I.v.Og.call(this,a);b.length||(b[0]=this);if(this.U)for(d=0;f=b[d];d++)f.ca()}};function ik(a,b,d){for(var e=[],f=0,h;h=a.L[f];f++){for(var k=0,l;l=h.oa[k];k++)l instanceof jk&&e.push(l);h.connection&&(h=E(h.connection))&&e.push(h)}b=e.indexOf(b);-1==b&&(b=d?-1:e.length);(e=e[d?b+1:b-1])?e instanceof zh?e.ze():ik(e,null,d):(e=a.getParent())&&ik(e,a,d)}
c.Fg=function(a){var b=this.o&&this.o.Ue(a);if(b){if(b.nh)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Yf(b,this);b.se=a}};
c.jj=function(a){if(!this.o.options.readOnly&&this.contextMenu){var b=this,d=[];if(!this.yb){this.wc()&&this.Sb()&&d.push(v.la.Rw(b));this.o.options.Jj&&!this.Af&&Md(this)&&d.push(v.la.Pw(b));if(this.Sb())if(this.Af)this.o.options.collapse&&(e={enabled:!0},e.text=v.g.EXPAND_BLOCK,e.bb=function(){b.Og(!1)},d.push(e));else{for(var e=1;e<this.L.length;e++)if(this.L[e-1].type!=v.Ga&&this.L[e].type!=v.Ga){e={enabled:!0};var f=mh(this);e.text=f?v.g.EXTERNAL_INPUTS:v.g.INLINE_INPUTS;e.bb=function(){b.Id(!f)};
d.push(e);break}this.o.options.collapse&&(e={enabled:!0},e.text=v.g.COLLAPSE_BLOCK,e.bb=function(){b.Og(!0)},d.push(e))}this.o.options.disable&&Md(this)&&(e={text:this.disabled?v.g.ENABLE_BLOCK:v.g.DISABLE_BLOCK,enabled:!Oh(this),bb:function(){var h=v.j.Qb();h||v.j.T(!0);b.Ub(!b.isEnabled());h||v.j.T(!1)}},d.push(e));this.wc()&&d.push(v.la.Qw(b))}d.push(v.la.Sw(b));this.Bf&&this.Bf(d);v.la.show(a,d,this.w);v.la.Yl=this}};
function kf(a,b,d){if(a.U){for(var e=a.Yd(!1),f=0;f<e.length;f++)e[f].moveBy(b,d);e=of(a);for(f=0;f<e.length;f++)Ae(e[f]);for(f=0;f<a.xf.length;f++)kf(a.xf[f],b,d)}}c.Pg=function(a){if(a){var b=this.X();b.Tf="";b.Qh="";v.Rj=v.Rj.concat(this.Yd(!0));v.i.Ya(this.A,"blocklyDragging")}else v.Rj=[],v.i.Fb(this.A,"blocklyDragging");for(b=0;b<this.xf.length;b++)this.xf[b].Pg(a)};c.Nh=function(a){I.v.Nh.call(this,a);Df(this)};c.tq=function(a){I.v.tq.call(this,a);a=of(this);for(var b=0;b<a.length;b++)a[b].Wf()};
c.xq=function(a){I.v.xq.call(this,a);this.Vf()};c.Fu=function(a){this.re!=a&&(this.re=a)&&(this.fe(v.Pv),v.i.Ya(this.A,"blocklyInsertionMarker"))};c.X=function(){return this.A};
c.D=function(a,b){if(this.o){v.F.ya();Od();var d=this.o;if(v.selected==this){this.Ug();var e=this.o;e.Ob&&e.Ob.cancel()}v.la.Yl==this&&v.la.ya();b&&this.U&&(Id(this,a),v.Wa.Lx(this));this.U=!1;if(this.wd){for(var f in this.wd)clearTimeout(this.wd[f]);this.wd=null}Id(this,a);var h;v.j.isEnabled()&&(h=new v.j.Tq(this));v.j.disable();try{var k=of(this);for(b=0;b<k.length;b++)k[b].D();I.v.D.call(this,a)}finally{v.j.enable()}v.j.isEnabled()&&h&&v.j.Y(h);v.i.removeNode(this.A);Xd(d);this.Uh=this.lf=this.zc=
this.A=null;Td()}};
c.Vf=function(){if(!this.disabled){var a=this.Ud,b=this.Sr,d=this.Tr;var e=a;if(!fk.test(e))throw Error("'"+e+"' is not a valid hex color");4==e.length&&(e=e.replace(dk,"#$1$1$2$2$3$3"));e=e.toLowerCase();e=parseInt(e.substr(1),16);e=[e>>16,e>>8&255,e&255];this.Oa?(a=e,b?(this.lf.style.display="none",this.Uh.style.display="none",this.zc.setAttribute("fill",b),a=b):(a=gk([255,255,255],a,.6),a=ek(a),this.lf.style.display="none",this.Uh.setAttribute("fill",a))):d?(this.lf.setAttribute("stroke","none"),
this.Uh.setAttribute("fill","none"),this.zc.setAttribute("stroke",d)):(this.lf.style.display="",b=ek(gk([255,255,255],e,.3)),d=ek(gk([0,0,0],e,.2)),this.lf.setAttribute("stroke",b),this.Uh.setAttribute("fill",d),this.zc.setAttribute("stroke","none"));this.zc.setAttribute("fill",a);a=of(this);for(b=0;b<a.length;b++)a[b].Vf();for(a=0;b=this.L[a];a++)for(d=0;e=b.oa[d];d++)e.Wj()}};
function Wd(a){a.disabled||Oh(a)?v.i.Ya(a.A,"blocklyDisabled")&&a.zc.setAttribute("fill","url(#"+a.o.options.Cf+")"):v.i.Fb(a.A,"blocklyDisabled")&&a.Vf();a=a.Hf(!1);for(var b=0,d;d=a[b];b++)Wd(d)}c.qm=function(){return this.cb?this.cb.Eb().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""};c.Lh=function(a){var b=!1;"string"==typeof a?(this.cb||(this.cb=new Be(this),b=!0),this.cb.Gb(a)):this.cb&&(this.cb.D(),b=!0);b&&this.U&&(this.ca(),this.ob())};
c.Qf=function(a,b){this.wd||(this.wd=Object.create(null));var d=b||"";if(d)this.wd[d]&&(clearTimeout(this.wd[d]),delete this.wd[d]);else for(var e in this.wd)clearTimeout(this.wd[e]),delete this.wd[e];if(this.o.Rb()){var f=this;this.wd[d]=setTimeout(function(){f.o&&(delete f.wd[d],f.Qf(a,d))},100)}else{this.yb&&(a=null);b=Nh(this);for(e=null;b;)b.isCollapsed()&&(e=b),b=Nh(b);e&&e.Qf(v.g.COLLAPSED_WARNINGS_WARNING,"TEMP_COLLAPSED_WARNING_");b=!1;"string"==typeof a?(this.Dc||(this.Dc=new Ce(this),b=
!0),this.Dc.Gb(a,d)):this.Dc&&!d?(this.Dc.D(),b=!0):this.Dc&&(b=this.Dc.Eb(),this.Dc.Gb("",d),(e=this.Dc.Eb())||this.Dc.D(),b=b!=e);b&&this.U&&(this.ca(),this.ob())}};c.ij=function(a){this.ed&&this.ed!==a&&this.ed.D();a&&(a.Z=this,this.ed=a,ze(a))};c.Ub=function(a){this.isEnabled()!=a&&(I.v.Ub.call(this,a),this.U&&Wd(this))};c.qd=function(a){this.U&&(a?(this.zc.setAttribute("filter","url(#"+this.o.options.Ls+")"),this.lf.style.display="none"):(v.i.removeAttribute(this.zc,"filter"),delete this.lf.style.display))};
c.ri=function(){v.i.Ya(this.A,"blocklySelected")};c.Jh=function(){v.i.Fb(this.A,"blocklySelected")};c.Vk=function(a){a?v.i.Ya(this.A,"blocklyDraggingDelete"):v.i.Fb(this.A,"blocklyDraggingDelete")};c.fe=function(a){I.v.fe.call(this,a);this.U&&this.Vf()};function Af(a){do{var b=a.X();b.parentNode.appendChild(b);a=a.getParent()}while(a)}c.sd=function(a,b){I.v.sd.call(this,a,b);this.U&&(this.ca(),this.ob())};c.rd=function(a,b){I.v.rd.call(this,a,b);this.U&&(this.ca(),this.ob())};
c.yc=function(a,b){I.v.yc.call(this,a,b);this.U&&(this.ca(),this.ob())};c.Id=function(a){I.v.Id.call(this,a);this.U&&(this.ca(),this.ob())};c.Va=function(a,b){I.v.Va.call(this,a,b);this.U&&(this.ca(),this.ob())};c.Ep=function(a,b){I.v.Ep.call(this,a,b);this.U&&(this.ca(),this.ob())};c.Fe=function(a,b){a=I.v.Fe.call(this,a,b);this.U&&(this.ca(),this.ob());return a};
c.Yd=function(a){var b=[];if(a||this.U)if(this.M&&b.push(this.M),this.R&&b.push(this.R),this.J&&b.push(this.J),a||!this.Af){a=0;for(var d;d=this.L[a];a++)d.connection&&b.push(d.connection)}return b};c.Ak=function(a){return new df(this,a)};c.ob=function(){if(this.o&&!this.o.Rb()){var a=ff(this);if(!a.yb)for(var b=this.Yd(!1),d=0,e;e=b[d];d++){e.isConnected()&&Je(e)&&E(e).ob();for(var f=e.Nt(v.Sc),h=0,k;k=f[h];h++)e.isConnected()&&k.isConnected()||ff(k.u)!=a&&(Je(e)?Ge(k,e):Ge(e,k))}}};
function Bf(a){var b=v.j.Qb();setTimeout(function(){v.j.T(b);dh(a);v.j.T(!1)},v.xl/2);setTimeout(function(){v.j.T(b);a.ob();v.j.T(!1)},v.xl)}function uf(a,b,d){b.type!=v.Ga&&b.type!=v.Fa||a.moveBy(d.Wb-b.Wb,d.Ua-b.Ua)};function kk(){this.jf=[];this.qe=[];this.mt=[];this.ht=[]}var G=8,lk=7.5*(1-Math.SQRT1_2)+.5,mk=8.5*(1-Math.SQRT1_2)-.5,Te="v 5 c 0,10 -"+G+",-8 -"+G+",7.5 s "+G+",-2.5 "+G+",7.5",nk="v 6.5 m -"+.97*G+",3 q -"+.05*G+",10 "+.3*G+",9.5 m "+.67*G+",-1.9 v 1.4",pk="m "+lk+","+lk,qk="a 8,8 0 0,0 "+(-mk-.5)+","+(8-mk),rk="a 8.5,8.5 0 0,0 "+(8-mk)+","+(mk+.5);
I.prototype.Db=function(){var a=this.height,b=this.width,d=Zc(this);d?(d=d.Db(),a+=d.height-4,b=Math.max(b,d.width)):this.J||this.M||(a+=2);return{height:a,width:b}};
I.prototype.ca=function(a){if(this.o){Od();this.U=!0;var b=10;this.w&&(b=-b);for(var d=of(this),e=0;e<d.length;e++){var f=d[e];if(f.Rr&&f.Z.isCollapsed()||f.Z.re)f.bd.setAttribute("display","none");else{f.bd.setAttribute("display","block");var h=f.Mn;f.Z.w&&(b-=h);f.bd.setAttribute("transform","translate("+b+",5)");Ae(f);b=f.Z.w?b-10:b+(h+10)}}var k=b+=this.w?10:-10,l=this.L;d=[];d.xc=k+20;if(this.R||this.J)d.xc=Math.max(d.xc,40);f=e=0;for(var m=h=!1,n=!1,t=void 0,w=mh(this)&&!this.isCollapsed(),
r=0,q;q=l[r];r++)if(q.isVisible()){if(w&&t&&t!=v.Ga&&q.type!=v.Ga)var y=d[d.length-1];else t=q.type,y=[],y.type=w&&q.type!=v.Ga?-1:q.type,y.height=0,d.push(y);y.push(q);q.Jg=25;q.nc=w&&q.type==v.Fa?G+12.5:0;if(q.connection&&q.connection.isConnected()){var K=E(q.connection).Db();q.Jg=Math.max(q.Jg,K.height);q.nc=Math.max(q.nc,K.width)}w||r!=l.length-1?!w&&q.type==v.Fa&&l[r+1]&&l[r+1].type==v.Ga&&q.Jg--:q.Jg--;y.height=Math.max(y.height,q.Jg);q.ne=0;1==d.length&&(q.ne+=this.w?-k:k);K=!1;for(var R=0,
da;da=q.oa[R];R++){0!=R&&(q.ne+=10);var mb=da.ck();da.nc=mb.width;da.kn=K&&da.Yf?10:0;q.ne+=da.nc+da.kn;y.height=Math.max(y.height,mb.height);K=da.Yf}-1!=y.type&&(y.type==v.Ga?(m=!0,f=Math.max(f,q.ne)):(y.type==v.Fa?h=!0:y.type==v.pf&&(n=!0),e=Math.max(e,q.ne)))}for(k=0;y=d[k];k++)if(y.Su=!1,-1==y.type)for(l=0;q=y[l];l++)if(q.type==v.Fa){y.height+=10;y.Su=!0;break}d.tn=20+f;m&&(d.xc=Math.max(d.xc,d.tn+30));h?d.xc=Math.max(d.xc,e+20+G):n&&(d.xc=Math.max(d.xc,e+20));d.By=h;d.DB=m;d.CB=n;e=b;this.Hq=
!1;this.height=0;this.M?this.Fq=this.Yk=!0:(b=this.oh?"cap"===this.oh:!1,this.Fq=this.Yk=!1,this.R?(b=E(this.R))&&Zc(b)==this&&(this.Yk=!0):b&&(this.Hq=this.Yk=!0,this.height+=15,d.xc=Math.max(d.xc,100)),Zc(this)&&(this.Fq=!0));b=new kk;f=d.xc;h=b.jf;m=b.qe;this.Yk?(h.push("m 0,0"),m.push("m 0.5,0.5"),this.Hq&&(h.push("c 30,-15 70,-15 100,0"),m.push(this.w?"m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7":"c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5"))):(h.push("m 0,8"),m.push(this.w?pk:"m 0.5,7.5"),h.push("A 8,8 0 0,1 8,0"),
m.push("A 7.5,7.5 0 0,1 8,0.5"));this.R&&(h.push("H",15),m.push("H",15),h.push("l 6,4 3,0 6,-4"),m.push("l 6,4 3,0 6,-4"),hf(this.R,this.w?-30:30,0));h.push("H",f);m.push("H",f-.5);this.width=f;f={x:0,y:0};h={x:0,y:0};for(m=0;n=d[m];m++){f.x=10;0==m&&(f.x+=this.w?-e:e);b.qe.push("M",d.xc-.5+","+(f.y+.5));if(this.isCollapsed())k=n,q=b.jf,y=b.qe,sk(this,k[0].oa,f.x,f.y),q.push("l 8,0 0,4 8,4 -16,8 8,4"),y.push("h 8"),k=k.height-20,q.push("v",k),this.w&&(y.push("v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5"),
y.push("v",k-.7)),this.width+=15;else if(-1==n.type){y=n;k=f;l=h;t=d.xc;w=b.mt;r=b.ht;K=b.jf;R=b.qe;for(da=0;q=y[da];da++){mb=k.x;var ok=k.y;y.Su&&(ok+=5);k.x=sk(this,q.oa,mb,ok);q.type!=v.pf&&(k.x+=q.nc+10);q.type==v.Fa&&(w.push("M",k.x-10+","+(k.y+5)),w.push("h",G-2-q.nc),w.push(Te),w.push("v",q.Jg+1-20),w.push("h",q.nc+2-G),w.push("z"),this.w?(r.push("M",k.x-10-2.5+G-q.nc+","+(k.y+5+.5)),r.push(nk),r.push("v",q.Jg-20+2.5),r.push("h",q.nc-G+2)):(r.push("M",k.x-10+.5+","+(k.y+5+.5)),r.push("v",q.Jg+
1),r.push("h",G-2-q.nc),r.push("M",k.x-q.nc-10+.9+","+(k.y+5+20-.7)),r.push("l",.46*G+",-2.1")),l.x=this.w?-k.x-G+10+q.nc+1:k.x+G-10-q.nc-1,l.y=k.y+5+1,hf(q.connection,l.x,l.y))}k.x=Math.max(k.x,t);this.width=Math.max(this.width,k.x);K.push("H",k.x);R.push("H",k.x-.5);K.push("v",y.height);this.w&&R.push("v",y.height-1)}else n.type==v.Fa?(r=n,q=f,y=h,k=d.xc,l=b.jf,t=b.qe,w=r[0],K=q.x,R=q.y,w.align!=v.tj&&(da=k-w.ne-G-20,w.align==v.ec?K+=da:w.align==v.ul&&(K+=da/2)),sk(this,w.oa,K,R),l.push(Te),r=r.height-
20,l.push("v",r),this.w?(t.push(nk),t.push("v",r+.5)):(t.push("M",k-5+","+(q.y+20-.7)),t.push("l",.46*G+",-2.1")),y.x=this.w?-k-1:k+1,hf(w.connection,y.x,q.y),w.connection.isConnected()&&(this.width=Math.max(this.width,k+E(w.connection).Db().width-G+1))):n.type==v.pf?(q=n,y=b.jf,k=b.qe,l=q[0],t=f.x,w=f.y,l.align!=v.tj&&(r=d.xc-l.ne-20,d.By&&(r-=G),l.align==v.ec?t+=r:l.align==v.ul&&(t+=r/2)),sk(this,l.oa,t,w),y.push("v",q.height),this.w&&k.push("v",q.height-1)):n.type==v.Ga&&(q=n,y=f,k=h,l=d,t=m,w=
b.jf,r=b.qe,K=q[0],0==t&&(w.push("v",10),this.w&&r.push("v",9),y.y+=10),R=y.x,da=y.y,K.align!=v.tj&&(mb=l.tn-K.ne-20,K.align==v.ec?R+=mb:K.align==v.ul&&(R+=mb/2)),sk(this,K.oa,R,da),y.x=l.tn+30,w.push("H",y.x),w.push("l -6,4 -3,0 -6,-4 h -7 a 8,8 0 0,0 -8,8"),w.push("v",q.height-16),w.push("a 8,8 0 0,0 8,8"),w.push("H",l.xc),this.w?(r.push("M",y.x-30+mk+","+(y.y+mk)),r.push(qk),r.push("v",q.height-16),r.push("a 8.5,8.5 0 0,0 8.5,8.5")):(r.push("M",y.x-30+mk+","+(y.y+q.height-mk)),r.push(rk)),r.push("H",
l.xc-.5),k.x=this.w?-y.x:y.x+1,hf(K.connection,k.x,y.y+1),K.connection.isConnected()&&(this.width=Math.max(this.width,l.tn+E(K.connection).Db().width)),t==l.length-1||l[t+1].type==v.Ga)&&(w.push("v",10),this.w&&r.push("v",9),y.y+=10);f.y+=n.height}d.length||(f.y=25,b.jf.push("V",f.y),this.w&&b.qe.push("V",f.y-1));d=f.y;e=b.jf;f=b.qe;this.height+=d+1;this.J&&(e.push("H",30+(this.w?.5:-.5)+" l -6,4 -3,0 -6,-4"),hf(this.J,this.w?-30:30,d+1),this.height+=4);this.Fq?(e.push("H 0"),this.w||f.push("M","0.5,"+
(d-.5))):(e.push("H",8),e.push("a","8,8 0 0,1 -8,-8"),this.w||(f.push("M",lk+","+(d-lk)),f.push("A","7.5,7.5 0 0,1 0.5,"+(d-8))));d=b.jf;e=b.qe;this.M?(hf(this.M,0,0),d.push("V",20),d.push("c 0,-10 -"+G+",8 -"+G+",-7.5 s "+G+",2.5 "+G+",-7.5"),this.w?(e.push("M",-.25*G+",8.4"),e.push("l",-.45*G+",-2.1")):(e.push("V",18.5),e.push("m",-.92*G+",-0.5 q "+-.19*G+",-5.5 0,-11"),e.push("m",.92*G+",1 V 0.5 H 1")),this.width+=G):this.w||(this.Yk?e.push("V",.5):e.push("V",8));d.push("z");d=b.jf.join(" ")+"\n"+
b.mt.join(" ");this.zc.setAttribute("d",d);this.Uh.setAttribute("d",d);d=b.qe.join(" ")+"\n"+b.ht.join(" ");this.lf.setAttribute("d",d);this.w&&(this.zc.setAttribute("transform","scale(-1 1)"),this.lf.setAttribute("transform","scale(-1 1)"),this.Uh.setAttribute("transform","translate(1,1) scale(-1 1)"));d=this.va();this.R&&gf(this.R,d);this.M&&gf(this.M,d);for(b=0;b<this.L.length;b++)if(e=this.L[b].connection)gf(e,d),e.isConnected()&&jf(e);this.J&&(gf(this.J,d),this.J.isConnected()&&jf(this.J));!1!==
a&&((a=this.getParent())?a.ca(!0):Xd(this.o));Td()}};function sk(a,b,d,e){e+=5;a.w&&(d=-d);for(var f=0,h;h=b[f];f++){var k=h.X();if(k){var l="";if(a.w){var m=d-=h.kn+h.nc;h.nc&&(d-=10)}else m=d+h.kn,h.nc&&(d+=h.kn+h.nc+10);a.w&&h instanceof tk&&h.Wx&&(l="scale(-1 1)",m+=h.nc);k.setAttribute("transform","translate("+m+","+e+")"+l);a.re&&k.setAttribute("display","none")}}return a.w?-d:d}function tf(a,b){b?v.i.Ya(a.A,"blocklyReplaceable"):v.i.Fb(a.A,"blocklyReplaceable")};
var uk,vk,wk=null,xk=null,yk=null,zk=null,Ak=0;function Bk(){if(!wk){var a=document.createElement("div");a.className="blocklyDropDownDiv";document.body.appendChild(a);wk=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);uk=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);vk=b;wk.style.transition="transform 0.25s, opacity 0.25s"}}function Ck(){uk.innerHTML="";uk.style.width=""}
function Dk(a){var b=a.jb.getBoundingClientRect();var d=b.left+b.width/2;var e=b.bottom;b=b.top;xk=H(a.u.o).parentNode;yk=a;Ak=void 0;a=xk.getBoundingClientRect();var f=sh(xk);var h=a.left;var k=a.left+f.width;var l=a.top;f=a.top+f.height;a=sh(wk);if(e+a.height>f)if(b-a.height<l){f=d;l=0;d=!1;var m=!0}else f=d,l=b-a.height-16,d=!0;else f=d,l=e+16,d=!1;var n=f;f-=a.width/2;f=v.i.bo(h,f,k-a.width);k=v.i.bo(h,n-8,k)-f;k=v.i.bo(12,k,a.width-12-16);h=f;e=d?b-a.height:e;b=f;a=(d?a.height-1:0)-9;m=!m;vk.style.transform=
"translate("+k+"px,"+a+"px) rotate(45deg)";vk.setAttribute("class",d?"blocklyDropDownArrow arrowBottom":"blocklyDropDownArrow arrowTop");vk.style.display=m?"":"none";Ek(h,e,b,l)}function Fk(){var a=wk;a.style.transform="translate(0px, 0px)";a.style.opacity=0;zk=setTimeout(function(){Gk()},250);Ak&&(Ak(),Ak=null)}function Gk(){yk&&(zk&&window.clearTimeout(zk),Ek(),Ck(),yk=null,Ak&&(Ak(),Ak=null))}
function Ek(a,b,d,e){a=null==a?a:Math.floor(a);b=null==b?b:Math.floor(b);d=null==d?d:Math.floor(d);e=null==e?e:Math.floor(e);var f=wk;f.style.left=null!=a?a+"px":"";f.style.top=null!=b?b+"px":"";null!=d?(f.style.display="block",f.style.opacity=1,f.style.transform="translate("+(d-a)+"px,"+(e-b)+"px)"):(f.style.display="none",f.style.transform="")};v.g={};function jk(a,b){jk.v.constructor.call(this,a,b)}u(jk,zh);jk.ma=function(a){var b=v.i.oc(a.text);b=new jk(b,a["class"]);"boolean"===typeof a.spellcheck&&(b.rn=a.spellcheck);return b};jk.prototype.uf=!0;var Hk=null;c=jk.prototype;c.Cl="text";c.rn=!0;c.D=function(){v.N.kk(this);jk.v.D.call(this)};c.setValue=function(a){if(null!==a){if(this.u){var b=Gd(this,a);null!==b&&(a=b)}zh.prototype.setValue.call(this,a)}};
c.Gb=function(a){null!==a&&(a=String(a),a!==this.qa&&(this.u&&v.j.isEnabled()&&v.j.Y(new v.j.jd(this.u,"field",this.name,this.qa,a)),zh.prototype.Gb.call(this,a)))};
c.ze=function(a){this.m=this.u.o;a=a||!1;if(!a&&(jc||lc||nc))Ik(this);else{v.N.show(this,this.u.w,Jk(this));var b=v.N.sa,d=document.createElement("input");d.className="blocklyHtmlInput";d.setAttribute("spellcheck",this.rn);var e=11*this.m.scale+"pt";b.style.fontSize=e;d.style.fontSize=e;Hk=d;b.appendChild(d);d.value=d.defaultValue=this.qa;d.Rt=null;Kk(this);this.mn();a||(d.focus(),d.select());d.sz=v.W(d,"keydown",this,this.rz);d.wz=v.W(d,"keyup",this,this.Vt);d.vz=v.W(d,"keypress",this,this.Vt);d.au=
this.mn.bind(this);this.m.Vc(d.au)}};function Ik(a){v.prompt(v.g.CHANGE_VALUE_TITLE,a.qa,function(b){a.u&&(b=Gd(a,b));a.setValue(b)})}c.rz=function(a){var b=Hk;13==a.keyCode?(v.N.ya(),yk===this&&Fk()):27==a.keyCode?(b.value=b.defaultValue,v.N.ya(),yk===this&&Fk()):9==a.keyCode&&(v.N.ya(),yk===this&&Fk(),ik(this.u,this,!a.shiftKey),a.preventDefault())};c.Vt=function(){var a=Hk,b=a.value;b!==a.Rt?(a.Rt=b,v.j.T(!0),this.setValue(b),v.j.T(!1),Kk(this)):z&&this.u.ca();this.mn();v.Vh(this.u.o)};
function Kk(a){var b=!0;if(!Hk)throw Error("htmlInput not defined");var d=Hk;a.u&&(b=Gd(a,d.value));null===b?v.i.Ya(d,"blocklyInvalidInput"):v.i.Fb(d,"blocklyInvalidInput")}c.mn=function(){var a=v.N.sa,b=Hh(this);a.style.width=b.right-b.left+"px";a.style.height=b.bottom-b.top+"px";b=new A(this.u.w?b.right-a.offsetWidth:b.left,b.top);b.y+=1;ic&&v.N.sa.style.top&&(--b.x,--b.y);z&&(b.y-=3);a.style.left=b.x+"px";a.style.top=b.y+"px"};
function Jk(a){return function(){var b=Hk,d=Hk,e=d.value;a.u&&(e=Gd(a,e),null===e?e=d.defaultValue:a.Mp&&a.Mp(e));a.Gb(e);a.u.U&&a.u.ca();v.Ta(b.sz);v.Ta(b.wz);v.Ta(b.vz);a.m.Ig(b.au);Hk=null;v.j.T(!1);b=v.N.sa.style;b.width="auto";b.height="auto";b.fontSize=""}}Bh("field_input",jk);function Lk(a,b){this.Ru=v.i.C("tspan",{},null);this.Ru.appendChild(document.createTextNode("\u00b0"));a=a&&!isNaN(a)?String(a):"0";Lk.v.constructor.call(this,a,b)}u(Lk,jk);Lk.ma=function(a){return new Lk(a.angle)};c=Lk.prototype;c.uf=!0;c.Kg=function(){this.Ma.textContent=Fh(this);this.Ma.appendChild(this.Ru);this.qj()};c.xi=function(){var a=this;return function(){Lk.v.xi.call(a)();a.Xj=null;a.fo&&v.Ta(a.fo);a.Fp&&v.Ta(a.Fp);a.Gp&&v.Ta(a.Gp)}};
c.ze=function(){Lk.v.ze.call(this,jc||lc||nc);Gk();Ck();var a=v.i.C("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:"100px",width:"100px"},uk),b=v.i.C("circle",{cx:50,cy:50,r:49,"class":"blocklyAngleCircle"},a);this.Xj=v.i.C("path",{"class":"blocklyAngleGauge"},a);this.Dt=v.i.C("line",{x1:50,y1:50,"class":"blocklyAngleLine"},a);for(var d=0;360>d;d+=15)v.i.C("line",{x1:99,y1:50,x2:99-(0==d%45?10:
5),y2:50,"class":"blocklyAngleMarks",transform:"rotate("+d+",50,50)"},a);d=this.u.Ud;wk.style.backgroundColor=this.u.Ud;wk.style.borderColor=d;Dk(this);this.fo=v.tc(a,"click",this,this.Cy.bind(this));this.Fp=v.tc(b,"mousemove",this,this.$t);this.Gp=v.tc(this.Xj,"mousemove",this,this.$t);Mk(this)};c.Cy=function(){v.Ta(this.Fp);v.Ta(this.Gp);v.Ta(this.fo);yk===this&&Fk();v.N.ya()};
c.$t=function(a){var b=this.Xj.ownerSVGElement.getBoundingClientRect(),d=a.clientX-b.left-50;a=a.clientY-b.top-50;b=Math.atan(-a/d);isNaN(b)||(b=v.i.pA(b),0>d?b+=180:0<a&&(b+=360),b=15*Math.round((b-0)/15),b=Gd(this,b),Hk.value=b,this.setValue(b),Kk(this),this.mn())};c.Gb=function(a){Lk.v.Gb.call(this,a);this.Ma&&Mk(this)};
function Mk(a){if(a.Xj){var b=Number(a.Eb())+0;b=v.i.fl(b);var d=["M ",50,",",50],e=50,f=50;if(!isNaN(b)){var h=v.i.fl(0),k=49*Math.cos(h),l=-49*Math.sin(h);e+=49*Math.cos(b);f-=49*Math.sin(b);d.push(" l ",k,",",l," A ",49,",",49," 0 ",Math.abs(Math.floor((b-h)/Math.PI)%2)," ",Number(!1)," ",e,",",f," z")}a.Xj.setAttribute("d",d.join(""));a.Dt.setAttribute("x2",e);a.Dt.setAttribute("y2",f)}}
c.co=function(a){if(null===a)return null;a=parseFloat(a||0);if(isNaN(a))return null;a%=360;0>a&&(a+=360);360<a&&(a-=360);return String(a)};Bh("field_angle",Lk);function Nk(a,b){Nk.v.constructor.call(this,"",b);this.setValue(a)}u(Nk,zh);Nk.ma=function(a){return new Nk(a.checked?"TRUE":"FALSE")};c=Nk.prototype;c.uf=!0;c.Cl="default";c.O=function(){this.jb||(Nk.v.O.call(this),this.Ql=v.i.C("text",{"class":"blocklyText blocklyCheckbox",x:-3,y:14},this.jb),this.Ql.appendChild(document.createTextNode("\u2713")),this.Ql.style.display=this.Za?"block":"none")};c.getValue=function(){return String(this.Za).toUpperCase()};
c.setValue=function(a){a="string"==typeof a?"TRUE"==a.toUpperCase():!!a;this.Za!==a&&(this.u&&v.j.isEnabled()&&v.j.Y(new v.j.jd(this.u,"field",this.name,this.Za,a)),this.Za=a,this.Ql&&(this.Ql.style.display=a?"block":"none"))};c.ze=function(){var a=!this.Za;this.u&&(a=Gd(this,a));null!==a&&this.setValue(String(a).toUpperCase())};Bh("field_checkbox",Nk);function Ok(a,b){Ok.v.constructor.call(this,a,b);this.Gb("\u00a0\u00a0\u00a0")}u(Ok,zh);Ok.ma=function(a){return new Ok(a.colour)};c=Ok.prototype;c.uf=!0;c.ix=null;c.oA=null;c.Ur=0;c.Cv="silver";c.Bv="white";c.O=function(){Ok.v.O.call(this);this.cc=new Cc(16,12);this.Wc.style.fillOpacity=1;this.Wc.setAttribute("width",this.cc.width+10);this.setValue(this.getValue())};c.Cl="default";c.D=function(){v.N.kk(this);Ok.v.D.call(this)};c.qj=function(){};c.getValue=function(){return this.Ud};
c.setValue=function(a){this.u&&v.j.isEnabled()&&this.Ud!=a&&v.j.Y(new v.j.jd(this.u,"field",this.name,this.Ud,a));this.Ud=a;this.Wc&&(this.Wc.style.fill=a)};c.Eb=function(){var a=this.Ud,b=a.match(/^#(.)\1(.)\2(.)\3$/);b&&(a="#"+b[1]+b[2]+b[3]);return a};
var Pk="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),Qk=
[],Rk=7;Ok.prototype.setColumns=function(a){this.Ur=a;return this};Ok.prototype.ze=function(){Gk();Ck();var a=this.Oj();uk.appendChild(a);var b=this.Cv;wk.style.backgroundColor=this.Bv;wk.style.borderColor=b;Dk(this);v.tc(a,"mouseup",this,this.Hk)};Ok.prototype.Hk=function(a){(a=a.target)&&!a.label&&(a=a.parentNode);a=a&&a.label;v.N.ya();this.u&&(a=Gd(this,a));null!==a&&this.setValue(a)};
Ok.prototype.Oj=function(){var a=this.Ur||Rk,b=this.ix||Pk,d=this.oA||Qk,e=this.getValue(),f=document.createElement("table");f.className="blocklyColourTable";for(var h,k=0;k<b.length;k++){0==k%a&&(h=document.createElement("tr"),f.appendChild(h));var l=document.createElement("td");h.appendChild(l);var m=document.createElement("div");l.appendChild(m);l.label=b[k];l.title=d[k]||b[k];m.style.backgroundColor=b[k];b[k]==e&&(m.className="blocklyColourSelected")}return f};Bh("field_colour",Ok);function M(a,b){"function"!=typeof a&&Sk(a);this.zh=a;this.Kq=this.Xp=null;a=this.zh;if(Array.isArray(a)){for(var d=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=v.i.oc(f):(null!=f.alt&&(a[e][0].alt=v.i.oc(f.alt)),d=!0)}if(!(d||2>a.length)){f=[];for(e=0;e<a.length;e++)f.push(a[e][0]);var h=v.i.zq(f);e=v.i.lx(f,h);d=v.i.mx(f,h);if((e||d)&&!(h<=e+d)){e&&(this.Xp=f[0].substring(0,e-1));d&&(this.Kq=f[0].substr(1-d));f=[];for(h=0;h<a.length;h++){var k=a[h][0],l=a[h][1];k=k.substring(e,
k.length-d);f[h]=[k,l]}this.zh=f}}}a=this.getOptions()[0];M.v.constructor.call(this,a[1],b)}u(M,zh);M.ma=function(a){return new M(a.options)};M.prototype.uf=!0;var Tk=lc?"\u25bc":"\u25be";c=M.prototype;c.Cl="default";c.ub="";c.Mc=null;c.Ye=null;c.O=function(){this.jb||(this.ag=v.i.C("tspan",{},null),this.ag.appendChild(document.createTextNode(this.u.w?Tk+" ":" "+Tk)),M.v.O.call(this))};
c.ze=function(){v.N.show(this,this.u.w,null);var a=new ck;a.Pf(this.u.w);for(var b=this.getOptions(),d=0;d<b.length;d++){var e=b[d][0],f=b[d][1];if("object"==typeof e){var h=new Image(e.width,e.height);h.src=e.src;h.alt=e.alt||"";e=h}e=new Yj(e);e.Pf(this.u.w);e.setValue(f);e.qq(!0);a.Il(e,!0);Aj(e,f==this.ub)}Uk(this,a);b=v.i.Ys();d=Hh(this);this.u.w?d.right+=25:d.left-=25;this.Oj(a);f=v.i.oj.ck(a);e=.45*document.documentElement.clientHeight;f.height>e&&(f.height=e);this.u.w&&v.i.oj.xr(b,d,f);v.N.iu(b,
d,f,this.u.w);a.K().focus()};function Uk(a,b){oi(b,"action",function(d){(d=d.target)&&a.Wt(d);v.N.kk(a);v.j.T(!1)})}c.Oj=function(a){a.ca(v.N.sa);v.i.Ya(a.K(),"blocklyDropdownMenu");a.Jl=!0;a.Qg(!0)};c.Wt=function(a){a=a.getValue();this.u&&(a=Gd(this,a));null!==a&&this.setValue(a)};c.getOptions=function(){if("function"==typeof this.zh){var a=this.zh.call(this);Sk(a);return a}return this.zh};c.getValue=function(){return this.ub};
c.setValue=function(a){if(!(null===a||a===this.ub&&this.qa)){this.u&&v.j.isEnabled()&&v.j.Y(new v.j.jd(this.u,"field",this.name,this.ub,a));this.ub=a;for(var b=this.getOptions(),d=0;d<b.length;d++)if(b[d][1]==a){a=b[d][0];"object"==typeof a?(this.Ye=a,this.qa=a.alt):(this.Ye=null,this.qa=a);this.Wj();return}this.qa=a;this.Wj()}};
c.Kg=function(){this.u&&this.ag&&(this.ag.style.fill=this.u.Ud);for(var a;a=this.Ma.firstChild;)this.Ma.removeChild(a);this.Mc&&(v.i.removeNode(this.Mc),this.Mc=null);this.Ye?(this.Mc=v.i.C("image",{y:5,height:this.Ye.height+"px",width:this.Ye.width+"px"},this.jb),this.Mc.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.Ye.src),this.Ma.appendChild(this.ag),a=Gh(this.ag),this.cc.height=Number(this.Ye.height)+19,this.cc.width=Number(this.Ye.width)+a,this.u.w?(this.Mc.setAttribute("x",
a),this.Ma.setAttribute("x",-1)):(this.Ma.setAttribute("text-anchor","end"),this.Ma.setAttribute("x",this.cc.width+1))):(a=document.createTextNode(Fh(this)),this.Ma.appendChild(a),this.u.w?this.Ma.insertBefore(this.ag,this.Ma.firstChild):this.Ma.appendChild(this.ag),this.Ma.setAttribute("text-anchor","start"),this.Ma.setAttribute("x",0),this.cc.height=25,this.cc.width=Gh(this.Ma));this.Wc.setAttribute("height",this.cc.height-9);this.Wc.setAttribute("width",this.cc.width+10)};
c.qj=function(){if(this.Ye&&(x||hc)){var a=Gh(this.ag);a=Number(this.Ye.width)+a+10;this.Wc&&this.Wc.setAttribute("width",a);this.cc.width=a}else zh.prototype.qj.call(this)};c.D=function(){v.N.kk(this);M.v.D.call(this)};
function Sk(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");for(var b=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(b=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(b=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+e[0]+" in: ",e)):(b=!0,console.error("Invalid option["+
d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(b)throw TypeError("Found invalid FieldDropdown options.");}Bh("field_dropdown",M);function Vk(a,b){Vk.v.constructor.call(this,a,b)}u(Vk,Ih);Vk.ma=function(a){var b=v.i.oc(a.text);return new Vk(b,a["class"])};Vk.prototype.Yf=!1;Vk.prototype.uf=!0;Bh("field_label_serializable",Vk);function tk(a,b,d,e,f,h){this.u=null;this.xa=Number(d);this.ka=Number(b);this.cc=new Cc(this.ka,this.xa+10);this.Wx=h;this.Xh="";this.setValue(a);this.Gb(e);"function"==typeof f&&(this.Sl=f)}u(tk,zh);tk.ma=function(a){var b=v.i.oc(a.src),d=Number(v.i.oc(a.width)),e=Number(v.i.oc(a.height)),f=v.i.oc(a.alt);return new tk(b,d,e,f,null,!!a.flipRtl)};c=tk.prototype;c.Yf=!1;
c.O=function(){this.jb||(this.jb=v.i.C("g",{"aria-hidden":!0},null),this.mb||(this.jb.style.display="none"),this.Mc=v.i.C("image",{height:this.xa+"px",width:this.ka+"px"},this.jb),this.setValue(this.Ju),this.Gb(this.qa),this.u.X().appendChild(this.jb),this.Xh?this.Mc.ud=this.Xh:this.Aa(this.u),v.F.ah(this.Mc),this.Sl&&(this.Um=v.W(this.jb,"mousedown",this,this.Sl)))};c.D=function(){this.jb&&(v.i.removeNode(this.jb),this.jb=null);this.Mc=null};c.Aa=function(a){this.Xh=a;this.Mc&&(this.Mc.ud=a)};
c.getValue=function(){return this.Ju};c.setValue=function(a){null!==a&&(this.Ju=a,this.Mc&&this.Mc.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a||""))};c.Gb=function(a){null!==a&&(this.qa=a,this.Mc&&this.Mc.setAttribute("alt",a||""))};c.Kg=function(){};c.Wj=function(){};c.qj=function(){};c.ze=function(){this.Sl&&this.Sl(this)};Bh("field_image",tk);function Wk(a,b,d,e,f){e=parseFloat(e);this.dn=isNaN(e)?0:e;e=this.dn.toString();var h=e.indexOf(".");this.Ps=-1==h?-1:e.length-(h+1);b=parseFloat(b);this.dz=isNaN(b)?-Infinity:b;d=parseFloat(d);this.cz=isNaN(d)?Infinity:d;a=a&&!isNaN(a)?String(a):"0";Wk.v.constructor.call(this,a,f)}u(Wk,jk);Wk.ma=function(a){return new Wk(a.value,a.min,a.max,a.precision)};Wk.prototype.uf=!0;
Wk.prototype.co=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=parseFloat(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.dz),this.cz);this.dn&&isFinite(a)&&(a=Math.round(a/this.dn)*this.dn);return-1==this.Ps?String(a):a.toFixed(this.Ps)};Bh("field_number",Wk);function Xk(a,b,d,e){this.zh=Yk;this.cc=new Cc(0,25);this.Zh=b;this.Ax=a||"";a=e||"";if(null==d||void 0==d)d=null;else if(Array.isArray(d)){b=!1;for(e=0;e<d.length;e++)d[e]==a&&(b=!0);if(!b)throw Error("Invalid default type '"+a+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.zx=a;this.xA=d;this.ub=null}u(Xk,M);Xk.ma=function(a){var b=v.i.oc(a.variable);return new Xk(b,null,a.variableTypes,a.defaultType)};
c=Xk.prototype;c.uf=!0;c.O=function(){this.jb||(Xk.v.O.call(this),this.sh())};c.sh=function(){if(!this.vd){this.m=this.u.o;var a=v.G.vm(this.m,null,this.Ax,this.zx);v.j.disable();try{this.setValue(a.ea())}finally{v.j.enable()}}};c.Qs=function(a){var b=a.getAttribute("id"),d=a.textContent;a=a.getAttribute("variabletype")||"";b=v.G.vm(this.m||this.u.o,b,d,a);this.setValue(b.ea())};
c.hl=function(a){this.sh();a.setAttribute("name",this.name);a.setAttribute("id",this.vd.ea());a.textContent=this.vd.name;a.setAttribute("variableType",this.vd.type);return a};c.D=function(){Xk.v.D.call(this);this.Ea=this.m=null};c.yq=function(a){if(a.Oa)throw Error("Variable fields are not allowed to exist on shadow blocks.");Xk.v.yq.call(this,a)};c.getValue=function(){return this.vd?this.vd.ea():null};c.Eb=function(){return this.vd?this.vd.name:""};c.Kc=function(){return this.vd};
c.setValue=function(a){var b=v.G.Kc(this.u.o,a);if(!b)throw Error("Variable id doesn't point to a real variable!  ID was "+a);var d=b.type,e;a:if(e=Zk(this)){for(var f=0;f<e.length;f++)if(d==e[f]){e=!0;break a}e=!1}else e=!0;if(!e)throw Error("Variable type doesn't match this field!  Type was "+d);this.u&&v.j.isEnabled()&&(d=this.vd?this.vd.ea():null,v.j.Y(new v.j.jd(this.u,"field",this.name,d,a)));this.vd=b;this.ub=a;this.Gb(b.name)};
function Zk(a){var b=a.xA;if(null===b&&a.u)return a.u.o.Wo();b=b||[""];if(0==b.length)throw a=a.Eb(),Error("'variableTypes' of field variable "+a+" was an empty list");return b}
function Yk(){if(!this.vd)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.Eb(),b=null;this.u&&(b=this.u.o);var d=[];if(b)for(var e=Zk(this),f=0;f<e.length;f++)d=d.concat(b.ek(e[f]));d.sort(Eg);b=[];for(f=0;f<d.length;f++)b[f]=[d[f].name,d[f].ea()];b.push([v.g.RENAME_VARIABLE,v.kr]);v.g.DELETE_VARIABLE&&b.push([v.g.DELETE_VARIABLE.replace("%1",a),v.Zq]);return b}
c.Wt=function(a){a=a.getValue();if(this.u&&this.u.o){var b=this.u.o;if(a==v.kr){v.G.jn(b,this.vd);return}if(a==v.Zq){b.Le(this.vd.ea());return}}this.setValue(a)};c.Pk=function(){return!0};Bh("field_variable",Xk);function Mh(){this.jz="JavaScript";this.Gv=new RegExp(this.Kb,"g")}c=Mh.prototype;c.Dl=null;c.oi=null;c.qf="  ";c.mv=60;c.Gl=[];function $k(){var a=v.h,b=al;b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=v.nd());var d=[];a.O(b);b=Ld(b,!0);for(var e=0,f;f=b[e];e++){var h=bl(a,f);Array.isArray(h)&&(h=h[0]);h&&(f.M&&(h=a.Bu(h)),d.push(h))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");return d=d.replace(/[ \t]+\n/g,"\n")}
function cl(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}
function bl(a,b){if(!b)return"";if(b.disabled)return bl(a,Zc(b));var d=a[b.type];if("function"!=typeof d)throw Error('Language "'+a.jz+'" does not know how to generate  code for block type "'+b.type+'".');d=d.call(b,b);if(Array.isArray(d)){if(!b.M)throw TypeError("Expecting string from statement block: "+b.type);return[a.on(b,d[0],void 0),d[1]]}if("string"==typeof d){var e=b.id.replace(/\$/g,"$$$$");a.oi&&(d=a.oi.replace(/%1/g,"'"+e+"'")+d);return a.on(b,d,void 0)}if(null===d)return"";throw SyntaxError("Invalid code generated: "+
d);}
function Q(a,b,d){var e=v.h;if(isNaN(d))throw TypeError("Expecting valid order from block: "+a.type);var f=Rh(a,b);if(!f)return"";b=bl(e,f);if(""===b)return"";if(!Array.isArray(b))throw TypeError("Expecting tuple from value block: "+f.type);a=b[0];b=b[1];if(isNaN(b))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var h=Math.floor(d),k=Math.floor(b);if(h<=k&&(h!=k||0!=h&&99!=h))for(f=!0,h=0;h<e.Gl.length;h++)if(e.Gl[h][0]==d&&e.Gl[h][1]==b){f=!1;break}f&&(a="("+
a+")");return a}function dl(a,b){var d=v.h;a=Rh(a,b);b=bl(d,a);if("string"!=typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=cl(b,d.qf));return b}function el(a,b){var d=v.h;b=b.replace(/\$/g,"$$$$");d.Dl&&(a=d.Dl.replace(/%1/g,"'"+b+"'")+a);d.oi&&(a+=cl(d.oi.replace(/%1/g,"'"+b+"'"),d.qf));return a}c.Ln="";function fl(a){var b=v.h;b.Ln+=a+","}c.Kb="{leCUI8hutHZI4480Dc}";
function gl(a,b){var d=v.h;if(!d.eh[a]){var e=hl(d.$a,a,v.ta.ab);d.No[a]=e;b=b.join("\n").replace(d.Gv,e);for(var f;f!=b;)f=b,b=b.replace(/^(( {2})*) {2}/gm,"$1\x00");b=b.replace(/\0/g,d.qf);d.eh[a]=b}return d.No[a]}c.O=function(){};c.on=function(a,b){return b};c.finish=function(a){return a};c.Bu=function(a){return a};function il(a,b,d){if(!b)throw Error("Cannot create a node without a location.");this.Qc=a;a:{switch(a){case Ze:case be:case "input":case ce:a=!0;break a}a=!1}this.rk=a;this.pa=b;if(b=d||null)b.wsCoordinate?this.sj=b.wsCoordinate:b.input&&(this.Jz=b.input)}var $e="field",Ye="block",ce="output",be="next",Ze="previous",bf="stack",af="workspace";
function jl(a){return a?a.type===v.Fa||a.type===v.Ga&&a.Ve()?kl(a.Ve()):a.type===v.Ga?new il(be,a):a.type===v.je?new il(ce,a):a.type===v.ke?new il(Ze,a):null:null}function kl(a){return a?new il("input",a.connection,{input:a}):null}function ll(a){return new il(Ye,a)}function Vf(a,b){return new il(af,a,{wsCoordinate:b})}c=il.prototype;c.Ve=function(){return this.Jz};
function ml(a,b){a=a.pa;a instanceof ee||(a=a.u);if(!a)return null;var d=ff(a);a=Ld(d.o,!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return b=e+(b?1:-1),-1==b||b==a.length?null:new il(bf,a[b]);throw Error("Couldn't find "+(b?"next":"previous")+" stack?!?!?!");}function nl(a){if(a.R)for(;a&&a.R&&a.R.V&&E(a.R).J==a.R.V;)a=E(a.R);var b=a.R||a.M;return b&&b.V&&b.V.Ve()?kl(b.V.Ve()):new il(bf,a)}
c.next=function(){switch(this.Qc){case af:return Vf(this.pa,new A(this.sj.x+10,this.sj.y));case bf:return ml(this,!0);case ce:return ll(this.pa.u);case $e:a:{var a=this.pa;var b=a.Ve();var d=a.u;a=b.oa.indexOf(a)+1;for(var e=d.L.indexOf(b);b=d.L[e];e++){for(var f=b.oa;a<f.length;){if($f(f[a])){b=new il($e,f[a]);break a}a++}a=0;if(b.connection){b=kl(b);break a}}b=null}return b;case "input":a:{d=this.pa.Ve();b=d.u;for(d=b.L.indexOf(d)+1;a=b.L[d];d++){e=a.oa;f=0;for(var h;h=e[f];f++)if($f(h)){b=new il($e,
h);break a}if(a.connection){b=kl(a);break a}}b=null}return b;case Ye:if(b=this.pa.J)return jl(b);break;case Ze:return ll(this.pa.u);case be:if(b=this.pa.V)return jl(b)}return null};
c.pk=function(){switch(this.Qc){case af:var a=Ld(this.pa,!0);if(0<a.length)return new il(bf,a[0]);break;case bf:a=this.pa;var b=a.R||a.M;return b?jl(b):ll(a);case Ye:a:{a=this.pa.L;b=0;for(var d;d=a[b];b++){for(var e=d.oa,f=0,h;h=e[f];f++)if($f(h)){a=new il($e,h);break a}if(d.connection){a=kl(d);break a}}a=null}return a;case "input":if(a=this.pa.V)return jl(a)}return null};
c.ej=function(){switch(this.Qc){case af:return Vf(this.pa,new A(this.sj.x-10,this.sj.y));case bf:return ml(this,!1);case $e:a:{var a=this.pa;var b=a.Ve();var d=a.u;a=b.oa.indexOf(a)-1;for(var e=d.L.indexOf(b),f;f=d.L[e];e--){if(f.connection&&f!==b){b=kl(f);break a}for(f=f.oa;-1<a;){if($f(f[a])){b=new il($e,f[a]);break a}a--}0<=e-1&&(a=d.L[e-1].oa.length-1)}b=null}return b;case "input":a:{b=this.pa.Ve();d=b.u;for(a=d.L.indexOf(b);e=d.L[a];a--){if(e.connection&&e!==b){b=kl(e);break a}e=e.oa;f=e.length-
1;for(var h;h=e[f];f--)if($f(h)){b=new il($e,h);break a}}b=null}return b;case Ye:b=this.pa.M;if(b=this.pa.R||b)return jl(b);break;case Ze:if(b=this.pa.V)return jl(b);break;case be:return ll(this.pa.u)}return null};c.Jk=function(){switch(this.Qc){case bf:var a=this.pa.va();return Vf(this.pa.o,new A(a.x,a.y+-20));case ce:return(a=this.pa.V)?jl(a):new il(bf,this.pa.u);case $e:return ll(this.pa.u);case "input":return ll(this.pa.u);case Ye:return nl(this.pa);case Ze:return nl(this.pa.u);case be:return nl(this.pa.u)}return null};v.s={};v.s.Pb=null;v.s.yh=null;v.s.Zc=null;v.s.Qe=null;v.s.Ui=null;v.s.lr=1;v.s.Pn=2;v.s.mr=3;v.s.Zl=v.s.Pn;v.s.Eu=function(a){v.s.Pb=a};v.s.$z=function(a){v.s.yh=a};v.s.zp=function(){ae(v.s.yh,v.s.Pb.Cb)};v.s.Rz=function(){ae(v.s.yh,null);v.s.yh.ya()};v.s.Os=function(){v.s.yu(!1);v.s.Zl=v.s.mr;var a=v.nd(),b=a.$;v.s.yh.Cb||v.s.zp();a&&!v.s.Zc&&(v.s.Zc=b.Bc.Io);b.Bc.ff(v.s.Zc)};v.s.kz=function(){if(v.s.Zc){var a=ol(v.s.Zc);a&&(a.select(),v.s.Zc=a)}};
v.s.Lz=function(){if(v.s.Zc){var a=pl(v.s.Zc);a&&(a.select(),v.s.Zc=a)}};v.s.Jy=function(){if(v.s.Zc){var a=v.s.Zc;Pi(a)?a.vc()?(P(a,0).select(),v.s.Zc=P(a,0)):a.Hd(!0):v.s.Ns()}};v.s.Iz=function(){if(v.s.Zc){var a=v.s.Zc;if(Pi(a)&&a.vc()&&a.Ri)a.Hd(!1);else{var b=a.getParent();a=a.Jc();b&&(a.Rg||b!=a)&&(b.select(),v.s.Zc=b)}}};v.s.Ns=function(){v.s.Zl=v.s.lr;var a=v.nd();var b=a.$,d=v.s.Pb;a=b?b.H:$g(a);v.s.yh.Cb||v.s.zp();a&&a.ng()&&(a=Ld(a.ng()),0<a.length&&(a=a[0],v.s.Qe=a,a=ll(v.s.Qe),ae(d,a)))};
v.s.Xz=function(){if(v.s.Qe){var a=v.s.Ws(),b=a.indexOf(v.s.Qe),d=v.s.Pb,e;-1<b&&a[++b]&&(e=a[b]);e&&(v.s.Qe=e,a=ll(e),ae(d,a))}};v.s.Yz=function(){if(v.s.Qe){var a=v.s.Ws(),b=a.indexOf(v.s.Qe),d=v.s.Pb,e;-1<b&&a[--b]&&(e=a[b]);e&&(v.s.Qe=e,a=ll(e),ae(d,a))}};v.s.Ws=function(){var a=v.nd(),b=a.$,d=[];(a=b?b.H:$g(a))&&a.ng()&&(d=Ld(a.ng()));return d};
v.s.Ny=function(){var a=$g(v.nd());if(a&&a.isVisible()){var b=Qf(a,v.s.Qe);b.ca();Vd(b,!1);ae(v.s.Pb,ll(b));v.s.modify()||v.s.warn("Something went wrong while inserting a block from the flyout.");v.s.km();a=b.R;b=b.M;a=jl(a?a:b);ae(v.s.Pb,a);v.s.Rz()}else v.s.warn("Trying to insert from the flyout when the flyout does not  exist or is not visible")};v.s.yu=function(a){var b=v.s.Pb;v.s.Qe=null;b.ya();a&&$g(b.m).ya()};
v.s.modify=function(){var a=v.s.yh.Cb,b=v.s.Pb.Cb;if(!a)return v.s.warn("Cannot insert with no marked node."),!1;if(!b)return v.s.warn("Cannot insert with no cursor node."),!1;var d=a.Qc,e=b.Qc;if(d==$e)return v.s.warn("Should not have been able to mark a field."),!1;if(d==Ye)return v.s.warn("Should not have been able to mark a block."),!1;if(d==bf)return v.s.warn("Should not have been able to mark a stack."),!1;if(e==$e)return v.s.warn("Cannot attach a field to anything else."),!1;if(e==af)return v.s.warn("Cannot attach a workspace to anything else."),
!1;var f=b.pa,h=a.pa;if(a.rk){if(b.rk)return v.s.connect(f,h);if(e==Ye||e==bf)return v.s.ot(f,h)}else if(d==af){if(b.rk){if("input"==e||e==be)return v.s.warn("Cannot move a next or input connection to the workspace."),!1;b=f.u}else if(e==Ye||e==bf)b=f;else return!1;if(b.Oa)return v.s.warn("Cannot move a shadow block to the workspace."),!1;b.getParent()&&Id(b,!1);b.moveTo(a.sj);return!0}v.s.warn("Unexpected state in Blockly.Navigation.modify.");return!1};
v.s.connect=function(a,b){if(a){var d=a.u;b.type!=v.ke&&b.type!=v.je||uf(d,a,b);try{return b.connect(a),!0}catch(e){v.s.warn("Connection failed with error: "+e)}}return!1};v.s.Tx=function(a,b){if(!a||!b)return null;if(b.type===v.ke)return a.J;if(b.type===v.Ga)return a.R;if(b.type===v.Fa)return a.M;if(b.type===v.je)for(b=0;b<a.L.length;b++){var d=a.L[b].connection;if(d.type===v.Fa)return d}return null};
v.s.ot=function(a,b){(a=v.s.Tx(a,b))&&a.isConnected()&&!E(a).Oa&&a.disconnect();return v.s.connect(a,b)};v.s.Jx=function(){var a=v.s.Pb.Cb;if(a.rk){var b=a.pa;b.isConnected()?(a=Je(b)?b:b.V,b=Je(b)?b.V:b,b.u.Oa?v.s.log("Cannot disconnect a shadow block"):(a.disconnect(),Ge(b,a),Af(ff(a.u)),a=jl(a),ae(v.s.Pb,a))):v.s.log("Cannot disconnect unconnected connection")}else v.s.log("Cannot disconnect blocks when the cursor is not on a connection")};
v.s.km=function(){var a=v.s.Pb;v.s.yu(v.nd().$?!0:!1);v.s.Zl=v.s.Pn;v.s.Px();if(v.selected){var b=v.selected.R,d=v.selected.M;b=jl(b?b:d);ae(a,b);v.selected.Ug()}else b=Vf(a.m,new A(100,100)),ae(a,b)};v.s.ny=function(){var a=v.s.Pb.Cb,b=a.Qc;b===$e?a.pa.ze():a.rk||b==af?v.s.zp():b==Ye?v.s.warn("Cannot mark a block."):b==bf&&v.s.warn("Cannot mark a stack.")};
v.s.navigate=function(a){var b=v.s.Zl;if(84===a.keyCode)return v.nd().$?(v.s.Os(),v.s.log("T: Focus Toolbox")):(v.s.Ns(),v.s.log("T: Focus Flyout")),!0;if(b===v.s.lr)return v.s.Xx(a);if(b===v.s.Pn)return v.s.CA(a);if(b===v.s.mr)return v.s.sA(a);v.s.log("Not a valid key ");return!1};
v.s.Xx=function(a){return 87===a.keyCode?(v.s.Yz(),v.s.log("W: Flyout : Previous"),!0):65===a.keyCode?(v.s.Os(),v.s.log("A: Flyout : Go To Toolbox"),!0):83===a.keyCode?(v.s.Xz(),v.s.log("S: Flyout : Next"),!0):13===a.keyCode?(v.s.Ny(),v.s.log("Enter: Flyout : Select"),!0):69===a.keyCode||27===a.keyCode?(v.s.km(),v.s.log("E or ESC: Flyout: Exit"),!0):!1};
v.s.sA=function(a){return 87===a.keyCode?(v.s.Lz(),v.s.log("W: Toolbox : Previous"),!0):65===a.keyCode?(v.s.Iz(),v.s.log("A: Toolbox : Out"),!0):83===a.keyCode?(v.s.kz(),v.s.log("S: Toolbox : Next"),!0):68===a.keyCode?(v.s.Jy(),v.s.log("D: Toolbox : Go to flyout"),!0):13===a.keyCode?!0:69===a.keyCode||27===a.keyCode?(v.s.log("E or ESC: Toolbox: Exit"),v.s.km(),!0):!1};
v.s.CA=function(a){return 87===a.keyCode?(v.s.Pb.ej(),v.s.log("W: Workspace : Previous"),!0):65===a.keyCode?(v.s.Pb.Jk(),v.s.log("A: Workspace : Out"),!0):83===a.keyCode?(v.s.Pb.next(),v.s.log("S: Workspace : Next"),!0):68===a.keyCode?(v.s.Pb.pk(),v.s.log("D: Workspace : In"),!0):73===a.keyCode?(v.s.modify(),v.s.log("I: Workspace : Insert/Connect Blocks"),!0):13===a.keyCode?(v.s.ny(),v.s.log("Enter: Workspace : Mark"),!0):88===a.keyCode?(v.s.log("X: Workspace: Disconnect Blocks"),v.s.Jx(),!0):!1};
v.s.Px=function(){v.Si=!0};v.s.vB=function(){v.Si=!1};v.s.log=function(a){v.s.Ui?v.s.Ui("log",a):console.log(a)};v.s.warn=function(a){v.s.Ui?v.s.Ui("warn",a):console.warn(a)};v.s.error=function(a){v.s.Ui?v.s.Ui("error",a):console.error(a)};function ql(){var a=v.h.Ln;this.$u="";this.xu=Object.create(null);if(a){a=a.split(",");for(var b=0;b<a.length;b++)this.xu[a[b]]=!0}this.reset()}ql.prototype.reset=function(){this.Vd=Object.create(null);this.ws=Object.create(null);this.Ea=null};
ql.prototype.getName=function(a,b){if(b==v.G.ab){var d=a;this.Ea?d=(d=this.Ea.oe(d))?d.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),d=null);d&&(a=d)}d=a.toLowerCase()+"_"+b;var e=b==v.G.ab||"DEVELOPER_VARIABLE"==b?this.$u:"";if(d in this.Vd)return e+this.Vd[d];a=hl(this,a,b);this.Vd[d]=
a.substr(e.length);return a};function hl(a,b,d){b?(b=encodeURI(b.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(b[0])&&(b="my_"+b)):b="unnamed";for(var e="";a.ws[b+e]||b+e in a.xu;)e=e?e+1:2;b+=e;a.ws[b]=!0;return(d==v.G.ab||"DEVELOPER_VARIABLE"==d?a.$u:"")+b}function Cd(a,b){return a.toLowerCase()==b.toLowerCase()};v.ta={};v.ta.ab=v.jr;v.ta.Jw=function(a){a=B(a,!1);for(var b=[],d=[],e=0;e<a.length;e++)if(a[e].Jf){var f=a[e].Jf();f&&(f[2]?b.push(f):d.push(f))}d.sort(v.ta.nu);b.sort(v.ta.nu);return[d,b]};v.ta.nu=function(a,b){return a[0].toLowerCase().localeCompare(b[0].toLowerCase())};v.ta.Ux=function(a,b){if(b.yb)return a;for(;!v.ta.Py(a,b.o,b);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};v.ta.Py=function(a,b,d){return!v.ta.Ry(a,b,d)};
v.ta.Ry=function(a,b,d){b=B(b,!1);for(var e=0;e<b.length;e++)if(b[e]!=d&&b[e].Jf){var f=b[e].Jf();if(Cd(f[0],a))return!0}return!1};v.ta.wu=function(a){a=a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"");var b=v.ta.Ux(a,this.u),d=this.qa;if(d!=a&&d!=b){a=B(this.u.o,!1);for(var e=0;e<a.length;e++)a[e].Rk&&a[e].Rk(d,b)}return b};
v.ta.kg=function(a){function b(h,k){for(var l=0;l<h.length;l++){var m=h[l][0],n=h[l][1],t=v.B.i.createElement("block");t.setAttribute("type",k);t.setAttribute("gap",16);var w=v.B.i.createElement("mutation");w.setAttribute("name",m);t.appendChild(w);for(m=0;m<n.length;m++){var r=v.B.i.createElement("arg");r.setAttribute("name",n[m]);w.appendChild(r)}d.push(t)}}var d=[];if(v.I.procedures_defnoreturn){var e=v.B.i.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=v.B.i.createElement("field");f.setAttribute("name","NAME");f.appendChild(v.B.i.createTextNode(v.g.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}v.I.procedures_defreturn&&(e=v.B.i.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=v.B.i.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(v.B.i.createTextNode(v.g.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));v.I.procedures_ifreturn&&(e=v.B.i.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=v.ta.Jw(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");return d};v.ta.$x=function(a,b){var d=[];b=B(b,!1);for(var e=0;e<b.length;e++)if(b[e].Dd){var f=b[e].Dd();f&&Cd(f,a)&&d.push(b[e])}return d};
v.ta.Gk=function(a){var b=v.j.mc,d=a.Jf()[0],e=a.za(!0);a=v.ta.$x(d,a.o);d=0;for(var f;f=a[d];d++){var h=f.za();h=h&&v.B.md(h);f.Qa(e);var k=f.za();k=k&&v.B.md(k);h!=k&&(v.j.mc=!1,v.j.Y(new v.j.jd(f,"mutation",null,h,k)),v.j.mc=b)}};v.ta.Zj=function(a,b){b=Ld(b,!1);for(var d=0;d<b.length;d++)if(b[d].Jf){var e=b[d].Jf();if(e&&Cd(e[0],a))return b[d]}return null};function rl(a,b,d,e){this.m=a;this.Ca=b;this.qa=d.getAttribute("text");this.Oc=new A(0,0);this.yg=e;this.Pl=d.getAttribute("callbackKey");this.js=d.getAttribute("web-class")||null}c=rl.prototype;c.width=0;c.height=0;c.Fh=null;
c.ba=function(){var a=this.yg?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.js&&(a+=" "+this.js);this.A=v.i.C("g",{"class":a},this.m.Sa);if(!this.yg)var b=v.i.C("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.A);a=v.i.C("rect",{"class":this.yg?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.A);var d=v.i.C("text",{"class":this.yg?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.A);d.textContent=v.i.oc(this.qa);this.width=
Gh(d);this.height=20;this.yg||(this.width+=10,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);d.setAttribute("x",this.width/2);d.setAttribute("y",this.height-5);sl(this);this.Fh=v.W(this.A,"mouseup",this,this.Ez);return this.A};c.show=function(){sl(this);this.A.setAttribute("display","block")};function sl(a){a.A.setAttribute("transform","translate("+a.Oc.x+","+a.Oc.y+")")}
c.moveTo=function(a,b){this.Oc.x=a;this.Oc.y=b;sl(this)};c.Xs=function(){return this.Oc};c.D=function(){this.Fh&&v.Ta(this.Fh);this.A&&(v.i.removeNode(this.A),this.A=null);this.Ca=this.m=null};c.Ez=function(a){(a=this.Ca.Ue(a))&&a.cancel();this.yg&&this.Pl?console.warn("Labels should not have callbacks. Label text: "+this.qa):this.yg||this.Pl&&hh(this.Ca,this.Pl)?this.yg||hh(this.Ca,this.Pl)(this):console.warn("Buttons should have callbacks. Button text: "+this.qa)};function tl(a){a.qb=this.If.bind(this);a.Of=this.pn.bind(this);this.m=new Rg(a);this.m.ae=!0;this.w=!!a.w;this.gd=a.ra;this.Fo=[];this.Sm=[];this.Gj=[];this.dd=[];this.Vp=[]}c=tl.prototype;c.si=!0;c.Bg=!1;c.bh=!0;c.wa=8;c.Rd=tl.prototype.wa;c.Jv=3*tl.prototype.Rd;c.Kv=3*tl.prototype.Rd;c.Zg=2;c.ka=0;c.xa=0;c.Hs=70;c.ba=function(a){this.A=v.i.C(a,{"class":"blocklyFlyout",style:"display: none"},null);this.Ld=v.i.C("path",{"class":"blocklyFlyoutBackground"},this.A);this.A.appendChild(this.m.ba());return this.A};
c.O=function(a){this.Ca=a;this.m.Wh=a;this.pc=new gg(this.m,this.Xe,!1,"blocklyFlyoutScrollbar");this.ya();Array.prototype.push.apply(this.Fo,v.W(this.A,"wheel",this,this.ev));this.si||(this.im=this.Ho.bind(this),this.Ca.Vc(this.im));Array.prototype.push.apply(this.Fo,v.W(this.Ld,"mousedown",this,this.Fg));this.m.Ue=this.Ca.Ue.bind(this.Ca);this.m.Ea=this.Ca.Ea;a=this.m;a.dj=new zd(a)};
c.D=function(){this.ya();v.Ta(this.Fo);this.im&&(this.Ca.Ig(this.im),this.im=null);this.pc&&(this.pc.D(),this.pc=null);this.m&&(this.m.Wh=null,this.m.D(),this.m=null);this.A&&(v.i.removeNode(this.A),this.A=null);this.Ca=this.Ld=null};c.Lc=function(){return this.ka};c.Ei=function(){return this.xa};c.ng=function(){return this.m};c.isVisible=function(){return this.Bg};c.Ba=function(a){var b=a!=this.isVisible();this.Bg=a;b&&this.ml()};c.Mh=function(a){var b=a!=this.bh;this.bh=a;b&&this.ml()};
c.ml=function(){var a=this.bh?this.isVisible():!1;this.A.style.display=a?"block":"none";this.pc.Mh(a)};function ul(a,b,d,e,f){a.A.setAttribute("width",b);a.A.setAttribute("height",d);"svg"==a.A.tagName?v.i.Uk(a.A,"translate("+e+"px,"+f+"px)"):a.A.setAttribute("transform","translate("+e+","+f+")");a.pc&&(a.pc.Qp=new A(e,f),a.pc.resize(),mg(a.pc,a.pc.Oc.x,a.pc.Oc.y))}
c.ya=function(){if(this.isVisible()){this.Ba(!1);for(var a=0,b;b=this.dd[a];a++)v.Ta(b);this.dd.length=0;this.Gg&&(this.m.Ig(this.Gg),this.Gg=null)}};
c.show=function(a){this.m.qc(!1);this.ya();vl(this);if("string"==typeof a){a=this.m.Wh.Mq[a]||null;if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.m.Wh);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.Ba(!0);var b=[],d=[];this.Vp.length=0;for(var e=this.Xe?this.Jv:this.Kv,f=0,h;h=a[f];f++)if(h.tagName)switch(h.tagName.toUpperCase()){case "BLOCK":var k=v.B.yi(h,this.m);k.disabled&&
this.Vp.push(k);b.push({type:"block",block:k});h=parseInt(h.getAttribute("gap"),10);d.push(isNaN(h)?e:h);break;case "SEP":h=parseInt(h.getAttribute("gap"),10);!isNaN(h)&&0<d.length?d[d.length-1]=h:d.push(e);break;case "LABEL":case "BUTTON":h=new rl(this.m,this.Ca,h,"LABEL"==h.tagName.toUpperCase()),b.push({type:"button",button:h}),d.push(e)}this.Bt(b,d);this.dd.push(v.W(this.Ld,"mouseover",this,function(){for(var l=Ld(this.m,!1),m=0,n;n=l[m];m++)n.Jh()}));this.Xe?this.xa=0:this.ka=0;this.m.qc(!0);
this.eq();this.Ho();this.position();this.Gg=this.eq.bind(this);this.m.Vc(this.Gg)};function vl(a){for(var b=Ld(a.m,!1),d=0,e;e=b[d];d++)e.o==a.m&&e.D(!1,!1);for(d=0;d<a.Sm.length;d++)(b=a.Sm[d])&&v.i.removeNode(b);for(d=a.Sm.length=0;b=a.Gj[d];d++)b.D();a.Gj.length=0;a.m.dj.clear()}
function wl(a,b,d,e){a.dd.push(v.W(b,"mousedown",null,xl(a,d)));a.dd.push(v.W(e,"mousedown",null,xl(a,d)));a.dd.push(v.tc(b,"mouseover",d,d.ri));a.dd.push(v.tc(b,"mouseout",d,d.Jh));a.dd.push(v.tc(e,"mouseover",d,d.ri));a.dd.push(v.tc(e,"mouseout",d,d.Jh))}function xl(a,b){return function(d){var e=a.Ca.Ue(d);e&&(Yf(e,b),Xf(e,d,a))}}c.Fg=function(a){var b=this.Ca.Ue(a);b&&Xf(b,a,this)};c.st=function(a){return!a.disabled};
function Qf(a,b){var d=null;v.j.disable();var e=a.Ca.Se();a.Ca.qc(!1);try{var f=a.Ca;if(!b.X())throw Error("oldBlock is not rendered.");var h=v.B.cg(b);f.qc(!1);var k=v.B.yi(h,f);if(!k.X())throw Error("block is not rendered.");var l=v.i.$j(f.Sa),m=v.i.$j(a.m.Sa),n=b.va().scale(a.m.scale),t=Ac(Bc(m,n),l).scale(1/f.scale);k.moveBy(t.x,t.y);d=k;v.hc()}finally{v.j.enable()}b=v.G.Us(a.Ca,e);if(v.j.isEnabled())for(v.j.T(!0),v.j.Y(new jd(d)),e=0;e<b.length;e++)v.j.Y(new nd(b[e]));a.si?a.ya():a.Ho();return d}
function yl(a,b,d,e){var f=b.ba();b.moveTo(d,e);b.show();a.dd.push(v.W(f,"mousedown",a,a.Fg));a.Gj.push(b)}function zl(a,b,d,e,f,h){d=v.i.C("rect",{"fill-opacity":0,x:d,y:e,height:f.height,width:f.width},null);d.ud=b;v.F.ah(d);a.m.Sa.insertBefore(d,b.X());b.jm=d;return a.Sm[h]=d}function Al(a,b,d){var e=d.Db();b.setAttribute("width",e.width);b.setAttribute("height",e.height);var f=d.Hq?15:0;f&&d.moveBy(0,f);f=d.M?G:0;d=d.va();b.setAttribute("y",d.y);b.setAttribute("x",a.w?d.x-e.width+f:d.x-f)}
c.Ho=function(){for(var a=Ld(this.m,!1),b=0,d;d=a[b];b++)if(-1==this.Vp.indexOf(d))for(var e=ge(this.Ca,v.i.Po(d));d;)d.Ub(e),d=Zc(d)};c.eq=function(){this.Gg&&this.m.Ig(this.Gg);this.uu();this.Gg&&this.m.Vc(this.Gg)};function Of(a){return a.pc?a.pc.isVisible():!1};function Ag(a){a.qb=this.If.bind(this);a.Of=this.pn.bind(this);Ag.v.constructor.call(this,a);this.Xe=!0}u(Ag,tl);c=Ag.prototype;c.If=function(){if(!this.isVisible())return null;try{var a=this.m.Sa.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.Zg,d=this.Zg;this.gd==v.$f&&(b=0);var e=this.xa;this.gd==v.Uc&&(e-=this.Zg);return{Pa:e,Ka:this.ka-2*this.Zg,Hc:(a.height+2*this.Rd)*this.m.scale,Xc:(a.width+2*this.Rd)*this.m.scale,Ib:-this.m.scrollY,vb:-this.m.scrollX,pb:0,wb:0,Ab:b,zb:d}};
c.pn=function(a){var b=this.If();b&&("number"==typeof a.x&&(this.m.scrollX=-b.Xc*a.x),this.m.translate(this.m.scrollX+b.zb,this.m.scrollY+b.Ab))};c.position=function(){if(this.isVisible()){var a=this.Ca.qb();a&&(this.ka=a.Ka,this.pq(a.Ka-2*this.wa,this.xa-this.wa),ul(this,this.ka,this.xa,0,this.Ca.ra==this.gd?a.Tu?this.gd==v.Uc?a.Tu:a.Pa-this.xa:this.gd==v.Uc?0:a.Pa:this.gd==v.Uc?0:a.Pa+a.Ab-this.xa))}};
c.pq=function(a,b){var d=this.gd==v.Uc,e=["M 0,"+(d?0:this.wa)];d?(e.push("h",a+2*this.wa),e.push("v",b),e.push("a",this.wa,this.wa,0,0,1,-this.wa,this.wa),e.push("h",-1*a),e.push("a",this.wa,this.wa,0,0,1,-this.wa,-this.wa)):(e.push("a",this.wa,this.wa,0,0,1,this.wa,-this.wa),e.push("h",a),e.push("a",this.wa,this.wa,0,0,1,this.wa,this.wa),e.push("v",b),e.push("h",-a-2*this.wa));e.push("z");this.Ld.setAttribute("d",e.join(" "))};c.lq=function(){this.pc.set(this.w?Infinity:0)};
c.ev=function(a){var b=v.i.Vo(a),d=b.x||b.y;d&&(b=this.If(),d=b.vb+d,d=Math.min(d,b.Xc-b.Ka),d=Math.max(d,0),this.pc.set(d),v.N.ya());a.preventDefault();a.stopPropagation()};
c.Bt=function(a,b){this.m.scale=this.Ca.scale;var d=this.Rd,e=this.w?d:d+G;this.w&&(a=a.reverse());for(var f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=Yc(h,!1),l=0,m;m=k[l];l++)m.yb=!0;h.ca();k=h.X();l=h.Db();m=h.M?G:0;m=this.w?e+l.width:e+m;h.moveBy(m,d);m=zl(this,h,m,d,l,f);e+=l.width+b[f];wl(this,k,h,m)}else"button"==h.type&&(yl(this,h.button,e,d),e+=h.button.width+b[f])};c.tt=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.Hs;return a<90+b&&a>90-b||a>-90-b&&a<-90+b?!0:!1};
c.Ci=function(){if(!this.A)return null;var a=this.A.getBoundingClientRect(),b=a.top;a=a.height;if(this.gd==v.Uc)return new yg(-1E9,b-1E9,2E9,1E9+a);if(this.gd==v.$f)return new yg(-1E9,b,2E9,1E9+a)};c.uu=function(){this.m.scale=this.Ca.scale;for(var a=0,b=Ld(this.m,!1),d=0,e;e=b[d];d++)a=Math.max(a,e.Db().height);a+=1.5*this.Rd;a*=this.m.scale;a+=xe;if(this.xa!=a){for(d=0;e=b[d];d++)e.jm&&Al(this,e.jm,e);this.xa=a;this.position()}};function Bg(a){a.qb=this.If.bind(this);a.Of=this.pn.bind(this);Bg.v.constructor.call(this,a);this.Xe=!1}u(Bg,tl);c=Bg.prototype;c.If=function(){if(!this.isVisible())return null;try{var a=this.m.Sa.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.Zg,d=this.xa-2*this.Zg,e=this.ka;this.w||(e-=this.Zg);return{Pa:d,Ka:e,Hc:a.height*this.m.scale+2*this.Rd,Xc:a.width*this.m.scale+2*this.Rd,Ib:-this.m.scrollY+a.y,vb:-this.m.scrollX,pb:a.y,wb:a.x,Ab:b,zb:0}};
c.pn=function(a){var b=this.If();b&&("number"==typeof a.y&&(this.m.scrollY=-b.Hc*a.y),this.m.translate(this.m.scrollX+b.zb,this.m.scrollY+b.Ab))};c.position=function(){if(this.isVisible()){var a=this.Ca.qb();a&&(this.xa=a.Pa,this.pq(this.ka-this.wa,a.Pa-2*this.wa),ul(this,this.ka,this.xa,this.Ca.ra==this.gd?a.Uu?this.gd==v.kd?a.Uu:a.Ka-this.ka:this.gd==v.kd?0:a.Ka:this.gd==v.kd?0:a.Ka+a.zb-this.ka,0))}};
c.pq=function(a,b){var d=this.gd==v.De,e=a+this.wa;e=["M "+(d?e:0)+",0"];e.push("h",d?-a:a);e.push("a",this.wa,this.wa,0,0,d?0:1,d?-this.wa:this.wa,this.wa);e.push("v",Math.max(0,b));e.push("a",this.wa,this.wa,0,0,d?0:1,d?this.wa:-this.wa,this.wa);e.push("h",d?a:-a);e.push("z");this.Ld.setAttribute("d",e.join(" "))};c.lq=function(){this.pc.set(0)};
c.ev=function(a){var b=v.i.Vo(a);if(b.y){var d=this.If();b=d.Ib-d.pb+b.y;b=Math.min(b,d.Hc-d.Pa);b=Math.max(b,0);this.pc.set(b);v.N.ya()}a.preventDefault();a.stopPropagation()};
c.Bt=function(a,b){this.m.scale=this.Ca.scale;for(var d=this.Rd,e=this.w?d:d+G,f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=Yc(h,!1),l=0,m;m=k[l];l++)m.yb=!0;h.ca();k=h.X();l=h.Db();h.moveBy(e,d);m=zl(this,h,this.w?e-l.width:e,d,l,f);wl(this,k,h,m);d+=l.height+b[f]}else"button"==h.type&&(yl(this,h.button,e,d),d+=h.button.height+b[f])};c.tt=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.Hs;return a<b&&a>-b||a<-180+b||a>180-b?!0:!1};
c.Ci=function(){if(!this.A)return null;var a=this.A.getBoundingClientRect(),b=a.left;a=a.width;if(this.gd==v.kd)return new yg(b-1E9,-1E9,1E9+a,2E9);if(ic&&this.Ca&&this.Ca.Oi){var d=this.Ca.A.getBoundingClientRect().x;10>Math.abs(d-b)&&(b+=this.EB*this.Ca.options.Tb.scale)}return new yg(b,-1E9,1E9+a,2E9)};
c.uu=function(){this.m.scale=this.Ca.scale;for(var a=0,b=Ld(this.m,!1),d=0,e;e=b[d];d++){var f=e.Db().width;e.M&&(f-=G);a=Math.max(a,f)}for(d=0;e=this.Gj[d];d++)a=Math.max(a,e.width);a+=1.5*this.Rd+G;a*=this.m.scale;a+=xe;if(this.ka!=a){for(d=0;e=b[d];d++)this.w&&(f=e.va().x,e.moveBy(a/this.m.scale-this.Rd-G-f,0)),e.jm&&Al(this,e.jm,e);if(this.w)for(d=0;e=this.Gj[d];d++)b=e.Xs().y,e.moveTo(a/this.m.scale-e.width-this.Rd-G,b);this.ka=a;this.position()}};function Bl(a){Ei.call(this);this.aa=a;a=x?"focusout":"blur";this.Vy=oi(this.aa,x?"focusin":"focus",this,!x);this.Wy=oi(this.aa,a,this,!x)}u(Bl,Ei);Bl.prototype.handleEvent=function(a){var b=new $h(a.Oe);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};Bl.prototype.Zb=function(){Bl.v.Zb.call(this);xi(this.Vy);xi(this.Wy);delete this.aa};function Cl(a,b){null!=a&&this.append.apply(this,arguments)}c=Cl.prototype;c.Yb="";c.set=function(a){this.Yb=""+a};c.append=function(a,b,d){this.Yb+=String(a);if(null!=b)for(var e=1;e<arguments.length;e++)this.Yb+=arguments[e];return this};c.clear=function(){this.Yb=""};c.toString=function(){return this.Yb};function Dl(a,b,d){Hi.call(this,d);this.hb=b||El;a instanceof Jb||(a=Mb(a),a=Nb(Lb(a).toString().replace(/(\r\n|\r|\n)/g,"<br>"),a.kh()));this.mk=a;this.Tj=this.mq=!1;this.rA=null;this.Gw=Ub;this.Ri=!0;this.cm=-1}u(Dl,Hi);var Fl={};c=Dl.prototype;c.Zb=function(){Dl.v.Zb.call(this);this.Tg&&(this.Tg.removeNode(this),this.Tg=null);this.aa=null};
c.Fm=function(){var a=this.K();if(a){var b=Gl(this);b&&!b.id&&(b.id=this.ea()+".label");Si(a,"treeitem");Ti(a,"selected",!1);Ti(a,"level",this.Di());b&&Ti(a,"labelledby",b.id);(b=this.sm())&&Si(b,"presentation");(b=this.rm())&&Si(b,"presentation");if(b=Hl(this))if(Si(b,"group"),b.hasChildNodes())for(Ti(a,"expanded",!1),a=Ni(this),b=1;b<=a;b++){var d=P(this,b-1).K();Ti(d,"setsize",a);Ti(d,"posinset",b)}}};
c.ba=function(){var a=this.Te();var b=this.vn(),d=a.Me;a=d.createElement("DIV");x?(b=Sb(Vb,b),Xb(a,b),a.removeChild(a.firstChild)):Xb(a,b);if(1==a.childNodes.length)a=a.removeChild(a.firstChild);else{for(b=d.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a=b}this.aa=a};c.uc=function(){Dl.v.uc.call(this);Fl[this.ea()]=this;this.Fm()};c.Xd=function(){Dl.v.Xd.call(this);delete Fl[this.ea()]};
c.pi=function(a,b){var d=P(this,b-1),e=P(this,b);Dl.v.pi.call(this,a,b);a.we=d;a.te=e;d?d.te=a:this.Io=a;e?e.we=a:this.xt=a;(b=this.Jc())&&Il(a,b);Jl(a,this.Di()+1);if(b=this.K())if(this.pj(),Ti(b,"expanded",this.vc()),this.vc()){b=Hl(this);a.K()||a.ba();var f=a.K(),h=e&&e.K();b.insertBefore(f,h);this.Ra&&a.uc();e||(d?d.pj():(uh(b,!0),this.Hd(this.vc())))}};c.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.pi(a,b?Qi(this,b):Ni(this));return a};
c.removeChild=function(a){var b=this.Jc(),d=b?b.Pc:null;if(d==a||a.contains(d))if(b.hasFocus()){this.select();d=this.Gz;if(ua(d))this&&(d=Ba(d,this));else if(d&&"function"==typeof d.handleEvent)d=Ba(d.handleEvent,d);else throw Error("Invalid listener argument");2147483647<Number(10)||g.setTimeout(d,10)}else this.select();Dl.v.removeChild.call(this,a);this.xt==a&&(this.xt=a.we);this.Io==a&&(this.Io=a.te);a.we&&(a.we.te=a.te);a.te&&(a.te.we=a.we);d=!a.te;a.Tg=null;a.cm=-1;if(b&&(b.removeNode(a),this.Ra)){b=
Hl(this);if(a.Ra){var e=a.K();b.removeChild(e);a.Xd()}d&&(d=P(this,Ni(this)-1))&&d.pj();Pi(this)||(b.style.display="none",this.pj(),this.sm().className=this.nm(),(b=this.K())&&b.removeAttribute("aria-expanded"))}return a};c.remove=Dl.prototype.removeChild;c.Gz=function(){this.select()};c.Di=function(){var a=this.cm;0>a&&(a=(a=this.getParent())?a.Di()+1:0,Jl(this,a));return a};
function Jl(a,b){if(b!=a.cm){a.cm=b;var d=Kl(a);if(d){var e=Ll(a)+"px";Oi(a)?d.style.paddingRight=e:d.style.paddingLeft=e}Mi(a,function(f){Jl(f,b+1)})}}c.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};c.Hf=function(){var a=[];Mi(this,function(b){a.push(b)});return a};c.Km=function(){return this.mq};c.select=function(){var a=this.Jc();a&&a.ff(this)};
function Ml(a,b){if(a.mq!=b){a.mq=b;Nl(a);var d=a.K();d&&(Ti(d,"selected",b),b&&(b=a.Jc().K(),Ti(b,"activedescendant",a.ea())))}}c.vc=function(){return this.Tj};
c.Hd=function(a){var b=a!=this.Tj;if(!b||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){this.Tj=a;var d=this.Jc();var e=this.K();if(Pi(this)){if(!a&&d&&this.contains(d.Pc)&&this.select(),e){if(d=Hl(this))if(uh(d,a),Ti(e,"expanded",a),a&&this.Ra&&!d.hasChildNodes()){var f=[];Mi(this,function(h){f.push(h.vn())});Yb(d,Sb(f));Mi(this,function(h){h.uc()})}this.pj()}}else(d=Hl(this))&&uh(d,!1);e&&(this.sm().className=this.nm());b&&this.dispatchEvent(a?"expand":"collapse")}};c.toggle=function(){this.Hd(!this.vc())};
c.expand=function(){this.Hd(!0)};c.collapse=function(){this.Hd(!1)};c.kq=function(){var a=this.getParent();a&&(a.Hd(!0),a.kq())};c.vn=function(){var a=this.Jc(),b=!a.Wk||a==this.getParent()&&!a.Dq?this.hb.hs:this.hb.gs;a=this.vc()&&Pi(this);b={"class":b,style:Ol(this)};var d=[];a&&Mi(this,function(e){d.push(e.vn())});a=Rb("div",b,d);return Rb("div",{"class":this.hb.ss,id:this.ea()},[Pl(this),a])};function Ll(a){return Math.max(0,(a.Di()-1)*a.hb.ip)}
function Pl(a){var b={};b["padding-"+(Oi(a)?"right":"left")]=Ll(a)+"px";b={"class":a.bk(),style:b};var d=a.So(),e=Rb("span",{style:{display:"inline-block"},"class":a.nm()}),f=Rb("span",{"class":a.hb.ts,title:a.rA||null},a.mk);a=Sb(f,Rb("span",{},a.Gw));return Rb("div",b,[d,e,a])}c.bk=function(){return this.hb.po+(this.Km()?" "+this.hb.vs:"")};c.So=function(){return Rb("span",{type:"expand",style:{display:"inline-block"},"class":Ql(this)})};
function Ql(a){var b=a.Jc(),d=!b.Wk||b==a.getParent()&&!b.Dq,e=a.hb,f=new Cl;f.append(e.dh," ",e.sx," ");if(Pi(a)){var h=0;b.Bq&&a.Ri&&(h=a.vc()?2:1);d||(h=a.te?h+8:h+4);switch(h){case 1:f.append(e.wx);break;case 2:f.append(e.vx);break;case 4:f.append(e.os);break;case 5:f.append(e.ux);break;case 6:f.append(e.tx);break;case 8:f.append(e.ps);break;case 9:f.append(e.yx);break;case 10:f.append(e.xx);break;default:f.append(e.ns)}}else d?f.append(e.ns):a.te?f.append(e.ps):f.append(e.os);return f.toString()}
function Ol(a){var b=a.vc()&&Pi(a);return Ab({"background-position":Rl(a),display:b?null:"none"})}function Rl(a){return(a.te?(a.Di()-1)*a.hb.ip:"-100")+"px 0"}c.K=function(){var a=Dl.v.K.call(this);a||(this.aa=a=this.Te().K(this.ea()));return a};function Kl(a){return(a=a.K())?a.firstChild:null}c.rm=function(){var a=Kl(this);return a?a.firstChild:null};c.sm=function(){var a=Kl(this);return a?a.childNodes[1]:null};function Gl(a){return(a=Kl(a))&&a.lastChild?a.lastChild.previousSibling:null}
function Hl(a){return(a=a.K())?a.lastChild:null}c.Gb=function(a){this.mk=a=Mb(a);var b=Gl(this);b&&Xb(b,a);(a=this.Jc())&&Sl(a,this)};c.Eb=function(){var a=Lb(this.mk).toString();return-1!=a.indexOf("&")?"document"in g?ac(a):cc(a):a};function Nl(a){var b=Kl(a);b&&(b.className=a.bk())}c.pj=function(){var a=this.rm();a&&(a.className=Ql(this));if(a=Hl(this))a.style.backgroundPosition=Rl(this)};c.Xt=function(a){"expand"==a.target.getAttribute("type")&&Pi(this)?this.Ri&&this.toggle():(this.select(),Nl(this))};
c.Hk=function(a){a.preventDefault()};c.Ut=function(a){"expand"==a.target.getAttribute("type")&&Pi(this)||this.Ri&&this.toggle()};
c.Np=function(a){var b=!0;switch(a.keyCode){case 39:if(a.altKey)break;Pi(this)&&(this.vc()?P(this,0).select():this.Hd(!0));break;case 37:if(a.altKey)break;if(Pi(this)&&this.vc()&&this.Ri)this.Hd(!1);else{var d=this.getParent(),e=this.Jc();d&&(e.Rg||d!=e)&&d.select()}break;case 40:(d=ol(this))&&d.select();break;case 38:(d=pl(this))&&d.select();break;default:b=!1}b&&(a.preventDefault(),(e=this.Jc())&&e.kl.clear());return b};function Tl(a){return a.vc()&&Pi(a)?Tl(P(a,Ni(a)-1)):a}
function ol(a){if(Pi(a)&&a.vc())return P(a,0);for(var b=a,d;b!=a.Jc();){d=b.te;if(null!=d)return d;b=b.getParent()}return null}function pl(a){var b=a.we;if(null!=b)return Tl(b);b=a.getParent();var d=a.Jc();return!d.Rg&&b==d||a==d?null:b}function Il(a,b){a.Tg!=b&&(a.Tg=b,Sl(b,a),Mi(a,function(d){Il(d,b)}))}
var El={ip:19,us:"goog-tree-root goog-tree-item",rs:"goog-tree-hide-root",ss:"goog-tree-item",gs:"goog-tree-children",hs:"goog-tree-children-nolines",po:"goog-tree-row",ts:"goog-tree-item-label",dh:"goog-tree-icon",sx:"goog-tree-expand-icon",wx:"goog-tree-expand-icon-plus",vx:"goog-tree-expand-icon-minus",yx:"goog-tree-expand-icon-tplus",xx:"goog-tree-expand-icon-tminus",ux:"goog-tree-expand-icon-lplus",tx:"goog-tree-expand-icon-lminus",ps:"goog-tree-expand-icon-t",os:"goog-tree-expand-icon-l",ns:"goog-tree-expand-icon-blank",
no:"goog-tree-expanded-folder-icon",ks:"goog-tree-collapsed-folder-icon",oo:"goog-tree-file-icon",qs:"goog-tree-expanded-folder-icon",ls:"goog-tree-collapsed-folder-icon",vs:"selected"};function Ul(a,b,d){Dl.call(this,a,b,d)}u(Ul,Dl);Ul.prototype.Jc=function(){if(this.Tg)return this.Tg;var a=this.getParent();return a&&(a=a.Jc())?(Il(this,a),a):null};Ul.prototype.nm=function(){var a=this.vc(),b=this.Qx;if(a&&b)return b;b=this.Ey;if(!a&&b)return b;b=this.hb;if(Pi(this)){if(a&&b.no)return b.dh+" "+b.no;if(!a&&b.ks)return b.dh+" "+b.ks}else if(b.oo)return b.dh+" "+b.oo;return""};function Vl(a){if(a.dk&&"function"==typeof a.dk)return a.dk();if(p(a))return a.split("");if(ta(a)){for(var b=[],d=a.length,e=0;e<d;e++)b.push(a[e]);return b}b=[];d=0;for(e in a)b[d++]=a[e];return b};function Wl(a){this.ub=void 0;this.Fc={};if(a){if(a.um&&"function"==typeof a.um)var b=a.um();else if(a.dk&&"function"==typeof a.dk)b=void 0;else if(ta(a)||p(a)){b=[];for(var d=a.length,e=0;e<d;e++)b.push(e)}else for(e in b=[],d=0,a)b[d++]=e;a=Vl(a);for(d=0;d<b.length;d++)this.set(b[d],a[d])}}c=Wl.prototype;c.set=function(a,b){Xl(this,a,b,!1)};c.add=function(a,b){Xl(this,a,b,!0)};
function Xl(a,b,d,e){for(var f=0;f<b.length;f++){var h=b.charAt(f);a.Fc[h]||(a.Fc[h]=new Wl);a=a.Fc[h]}if(e&&void 0!==a.ub)throw Error('The collection already contains the key "'+b+'"');a.ub=d}c.get=function(a){a:{for(var b=this,d=0;d<a.length;d++)if(b=b.Fc[a.charAt(d)],!b){a=void 0;break a}a=b}return a?a.ub:void 0};c.dk=function(){var a=[];Yl(this,a);return a};function Yl(a,b){void 0!==a.ub&&b.push(a.ub);for(var d in a.Fc)Yl(a.Fc[d],b)}
c.um=function(a){var b=[];if(a){for(var d=this,e=0;e<a.length;e++){var f=a.charAt(e);if(!d.Fc[f])return[];d=d.Fc[f]}Zl(d,a,b)}else Zl(this,"",b);return b};function Zl(a,b,d){void 0!==a.ub&&d.push(b);for(var e in a.Fc)Zl(a.Fc[e],b+e,d)}c.clear=function(){this.Fc={};this.ub=void 0};
c.remove=function(a){for(var b=this,d=[],e=0;e<a.length;e++){var f=a.charAt(e);if(!b.Fc[f])throw Error('The collection does not have the key "'+a+'"');d.push([b,f]);b=b.Fc[f]}a=b.ub;for(delete b.ub;0<d.length;)if(f=d.pop(),b=f[0],f=f[1],b.Fc[f].ut())delete b.Fc[f];else break;return a};c.clone=function(){return new Wl(this)};c.ut=function(){var a;if(a=void 0===this.ub)a:{for(var b in this.Fc){a=!1;break a}a=!0}return a};function $l(){this.Dh=new Wl;this.Yb="";this.Rm=this.Ap=null;this.Wi=this.Bk=0}function am(a,b){var d=b.Eb();if(d&&!/^[\s\xa0]*$/.test(null==d?"":String(d))){d=d.toLowerCase();var e=a.Dh.get(d);if(e){for(var f=Ni(b),h=0;h<f;h++)am(a,P(b,h));Ma(e,b);e.length||a.Dh.remove(d)}}}function bm(a,b){var d=!1;(b=a.Dh.um(b))&&b.length&&(a.Wi=0,a.Bk=0,d=a.Dh.get(b[0]),d=cm(a,d))&&(a.Ap=b);return d}function cm(a,b){if(b){if(a.Wi<b.length){var d=b[a.Wi];a.Rm=b}d&&(d.kq(),d.select())}return!!d}
$l.prototype.clear=function(){this.Yb=""};function dm(a,b,d){Dl.call(this,a,b,d);this.Tj=!0;Ml(this,!0);this.Pc=this;this.kl=new $l;this.Lo=this.Nc=null;this.Vj=!1;this.Yx=null;this.Dq=this.Rg=this.Bq=this.Wk=!0;if(x)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}}u(dm,Dl);c=dm.prototype;c.Jc=function(){return this};c.Di=function(){return 0};c.kq=function(){};c.oy=function(){this.Vj=!0;gj(this.K(),"focused");this.Pc&&this.Pc.select()};c.gy=function(){this.Vj=!1;ij(this.K(),"focused")};c.hasFocus=function(){return this.Vj};
c.vc=function(){return!this.Rg||dm.v.vc.call(this)};c.Hd=function(a){this.Rg?dm.v.Hd.call(this,a):this.Tj=a};c.So=function(){return Ub};c.sm=function(){var a=Kl(this);return a?a.firstChild:null};c.rm=function(){return null};c.pj=function(){};c.bk=function(){return dm.v.bk.call(this)+(this.Rg?"":" "+this.hb.rs)};c.nm=function(){var a=this.vc(),b=this.Qx;if(a&&b)return b;b=this.Ey;if(!a&&b)return b;b=this.hb;return a&&b.qs?b.dh+" "+b.qs:!a&&b.ls?b.dh+" "+b.ls:""};
c.ff=function(a){if(this.Pc!=a){var b=!1;this.Pc&&(b=this.Pc==this.Yx,Ml(this.Pc,!1));if(this.Pc=a)Ml(a,!0),b&&a.select();this.dispatchEvent("change")}};function em(a){0!=a.Wk&&(a.Wk=!1,a.Ra&&fm(a))}function fm(a){function b(h){var k=Hl(h);if(k){var l=!e||d==h.getParent()&&!f?h.hb.hs:h.hb.gs;k.className=l;if(k=h.rm())k.className=Ql(h)}Mi(h,b)}var d=a,e=d.Wk,f=d.Dq;b(a)}function gm(a){0!=a.Bq&&(a.Bq=!1,a.Ra&&fm(a))}
function hm(a){if(0!=a.Rg){a.Rg=!1;if(a.Ra){var b=Kl(a);b&&(b.className=a.bk())}a.Pc==a&&P(a,0)&&a.ff(P(a,0))}}c.Fm=function(){dm.v.Fm.call(this);var a=this.K();Si(a,"tree");Ti(a,"labelledby",Gl(this).id)};
c.uc=function(){dm.v.uc.call(this);var a=this.K();a.className=this.hb.us;a.setAttribute("hideFocus","true");a=this.K();a.tabIndex=0;var b=this.Nc=new Yi(a),d=this.Lo=new Bl(a);Ki(this).Ja(d,"focusout",this.gy).Ja(d,"focusin",this.oy).Ja(b,"key",this.pe).Ja(a,"mousedown",this.$o).Ja(a,"click",this.$o).Ja(a,"dblclick",this.$o);this.Fm()};c.Xd=function(){dm.v.Xd.call(this);this.Nc.D();this.Nc=null;this.Lo.D();this.Lo=null};
c.$o=function(a){var b=im(this,a);if(b)switch(a.type){case "mousedown":b.Xt(a);break;case "click":b.Hk(a);break;case "dblclick":b.Ut(a)}};
c.pe=function(a){var b=this.kl;var d=!1;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){d=40==a.keyCode?1:-1;var e=b.Ap;if(e){var f=null,h=!1;if(b.Rm){var k=b.Wi+d;0<=k&&k<b.Rm.length?(b.Wi=k,f=b.Rm):h=!0}f||(k=b.Bk+d,0<=k&&k<e.length&&(b.Bk=k),e.length>b.Bk&&(f=b.Dh.get(e[b.Bk])),f&&f.length&&h&&(b.Wi=-1==d?f.length-1:0));cm(b,f)&&(b.Ap=e)}d=!0}break;case 8:e=b.Yb.length-1;d=!0;0<e?(b.Yb=b.Yb.substring(0,e),bm(b,b.Yb)):0==e?b.Yb="":d=!1;break;case 27:b.Yb="",d=!0}(b=d||this.Pc&&this.Pc.Np(a))||(b=
this.kl,d=!1,a.ctrlKey||a.altKey||(e=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),(1==e.length&&" "<=e&&"~">=e||"\u0080"<=e&&"\ufffd">=e)&&(" "!=e||b.Yb)&&(b.Yb+=e,d=bm(b,b.Yb))),b=d);b&&a.preventDefault();return b};function im(a,b){for(var d=b.target;null!=d;){if(b=Fl[d.id])return b;if(d==a.K())break;d=d.parentNode}return null}c.createNode=function(a){return new Ul(a||Ub,this.hb,this.Te())};
function Sl(a,b){a=a.kl;var d=b.Eb();if(d&&!/^[\s\xa0]*$/.test(null==d?"":String(d))){d=d.toLowerCase();var e=a.Dh.get(d);e?e.push(b):a.Dh.set(d,[b])}}c.removeNode=function(a){am(this.kl,a)};function Vg(a){this.m=a;this.w=a.options.w;this.Xe=a.options.od;this.ra=a.options.ra;this.hb={ip:19,us:"blocklyTreeRoot",rs:"blocklyHidden",ss:"",po:"blocklyTreeRow",ts:"blocklyTreeLabel",dh:"blocklyTreeIcon",no:"blocklyTreeIconOpen",oo:"blocklyTreeIconNone",vs:"blocklyTreeSelected"};this.Vu={po:"blocklyTreeSeparator"};this.Xe&&(this.hb.cssTreeRow+=a.w?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.Vu.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.w?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),
this.hb.cssTreeIcon="")}c=Vg.prototype;c.width=0;c.height=0;c.wk=null;
c.O=function(){var a=this.m,b=H(this.m);this.Rc=document.createElement("div");this.Rc.className="blocklyToolboxDiv";this.Rc.setAttribute("dir",a.w?"RTL":"LTR");b.parentNode.insertBefore(this.Rc,b);v.W(this.Rc,"mousedown",this,function(d){v.i.Ag(d)||d.target==this.Rc?v.hc(!1):v.hc(!0);v.Touch.zf()},!1,!0);b={Cf:a.options.Cf,Tb:a,w:a.w,fd:a.options.fd,od:a.od,ra:a.options.ra};this.H=null;this.H=a.od?new Ag(b):new Bg(b);v.i.uh(this.H.ba("svg"),H(this.m));this.H.O(a);this.hb.cleardotPath=a.options.ve+
"1x1.gif";this.hb.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.w?"Rtl":"Ltr");this.Bc=b=new jm(this,this.hb);hm(b);em(b);gm(b);b.ff(null);a=this.cn(a.options.af);b.ca(this.Rc);a&&b.ff(a);eh(this);this.position()};c.D=function(){this.H.D();this.Bc.D();v.i.removeNode(this.Rc);this.wk=this.m=null};c.Lc=function(){return this.width};c.Ei=function(){return this.height};
c.position=function(){var a=this.Rc;if(a){var b=H(this.m);b=v.Qu(b);this.Xe?(a.style.left="0",a.style.height="auto",a.style.width=b.width+"px",this.height=a.offsetHeight,this.ra==v.Uc?a.style.top="0":a.style.bottom="0"):(this.ra==v.De?a.style.right="0":a.style.left="0",a.style.height=b.height+"px",this.width=a.offsetWidth);this.H.position()}};
c.cn=function(a){this.Bc.vu();this.Bc.He=[];this.ep=!1;a=km(this,a,this.Bc,this.m.options.ve);if(this.Bc.He.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");Xd(this.m);return a};
function km(a,b,d,e){for(var f=null,h=null,k=0,l;l=b.childNodes[k];k++)if(l.tagName)switch(l.tagName.toUpperCase()){case "CATEGORY":h=v.i.oc(l.getAttribute("name"));var m=a.Bc.createNode(h);m.He=[];d.add(m);var n=l.getAttribute("custom");n?m.He=n:(n=km(a,l,m,e))&&(f=n);n=l.getAttribute("categorystyle");var t=l.getAttribute("colour");t&&n?(m.ph="",console.warn('Toolbox category "'+h+'" can not have both a style and a colour')):n?lm(a,n,m,h):mm(a,t,m,h);"true"==l.getAttribute("expanded")?(m.He.length&&
(f=m),m.Hd(!0)):m.Hd(!1);h=l;break;case "SEP":if(h&&"CATEGORY"==h.tagName.toUpperCase()){d.add(new nm(a.Vu));break}case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":d.He.push(l),h=l}return f}function mm(a,b,d,e){b=v.i.oc(b);null===b||""===b?d.ph="":/^#[0-9a-fA-F]{6}$/.test(b)?(d.ph=b,a.ep=!0):"number"===typeof b||"string"===typeof b&&!isNaN(Number(b))?(d.ph=v.kt(Number(b)),a.ep=!0):(d.ph="",console.warn('Toolbox category "'+e+'" has unrecognized colour attribute: '+b))}
function lm(a,b,d,e){if((d.Ou=b)&&v.dl){var f;(f=v.dl.Xw[b])&&f.Ul?mm(a,f.Ul,d,e):console.warn('Style "'+b+'" must exist and contain a colour value')}}function om(a,b){if(b=b||a.Bc){b=b.Hf(!1);for(var d=0,e;e=b[d];d++)e.Ou&&(lm(a,e.Ou,e,""),eh(a)),om(a,e)}}function pm(a){var b=a.Bc;if(b&&(om(a,b),a=b.Pc)){var d=a.ph||"#57e";Kl(a).style.backgroundColor=d;eh(b.$,a)}}
function eh(a,b){b=(b||a.Bc).Hf(!1);for(var d=0,e;e=b[d];d++){var f=Kl(e);if(f){var h=a.ep?"8px solid "+(e.ph||"#ddd"):"none";a.m.w?f.style.borderRight=h:f.style.borderLeft=h}eh(a,e)}}c.Ci=function(){if(!this.Rc)return null;var a=this.Rc.getBoundingClientRect(),b=a.left,d=a.top,e=a.width;a=a.height;return this.ra==v.kd?new yg(-1E7,-1E7,1E7+b+e,2E7):this.ra==v.De?new yg(b,-1E7,1E7+e,2E7):this.ra==v.Uc?new yg(-1E7,-1E7,2E7,1E7+d+a):new yg(0,d,2E7,1E7+e)};
function jm(a,b){this.$=a;dm.call(this,Ub,b)}u(jm,dm);jm.prototype.uc=function(){jm.v.uc.call(this);if(dd){var a=this.K();v.W(a,"touchend",this,this.xy)}};jm.prototype.xy=function(a){var b=im(this,a);b&&"touchend"===a.type&&setTimeout(function(){b.Hk(a)},1)};jm.prototype.createNode=function(a){a=a?Mb(a):Ub;return new qm(this.$,a,this.hb)};
jm.prototype.ff=function(a){var b=this.$;if(a!=this.Pc&&a!=b.Bc){b.wk&&(Kl(b.wk).style.backgroundColor="");if(a){var d=a.ph||"#57e";Kl(a).style.backgroundColor=d;eh(b,a)}d=this.Pc;dm.prototype.ff.call(this,a);a&&a.He&&a.He.length?(b.H.show(a.He),b.wk!=a&&b.H.lq()):b.H.ya();d!=a&&d!=this&&(d=new qd(null,"category",d&&Lb(d.mk).toString(),a&&Lb(a.mk).toString()),d.Jb=b.m.id,v.j.Y(d));a&&(b.wk=a)}};
function qm(a,b,d){Dl.call(this,b,d,void 0);a&&(b=function(){v.Vh(a.m)},oi(a.Bc,"expand",b),oi(a.Bc,"collapse",b))}u(qm,Ul);c=qm.prototype;c.So=function(){return Rb("span")};c.Hk=function(){Pi(this)&&this.Ri?(this.toggle(),this.select()):this.Km()?this.Jc().ff(null):this.select();Nl(this)};c.Xt=function(){};c.Ut=function(){};c.Np=function(a){if(this.Tg.$.Xe){var b={};b[39]=this.gj?38:40;b[37]=this.gj?40:38;b[38]=37;b[40]=39;a.keyCode=b[a.keyCode]||a.keyCode}return qm.v.Np.call(this,a)};
function nm(a){qm.call(this,null,Ub,a)}u(nm,qm);v.Qd={};v.Qd.uB="";v.Qd.Pu=null;v.Qd.It="";v.Qd.ug=function(a,b){if(!v.Qd.Pu){var d=".blocklyDraggable {}\n";a&&(d+=v.Qd.ov.join("\n"),v.Iv&&(d+=v.Iv.CSS.join("\n")));v.Qd.It=b.replace(/[\\\/]$/,"");d=d.replace(/<<<PATH>>>/g,v.Qd.It);a=document.createElement("style");document.head.insertBefore(a,document.head.firstChild);a.appendChild(document.createTextNode(d));v.Qd.Pu=a.sheet}};v.Qd.Eu=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")};
v.Qd.ov=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;",
"top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: fixed;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-radius: 2px;","padding: 4px;","-webkit-user-select: none;","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;",
"width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".arrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".arrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;",
"border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",
".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',
"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {",
"display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyReplaceable .blocklyPath {","fill-opacity: 0.5;","}",".blocklyReplaceable .blocklyPathLight,",".blocklyReplaceable .blocklyPathDark {",
"display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;",
"z-index: 20;","}",".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklyFlyoutLabel {","cursor: default;","}",".blocklyFlyoutLabelBackground {","opacity: 0;","}",".blocklyFlyoutLabelText {","fill: #000;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {",
"display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentForeignObject {","position: relative;","z-index: 0;","}",".blocklyCommentRect {","fill: #E7DE8E;",
"stroke: #bcA903;","stroke-width: 1px","}",".blocklyCommentTarget {","fill: transparent;","stroke: #bcA903;","}",".blocklyCommentTargetFocused {","fill: none;","}",".blocklyCommentHandleTarget {","fill: none;","}",".blocklyCommentHandleTargetFocused {","fill: transparent;","}",".blocklyFocused>.blocklyCommentRect {","fill: #B9B272;","stroke: #B9B272;","}",".blocklySelected>.blocklyCommentTarget {","stroke: #fc3;","stroke-width: 3px;","}",".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;",
"outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyCommentDeleteIcon {","cursor: pointer;","fill: #000;","display: none","}",".blocklySelected > .blocklyCommentDeleteIcon {","display: block","}",".blocklyDeleteIconShape {","fill: #000;","stroke: #000;","stroke-width: 1px;","}",".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {","stroke: #fc3;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;",
"height: 100%;","margin: 0;","outline: none;","padding: 0 1px;","width: 100%","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyTransparentBackground {","opacity: 0;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {",
"position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}",".blocklyFlyout .blocklyScrollbarHandle {",
"fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;",
"pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyVerticalCursor {","stroke-width: 3px;","fill: rgba(255,255,255,0.5);","}",".blocklyDropdownMenu {","padding: 0 !important;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;",
"overflow-y: auto;","position: absolute;","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {",
"float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;",
"vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;",
"}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}",".blocklyColourTable {","border-collapse: collapse;","}",".blocklyColourTable>tr>td {","border: 1px solid #666;",
"padding: 0;","}",".blocklyColourTable>tr>td>div {","border: 1px solid #666;","height: 13px;","width: 15px;","}",".blocklyColourTable>tr>td>div:hover {","border: 1px solid #fff;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border: 1px solid #000 !important;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;",
"padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem, ",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","padding: 5px 5px 5px 28px;","white-space: nowrap;",
"}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl, ",".blocklyDropDownDiv .goog-menuitem.goog-menuitem-rtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem { ","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noaccel .goog-menuitem {",
"padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-content {","color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon, ",
".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight, ",".blocklyWidgetDiv .goog-menuitem-hover {","background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 4px;","padding-top: 4px;","}",".blocklyDropDownDiv .goog-menuitem-highlight, ",".blocklyDropDownDiv .goog-menuitem-hover {","background-color: rgba(0, 0, 0, 0.2);","}",".blocklyWidgetDiv .goog-menuitem-checkbox, ",
".blocklyWidgetDiv .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {",
"left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","background: url(//ssl.gstatic.com/editor/editortoolbar.png) no-repeat -512px 0;","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",
".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}",".blocklyWidgetDiv .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel, ",
".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;","text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint, ",".blocklyDropDownDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator, ",".blocklyDropDownDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator, ",".blocklyDropDownDiv .goog-menuseparator {",
"border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""];v.N={};v.N.sa=null;v.N.Kk=null;v.N.xi=null;v.N.ba=function(){v.N.sa||(v.N.sa=document.createElement("div"),v.N.sa.className="blocklyWidgetDiv",document.body.appendChild(v.N.sa))};v.N.show=function(a,b,d){v.N.ya();v.N.Kk=a;v.N.xi=d;v.N.sa.style.top=Xc().y+"px";v.N.sa.style.direction=b?"rtl":"ltr";v.N.sa.style.display="block"};v.N.ya=function(){v.N.Kk&&(v.N.Kk=null,v.N.sa.style.display="none",v.N.sa.style.left="",v.N.sa.style.top="",v.N.xi&&v.N.xi(),v.N.xi=null,v.N.sa.innerHTML="")};v.N.isVisible=function(){return!!v.N.Kk};
v.N.kk=function(a){v.N.Kk==a&&v.N.ya()};v.N.gu=function(a,b,d){v.N.sa.style.left=a+"px";v.N.sa.style.top=b+"px";v.N.sa.style.height=d+"px"};v.N.iu=function(a,b,d,e){var f=v.N.Ww(a,b,d);a=v.N.Vw(a,b,d,e);0>f?v.N.gu(a,0,d.height+f):v.N.gu(a,f,d.height)};v.N.Vw=function(a,b,d,e){if(e)return b=Math.max(b.right-d.width,a.left),Math.min(b,a.right-d.width);b=Math.min(b.left,a.right-d.width);return Math.max(b,a.left)};v.N.Ww=function(a,b,d){return b.bottom+d.height>=a.bottom?b.top-d.height:b.bottom};function rm(a){this.Kj=a;this.ba()}c=rm.prototype;c.Ia=null;c.Wd=null;c.Kj=null;c.Mg=1;c.al=null;c.ba=function(){this.Ia||(this.Ia=v.i.C("svg",{xmlns:v.Qn,"xmlns:html":v.Zf,"xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyBlockDragSurface"},this.Kj),this.Wd=v.i.C("g",{},this.Ia))};function Ff(a,b){if(a.Wd.childNodes.length)throw Error("Already dragging a block.");a.Wd.appendChild(b);a.Ia.style.display="block";a.al=new A(0,0)}
c.Sf=function(a,b){this.al=new A(a*this.Mg,b*this.Mg);a=this.al.x;b=this.al.y;a=a.toFixed(0);b=b.toFixed(0);this.Ia.style.display="block";v.i.Uk(this.Ia,"translate3d("+a+"px, "+b+"px, 0px)")};c.ym=function(){var a=v.i.ad(this.Ia);return new A(a.x/this.Mg,a.y/this.Mg)};c.Qb=function(){return this.Wd};
c.Hj=function(a){a?a.appendChild(this.Wd.firstChild):this.Wd.removeChild(this.Wd.firstChild);this.Ia.style.display="none";if(this.Wd.childNodes.length)throw Error("Drag group was not cleared.");this.al=null};v.ug=function(a,b){v.Zw();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!v.i.containsNode(document,a))throw Error("Error: container is not in current document.");b=new dg(b||{});var d=document.createElement("div");d.className="injectionDiv";a.appendChild(d);a=v.Mj(d,b);var e=new rm(d);d=new Jg(d);d=v.px(a,b,e,d);v.aA(b.nA);v.Ky(d);v.zk=d;v.Vh(d);return d};
v.Mj=function(a,b){a.setAttribute("dir","LTR");Ii=b.w;v.Qd.ug(b.zy,b.ve);a=v.i.C("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg"},a);var d=v.i.C("defs",{},a),e=String(Math.random()).substring(2),f=v.i.C("filter",{id:"blocklyEmbossFilter"+e},d);v.i.C("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},f);var h=v.i.C("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,
specularExponent:10,"lighting-color":"white",result:"specOut"},f);v.i.C("fePointLight",{x:-5E3,y:-1E4,z:2E4},h);v.i.C("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},f);v.i.C("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},f);b.Ls=f.id;f=v.i.C("pattern",{id:"blocklyDisabledPattern"+e,patternUnits:"userSpaceOnUse",width:10,height:10},d);v.i.C("rect",{width:10,height:10,fill:"#aaa"},f);v.i.C("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",
stroke:"#cc0"},f);b.Cf=f.id;f=b.Zs;d=v.i.C("pattern",{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},d);0<f.length&&0<f.spacing?(v.i.C("line",{stroke:f.colour},d),1<f.length&&v.i.C("line",{stroke:f.colour},d)):v.i.C("line",{},d);b.$s=d;return a};
v.px=function(a,b,d,e){b.Tb=null;var f=new Rg(b,d,e);f.scale=b.eb.Mu;a.appendChild(f.ba("blocklyMainBackground"));!b.ct&&b.af&&(d=Zg(f,"svg"),v.i.uh(d,a));b.et&&Xg(f);b.eb&&b.eb.controls&&Yg(f);v.s.Eu(f.cursor);v.s.$z(f.Gt);f.translate(0,0);v.zk=f;b.readOnly||f.Sb()||f.Vc(function(h){if(!f.Rb()&&!f.Sb()&&-1!=v.j.jv.indexOf(h.type)){var k=Object.create(null),l=f.qb(),m=f.scale;k.vb=l.vb/m;k.Ib=l.Ib/m;k.bv=(l.vb+l.Ka)/m;k.av=(l.Ib+l.Pa)/m;ch(f)?(l=Ud(f),k.wb=l.x,k.pb=l.y,k.$r=l.x+l.width,k.Yr=l.y+l.height):
(k.wb=l.wb/m,k.pb=l.pb/m,k.$r=(l.wb+l.Xc)/m,k.Yr=(l.pb+l.Hc)/m);if(k.pb<k.Ib||k.Yr>k.av||k.wb<k.vb||k.$r>k.bv){l=null;h&&(l=v.j.Qb(),v.j.T(h.group));switch(h.type){case v.j.uj:case v.j.Sq:var n=vd(f,h.Mb);break;case v.j.zl:case v.j.Al:n=Zd(f,h.Ie)}if(n){m=n.mm();var t=k.Ib-m.hd.y;0<t&&n.moveBy(0,t);t=k.av-m.yd.y;0>t&&n.moveBy(0,t);t=k.vb-m.hd.x;0<t&&n.moveBy(t,0);k=k.bv-m.yd.x;0>k&&n.moveBy(k,0)}h&&(h.group||console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),
v.j.T(l))}}});v.Vh(f);v.N.ba();Bk();v.F.ba();return f};v.Ky=function(a){var b=a.options,d=H(a);v.W(d.parentNode,"contextmenu",null,function(e){v.i.Lm(e)||e.preventDefault()});d=v.W(window,"resize",null,function(){v.hc(!0);v.Vh(a)});a.nn=d;v.ug.Ow();b.af&&(a.$?a.$.O(a):a.H&&(a.H.O(a),a.H.show(b.af.childNodes),a.H.lq()));d=xe;b.et&&(d=a.Ac.O(d));b.eb&&b.eb.controls&&a.di.O(d);b.kc&&b.kc.scrollbars?(a.sb=new fg(a),a.sb.resize()):a.Of({x:.5,y:.5});b.Ay&&v.ug.Yy(b.ve,a)};
v.ug.Ow=function(){v.Mx||(v.W(document,"scroll",null,function(){for(var a=ie(),b=0,d;d=a[b];b++)d.ol&&d.ol()}),v.W(document,"keydown",null,v.uz),v.tc(document,"touchend",null,v.Dg),v.tc(document,"touchcancel",null,v.Dg),nc&&v.W(window,"orientationchange",document,function(){v.Vh(v.nd())}));v.Mx=!0};
v.ug.Yy=function(a,b){function d(){for(;f.length;)v.Ta(f.pop());e.preload()}var e=b.Ge;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(v.W(document,"mousemove",null,d,!0));f.push(v.W(document,"touchstart",null,d,!0))};
v.Yu=function(a){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead.");v.nd().Yu(a)};v.zk=null;v.selected=null;v.cursor=null;v.Si=!1;v.Rj=[];v.Ij=null;v.Tl=null;v.ho=null;v.rB=null;v.dl=null;v.kt=function(a){var b=v.Nv,d=255*v.Ov,e=0,f=0,h=0;if(0==b)h=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-b);var m=d*(1-b*l);b=d*(1-b*(1-l));switch(k){case 1:e=m;f=d;h=a;break;case 2:e=a;f=d;h=b;break;case 3:e=a;f=m;h=d;break;case 4:e=b;f=a;h=d;break;case 5:e=d;f=a;h=m;break;case 6:case 0:e=d,f=b,h=a}}return ek([Math.round(e),Math.round(f),Math.round(h)])};
v.Qu=function(a){return{width:a.Er,height:a.Cr}};v.HB=function(a){Xd(a)};v.Vh=function(a){for(;a.options.Tb;)a=a.options.Tb;var b=H(a),d=b.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;b.Er!=e&&(b.setAttribute("width",e+"px"),b.Er=e);b.Cr!=d&&(b.setAttribute("height",d+"px"),b.Cr=d);a.resize()}};
v.uz=function(a){var b=v.zk;if(!(b.options.readOnly||v.i.Lm(a)||b.U&&!b.isVisible())){var d=!1;if(27==a.keyCode)v.hc(),v.Si&&v.s.navigate(a);else if(8==a.keyCode||46==a.keyCode){a.preventDefault();if(ag())return;v.selected&&v.selected.wc()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(ag())return;v.selected&&v.selected.wc()&&v.selected.Sb()&&(67==a.keyCode?(v.hc(),v.mo(v.selected)):88!=a.keyCode||v.selected.o.ae||(v.mo(v.selected),d=!0));86==a.keyCode?v.Ij&&(b=v.Tl,b.ae&&(b=b.Wh),v.ho&&ge(b,
v.ho)&&(v.j.T(!0),ah(b),v.j.T(!1))):90==a.keyCode&&(v.hc(),b.Nq(a.shiftKey))}else if(v.Si&&v.s.navigate(a))return;d&&!v.selected.o.ae&&(v.j.T(!0),v.hc(),v.selected.D(!0,!0),v.j.T(!1))}};v.mo=function(a){if(a.np)var b=a.il();else{b=v.B.cg(a);v.B.Fx(b);var d=a.va();b.setAttribute("x",a.w?-d.x:d.x);b.setAttribute("y",d.y)}v.Ij=b;v.Tl=a.o;v.ho=a.np?null:v.i.Po(a,!0)};v.Js=function(a){var b=v.Ij,d=v.Tl;v.mo(a);ah(a.o);v.Ij=b;v.Tl=d};v.GB=function(a){v.i.Lm(a)||a.preventDefault()};
v.hc=function(a){v.F.ya();v.N.ya();Gk();var b=v.nd();b.Ac&&b.Ac.H&&b.Ac.H.ya();a||b.$&&b.$.H&&b.$.H.si&&b.$.Bc.ff(null)};v.Vc=function(a){console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead.");return v.nd().Vc(a)};v.nd=function(){return v.zk};v.alert=function(a,b){window.alert(a);b&&b()};v.confirm=function(a,b){b(window.confirm(a))};v.prompt=function(a,b,d){d(window.prompt(a,b))};v.Sy=function(a){return function(){Ph(this,a)}};
v.hg=function(a){for(var b=0;b<a.length;b++){var d=a[b];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(v.I[e]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+e+'".'),v.I[e]={O:v.Sy(d)})}else console.warn("Block definition #"+b+" in JSON array is "+d+". Skipping.")}};
v.W=function(a,b,d,e,f,h){function k(r){var q=!f;r=v.Touch.dA(r);for(var y=0,K;K=r[y];y++)if(!q||v.Touch.Aq(K))v.Touch.Zz(K),d?e.call(d,K):e(K),l=!0}var l=!1,m=[];if(g.PointerEvent&&b in v.Touch.Ee)for(var n=0,t;t=v.Touch.Ee[b][n];n++)a.addEventListener(t,k,!1),m.push([a,t,k]);else if(a.addEventListener(b,k,!1),m.push([a,b,k]),b in v.Touch.Ee){var w=function(r){k(r);var q=!h;l&&q&&r.preventDefault()};for(n=0;t=v.Touch.Ee[b][n];n++)a.addEventListener(t,w,!1),m.push([a,t,w])}return m};
v.tc=function(a,b,d,e){function f(n){d?e.call(d,n):e(n)}var h=[],k=g.window;if(k&&k.PointerEvent&&b in v.Touch.Ee){k=0;for(var l;l=v.Touch.Ee[b][k];k++)a.addEventListener(l,f,!1),h.push([a,l,f])}else if(a.addEventListener(b,f,!1),h.push([a,b,f]),b in v.Touch.Ee){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var t=n.changedTouches[0];n.clientX=t.clientX;n.clientY=t.clientY}f(n);n.preventDefault()};for(k=0;l=v.Touch.Ee[b][k];k++)a.addEventListener(l,m,!1),h.push([a,l,m])}return h};
v.Ta=function(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};v.zg=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};
v.Zw=function(){v.Ec("LOGIC_HUE",["Blocks","logic","HUE"],void 0);v.Ec("LOGIC_HUE",["Constants","Logic","HUE"],210);v.Ec("LOOPS_HUE",["Blocks","loops","HUE"],void 0);v.Ec("LOOPS_HUE",["Constants","Loops","HUE"],120);v.Ec("MATH_HUE",["Blocks","math","HUE"],void 0);v.Ec("MATH_HUE",["Constants","Math","HUE"],230);v.Ec("TEXTS_HUE",["Blocks","texts","HUE"],void 0);v.Ec("TEXTS_HUE",["Constants","Text","HUE"],160);v.Ec("LISTS_HUE",["Blocks","lists","HUE"],void 0);v.Ec("LISTS_HUE",["Constants","Lists","HUE"],
260);v.Ec("COLOUR_HUE",["Blocks","colour","HUE"],void 0);v.Ec("COLOUR_HUE",["Constants","Colour","HUE"],20);v.Ec("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);v.Ec("VARIABLES_HUE",["Constants","Variables","HUE"],330);v.Ec("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);v.Ec("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
v.Ec=function(a,b,d){for(var e="Blockly",f=v,h=0;h<b.length;++h)e+="."+b[h],f&&(f=f[b[h]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};v.aA=function(a){this.dl=a;(a=v.nd())&&this.Qz(a)};v.Qz=function(a){this.Wu(B(a).filter(function(d){return void 0!==d.$k}));!a.$&&a.H&&a.H.m?this.Wu(B(a.H.m)):bh(a);a.$&&pm(a.$);var b=new qd(null,"theme");b.Jb=a.id;v.j.Y(b)};
v.Wu=function(a){for(var b=0,d;d=a[b];b++)if(L(d,d.$k),d.ed){var e=d.ed.m;if(e&&B(e)){var f=B(e);for(d=0;d<f.length;d++){var h=f[d];L(h,h.$k)}e=B(e.H.m);for(d=0;d<e.length;d++)h=e[d],L(h,h.$k)}}};v.BB=function(){return this.dl};g.Blockly||(g.Blockly={});g.Blockly.getMainWorkspace=v.nd;g.Blockly.addChangeListener=v.Vc;function sm(a,b){var d=a.className;d=p(d)&&d.match(/\S+/g)||[];for(var e=Qa(arguments,1),f=0;f<e.length;f++)La(d,e[f])||d.push(e[f]);d=d.join(" ");a.className=d};var tm={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",
he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas",
"pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587",
"zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},um="ace ar fa he mzn ps ur".split(" "),vm=window.BlocklyGamesLang,wm=window.BlocklyGamesLanguages,xm=!!window.location.pathname.match(/\.html$/),al=null;function ym(){return-1!=um.indexOf(vm)}var S,zm=Number,Am,Bm=window.location.search.match(/[?&]level=([^&]+)/);Am=Bm?decodeURIComponent(Bm[1].replace(/\+/g,"%20")):"NaN";var Cm=zm(Am);S=isNaN(Cm)?1:Math.min(Math.max(1,Cm),10);
function Dm(){document.title=document.getElementById("title").textContent;document.dir=ym()?"rtl":"ltr";document.head.parentElement.setAttribute("lang",vm);var a=document.getElementById("languageMenu");if(a){for(var b=[],d=0;d<wm.length;d++){var e=wm[d];b.push([tm[e],e])}b.sort(function(h,k){return h[0]>k[0]?1:h[0]<k[0]?-1:0});for(d=a.options.length=0;d<b.length;d++){var f=b[d];e=f[1];f=new Option(f[0],e);e==vm&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display="none")}for(d=
1;10>=d;d++)a=document.getElementById("level"+d),b=!!Em(d),a&&b&&sm(a,"level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(Fm,1)}function Em(a){var b=Gm;try{var d=window.localStorage[b+a]}catch(e){}return d}function T(a){var b;(b=document.getElementById(a))?(b=b.textContent,b=b.replace(/\\n/g,"\n")):b=null;return null===b?"[Unknown message: "+a+"]":b}
function Hm(a,b){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",b,!0)}
function Fm(){if(!xm){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")}};v.g.xB={};v.g.ADD_COMMENT="Add Comment";v.g.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";v.g.CHANGE_VALUE_TITLE="Change value:";v.g.CLEAN_UP="Clean up Blocks";v.g.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.";v.g.COLLAPSE_ALL="Collapse Blocks";v.g.COLLAPSE_BLOCK="Collapse Block";v.g.COLOUR_BLEND_COLOUR1="colour 1";v.g.COLOUR_BLEND_COLOUR2="colour 2";v.g.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp";
v.g.COLOUR_BLEND_RATIO="ratio";v.g.COLOUR_BLEND_TITLE="blend";v.g.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).";v.g.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color";v.g.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.";v.g.COLOUR_RANDOM_HELPURL="http://randomcolour.com";v.g.COLOUR_RANDOM_TITLE="random colour";v.g.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.";v.g.COLOUR_RGB_BLUE="blue";v.g.COLOUR_RGB_GREEN="green";
v.g.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html";v.g.COLOUR_RGB_RED="red";v.g.COLOUR_RGB_TITLE="colour with";v.g.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.";v.g.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";v.g.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop";v.g.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop";
v.g.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.";v.g.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.";v.g.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.";v.g.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each";v.g.CONTROLS_FOREACH_TITLE="for each item %1 in list %2";v.g.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.";
v.g.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with";v.g.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4";v.g.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";v.g.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.";v.g.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.";v.g.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse";
v.g.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.";v.g.CONTROLS_IF_MSG_ELSE="else";v.g.CONTROLS_IF_MSG_ELSEIF="else if";v.g.CONTROLS_IF_MSG_IF="if";v.g.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.";v.g.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";v.g.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";
v.g.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";v.g.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop";v.g.CONTROLS_REPEAT_INPUT_DO="do";v.g.CONTROLS_REPEAT_TITLE="repeat %1 times";v.g.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.";v.g.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat";
v.g.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until";v.g.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while";v.g.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.";v.g.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.";v.g.DELETE_ALL_BLOCKS="Delete all %1 blocks?";v.g.DELETE_BLOCK="Delete Block";v.g.DELETE_VARIABLE="Delete the '%1' variable";v.g.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";
v.g.DELETE_X_BLOCKS="Delete %1 Blocks";v.g.DISABLE_BLOCK="Disable Block";v.g.DUPLICATE_BLOCK="Duplicate";v.g.DUPLICATE_COMMENT="Duplicate Comment";v.g.ENABLE_BLOCK="Enable Block";v.g.EXPAND_ALL="Expand Blocks";v.g.EXPAND_BLOCK="Expand Block";v.g.EXTERNAL_INPUTS="External Inputs";v.g.HELP="Help";v.g.INLINE_INPUTS="Inline Inputs";v.g.IOS_CANCEL="Cancel";v.g.IOS_ERROR="Error";v.g.IOS_OK="OK";v.g.IOS_PROCEDURES_ADD_INPUT="+ Add Input";v.g.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements";
v.g.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.";v.g.IOS_PROCEDURES_INPUTS="INPUTS";v.g.IOS_VARIABLES_ADD_BUTTON="Add";v.g.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable";v.g.IOS_VARIABLES_DELETE_BUTTON="Delete";v.g.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.";v.g.IOS_VARIABLES_RENAME_BUTTON="Rename";v.g.IOS_VARIABLES_VARIABLE_NAME="Variable name";v.g.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list";
v.g.LISTS_CREATE_EMPTY_TITLE="create empty list";v.g.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records";v.g.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list";v.g.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.";v.g.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";v.g.LISTS_CREATE_WITH_INPUT_WITH="create list with";v.g.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.";
v.g.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.";v.g.LISTS_GET_INDEX_FIRST="first";v.g.LISTS_GET_INDEX_FROM_END="# from end";v.g.LISTS_GET_INDEX_FROM_START="#";v.g.LISTS_GET_INDEX_GET="get";v.g.LISTS_GET_INDEX_GET_REMOVE="get and remove";v.g.LISTS_GET_INDEX_LAST="last";v.g.LISTS_GET_INDEX_RANDOM="random";v.g.LISTS_GET_INDEX_REMOVE="remove";v.g.LISTS_GET_INDEX_TAIL="";v.g.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.";
v.g.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.";
v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.";v.g.LISTS_GET_SUBLIST_END_FROM_END="to # from end";
v.g.LISTS_GET_SUBLIST_END_FROM_START="to #";v.g.LISTS_GET_SUBLIST_END_LAST="to last";v.g.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist";v.g.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first";v.g.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end";v.g.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #";v.g.LISTS_GET_SUBLIST_TAIL="";v.g.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.";
v.g.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.";v.g.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.";v.g.LISTS_INDEX_OF_FIRST="find first occurrence of item";v.g.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list";v.g.LISTS_INDEX_OF_LAST="find last occurrence of item";v.g.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.";v.g.LISTS_INLIST="in list";
v.g.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty";v.g.LISTS_ISEMPTY_TITLE="%1 is empty";v.g.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.";v.g.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of";v.g.LISTS_LENGTH_TITLE="length of %1";v.g.LISTS_LENGTH_TOOLTIP="Returns the length of a list.";v.g.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";v.g.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times";
v.g.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.";v.g.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list";v.g.LISTS_REVERSE_MESSAGE0="reverse %1";v.g.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.";v.g.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set";v.g.LISTS_SET_INDEX_INPUT_TO="as";v.g.LISTS_SET_INDEX_INSERT="insert at";v.g.LISTS_SET_INDEX_SET="set";
v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.";v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.";v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.";v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.";v.g.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.";v.g.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.";
v.g.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.";v.g.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.";v.g.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list";v.g.LISTS_SORT_ORDER_ASCENDING="ascending";v.g.LISTS_SORT_ORDER_DESCENDING="descending";v.g.LISTS_SORT_TITLE="sort %1 %2 %3";v.g.LISTS_SORT_TOOLTIP="Sort a copy of a list.";v.g.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case";v.g.LISTS_SORT_TYPE_NUMERIC="numeric";
v.g.LISTS_SORT_TYPE_TEXT="alphabetic";v.g.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists";v.g.LISTS_SPLIT_LIST_FROM_TEXT="make list from text";v.g.LISTS_SPLIT_TEXT_FROM_LIST="make text from list";v.g.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.";v.g.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.";v.g.LISTS_SPLIT_WITH_DELIMITER="with delimiter";
v.g.LOGIC_BOOLEAN_FALSE="false";v.g.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values";v.g.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.";v.g.LOGIC_BOOLEAN_TRUE="true";v.g.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)";v.g.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.";v.g.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.";v.g.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.";
v.g.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.";v.g.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.";v.g.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.";v.g.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not";v.g.LOGIC_NEGATE_TITLE="not %1";v.g.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.";
v.g.LOGIC_NULL="null";v.g.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type";v.g.LOGIC_NULL_TOOLTIP="Returns null.";v.g.LOGIC_OPERATION_AND="and";v.g.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations";v.g.LOGIC_OPERATION_OR="or";v.g.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.";v.g.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.";v.g.LOGIC_TERNARY_CONDITION="test";v.g.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:";
v.g.LOGIC_TERNARY_IF_FALSE="if false";v.g.LOGIC_TERNARY_IF_TRUE="if true";v.g.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";v.g.MATH_ADDITION_SYMBOL="+";v.g.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic";v.g.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.";v.g.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.";
v.g.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.";v.g.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.";v.g.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.";v.g.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2";v.g.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2";v.g.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.";v.g.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";
v.g.MATH_CHANGE_TITLE="change %1 by %2";v.g.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.";v.g.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant";v.g.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";v.g.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)";v.g.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3";
v.g.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).";v.g.MATH_DIVISION_SYMBOL="\u00f7";v.g.MATH_IS_DIVISIBLE_BY="is divisible by";v.g.MATH_IS_EVEN="is even";v.g.MATH_IS_NEGATIVE="is negative";v.g.MATH_IS_ODD="is odd";v.g.MATH_IS_POSITIVE="is positive";v.g.MATH_IS_PRIME="is prime";v.g.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";v.g.MATH_IS_WHOLE="is whole";
v.g.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation";v.g.MATH_MODULO_TITLE="remainder of %1 \u00f7 %2";v.g.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.";v.g.MATH_MULTIPLICATION_SYMBOL="\u00d7";v.g.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number";v.g.MATH_NUMBER_TOOLTIP="A number.";v.g.MATH_ONLIST_HELPURL="";v.g.MATH_ONLIST_OPERATOR_AVERAGE="average of list";v.g.MATH_ONLIST_OPERATOR_MAX="max of list";v.g.MATH_ONLIST_OPERATOR_MEDIAN="median of list";
v.g.MATH_ONLIST_OPERATOR_MIN="min of list";v.g.MATH_ONLIST_OPERATOR_MODE="modes of list";v.g.MATH_ONLIST_OPERATOR_RANDOM="random item of list";v.g.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list";v.g.MATH_ONLIST_OPERATOR_SUM="sum of list";v.g.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.";v.g.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.";v.g.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.";
v.g.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.";v.g.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.";v.g.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.";v.g.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.";v.g.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.";v.g.MATH_POWER_SYMBOL="^";v.g.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";
v.g.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction";v.g.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";v.g.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";v.g.MATH_RANDOM_INT_TITLE="random integer from %1 to %2";v.g.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.";v.g.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding";v.g.MATH_ROUND_OPERATOR_ROUND="round";
v.g.MATH_ROUND_OPERATOR_ROUNDDOWN="round down";v.g.MATH_ROUND_OPERATOR_ROUNDUP="round up";v.g.MATH_ROUND_TOOLTIP="Round a number up or down.";v.g.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root";v.g.MATH_SINGLE_OP_ABSOLUTE="absolute";v.g.MATH_SINGLE_OP_ROOT="square root";v.g.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.";v.g.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.";v.g.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.";
v.g.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.";v.g.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.";v.g.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.";v.g.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.";v.g.MATH_SUBTRACTION_SYMBOL="-";v.g.MATH_TRIG_ACOS="acos";v.g.MATH_TRIG_ASIN="asin";v.g.MATH_TRIG_ATAN="atan";v.g.MATH_TRIG_COS="cos";v.g.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions";
v.g.MATH_TRIG_SIN="sin";v.g.MATH_TRIG_TAN="tan";v.g.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.";v.g.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.";v.g.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.";v.g.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).";v.g.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).";v.g.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).";v.g.NEW_COLOUR_VARIABLE="Create colour variable...";
v.g.NEW_NUMBER_VARIABLE="Create number variable...";v.g.NEW_STRING_VARIABLE="Create string variable...";v.g.NEW_VARIABLE="Create variable...";v.g.NEW_VARIABLE_TITLE="New variable name:";v.g.NEW_VARIABLE_TYPE_TITLE="New variable type:";v.g.ORDINAL_NUMBER_SUFFIX="";v.g.PROCEDURES_ALLOW_STATEMENTS="allow statements";v.g.PROCEDURES_BEFORE_PARAMS="with:";v.g.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";v.g.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.";
v.g.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";v.g.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.";v.g.PROCEDURES_CALL_BEFORE_PARAMS="with:";v.g.PROCEDURES_CREATE_DO="Create '%1'";v.g.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...";v.g.PROCEDURES_DEFNORETURN_DO="";v.g.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";v.g.PROCEDURES_DEFNORETURN_PROCEDURE="do something";
v.g.PROCEDURES_DEFNORETURN_TITLE="to";v.g.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.";v.g.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";v.g.PROCEDURES_DEFRETURN_RETURN="return";v.g.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.";v.g.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.";v.g.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition";v.g.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause";
v.g.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.";v.g.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.";v.g.PROCEDURES_MUTATORARG_TITLE="input name:";v.g.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.";v.g.PROCEDURES_MUTATORCONTAINER_TITLE="inputs";v.g.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.";v.g.REDO="Redo";v.g.REMOVE_COMMENT="Remove Comment";
v.g.RENAME_VARIABLE="Rename variable...";v.g.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";v.g.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";v.g.TEXT_APPEND_TITLE="to %1 append text %2";v.g.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.";v.g.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case";v.g.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case";v.g.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case";
v.g.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE";v.g.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.";v.g.TEXT_CHARAT_FIRST="get first letter";v.g.TEXT_CHARAT_FROM_END="get letter # from end";v.g.TEXT_CHARAT_FROM_START="get letter #";v.g.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text";v.g.TEXT_CHARAT_LAST="get last letter";v.g.TEXT_CHARAT_RANDOM="get random letter";v.g.TEXT_CHARAT_TAIL="";v.g.TEXT_CHARAT_TITLE="in text %1 %2";
v.g.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.";v.g.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings";v.g.TEXT_COUNT_MESSAGE0="count %1 in %2";v.g.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.";v.g.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.";v.g.TEXT_CREATE_JOIN_TITLE_JOIN="join";v.g.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.";
v.g.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end";v.g.TEXT_GET_SUBSTRING_END_FROM_START="to letter #";v.g.TEXT_GET_SUBSTRING_END_LAST="to last letter";v.g.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text";v.g.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text";v.g.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter";v.g.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end";v.g.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #";
v.g.TEXT_GET_SUBSTRING_TAIL="";v.g.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.";v.g.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text";v.g.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text";v.g.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text";v.g.TEXT_INDEXOF_TITLE="in text %1 %2 %3";v.g.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.";
v.g.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text";v.g.TEXT_ISEMPTY_TITLE="%1 is empty";v.g.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.";v.g.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation";v.g.TEXT_JOIN_TITLE_CREATEWITH="create text with";v.g.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.";v.g.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";
v.g.TEXT_LENGTH_TITLE="length of %1";v.g.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.";v.g.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text";v.g.TEXT_PRINT_TITLE="print %1";v.g.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.";v.g.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user";v.g.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.";
v.g.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.";v.g.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message";v.g.TEXT_PROMPT_TYPE_TEXT="prompt for text with message";v.g.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings";v.g.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3";v.g.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.";v.g.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text";
v.g.TEXT_REVERSE_MESSAGE0="reverse %1";v.g.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.";v.g.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)";v.g.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.";v.g.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces";v.g.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of";v.g.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of";v.g.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of";
v.g.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.";v.g.TODAY="Today";v.g.UNDO="Undo";v.g.VARIABLES_DEFAULT_NAME="item";v.g.VARIABLES_GET_CREATE_SET="Create 'set %1'";v.g.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get";v.g.VARIABLES_GET_TOOLTIP="Returns the value of this variable.";v.g.VARIABLES_SET="set %1 to %2";v.g.VARIABLES_SET_CREATE_GET="Create 'get %1'";v.g.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set";
v.g.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.";v.g.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";v.g.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";v.g.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";v.g.CONTROLS_FOREACH_INPUT_DO=v.g.CONTROLS_REPEAT_INPUT_DO;v.g.CONTROLS_FOR_INPUT_DO=v.g.CONTROLS_REPEAT_INPUT_DO;v.g.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=v.g.CONTROLS_IF_MSG_ELSEIF;
v.g.CONTROLS_IF_ELSE_TITLE_ELSE=v.g.CONTROLS_IF_MSG_ELSE;v.g.CONTROLS_IF_IF_TITLE_IF=v.g.CONTROLS_IF_MSG_IF;v.g.CONTROLS_IF_MSG_THEN=v.g.CONTROLS_REPEAT_INPUT_DO;v.g.CONTROLS_WHILEUNTIL_INPUT_DO=v.g.CONTROLS_REPEAT_INPUT_DO;v.g.LISTS_CREATE_WITH_ITEM_TITLE=v.g.VARIABLES_DEFAULT_NAME;v.g.LISTS_GET_INDEX_HELPURL=v.g.LISTS_INDEX_OF_HELPURL;v.g.LISTS_GET_INDEX_INPUT_IN_LIST=v.g.LISTS_INLIST;v.g.LISTS_GET_SUBLIST_INPUT_IN_LIST=v.g.LISTS_INLIST;v.g.LISTS_INDEX_OF_INPUT_IN_LIST=v.g.LISTS_INLIST;
v.g.LISTS_SET_INDEX_INPUT_IN_LIST=v.g.LISTS_INLIST;v.g.MATH_CHANGE_TITLE_ITEM=v.g.VARIABLES_DEFAULT_NAME;v.g.PROCEDURES_DEFRETURN_COMMENT=v.g.PROCEDURES_DEFNORETURN_COMMENT;v.g.PROCEDURES_DEFRETURN_DO=v.g.PROCEDURES_DEFNORETURN_DO;v.g.PROCEDURES_DEFRETURN_PROCEDURE=v.g.PROCEDURES_DEFNORETURN_PROCEDURE;v.g.PROCEDURES_DEFRETURN_TITLE=v.g.PROCEDURES_DEFNORETURN_TITLE;v.g.TEXT_APPEND_VARIABLE=v.g.VARIABLES_DEFAULT_NAME;v.g.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=v.g.VARIABLES_DEFAULT_NAME;v.g.LOGIC_HUE="210";
v.g.LOOPS_HUE="120";v.g.MATH_HUE="230";v.g.TEXTS_HUE="160";v.g.LISTS_HUE="260";v.g.COLOUR_HUE="20";v.g.VARIABLES_HUE="330";v.g.VARIABLES_DYNAMIC_HUE="310";v.g.PROCEDURES_HUE="290";var V={zi:null,O:function(){Dm();var a=document.getElementById("linkButton");"BlocklyStorage"in window?(BlocklyStorage.HTTPREQUEST_ERROR=T("Games_httpRequestError"),BlocklyStorage.LINK_ALERT=T("Games_linkAlert"),BlocklyStorage.HASH_ERROR=T("Games_hashError"),BlocklyStorage.XML_ERROR=T("Games_xmlError"),BlocklyStorage.alert=U.Nu.bind(U,a),a&&Hm(a,BlocklyStorage.link)):a&&(a.style.display="none");(a=document.getElementById("languageMenu"))&&a.addEventListener("change",V.Yw,!0);v.I&&(v.I.fw=!1);v.h&&
(v.h.fw=!1)},Xy:function(a,b){if("BlocklyStorage"in window&&1<window.location.hash.length)BlocklyStorage.retrieveXml(window.location.hash.substring(1));else{var d=null;try{d=window.sessionStorage.Ft}catch(h){}d&&delete window.sessionStorage.Ft;var e=Em(S),f=b&&Em(S-1);f&&"function"==typeof b&&(f=b(f));(a=d||e||f||a)&&V.Du(a)}},Du:function(a){V.zi?V.zi.setValue(a,-1):(a=v.B.td(a),al.clear(),v.B.Ef(a,al),al.Pr())},Ro:function(){if(V.zi)var a=V.zi.getValue();else{a=v.B.Oq(al,!0);if(1==Ld(al,!1).length&&
a.querySelector){var b=a.querySelector("block");b&&(b.removeAttribute("x"),b.removeAttribute("y"))}a=v.B.md(a)}return a},ng:function(){return al},Uz:function(){window.localStorage&&(window.localStorage[Gm+S]=V.Ro())},Em:function(){window.location=(xm?"index.html":"./")+"?lang="+vm},Yw:function(){if(window.sessionStorage){if(V.zi)var a=V.zi.getValue();else a=v.B.Oq(al),a=v.B.md(a);window.sessionStorage.Ft=a}a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);
var b=window.location.search;b=1>=b.length?"?lang="+a:b.match(/[?&]lang=[^&]*/)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b},Ip:function(){10>S?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+vm+"&level="+(S+1):V.Em()},gt:function(a,b){if(a){var d=a.match(/^block_id_([^']+)$/);d&&(a=d[1])}var e=a;a=al;if(void 0===b){for(var f=0;d=
a.lk[f];f++)d.qd(!1);a.lk.length=0}if(d=e?vd(a,e):null)(b=void 0===b||b)?-1==a.lk.indexOf(d)&&a.lk.push(d):v.i.Ej(a.lk,d),d.qd(b)},Ly:function(a,b){a=document.getElementById(a);a.firstChild||(a=v.ug(a,{rtl:ym(),readOnly:!0}),"string"!=typeof b&&(b=b.join("")),v.B.Ef(v.B.td(b),a))},hA:function(a){return a.replace(/(,\s*)?'block_id_[^']+'\)/g,")").replace(/[\s\xa0]+$/,"")},Ff:function(a){if("click"==a.type&&"touchend"==V.Ff.$p&&V.Ff.Yp+2E3>Date.now()||V.Ff.$p==a.type&&V.Ff.Yp+400>Date.now())return a.preventDefault(),
a.stopPropagation(),!0;V.Ff.$p=a.type;V.Ff.Yp=Date.now();return!1}};V.Ff.$p=null;V.Ff.Yp=0;V.Hy=function(){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","third-party/JS-Interpreter/compressed.js");document.head.appendChild(a)};
V.Iy=function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href","common/prettify.css");document.head.appendChild(a);a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","common/prettify.js");document.head.appendChild(a)};window.BlocklyInterface=V;V.setCode=V.Du;V.getCode=V.Ro;V.getWorkspace=V.ng;var U={vh:!1,Bs:null,dm:null,kj:function(a,b,d,e,f,h){function k(){U.vh&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);U.vh&&U.Fd(!1);v.nd()&&v.hc(!0);U.vh=!0;U.Bs=b;U.dm=h;var l=document.getElementById("dialog");h=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(h.style.visibility="visible",h.style.opacity=.3,h.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),U.to=v.tc(e,"mousedown",null,U.Gx));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&b?(U.Qm(b,!1,.2),U.Qm(l,!0,.8),setTimeout(k,175)):k()},Cs:0,Ds:0,Gx:function(a){U.wo();if(!v.i.Ag(a)){var b=document.getElementById("dialog");U.Cs=b.offsetLeft-a.clientX;U.Ds=b.offsetTop-a.clientY;U.vo=v.tc(document,"mouseup",null,U.wo);U.uo=v.tc(document,"mousemove",null,U.Hx);a.stopPropagation()}},Hx:function(a){var b=document.getElementById("dialog"),
d=U.Cs+a.clientX;a=U.Ds+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-b.offsetWidth);b.style.left=d+"px";b.style.top=a+"px"},wo:function(){U.vo&&(v.Ta(U.vo),U.vo=null);U.uo&&(v.Ta(U.uo),U.uo=null)},Fd:function(a){function b(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(U.vh){U.wo();U.to&&(v.Ta(U.to),U.to=null);U.vh=!1;U.dm&&U.dm();U.dm=null;var d=!1===a?
null:U.Bs;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(U.Qm(a,!1,.8),U.Qm(d,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},Qm:function(a,b,d){function e(){f.style.width=h.width+"px";f.style.height=h.height+"px";f.style.left=h.x+"px";f.style.top=
h.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),h=U.Zx(a);b?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},Zx:function(a){var b=qh(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},Nu:function(a,b){var d=document.getElementById("containerStorage");d.textContent="";b=b.split("\n");for(var e=0;e<b.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(b[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");U.kj(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},U.Iq);U.Gq()},Ew:function(){if(!Em(S))if(U.vh||al.Rb())setTimeout(U.Ew,15E3);else{var a=document.getElementById("dialogAbort"),b=document.getElementById("abortCancel");b.addEventListener("click",U.Fd,!0);b.addEventListener("touchend",U.Fd,!0);b=document.getElementById("abortOk");b.addEventListener("click",V.Em,!0);b.addEventListener("touchend",
V.Em,!0);U.kj(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",U.wr,!0)});document.body.addEventListener("keydown",U.wr,!0)}},Cq:function(){document.getElementById("galleryXml").value=V.Ro();var a=document.getElementById("galleryDialog");if(!U.Cq.Tz){var b=document.getElementById("galleryCancel");b.addEventListener("click",U.Fd,!0);b.addEventListener("touchend",U.Fd,!0);b=document.getElementById("galleryOk");b.addEventListener("click",U.Oo,!0);
b.addEventListener("touchend",U.Oo,!0);U.Cq.Tz=!0}b=document.getElementById("submitButton");U.kj(a,b,!0,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",U.Rs,!0)});document.body.addEventListener("keydown",U.Rs,!0);setTimeout(function(){document.getElementById("galleryTitle").focus()},250)},nx:function(){var a=document.getElementById("dialogDone");if(al){var b=document.getElementById("dialogLinesText");b.textContent="";var d=$k();d=V.hA(d);var e=d.replace(/\/\/[^\n]*/g,
"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?T("Games_linesOfCode1"):T("Games_linesOfCode2").replace("%1",String(e));b.appendChild(document.createTextNode(d))}d=10>S?T("Games_nextLevel").replace("%1",String(S+1)):T("Games_finalLevel");b=document.getElementById("doneCancel");
b.addEventListener("click",U.Fd,!0);b.addEventListener("touchend",U.Fd,!0);b=document.getElementById("doneOk");b.addEventListener("click",V.Ip,!0);b.addEventListener("touchend",V.Ip,!0);U.kj(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",U.Wr,!0)});document.body.addEventListener("keydown",U.Wr,!0);document.getElementById("dialogDoneText").textContent=d},As:function(a){!U.vh||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(U.Fd(!0),a.stopPropagation(),
a.preventDefault())},Gq:function(){document.body.addEventListener("keydown",U.As,!0)},Iq:function(){document.body.removeEventListener("keydown",U.As,!0)},Wr:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)U.Fd(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&V.Ip()},wr:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)U.Fd(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&V.Em()},Rs:function(a){27==a.keyCode?U.Fd(!0):13==a.keyCode&&U.Oo()},Oo:function(){var a=
document.getElementById("galleryTitle");if(a.value.trim()){a=document.getElementById("galleryForm");for(var b=[],d=0,e;e=a.elements[d];d++)e.name&&(b[d]=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value));var f=new XMLHttpRequest;f.open("POST",a.action);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.onload=function(){if(4==f.readyState){var h=200==f.status?T("Games_submitted"):T("Games_httpRequestError")+"\nStatus: "+f.status;U.Nu(null,h)}};f.send(b.join("&"));U.Fd(!0)}else a.value=
"",a.focus()}};window.BlocklyDialogs=U;U.hideDialog=U.Fd;var Im,W;function Jm(){if(10==S)return 1<B(al).length;for(var a=0;a<=Km;a++)if(50!=a){if(void 0===Lm[a])return!1;if(100<Lm[a])return console.log("Pixel errors (frame "+a+"): "+Lm[a]),!1}if(9==S){a=B(al,!0);for(var b=0,d;d=a[b];b++)if("movie_circle"==d.type){if("math_arithmetic"!=Rh(d,"RADIUS").type)return a=document.getElementById("helpLayer"),U.kj(a,null,!1,!0,{width:"30%",left:"35%",top:"12em"},U.Iq),U.Gq(),!1;break}}return!0};v.I.Ul={};v.P={};v.P.xv={};v.P.xv.gi=20;
v.hg([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",
name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",
name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]);v.I.yp={};v.P.$v={};v.P.$v.gi=260;
v.hg([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",
args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",
name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]);
v.I.lists_create_with={O:function(){this.xb=v.g.LISTS_CREATE_WITH_HELPURL;L(this,"list_blocks");this.kb=3;this.Cc();this.yc(!0,"Array");this.ij(new ih(["lists_create_with_item"]));this.Aa(v.g.LISTS_CREATE_WITH_TOOLTIP)},za:function(){var a=document.createElement("mutation");a.setAttribute("items",this.kb);return a},Qa:function(a){this.kb=parseInt(a.getAttribute("items"),10);this.Cc()},Ke:function(a){var b=a.ce("lists_create_with_container");b.ic();for(var d=F(b,"STACK").connection,e=0;e<this.kb;e++){var f=
a.ce("lists_create_with_item");f.ic();d.connect(f.R);d=f.J}return b},Je:function(a){var b=Rh(a,"STACK");for(a=[];b;)a.push(b.rl),b=b.J&&E(b.J);for(b=0;b<this.kb;b++){var d=F(this,"ADD"+b).connection.V;d&&-1==a.indexOf(d)&&d.disconnect()}this.kb=a.length;this.Cc();for(b=0;b<this.kb;b++)jh(a[b],this,"ADD"+b)},Tk:function(a){a=Rh(a,"STACK");for(var b=0;a;){var d=F(this,"ADD"+b);a.rl=d&&d.connection.V;b++;a=a.J&&E(a.J)}},Cc:function(){this.kb&&F(this,"EMPTY")?this.Va("EMPTY"):this.kb||F(this,"EMPTY")||
J(O(this,"EMPTY"),v.g.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.kb;a++)if(!F(this,"ADD"+a)){var b=N(this,"ADD"+a);0==a&&J(b,v.g.LISTS_CREATE_WITH_INPUT_WITH)}for(;F(this,"ADD"+a);)this.Va("ADD"+a),a++}};v.I.lists_create_with_container={O:function(){L(this,"list_blocks");J(O(this),v.g.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);this.Fe(v.Ga,"STACK");this.Aa(v.g.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);this.contextMenu=!1}};
v.I.lists_create_with_item={O:function(){L(this,"list_blocks");J(O(this),v.g.LISTS_CREATE_WITH_ITEM_TITLE);this.sd(!0);this.rd(!0);this.Aa(v.g.LISTS_CREATE_WITH_ITEM_TOOLTIP);this.contextMenu=!1}};
v.I.lists_indexOf={O:function(){var a=[[v.g.LISTS_INDEX_OF_FIRST,"FIRST"],[v.g.LISTS_INDEX_OF_LAST,"LAST"]];this.xb=v.g.LISTS_INDEX_OF_HELPURL;L(this,"list_blocks");this.yc(!0,"Number");J(N(this,"VALUE").ga("Array"),v.g.LISTS_INDEX_OF_INPUT_IN_LIST);J(N(this,"FIND"),new M(a),"END");this.Id(!0);var b=this;this.Aa(function(){return v.g.LISTS_INDEX_OF_TOOLTIP.replace("%1",b.o.options.fd?"0":"-1")})}};
v.I.lists_getIndex={O:function(){var a=[[v.g.LISTS_GET_INDEX_GET,"GET"],[v.g.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[v.g.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.Sn=[[v.g.LISTS_GET_INDEX_FROM_START,"FROM_START"],[v.g.LISTS_GET_INDEX_FROM_END,"FROM_END"],[v.g.LISTS_GET_INDEX_FIRST,"FIRST"],[v.g.LISTS_GET_INDEX_LAST,"LAST"],[v.g.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.xb=v.g.LISTS_GET_INDEX_HELPURL;L(this,"list_blocks");a=new M(a,function(d){this.u.Xu("REMOVE"==d)});J(N(this,"VALUE").ga("Array"),v.g.LISTS_GET_INDEX_INPUT_IN_LIST);
J(J(O(this),a,"MODE"),"","SPACE");O(this,"AT");v.g.LISTS_GET_INDEX_TAIL&&J(O(this,"TAIL"),v.g.LISTS_GET_INDEX_TAIL);this.Id(!0);this.yc(!0);this.tb(!0);var b=this;this.Aa(function(){var d=C(b,"MODE"),e=C(b,"WHERE"),f="";switch(d+" "+e){case "GET FROM_START":case "GET FROM_END":f=v.g.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case "GET FIRST":f=v.g.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case "GET LAST":f=v.g.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case "GET RANDOM":f=v.g.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;
break;case "GET_REMOVE FROM_START":case "GET_REMOVE FROM_END":f=v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case "GET_REMOVE FIRST":f=v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case "GET_REMOVE LAST":f=v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case "GET_REMOVE RANDOM":f=v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case "REMOVE FROM_START":case "REMOVE FROM_END":f=v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case "REMOVE FIRST":f=v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;
break;case "REMOVE LAST":f=v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case "REMOVE RANDOM":f=v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if("FROM_START"==e||"FROM_END"==e)f+="  "+("FROM_START"==e?v.g.LISTS_INDEX_FROM_START_TOOLTIP:v.g.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",b.o.options.fd?"#1":"#0");return f})},za:function(){var a=document.createElement("mutation");a.setAttribute("statement",!this.M);a.setAttribute("at",F(this,"AT").type==v.Fa);return a},Qa:function(a){var b="true"==a.getAttribute("statement");
this.Xu(b);a="false"!=a.getAttribute("at");this.tb(a)},Xu:function(a){a!=!this.M&&(Id(this,!0),a?(this.yc(!1),this.sd(!0),this.rd(!0)):(this.sd(!1),this.rd(!1),this.yc(!0)))},tb:function(a){this.Va("AT");this.Va("ORDINAL",!0);a?(N(this,"AT").ga("Number"),v.g.ORDINAL_NUMBER_SUFFIX&&J(O(this,"ORDINAL"),v.g.ORDINAL_NUMBER_SUFFIX)):O(this,"AT");var b=new M(this.Sn,function(d){var e="FROM_START"==d||"FROM_END"==d;if(e!=a){var f=this.u;f.tb(e);Ed(f,d,"WHERE");return null}});J(F(this,"AT"),b,"WHERE");v.g.LISTS_GET_INDEX_TAIL&&
Qh(this,"TAIL",null)}};
v.I.lists_setIndex={O:function(){var a=[[v.g.LISTS_SET_INDEX_SET,"SET"],[v.g.LISTS_SET_INDEX_INSERT,"INSERT"]];this.Sn=[[v.g.LISTS_GET_INDEX_FROM_START,"FROM_START"],[v.g.LISTS_GET_INDEX_FROM_END,"FROM_END"],[v.g.LISTS_GET_INDEX_FIRST,"FIRST"],[v.g.LISTS_GET_INDEX_LAST,"LAST"],[v.g.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.xb=v.g.LISTS_SET_INDEX_HELPURL;L(this,"list_blocks");J(N(this,"LIST").ga("Array"),v.g.LISTS_SET_INDEX_INPUT_IN_LIST);J(J(O(this),new M(a),"MODE"),"","SPACE");O(this,"AT");J(N(this,
"TO"),v.g.LISTS_SET_INDEX_INPUT_TO);this.Id(!0);this.sd(!0);this.rd(!0);this.Aa(v.g.LISTS_SET_INDEX_TOOLTIP);this.tb(!0);var b=this;this.Aa(function(){var d=C(b,"MODE"),e=C(b,"WHERE"),f="";switch(d+" "+e){case "SET FROM_START":case "SET FROM_END":f=v.g.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case "SET FIRST":f=v.g.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case "SET LAST":f=v.g.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case "SET RANDOM":f=v.g.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case "INSERT FROM_START":case "INSERT FROM_END":f=
v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case "INSERT FIRST":f=v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case "INSERT LAST":f=v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case "INSERT RANDOM":f=v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}if("FROM_START"==e||"FROM_END"==e)f+="  "+v.g.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",b.o.options.fd?"#1":"#0");return f})},za:function(){var a=document.createElement("mutation");a.setAttribute("at",F(this,"AT").type==v.Fa);return a},Qa:function(a){a=
"false"!=a.getAttribute("at");this.tb(a)},tb:function(a){this.Va("AT");this.Va("ORDINAL",!0);a?(N(this,"AT").ga("Number"),v.g.ORDINAL_NUMBER_SUFFIX&&J(O(this,"ORDINAL"),v.g.ORDINAL_NUMBER_SUFFIX)):O(this,"AT");var b=new M(this.Sn,function(d){var e="FROM_START"==d||"FROM_END"==d;if(e!=a){var f=this.u;f.tb(e);Ed(f,d,"WHERE");return null}});Qh(this,"AT","TO");F(this,"ORDINAL")&&Qh(this,"ORDINAL","TO");J(F(this,"AT"),b,"WHERE")}};
v.I.lists_getSublist={O:function(){this.WHERE_OPTIONS_1=[[v.g.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[v.g.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[v.g.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[v.g.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[v.g.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[v.g.LISTS_GET_SUBLIST_END_LAST,"LAST"]];this.xb=v.g.LISTS_GET_SUBLIST_HELPURL;L(this,"list_blocks");J(N(this,"LIST").ga("Array"),v.g.LISTS_GET_SUBLIST_INPUT_IN_LIST);O(this,
"AT1");O(this,"AT2");v.g.LISTS_GET_SUBLIST_TAIL&&J(O(this,"TAIL"),v.g.LISTS_GET_SUBLIST_TAIL);this.Id(!0);this.yc(!0,"Array");this.tb(1,!0);this.tb(2,!0);this.Aa(v.g.LISTS_GET_SUBLIST_TOOLTIP)},za:function(){var a=document.createElement("mutation");a.setAttribute("at1",F(this,"AT1").type==v.Fa);a.setAttribute("at2",F(this,"AT2").type==v.Fa);return a},Qa:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.tb(1,b);this.tb(2,a)},tb:function(a,b){this.Va("AT"+a);this.Va("ORDINAL"+
a,!0);b?(N(this,"AT"+a).ga("Number"),v.g.ORDINAL_NUMBER_SUFFIX&&J(O(this,"ORDINAL"+a),v.g.ORDINAL_NUMBER_SUFFIX)):O(this,"AT"+a);var d=new M(this["WHERE_OPTIONS_"+a],function(e){var f="FROM_START"==e||"FROM_END"==e;if(f!=b){var h=this.u;h.tb(a,f);Ed(h,e,"WHERE"+a);return null}});J(F(this,"AT"+a),d,"WHERE"+a);1==a&&(Qh(this,"AT1","AT2"),F(this,"ORDINAL1")&&Qh(this,"ORDINAL1","AT2"));v.g.LISTS_GET_SUBLIST_TAIL&&Qh(this,"TAIL",null)}};
v.I.lists_sort={O:function(){Ph(this,{message0:v.g.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[v.g.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[v.g.LISTS_SORT_TYPE_TEXT,"TEXT"],[v.g.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[v.g.LISTS_SORT_ORDER_ASCENDING,"1"],[v.g.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:v.g.LISTS_SORT_TOOLTIP,helpUrl:v.g.LISTS_SORT_HELPURL})}};
v.I.lists_split={O:function(){var a=this,b=new M([[v.g.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[v.g.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(d){a.Be(d)});this.xb=v.g.LISTS_SPLIT_HELPURL;L(this,"list_blocks");J(N(this,"INPUT").ga("String"),b,"MODE");J(N(this,"DELIM").ga("String"),v.g.LISTS_SPLIT_WITH_DELIMITER);this.Id(!0);this.yc(!0,"Array");this.Aa(function(){var d=C(a,"MODE");if("SPLIT"==d)return v.g.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==d)return v.g.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+
d);})},Be:function(a){if(C(this,"MODE")!=a){Ed(this,a,"MODE");var b=F(this,"INPUT").connection;b.ye=null;var d=E(b);d&&(b.disconnect(),d.Oa?d.D():this.ob())}"SPLIT"==a?(this.M.ga("Array"),F(this,"INPUT").ga("String")):(this.M.ga("String"),F(this,"INPUT").ga("Array"))},za:function(){var a=document.createElement("mutation");a.setAttribute("mode",C(this,"MODE"));return a},Qa:function(a){this.Be(a.getAttribute("mode"))}};v.I.Zy={};v.P.xd={};v.P.xd.gi=210;
v.hg([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",
helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",
message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",
tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",
name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
v.hg([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",
tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);v.P.xd.Rn={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};v.S.register("logic_op_tooltip",v.S.Ll("OP",v.P.xd.Rn));
v.P.xd.pv={Ad:0,me:0,za:function(){if(!this.Ad&&!this.me)return null;var a=document.createElement("mutation");this.Ad&&a.setAttribute("elseif",this.Ad);this.me&&a.setAttribute("else",1);return a},Qa:function(a){this.Ad=parseInt(a.getAttribute("elseif"),10)||0;this.me=parseInt(a.getAttribute("else"),10)||0;this.Oz()},Ke:function(a){var b=a.ce("controls_if_if");b.ic();for(var d=b.J,e=1;e<=this.Ad;e++){var f=a.ce("controls_if_elseif");f.ic();d.connect(f.R);d=f.J}this.me&&(a=a.ce("controls_if_else"),
a.ic(),d.connect(a.R));return b},Je:function(a){a=E(a.J);this.me=this.Ad=0;for(var b=[null],d=[null],e=null;a;){switch(a.type){case "controls_if_elseif":this.Ad++;b.push(a.rl);d.push(a.Rf);break;case "controls_if_else":this.me++;e=a.Rf;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.J&&E(a.J)}this.Cc();this.tu(b,d,e)},Tk:function(a){a=E(a.J);for(var b=1;a;){switch(a.type){case "controls_if_elseif":var d=F(this,"IF"+b),e=F(this,"DO"+b);a.rl=d&&d.connection.V;a.Rf=e&&e.connection.V;
b++;break;case "controls_if_else":e=F(this,"ELSE");a.Rf=e&&e.connection.V;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.J&&E(a.J)}},Oz:function(){var a=[null],b=[null],d=null;F(this,"ELSE")&&(d=F(this,"ELSE").connection.V);for(var e=1;F(this,"IF"+e);){var f=F(this,"DO"+e);a.push(F(this,"IF"+e).connection.V);b.push(f.connection.V);e++}this.Cc();this.tu(a,b,d)},Cc:function(){F(this,"ELSE")&&this.Va("ELSE");for(var a=1;F(this,"IF"+a);)this.Va("IF"+a),this.Va("DO"+a),a++;for(a=1;a<=
this.Ad;a++)J(N(this,"IF"+a).ga("Boolean"),v.g.CONTROLS_IF_MSG_ELSEIF),J(this.Fe(v.Ga,"DO"+a),v.g.CONTROLS_IF_MSG_THEN);this.me&&J(this.Fe(v.Ga,"ELSE"),v.g.CONTROLS_IF_MSG_ELSE)},tu:function(a,b,d){for(var e=1;e<=this.Ad;e++)jh(a[e],this,"IF"+e),jh(b[e],this,"DO"+e);jh(d,this,"ELSE")}};v.S.Qk("controls_if_mutator",v.P.xd.pv,null,["controls_if_elseif","controls_if_else"]);
v.P.xd.qv=function(){this.Aa(function(){if(this.Ad||this.me){if(!this.Ad&&this.me)return v.g.CONTROLS_IF_TOOLTIP_2;if(this.Ad&&!this.me)return v.g.CONTROLS_IF_TOOLTIP_3;if(this.Ad&&this.me)return v.g.CONTROLS_IF_TOOLTIP_4}else return v.g.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))};v.S.register("controls_if_tooltip",v.P.xd.qv);
v.P.xd.Wv={onchange:function(a){this.Mk||(this.Mk=[null,null]);var b=Rh(this,"A"),d=Rh(this,"B");b&&d&&!Fe(b.M,d.M)&&(v.j.T(a.group),a=this.Mk[0],a!==b&&(Id(b),a&&!a.Oa&&F(this,"A").connection.connect(a.M)),b=this.Mk[1],b!==d&&(Id(d),b&&!b.Oa&&F(this,"B").connection.connect(b.M)),this.ob(),v.j.T(!1));this.Mk[0]=Rh(this,"A");this.Mk[1]=Rh(this,"B")}};v.P.xd.Vv=function(){lh(this,v.P.xd.Wv)};v.S.register("logic_compare",v.P.xd.Vv);
v.P.xd.Xv={ju:null,onchange:function(a){var b=Rh(this,"THEN"),d=Rh(this,"ELSE"),e=this.M.V;if((b||d)&&e)for(var f=0;2>f;f++){var h=1==f?b:d;h&&!Fe(h.M,e)&&(v.j.T(a.group),e===this.ju?(Id(this),e.u.ob()):(Id(h),h.ob()),v.j.T(!1))}this.ju=e}};v.S.hn("logic_ternary",v.P.xd.Xv);v.I.az={};v.P.rf={};v.P.rf.gi=120;
v.hg([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",
name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,
nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip",
"controls_flow_in_loop_check"]}]);v.P.rf.Aw={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};v.S.register("controls_whileUntil_tooltip",v.S.Ll("MODE",v.P.rf.Aw));v.P.rf.iv={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};v.S.register("controls_flow_tooltip",v.S.Ll("FLOW",v.P.rf.iv));
v.P.rf.uv={Bf:function(a){if(!this.yb){var b=D(this,"VAR").Kc(),d=b.name;if(!this.isCollapsed()&&null!=d){var e={enabled:!0};e.text=v.g.VARIABLES_SET_CREATE_GET.replace("%1",d);b=v.G.Ts(b);d=document.createElement("block");d.setAttribute("type","variables_get");d.appendChild(b);e.bb=v.la.Ol(this,d);a.push(e)}}}};v.S.hn("contextMenu_newGetVariableBlock",v.P.rf.uv);v.S.register("controls_for_tooltip",v.S.Ml("%{BKY_CONTROLS_FOR_TOOLTIP}"));v.S.register("controls_forEach_tooltip",v.S.Ml("%{BKY_CONTROLS_FOREACH_TOOLTIP}"));
v.P.rf.rv={Zv:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],onchange:function(){if(this.o.Rb&&!this.o.Rb()){var a=!1,b=this;do{if(-1!=this.Zv.indexOf(b.type)){a=!0;break}b=Nh(b)}while(b);a?(this.Qf(null),this.yb||this.Ub(!0)):(this.Qf(v.g.CONTROLS_FLOW_STATEMENTS_WARNING),this.yb||Oh(this)||this.Ub(!1))}}};v.S.hn("controls_flow_in_loop_check",v.P.rf.rv);v.I.bz={};v.P.Math={};v.P.Math.gi=230;
v.hg([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],
["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",
extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",
options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},
{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",
helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}",
"RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",
message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,
output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",
style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
v.P.Math.Rn={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};
v.S.register("math_op_tooltip",v.S.Ll("OP",v.P.Math.Rn));v.P.Math.Qv={za:function(){var a=document.createElement("mutation"),b="DIVISIBLE_BY"==C(this,"PROPERTY");a.setAttribute("divisor_input",b);return a},Qa:function(a){a="true"==a.getAttribute("divisor_input");this.Cc(a)},Cc:function(a){var b=F(this,"DIVISOR");a?b||N(this,"DIVISOR").ga("Number"):b&&this.Va("DIVISOR")}};v.P.Math.Rv=function(){Eh(D(this,"PROPERTY"),function(a){this.u.Cc("DIVISIBLE_BY"==a)})};
v.S.Qk("math_is_divisibleby_mutator",v.P.Math.Qv,v.P.Math.Rv);v.S.register("math_change_tooltip",v.S.Ml("%{BKY_MATH_CHANGE_TOOLTIP}"));v.P.Math.Uv={Be:function(a){"MODE"==a?this.M.ga("Array"):this.M.ga("Number")},za:function(){var a=document.createElement("mutation");a.setAttribute("op",C(this,"OP"));return a},Qa:function(a){this.Be(a.getAttribute("op"))}};v.P.Math.Tv=function(){Eh(D(this,"OP"),function(a){this.Be(a)}.bind(this))};v.S.Qk("math_modes_of_list_mutator",v.P.Math.Uv,v.P.Math.Tv);v.I.Mz={};
v.I.procedures_defnoreturn={O:function(){var a=new jk("",v.ta.wu);a.rn=!1;J(J(J(O(this),v.g.PROCEDURES_DEFNORETURN_TITLE),a,"NAME"),"","PARAMS");this.ij(new ih(["procedures_mutatorarg"]));(this.o.options.Jj||this.o.options.Tb&&this.o.options.Tb.options.Jj)&&v.g.PROCEDURES_DEFNORETURN_COMMENT&&this.Lh(v.g.PROCEDURES_DEFNORETURN_COMMENT);L(this,"procedure_blocks");this.Aa(v.g.PROCEDURES_DEFNORETURN_TOOLTIP);this.xb=v.g.PROCEDURES_DEFNORETURN_HELPURL;this.ua=[];this.Xb=[];this.Ph(!0);this.Rf=null},Ph:function(a){this.Dm!==
a&&(a?(J(this.Fe(v.Ga,"STACK"),v.g.PROCEDURES_DEFNORETURN_DO),F(this,"RETURN")&&Qh(this,"STACK","RETURN")):this.Va("STACK",!0),this.Dm=a)},ql:function(){var a="";this.ua.length&&(a=v.g.PROCEDURES_BEFORE_PARAMS+" "+this.ua.join(", "));v.j.disable();try{Ed(this,a,"PARAMS")}finally{v.j.enable()}},za:function(a){var b=document.createElement("mutation");a&&b.setAttribute("name",C(this,"NAME"));for(var d=0;d<this.Xb.length;d++){var e=document.createElement("arg"),f=this.Xb[d];e.setAttribute("name",f.name);
e.setAttribute("varid",f.ea());a&&this.Rp&&e.setAttribute("paramId",this.Rp[d]);b.appendChild(e)}this.Dm||b.setAttribute("statements","false");return b},Qa:function(a){this.ua=[];this.Xb=[];for(var b=0,d;d=a.childNodes[b];b++)if("arg"==d.nodeName.toLowerCase()){var e=d.getAttribute("name");d=d.getAttribute("varid")||d.getAttribute("varId");this.ua.push(e);d=v.G.vm(this.o,d,e,"");null!=d?this.Xb.push(d):console.log("Failed to create a variable with name "+e+", ignoring.")}this.ql();v.ta.Gk(this);this.Ph("false"!==
a.getAttribute("statements"))},Ke:function(a){var b=a.ce("procedures_mutatorcontainer");b.ic();F(this,"RETURN")?Ed(b,this.Dm?"TRUE":"FALSE","STATEMENTS"):b.Va("STATEMENT_INPUT");for(var d=F(b,"STACK").connection,e=0;e<this.ua.length;e++){var f=a.ce("procedures_mutatorarg");f.ic();Ed(f,this.ua[e],"NAME");f.FB=e;d.connect(f.R);d=f.J}v.ta.Gk(this);return b},Je:function(a){this.ua=[];this.Rp=[];this.Xb=[];for(var b=Rh(a,"STACK");b;){var d=C(b,"NAME");this.ua.push(d);var e=this.o.Kc(d,"");null!=e?this.Xb.push(e):
console.log("Failed to get variable named "+d+", ignoring.");this.Rp.push(b.id);b=b.J&&E(b.J)}this.ql();v.ta.Gk(this);a=C(a,"STATEMENTS");if(null!==a&&(a="TRUE"==a,this.Dm!=a))if(a)this.Ph(!0),jh(this.Rf,this,"STACK"),this.Rf=null;else{a=F(this,"STACK").connection;if(this.Rf=a.V)a=E(a),Id(a),a.ob();this.Ph(!1)}},Jf:function(){return[C(this,"NAME"),this.ua,!1]},Yo:function(){return this.ua},Kf:function(){return this.Xb},Sk:function(a,b){var d=this.o.oe(a);if(""==d.type){d=d.name;b=this.o.oe(b);for(var e=
!1,f=0;f<this.Xb.length;f++)this.Xb[f].ea()==a&&(this.ua[f]=b.name,this.Xb[f]=b,e=!0);e&&(this.fm(d,b.name),v.ta.Gk(this))}},wn:function(a){for(var b=a.name,d=!1,e=0;e<this.Xb.length;e++)if(this.Xb[e].ea()==a.ea()){var f=this.ua[e];this.ua[e]=b;d=!0}d&&(this.fm(f,b),v.ta.Gk(this))},fm:function(a,b){this.ql();if(this.ed.isVisible())for(var d=B(this.ed.m,!1),e=0,f;f=d[e];e++)"procedures_mutatorarg"==f.type&&Cd(a,C(f,"NAME"))&&Ed(f,b,"NAME")},Bf:function(a){if(!this.yb){var b={enabled:!0},d=C(this,"NAME");
b.text=v.g.PROCEDURES_CREATE_DO.replace("%1",d);var e=document.createElement("mutation");e.setAttribute("name",d);for(var f=0;f<this.ua.length;f++)d=document.createElement("arg"),d.setAttribute("name",this.ua[f]),e.appendChild(d);d=document.createElement("block");d.setAttribute("type",this.Fr);d.appendChild(e);b.bb=v.la.Ol(this,d);a.push(b);if(!this.isCollapsed())for(f=0;f<this.Xb.length;f++)b={enabled:!0},e=this.Xb[f],d=e.name,b.text=v.g.VARIABLES_SET_CREATE_GET.replace("%1",d),e=v.G.Ts(e),d=document.createElement("block"),
d.setAttribute("type","variables_get"),d.appendChild(e),b.bb=v.la.Ol(this,d),a.push(b)}},Fr:"procedures_callnoreturn"};
v.I.procedures_defreturn={O:function(){var a=new jk("",v.ta.wu);a.rn=!1;J(J(J(O(this),v.g.PROCEDURES_DEFRETURN_TITLE),a,"NAME"),"","PARAMS");J(Lh(N(this,"RETURN"),v.ec),v.g.PROCEDURES_DEFRETURN_RETURN);this.ij(new ih(["procedures_mutatorarg"]));(this.o.options.Jj||this.o.options.Tb&&this.o.options.Tb.options.Jj)&&v.g.PROCEDURES_DEFRETURN_COMMENT&&this.Lh(v.g.PROCEDURES_DEFRETURN_COMMENT);L(this,"procedure_blocks");this.Aa(v.g.PROCEDURES_DEFRETURN_TOOLTIP);this.xb=v.g.PROCEDURES_DEFRETURN_HELPURL;
this.ua=[];this.Xb=[];this.Ph(!0);this.Rf=null},Ph:v.I.procedures_defnoreturn.Ph,ql:v.I.procedures_defnoreturn.ql,za:v.I.procedures_defnoreturn.za,Qa:v.I.procedures_defnoreturn.Qa,Ke:v.I.procedures_defnoreturn.Ke,Je:v.I.procedures_defnoreturn.Je,Jf:function(){return[C(this,"NAME"),this.ua,!0]},Yo:v.I.procedures_defnoreturn.Yo,Kf:v.I.procedures_defnoreturn.Kf,Sk:v.I.procedures_defnoreturn.Sk,wn:v.I.procedures_defnoreturn.wn,fm:v.I.procedures_defnoreturn.fm,Bf:v.I.procedures_defnoreturn.Bf,Fr:"procedures_callreturn"};
v.I.procedures_mutatorcontainer={O:function(){J(O(this),v.g.PROCEDURES_MUTATORCONTAINER_TITLE);this.Fe(v.Ga,"STACK");J(J(O(this,"STATEMENT_INPUT"),v.g.PROCEDURES_ALLOW_STATEMENTS),new Nk("TRUE"),"STATEMENTS");L(this,"procedure_blocks");this.Aa(v.g.PROCEDURES_MUTATORCONTAINER_TOOLTIP);this.contextMenu=!1},onchange:function(a){if(this.o&&!this.o.ae&&(a.type==v.j.vl||a.type==v.j.uj)){var b=B(this.o),d=this.o.Se();if(a.type==v.j.vl){a=[];for(var e=0;e<b.length;e+=1)C(b[e],"NAME")&&a.push(C(b[e],"NAME"));
for(b=0;b<d.length;b+=1)-1==a.indexOf(d[b].name)&&this.o.Le(d[b].ea())}else if(a.type==v.j.uj&&(d=vd(this.o,a.Mb),D(d,"NAME")&&(e=C(d,"NAME"),(a=this.o.Kc(e))||(a=this.o.Yc(e)),!d.R.isConnected()&&!d.J.isConnected())))for(e=0;e<b.length;e+=1)if(d.id!=b[e].id&&C(b[e],"NAME")==a.name){e=v.G.Ss(this.o);a=this.o.Yc(e);Ed(d,a.name,"NAME");break}}}};
v.I.procedures_mutatorarg={O:function(){var a=new jk("x",this.Zh);a.nz=a.ze;a.ze=function(){this.Pj=[];this.nz()};J(J(O(this),v.g.PROCEDURES_MUTATORARG_TITLE),a,"NAME");this.sd(!0);this.rd(!0);L(this,"procedure_blocks");this.Aa(v.g.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1;a.Mp=this.Bx;a.Pj=[];a.Mp("x")},Zh:function(a){var b=kh(this.u.o);a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"");if(!a)return null;for(var d=B(this.u.o),e=0;e<d.length;e+=1)if(d[e].id!=this.u.id&&C(d[e],"NAME")==a)return null;
(d=b.Kc(a,""))&&d.name!=a&&b.Sk(d.ea(),a);d||(d=b.Yc(a,""))&&this.Pj&&this.Pj.push(d);return a},Bx:function(a){var b=kh(this.u.o);if(b)for(var d=0;d<this.Pj.length;d++){var e=this.Pj[d];e.name!=a&&b.Le(e.ea())}}};
v.I.procedures_callnoreturn={O:function(){J(O(this,"TOPROW"),this.id,"NAME");this.sd(!0);this.rd(!0);L(this,"procedure_blocks");this.xb=v.g.PROCEDURES_CALLNORETURN_HELPURL;this.ua=[];this.Xb=[];this.Ih={};this.cf=null;this.Zp=!0},Dd:function(){return C(this,"NAME")},Rk:function(a,b){Cd(a,this.Dd())&&(Ed(this,b,"NAME"),this.Aa((this.M?v.g.PROCEDURES_CALLRETURN_TOOLTIP:v.g.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",b)))},wq:function(a,b){var d=v.ta.Zj(this.Dd(),this.o),e=d&&d.ed&&d.ed.isVisible();
e||(this.Ih={},this.cf=null);if(b)if(a.join("\n")==this.ua.join("\n"))this.cf=b;else{if(b.length!=a.length)throw RangeError("paramNames and paramIds must be the same length.");this.Og(!1);this.cf||(this.Ih={},this.cf=[]);d=this.U;this.U=!1;for(var f=0;f<this.ua.length;f++){var h=F(this,"ARG"+f);h&&(h=h.connection.V,this.Ih[this.cf[f]]=h,e&&h&&-1==b.indexOf(this.cf[f])&&(h.disconnect(),h.u.ob()))}this.ua=[].concat(a);this.Xb=[];for(f=0;f<this.ua.length;f++)a=v.G.vm(this.o,null,this.ua[f],""),this.Xb.push(a);
this.Cc();if(this.cf=b)for(f=0;f<this.ua.length;f++)b=this.cf[f],b in this.Ih&&(h=this.Ih[b],jh(h,this,"ARG"+f)||delete this.Ih[b]);(this.U=d)&&this.ca()}},Cc:function(){for(var a=0;a<this.ua.length;a++){var b=D(this,"ARGNAME"+a);if(b){v.j.disable();try{b.setValue(this.ua[a])}finally{v.j.enable()}}else b=new Ih(this.ua[a]),J(Lh(N(this,"ARG"+a),v.ec),b,"ARGNAME"+a).O()}for(;F(this,"ARG"+a);)this.Va("ARG"+a),a++;if(a=F(this,"TOPROW"))if(this.ua.length)D(this,"WITH")||(J(a,v.g.PROCEDURES_CALL_BEFORE_PARAMS,
"WITH"),a.O());else if(D(this,"WITH"))a:{b=0;for(var d;d=a.oa[b];b++)if("WITH"===d.name){d.D();a.oa.splice(b,1);a.u.U&&(a.u.ca(),a.u.ob());break a}throw Error('Field "%s" not found.',"WITH");}},za:function(){var a=document.createElement("mutation");a.setAttribute("name",this.Dd());for(var b=0;b<this.ua.length;b++){var d=document.createElement("arg");d.setAttribute("name",this.ua[b]);a.appendChild(d)}return a},Qa:function(a){var b=a.getAttribute("name");this.Rk(this.Dd(),b);b=[];for(var d=[],e=0,f;f=
a.childNodes[e];e++)"arg"==f.nodeName.toLowerCase()&&(b.push(f.getAttribute("name")),d.push(f.getAttribute("paramId")));this.wq(b,d)},Kf:function(){return this.Xb},onchange:function(a){if(this.o&&!this.o.ae&&a.mc)if(a.type==v.j.uj&&-1!=a.rg.indexOf(this.id)){var b=this.Dd();b=v.ta.Zj(b,this.o);!b||b.type==this.so&&JSON.stringify(b.ua)==JSON.stringify(this.ua)||(b=null);if(!b){v.j.T(a.group);a=document.createElement("xml");b=document.createElement("block");b.setAttribute("type",this.so);var d=this.va(),
e=d.y+2*v.Sc;b.setAttribute("x",d.x+v.Sc*(this.w?-1:1));b.setAttribute("y",e);d=this.za();b.appendChild(d);d=document.createElement("field");d.setAttribute("name","NAME");d.appendChild(document.createTextNode(this.Dd()));b.appendChild(d);a.appendChild(b);v.B.Ef(a,this.o);v.j.T(!1)}}else a.type==v.j.vl?(b=this.Dd(),b=v.ta.Zj(b,this.o),b||(v.j.T(a.group),this.D(!0,!1),v.j.T(!1))):a.type==v.j.Xg&&"disabled"==a.element&&(b=this.Dd(),(b=v.ta.Zj(b,this.o))&&b.id==a.Mb&&((b=v.j.Qb())&&console.log("Saw an existing group while responding to a definition change"),
v.j.T(a.group),a.newValue?(this.Zp=this.isEnabled(),this.Ub(!1)):this.Ub(this.Zp),v.j.T(b)))},Bf:function(a){if(this.o.Sb()){var b={enabled:!0};b.text=v.g.PROCEDURES_HIGHLIGHT_DEF;var d=this.Dd(),e=this.o;b.bb=function(){var f=v.ta.Zj(d,e);if(f){if(e.Sb()){var h=vd(e,f.id);if(h){var k=h.va(),l=h.Db(),m=e.scale;h=(k.x+(e.w?-1:1)*l.width/2)*m;k=(k.y+l.height/2)*m;l=e.qb();h=-(h-l.wb-l.Ka/2)-l.wb;k=-(k-l.pb-l.Pa/2)-l.pb;v.hc();e.scroll(h,k)}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");
f.select()}};a.push(b)}},so:"procedures_defnoreturn"};
v.I.procedures_callreturn={O:function(){J(O(this,"TOPROW"),"","NAME");this.yc(!0);L(this,"procedure_blocks");this.xb=v.g.PROCEDURES_CALLRETURN_HELPURL;this.ua=[];this.Ih={};this.cf=null;this.Zp=!0},Dd:v.I.procedures_callnoreturn.Dd,Rk:v.I.procedures_callnoreturn.Rk,wq:v.I.procedures_callnoreturn.wq,Cc:v.I.procedures_callnoreturn.Cc,za:v.I.procedures_callnoreturn.za,Qa:v.I.procedures_callnoreturn.Qa,Kf:v.I.procedures_callnoreturn.Kf,onchange:v.I.procedures_callnoreturn.onchange,Bf:v.I.procedures_callnoreturn.Bf,
so:"procedures_defreturn"};
v.I.procedures_ifreturn={O:function(){J(N(this,"CONDITION").ga("Boolean"),v.g.CONTROLS_IF_MSG_IF);J(N(this,"VALUE"),v.g.PROCEDURES_DEFRETURN_RETURN);this.Id(!0);this.sd(!0);this.rd(!0);L(this,"procedure_blocks");this.Aa(v.g.PROCEDURES_IFRETURN_TOOLTIP);this.xb=v.g.PROCEDURES_IFRETURN_HELPURL;this.qg=!0},za:function(){var a=document.createElement("mutation");a.setAttribute("value",Number(this.qg));return a},Qa:function(a){this.qg=1==a.getAttribute("value");this.qg||(this.Va("VALUE"),J(O(this,"VALUE"),
v.g.PROCEDURES_DEFRETURN_RETURN))},onchange:function(){if(this.o.Rb&&!this.o.Rb()){var a=!1,b=this;do{if(-1!=this.Hv.indexOf(b.type)){a=!0;break}b=Nh(b)}while(b);a?("procedures_defnoreturn"==b.type&&this.qg?(this.Va("VALUE"),J(O(this,"VALUE"),v.g.PROCEDURES_DEFRETURN_RETURN),this.qg=!1):"procedures_defreturn"!=b.type||this.qg||(this.Va("VALUE"),J(N(this,"VALUE"),v.g.PROCEDURES_DEFRETURN_RETURN),this.qg=!0),this.Qf(null),this.yb||this.Ub(!0)):(this.Qf(v.g.PROCEDURES_IFRETURN_WARNING),this.yb||Oh(this)||
this.Ub(!1))}},Hv:["procedures_defnoreturn","procedures_defreturn"]};v.I.mA={};v.P.Text={};v.P.Text.gi=160;
v.hg([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},
{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],
previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",
helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",
args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]);
v.I.text_getSubstring={O:function(){this.WHERE_OPTIONS_1=[[v.g.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[v.g.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[v.g.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[v.g.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[v.g.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[v.g.TEXT_GET_SUBSTRING_END_LAST,"LAST"]];this.xb=v.g.TEXT_GET_SUBSTRING_HELPURL;L(this,"text_blocks");J(N(this,"STRING").ga("String"),v.g.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);
O(this,"AT1");O(this,"AT2");v.g.TEXT_GET_SUBSTRING_TAIL&&J(O(this,"TAIL"),v.g.TEXT_GET_SUBSTRING_TAIL);this.Id(!0);this.yc(!0,"String");this.tb(1,!0);this.tb(2,!0);this.Aa(v.g.TEXT_GET_SUBSTRING_TOOLTIP)},za:function(){var a=document.createElement("mutation");a.setAttribute("at1",F(this,"AT1").type==v.Fa);a.setAttribute("at2",F(this,"AT2").type==v.Fa);return a},Qa:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.tb(1,b);this.tb(2,a)},tb:function(a,b){this.Va("AT"+
a);this.Va("ORDINAL"+a,!0);b?(N(this,"AT"+a).ga("Number"),v.g.ORDINAL_NUMBER_SUFFIX&&J(O(this,"ORDINAL"+a),v.g.ORDINAL_NUMBER_SUFFIX)):O(this,"AT"+a);2==a&&v.g.TEXT_GET_SUBSTRING_TAIL&&(this.Va("TAIL",!0),J(O(this,"TAIL"),v.g.TEXT_GET_SUBSTRING_TAIL));var d=new M(this["WHERE_OPTIONS_"+a],function(e){var f="FROM_START"==e||"FROM_END"==e;if(f!=b){var h=this.u;h.tb(a,f);Ed(h,e,"WHERE"+a);return null}});J(F(this,"AT"+a),d,"WHERE"+a);1==a&&(Qh(this,"AT1","AT2"),F(this,"ORDINAL1")&&Qh(this,"ORDINAL1","AT2"))}};
v.I.text_changeCase={O:function(){var a=[[v.g.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[v.g.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[v.g.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.xb=v.g.TEXT_CHANGECASE_HELPURL;L(this,"text_blocks");J(N(this,"TEXT").ga("String"),new M(a),"CASE");this.yc(!0,"String");this.Aa(v.g.TEXT_CHANGECASE_TOOLTIP)}};
v.I.text_trim={O:function(){var a=[[v.g.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[v.g.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[v.g.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.xb=v.g.TEXT_TRIM_HELPURL;L(this,"text_blocks");J(N(this,"TEXT").ga("String"),new M(a),"MODE");this.yc(!0,"String");this.Aa(v.g.TEXT_TRIM_TOOLTIP)}};
v.I.text_print={O:function(){Ph(this,{message0:v.g.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:v.g.TEXT_PRINT_TOOLTIP,helpUrl:v.g.TEXT_PRINT_HELPURL})}};
v.I.text_prompt_ext={O:function(){var a=[[v.g.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[v.g.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.xb=v.g.TEXT_PROMPT_HELPURL;L(this,"text_blocks");var b=this;a=new M(a,function(d){b.Be(d)});J(N(this,"TEXT"),a,"TYPE");this.yc(!0,"String");this.Aa(function(){return"TEXT"==C(b,"TYPE")?v.g.TEXT_PROMPT_TOOLTIP_TEXT:v.g.TEXT_PROMPT_TOOLTIP_NUMBER})},Be:function(a){this.M.ga("NUMBER"==a?"Number":"String")},za:function(){var a=document.createElement("mutation");a.setAttribute("type",
C(this,"TYPE"));return a},Qa:function(a){this.Be(a.getAttribute("type"))}};
v.I.text_prompt={O:function(){lh(this,v.P.Text.Kn);var a=[[v.g.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[v.g.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],b=this;this.xb=v.g.TEXT_PROMPT_HELPURL;L(this,"text_blocks");a=new M(a,function(d){b.Be(d)});J(J(J(J(O(this),a,"TYPE"),this.Zi(!0)),new jk(""),"TEXT"),this.Zi(!1));this.yc(!0,"String");this.Aa(function(){return"TEXT"==C(b,"TYPE")?v.g.TEXT_PROMPT_TOOLTIP_TEXT:v.g.TEXT_PROMPT_TOOLTIP_NUMBER})},Be:v.I.text_prompt_ext.Be,za:v.I.text_prompt_ext.za,Qa:v.I.text_prompt_ext.Qa};
v.I.text_count={O:function(){Ph(this,{message0:v.g.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:v.g.TEXT_COUNT_TOOLTIP,helpUrl:v.g.TEXT_COUNT_HELPURL})}};
v.I.text_replace={O:function(){Ph(this,{message0:v.g.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:v.g.TEXT_REPLACE_TOOLTIP,helpUrl:v.g.TEXT_REPLACE_HELPURL})}};
v.I.text_reverse={O:function(){Ph(this,{message0:v.g.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:v.g.TEXT_REVERSE_TOOLTIP,helpUrl:v.g.TEXT_REVERSE_HELPURL})}};
v.P.Text.Kn={iw:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",jw:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",
kw:12,hw:12,Nz:function(a){for(var b=0,d;d=this.L[b];b++)for(var e=0,f;f=d.oa[e];e++)if(a==f.name){Kh(d,e,this.Zi(!0));Kh(d,e+2,this.Zi(!1));return}console.warn('field named "'+a+'" not found in '+Me(this))},Zi:function(a){a=this.w?!a:a;return new tk(a?this.iw:this.jw,this.kw,this.hw,a?"\u201c":"\u201d")}};v.P.Text.xw=function(){lh(this,v.P.Text.Kn);this.Nz("TEXT")};
v.P.Text.ww={za:function(){var a=document.createElement("mutation");a.setAttribute("items",this.kb);return a},Qa:function(a){this.kb=parseInt(a.getAttribute("items"),10);this.Cc()},Ke:function(a){var b=a.ce("text_create_join_container");b.ic();for(var d=F(b,"STACK").connection,e=0;e<this.kb;e++){var f=a.ce("text_create_join_item");f.ic();d.connect(f.R);d=f.J}return b},Je:function(a){var b=Rh(a,"STACK");for(a=[];b;)a.push(b.rl),b=b.J&&E(b.J);for(b=0;b<this.kb;b++){var d=F(this,"ADD"+b).connection.V;
d&&-1==a.indexOf(d)&&d.disconnect()}this.kb=a.length;this.Cc();for(b=0;b<this.kb;b++)jh(a[b],this,"ADD"+b)},Tk:function(a){a=Rh(a,"STACK");for(var b=0;a;){var d=F(this,"ADD"+b);a.rl=d&&d.connection.V;b++;a=a.J&&E(a.J)}},Cc:function(){this.kb&&F(this,"EMPTY")?this.Va("EMPTY"):this.kb||F(this,"EMPTY")||J(J(O(this,"EMPTY"),this.Zi(!0)),this.Zi(!1));for(var a=0;a<this.kb;a++)if(!F(this,"ADD"+a)){var b=N(this,"ADD"+a);0==a&&J(b,v.g.TEXT_JOIN_TITLE_CREATEWITH)}for(;F(this,"ADD"+a);)this.Va("ADD"+a),a++}};
v.P.Text.vw=function(){lh(this,v.P.Text.Kn);this.kb=2;this.Cc();this.ij(new ih(["text_create_join_item"]))};v.S.register("text_append_tooltip",v.S.Ml("%{BKY_TEXT_APPEND_TOOLTIP}"));v.P.Text.uw=function(){var a=this;this.Aa(function(){return v.g.TEXT_INDEXOF_TOOLTIP.replace("%1",a.o.options.fd?"0":"-1")})};
v.P.Text.tw={za:function(){var a=document.createElement("mutation");a.setAttribute("at",!!this.rt);return a},Qa:function(a){a="false"!=a.getAttribute("at");this.tb(a)},tb:function(a){this.Va("AT",!0);this.Va("ORDINAL",!0);a&&(N(this,"AT").ga("Number"),v.g.ORDINAL_NUMBER_SUFFIX&&J(O(this,"ORDINAL"),v.g.ORDINAL_NUMBER_SUFFIX));v.g.TEXT_CHARAT_TAIL&&(this.Va("TAIL",!0),J(O(this,"TAIL"),v.g.TEXT_CHARAT_TAIL));this.rt=a}};
v.P.Text.sw=function(){Eh(D(this,"WHERE"),function(b){var d="FROM_START"==b||"FROM_END"==b;if(d!=this.rt){var e=this.u;e.tb(d);Ed(e,b,"WHERE");return null}});this.tb(!0);var a=this;this.Aa(function(){var b=C(a,"WHERE"),d=v.g.TEXT_CHARAT_TOOLTIP;("FROM_START"==b||"FROM_END"==b)&&(b="FROM_START"==b?v.g.LISTS_INDEX_FROM_START_TOOLTIP:v.g.LISTS_INDEX_FROM_END_TOOLTIP)&&(d+="  "+b.replace("%1",a.o.options.fd?"#1":"#0"));return d})};v.S.register("text_indexOf_tooltip",v.P.Text.uw);
v.S.register("text_quotes",v.P.Text.xw);v.S.Qk("text_join_mutator",v.P.Text.ww,v.P.Text.vw);v.S.Qk("text_charAt_mutator",v.P.Text.tw,v.P.Text.sw);v.I.yA={};v.P.G={};v.P.G.gi=330;
v.hg([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,
style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);
v.P.G.vv={Bf:function(a){if(!this.yb){if("variables_get"==this.type)var b="variables_set",d=v.g.VARIABLES_GET_CREATE_SET;else b="variables_get",d=v.g.VARIABLES_SET_CREATE_GET;var e={enabled:0<fe(this.o)},f=D(this,"VAR").Eb();e.text=d.replace("%1",f);d=document.createElement("field");d.setAttribute("name","VAR");d.appendChild(document.createTextNode(f));f=document.createElement("block");f.setAttribute("type",b);f.appendChild(d);e.bb=v.la.Ol(this,f);a.push(e)}else if("variables_get"==this.type||"variables_get_reporter"==
this.type)b={text:v.g.kB,enabled:!0,bb:v.P.G.mw(this)},f=D(this,"VAR").Eb(),e={text:v.g.IA.replace("%1",f),enabled:!0,bb:v.P.G.yv(this)},a.unshift(b),a.unshift(e)}};v.P.G.mw=function(a){return function(){var b=a.o,d=D(a,"VAR").Kc();v.G.jn(b,d)}};v.P.G.yv=function(a){return function(){var b=a.o,d=D(a,"VAR").Kc();b.Le(d.ea());bh(b)}};v.S.hn("contextMenu_variableSetterGetter",v.P.G.vv);
v.h=new Mh;fl("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan");
v.h.ie=0;v.h.cB=1.1;v.h.Ha=1.2;v.h.na=2;v.h.aB=3;v.h.XA=3;v.h.TA=4.1;v.h.eB=4.2;v.h.Cj=4.3;v.h.ni=4.4;v.h.dB=4.5;v.h.fB=4.6;v.h.YA=4.7;v.h.RA=4.8;v.h.ZA=5;v.h.Jn=5.1;v.h.Aj=5.2;v.h.Bj=5.3;v.h.tf=6.1;v.h.sf=6.2;v.h.VA=7;v.h.gw=8;v.h.$A=8;v.h.bB=8;v.h.gr=9;v.h.SA=10;v.h.WA=11;v.h.UA=12;v.h.Hn=13;v.h.In=14;v.h.Fl=15;v.h.Yg=16;v.h.gB=17;v.h.Da=18;v.h.Xa=99;v.h.Gl=[[v.h.na,v.h.Ha],[v.h.na,v.h.na],[v.h.Ha,v.h.Ha],[v.h.Ha,v.h.na],[v.h.ni,v.h.ni],[v.h.Jn,v.h.Jn],[v.h.sf,v.h.sf],[v.h.Hn,v.h.Hn],[v.h.In,v.h.In]];
v.h.O=function(a){v.h.eh=Object.create(null);v.h.No=Object.create(null);v.h.$a?v.h.$a.reset():v.h.$a=new ql;v.h.$a.Ea=a.Ea;for(var b=[],d=v.G.Hw(a),e=0;e<d.length;e++)b.push(v.h.$a.getName(d[e],"DEVELOPER_VARIABLE"));a=v.G.yr(a);for(e=0;e<a.length;e++)b.push(v.h.$a.getName(a[e].ea(),v.G.ab));b.length&&(v.h.eh.variables="var "+b.join(", ")+";")};v.h.finish=function(a){var b=[],d;for(d in v.h.eh)b.push(v.h.eh[d]);delete v.h.eh;delete v.h.No;v.h.$a.reset();return b.join("\n\n")+"\n\n\n"+a};
v.h.Bu=function(a){return a+";\n"};v.h.su=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};
v.h.on=function(a,b,d){var e="";if(!a.M||!a.M.V){var f=a.qm();(f=v.i.fv(f,v.h.mv-3))&&(e=a.Jf?e+("/**\n"+cl(f+"\n"," * ")+" */\n"):e+cl(f+"\n","// "));for(var h=0;h<a.L.length;h++)if(a.L[h].type==v.Fa){var k=E(a.L[h].connection);if(k){f=[];k=Yc(k,!0);for(var l=0;l<k.length;l++){var m=k[l].qm();m&&f.push(m)}f.length&&f.push("");(f=f.join("\n"))&&(e+=cl(f,"// "))}}}a=a.J&&E(a.J);d=d?"":bl(v.h,a);return e+b+d};
v.h.fc=function(a,b,d,e,f){d=d||0;f=f||v.h.Xa;a.o.options.fd&&d--;var h=a.o.options.fd?"1":"0";a=0<d?Q(a,b,v.h.sf)||h:0>d?Q(a,b,v.h.tf)||h:e?Q(a,b,v.h.Cj)||h:Q(a,b,f)||h;if(v.zg(a))a=parseFloat(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=v.h.sf}else 0>d&&(a=a+" - "+-d,k=v.h.tf);e&&(a=d?"-("+a+")":"-"+a,k=v.h.Cj);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};v.h.Ul={};v.h.colour_picker=function(a){return["'"+C(a,"COLOUR")+"'",v.h.ie]};v.h.colour_random=function(){return[gl("colourRandom",["function "+v.h.Kb+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",v.h.na]};
v.h.colour_rgb=function(a){var b=Q(a,"RED",v.h.Da)||0,d=Q(a,"GREEN",v.h.Da)||0;a=Q(a,"BLUE",v.h.Da)||0;return[gl("colourRgb",["function "+v.h.Kb+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);",
"  return '#' + r + g + b;","}"])+"("+b+", "+d+", "+a+")",v.h.na]};
v.h.colour_blend=function(a){var b=Q(a,"COLOUR1",v.h.Da)||"'#000000'",d=Q(a,"COLOUR2",v.h.Da)||"'#000000'";a=Q(a,"RATIO",v.h.Da)||.5;return[gl("colourBlend",["function "+v.h.Kb+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);",
"  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+b+", "+d+", "+a+")",v.h.na]};v.h.yp={};v.h.lists_create_empty=function(){return["[]",v.h.ie]};v.h.lists_create_with=function(a){for(var b=Array(a.kb),d=0;d<a.kb;d++)b[d]=Q(a,"ADD"+d,v.h.Da)||"null";return["["+b.join(", ")+"]",v.h.ie]};v.h.lists_repeat=function(a){var b=gl("listsRepeat",["function "+v.h.Kb+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),d=Q(a,"ITEM",v.h.Da)||"null";a=Q(a,"NUM",v.h.Da)||"0";return[b+"("+d+", "+a+")",v.h.na]};
v.h.lists_length=function(a){return[(Q(a,"VALUE",v.h.Ha)||"[]")+".length",v.h.Ha]};v.h.lists_isEmpty=function(a){return["!"+(Q(a,"VALUE",v.h.Ha)||"[]")+".length",v.h.ni]};v.h.lists_indexOf=function(a){var b="FIRST"==C(a,"END")?"indexOf":"lastIndexOf",d=Q(a,"FIND",v.h.Xa)||"''";b=(Q(a,"VALUE",v.h.Ha)||"[]")+"."+b+"("+d+")";return a.o.options.fd?[b+" + 1",v.h.sf]:[b,v.h.na]};
v.h.lists_getIndex=function(a){var b=C(a,"MODE")||"GET",d=C(a,"WHERE")||"FROM_START",e=Q(a,"VALUE","RANDOM"==d?v.h.Da:v.h.Ha)||"[]";switch(d){case "FIRST":if("GET"==b)return[e+"[0]",v.h.Ha];if("GET_REMOVE"==b)return[e+".shift()",v.h.Ha];if("REMOVE"==b)return e+".shift();\n";break;case "LAST":if("GET"==b)return[e+".slice(-1)[0]",v.h.Ha];if("GET_REMOVE"==b)return[e+".pop()",v.h.Ha];if("REMOVE"==b)return e+".pop();\n";break;case "FROM_START":a=v.h.fc(a,"AT");if("GET"==b)return[e+"["+a+"]",v.h.Ha];if("GET_REMOVE"==
b)return[e+".splice("+a+", 1)[0]",v.h.na];if("REMOVE"==b)return e+".splice("+a+", 1);\n";break;case "FROM_END":a=v.h.fc(a,"AT",1,!0);if("GET"==b)return[e+".slice("+a+")[0]",v.h.na];if("GET_REMOVE"==b)return[e+".splice("+a+", 1)[0]",v.h.na];if("REMOVE"==b)return e+".splice("+a+", 1);";break;case "RANDOM":e=gl("listsGetRandomItem",["function "+v.h.Kb+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];",
"  }","}"])+"("+e+", "+("GET"!=b)+")";if("GET"==b||"GET_REMOVE"==b)return[e,v.h.na];if("REMOVE"==b)return e+";\n"}throw Error("Unhandled combination (lists_getIndex).");};
v.h.lists_setIndex=function(a){function b(){if(d.match(/^\w+$/))return"";var k=hl(v.h.$a,"tmpList",v.G.ab),l="var "+k+" = "+d+";\n";d=k;return l}var d=Q(a,"LIST",v.h.Ha)||"[]",e=C(a,"MODE")||"GET",f=C(a,"WHERE")||"FROM_START",h=Q(a,"TO",v.h.Yg)||"null";switch(f){case "FIRST":if("SET"==e)return d+"[0] = "+h+";\n";if("INSERT"==e)return d+".unshift("+h+");\n";break;case "LAST":if("SET"==e)return a=b(),a+(d+"["+d+".length - 1] = "+h+";\n");if("INSERT"==e)return d+".push("+h+");\n";break;case "FROM_START":f=
v.h.fc(a,"AT");if("SET"==e)return d+"["+f+"] = "+h+";\n";if("INSERT"==e)return d+".splice("+f+", 0, "+h+");\n";break;case "FROM_END":f=v.h.fc(a,"AT",1,!1,v.h.tf);a=b();if("SET"==e)return a+(d+"["+d+".length - "+f+"] = "+h+";\n");if("INSERT"==e)return a+(d+".splice("+d+".length - "+f+", 0, "+h+");\n");break;case "RANDOM":a=b();f=hl(v.h.$a,"tmpX",v.G.ab);a+="var "+f+" = Math.floor(Math.random() * "+d+".length);\n";if("SET"==e)return a+(d+"["+f+"] = "+h+";\n");if("INSERT"==e)return a+(d+".splice("+f+
", 0, "+h+");\n")}throw Error("Unhandled combination (lists_setIndex).");};v.h.yp.To=function(a,b,d){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+d:"LAST"==b?a+".length - 1":d};
v.h.lists_getSublist=function(a){var b=Q(a,"LIST",v.h.Ha)||"[]",d=C(a,"WHERE1"),e=C(a,"WHERE2");if("FIRST"==d&&"LAST"==e)b+=".slice(0)";else if(b.match(/^\w+$/)||"FROM_END"!=d&&"FROM_START"==e){switch(d){case "FROM_START":var f=v.h.fc(a,"AT1");break;case "FROM_END":f=v.h.fc(a,"AT1",1,!1,v.h.tf);f=b+".length - "+f;break;case "FIRST":f="0";break;default:throw Error("Unhandled option (lists_getSublist).");}switch(e){case "FROM_START":a=v.h.fc(a,"AT2",1);break;case "FROM_END":a=v.h.fc(a,"AT2",0,!1,v.h.tf);
a=b+".length - "+a;break;case "LAST":a=b+".length";break;default:throw Error("Unhandled option (lists_getSublist).");}b=b+".slice("+f+", "+a+")"}else{f=v.h.fc(a,"AT1");a=v.h.fc(a,"AT2");var h=v.h.yp.To,k={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};b=gl("subsequence"+k[d]+k[e],["function "+v.h.Kb+"(sequence"+("FROM_END"==d||"FROM_START"==d?", at1":"")+("FROM_END"==e||"FROM_START"==e?", at2":"")+") {","  var start = "+h("sequence",d,"at1")+";","  var end = "+h("sequence",e,
"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+b+("FROM_END"==d||"FROM_START"==d?", "+f:"")+("FROM_END"==e||"FROM_START"==e?", "+a:"")+")"}return[b,v.h.na]};
v.h.lists_sort=function(a){var b=Q(a,"LIST",v.h.na)||"[]",d="1"===C(a,"DIRECTION")?1:-1;a=C(a,"TYPE");var e=gl("listsGetSortCompare",["function "+v.h.Kb+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return parseFloat(a) - parseFloat(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };",
"  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"]);return[b+".slice().sort("+e+'("'+a+'", '+d+"))",v.h.na]};v.h.lists_split=function(a){var b=Q(a,"INPUT",v.h.Ha),d=Q(a,"DELIM",v.h.Xa)||"''";a=C(a,"MODE");if("SPLIT"==a)b||(b="''"),a="split";else if("JOIN"==a)b||(b="[]"),a="join";else throw Error("Unknown mode: "+a);return[b+"."+a+"("+d+")",v.h.na]};v.h.lists_reverse=function(a){return[(Q(a,"LIST",v.h.na)||"[]")+".slice().reverse()",v.h.na]};v.h.Zy={};v.h.controls_if=function(a){var b=0,d="";do{var e=Q(a,"IF"+b,v.h.Xa)||"false";var f=dl(a,"DO"+b);d+=(0<b?" else ":"")+"if ("+e+") {\n"+f+"}";++b}while(F(a,"IF"+b));F(a,"ELSE")&&(f=dl(a,"ELSE"),d+=" else {\n"+f+"}");return d+"\n"};v.h.controls_ifelse=v.h.controls_if;v.h.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[C(a,"OP")],d="=="==b||"!="==b?v.h.gr:v.h.gw,e=Q(a,"A",d)||"0";a=Q(a,"B",d)||"0";return[e+" "+b+" "+a,d]};
v.h.logic_operation=function(a){var b="AND"==C(a,"OP")?"&&":"||",d="&&"==b?v.h.Hn:v.h.In,e=Q(a,"A",d);a=Q(a,"B",d);if(e||a){var f="&&"==b?"true":"false";e||(e=f);a||(a=f)}else a=e="false";return[e+" "+b+" "+a,d]};v.h.logic_negate=function(a){var b=v.h.ni;return["!"+(Q(a,"BOOL",b)||"true"),b]};v.h.logic_boolean=function(a){return["TRUE"==C(a,"BOOL")?"true":"false",v.h.ie]};v.h.logic_null=function(){return["null",v.h.ie]};
v.h.logic_ternary=function(a){var b=Q(a,"IF",v.h.Fl)||"false",d=Q(a,"THEN",v.h.Fl)||"null";a=Q(a,"ELSE",v.h.Fl)||"null";return[b+" ? "+d+" : "+a,v.h.Fl]};v.h.az={};v.h.controls_repeat_ext=function(a){var b=D(a,"TIMES")?String(Number(C(a,"TIMES"))):Q(a,"TIMES",v.h.Yg)||"0",d=dl(a,"DO");d=el(d,a.id);a="";var e=hl(v.h.$a,"count",v.G.ab),f=b;b.match(/^\w+$/)||v.zg(b)||(f=hl(v.h.$a,"repeat_end",v.G.ab),a+="var "+f+" = "+b+";\n");return a+("for (var "+e+" = 0; "+e+" < "+f+"; "+e+"++) {\n"+d+"}\n")};v.h.controls_repeat=v.h.controls_repeat_ext;
v.h.controls_whileUntil=function(a){var b="UNTIL"==C(a,"MODE"),d=Q(a,"BOOL",b?v.h.ni:v.h.Xa)||"false",e=dl(a,"DO");e=el(e,a.id);b&&(d="!"+d);return"while ("+d+") {\n"+e+"}\n"};
v.h.controls_for=function(a){var b=v.h.$a.getName(C(a,"VAR"),v.G.ab),d=Q(a,"FROM",v.h.Yg)||"0",e=Q(a,"TO",v.h.Yg)||"0",f=Q(a,"BY",v.h.Yg)||"1",h=dl(a,"DO");h=el(h,a.id);if(v.zg(d)&&v.zg(e)&&v.zg(f)){var k=parseFloat(d)<=parseFloat(e);a="for ("+b+" = "+d+"; "+b+(k?" <= ":" >= ")+e+"; "+b;b=Math.abs(parseFloat(f));a=(1==b?a+(k?"++":"--"):a+((k?" += ":" -= ")+b))+(") {\n"+h+"}\n")}else a="",k=d,d.match(/^\w+$/)||v.zg(d)||(k=hl(v.h.$a,b+"_start",v.G.ab),a+="var "+k+" = "+d+";\n"),d=e,e.match(/^\w+$/)||
v.zg(e)||(d=hl(v.h.$a,b+"_end",v.G.ab),a+="var "+d+" = "+e+";\n"),e=hl(v.h.$a,b+"_inc",v.G.ab),a+="var "+e+" = ",a=v.zg(f)?a+(Math.abs(f)+";\n"):a+("Math.abs("+f+");\n"),a=a+("if ("+k+" > "+d+") {\n")+(v.h.qf+e+" = -"+e+";\n"),a+="}\n",a+="for ("+b+" = "+k+"; "+e+" >= 0 ? "+b+" <= "+d+" : "+b+" >= "+d+"; "+b+" += "+e+") {\n"+h+"}\n";return a};
v.h.controls_forEach=function(a){var b=v.h.$a.getName(C(a,"VAR"),v.G.ab),d=Q(a,"LIST",v.h.Yg)||"[]",e=dl(a,"DO");e=el(e,a.id);a="";var f=d;d.match(/^\w+$/)||(f=hl(v.h.$a,b+"_list",v.G.ab),a+="var "+f+" = "+d+";\n");d=hl(v.h.$a,b+"_index",v.G.ab);e=v.h.qf+b+" = "+f+"["+d+"];\n"+e;return a+("for (var "+d+" in "+f+") {\n"+e+"}\n")};v.h.controls_flow_statements=function(a){switch(C(a,"FLOW")){case "BREAK":return"break;\n";case "CONTINUE":return"continue;\n"}throw Error("Unknown flow statement.");};v.h.bz={};v.h.math_number=function(a){a=parseFloat(C(a,"NUM"));return[a,0<=a?v.h.ie:v.h.Cj]};v.h.math_arithmetic=function(a){var b={ADD:[" + ",v.h.sf],MINUS:[" - ",v.h.tf],MULTIPLY:[" * ",v.h.Jn],DIVIDE:[" / ",v.h.Aj],POWER:[null,v.h.Da]}[C(a,"OP")],d=b[0];b=b[1];var e=Q(a,"A",b)||"0";a=Q(a,"B",b)||"0";return d?[e+d+a,b]:["Math.pow("+e+", "+a+")",v.h.na]};
v.h.math_single=function(a){var b=C(a,"OP");if("NEG"==b)return a=Q(a,"NUM",v.h.Cj)||"0","-"==a[0]&&(a=" "+a),["-"+a,v.h.Cj];a="SIN"==b||"COS"==b||"TAN"==b?Q(a,"NUM",v.h.Aj)||"0":Q(a,"NUM",v.h.Xa)||"0";switch(b){case "ABS":var d="Math.abs("+a+")";break;case "ROOT":d="Math.sqrt("+a+")";break;case "LN":d="Math.log("+a+")";break;case "EXP":d="Math.exp("+a+")";break;case "POW10":d="Math.pow(10,"+a+")";break;case "ROUND":d="Math.round("+a+")";break;case "ROUNDUP":d="Math.ceil("+a+")";break;case "ROUNDDOWN":d=
"Math.floor("+a+")";break;case "SIN":d="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":d="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":d="Math.tan("+a+" / 180 * Math.PI)"}if(d)return[d,v.h.na];switch(b){case "LOG10":d="Math.log("+a+") / Math.log(10)";break;case "ASIN":d="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":d="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":d="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+b);}return[d,v.h.Aj]};
v.h.math_constant=function(a){return{PI:["Math.PI",v.h.Ha],E:["Math.E",v.h.Ha],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",v.h.Aj],SQRT2:["Math.SQRT2",v.h.Ha],SQRT1_2:["Math.SQRT1_2",v.h.Ha],INFINITY:["Infinity",v.h.ie]}[C(a,"CONSTANT")]};
v.h.math_number_property=function(a){var b=Q(a,"NUMBER_TO_CHECK",v.h.Bj)||"0",d=C(a,"PROPERTY");if("PRIME"==d){var e=gl("mathIsPrime",["function "+v.h.Kb+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")";return[e,v.h.na]}switch(d){case "EVEN":e=b+" % 2 == 0";break;case "ODD":e=b+" % 2 == 1";break;case "WHOLE":e=b+" % 1 == 0";break;case "POSITIVE":e=b+" > 0";break;case "NEGATIVE":e=b+" < 0";break;case "DIVISIBLE_BY":a=Q(a,"DIVISOR",v.h.Bj)||"0",e=b+" % "+a+" == 0"}return[e,v.h.gr]};
v.h.math_change=function(a){var b=Q(a,"DELTA",v.h.sf)||"0";a=v.h.$a.getName(C(a,"VAR"),v.G.ab);return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+b+";\n"};v.h.math_round=v.h.math_single;v.h.math_trig=v.h.math_single;
v.h.math_on_list=function(a){var b=C(a,"OP");switch(b){case "SUM":a=Q(a,"LIST",v.h.Ha)||"[]";a+=".reduce(function(x, y) {return x + y;})";break;case "MIN":a=Q(a,"LIST",v.h.Da)||"[]";a="Math.min.apply(null, "+a+")";break;case "MAX":a=Q(a,"LIST",v.h.Da)||"[]";a="Math.max.apply(null, "+a+")";break;case "AVERAGE":b=gl("mathMean",["function "+v.h.Kb+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);a=Q(a,"LIST",v.h.Xa)||"[]";a=b+"("+a+")";break;case "MEDIAN":b=
gl("mathMedian",["function "+v.h.Kb+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);a=Q(a,"LIST",v.h.Xa)||"[]";a=b+"("+a+")";break;case "MODE":b=gl("mathModes",
["function "+v.h.Kb+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);",
"  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);a=Q(a,"LIST",v.h.Xa)||"[]";a=b+"("+a+")";break;case "STD_DEV":b=gl("mathStandardDeviation",["function "+v.h.Kb+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);",
"  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]);a=Q(a,"LIST",v.h.Xa)||"[]";a=b+"("+a+")";break;case "RANDOM":b=gl("mathRandomList",["function "+v.h.Kb+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]);a=Q(a,"LIST",v.h.Xa)||"[]";a=b+"("+a+")";break;default:throw Error("Unknown operator: "+b);}return[a,v.h.na]};v.h.math_modulo=function(a){var b=Q(a,"DIVIDEND",v.h.Bj)||"0";a=Q(a,"DIVISOR",v.h.Bj)||"0";return[b+" % "+a,v.h.Bj]};
v.h.math_constrain=function(a){var b=Q(a,"VALUE",v.h.Da)||"0",d=Q(a,"LOW",v.h.Da)||"0";a=Q(a,"HIGH",v.h.Da)||"Infinity";return["Math.min(Math.max("+b+", "+d+"), "+a+")",v.h.na]};
v.h.math_random_int=function(a){var b=Q(a,"FROM",v.h.Da)||"0";a=Q(a,"TO",v.h.Da)||"0";return[gl("mathRandomInt",["function "+v.h.Kb+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+b+", "+a+")",v.h.na]};v.h.math_random_float=function(){return["Math.random()",v.h.na]};
v.h.math_atan2=function(a){var b=Q(a,"X",v.h.Da)||"0";return["Math.atan2("+(Q(a,"Y",v.h.Da)||"0")+", "+b+") / Math.PI * 180",v.h.Aj]};v.h.Mz={};v.h.procedures_defreturn=function(a){var b=v.h.$a.getName(C(a,"NAME"),v.ta.ab),d=dl(a,"STACK");if(v.h.oi){var e=a.id.replace(/\$/g,"$$$$");d=cl(v.h.oi.replace(/%1/g,"'"+e+"'"),v.h.qf)+d}v.h.Dl&&(d=v.h.Dl.replace(/%1/g,"'"+a.id+"'")+d);(e=Q(a,"RETURN",v.h.Xa)||"")&&(e=v.h.qf+"return "+e+";\n");for(var f=[],h=0;h<a.ua.length;h++)f[h]=v.h.$a.getName(a.ua[h],v.G.ab);d="function "+b+"("+f.join(", ")+") {\n"+d+e+"}";d=v.h.on(a,d);v.h.eh["%"+b]=d;return null};v.h.procedures_defnoreturn=v.h.procedures_defreturn;
v.h.procedures_callreturn=function(a){for(var b=v.h.$a.getName(C(a,"NAME"),v.ta.ab),d=[],e=0;e<a.ua.length;e++)d[e]=Q(a,"ARG"+e,v.h.Da)||"null";return[b+"("+d.join(", ")+")",v.h.na]};v.h.procedures_callnoreturn=function(a){for(var b=v.h.$a.getName(C(a,"NAME"),v.ta.ab),d=[],e=0;e<a.ua.length;e++)d[e]=Q(a,"ARG"+e,v.h.Da)||"null";return b+"("+d.join(", ")+");\n"};
v.h.procedures_ifreturn=function(a){var b="if ("+(Q(a,"CONDITION",v.h.Xa)||"false")+") {\n";a.qg?(a=Q(a,"VALUE",v.h.Xa)||"null",b+=v.h.qf+"return "+a+";\n"):b+=v.h.qf+"return;\n";return b+"}\n"};v.h.mA={};v.h.text=function(a){return[v.h.su(C(a,"TEXT")),v.h.ie]};v.h.text.Bi=function(a){return v.h.text.Bi.gA.test(a)?a:"String("+a+")"};v.h.text.Bi.gA=/^\s*'([^']|\\')*'\s*$/;
v.h.text_join=function(a){switch(a.kb){case 0:return["''",v.h.ie];case 1:return a=Q(a,"ADD0",v.h.Xa)||"''",a=v.h.text.Bi(a),[a,v.h.na];case 2:var b=Q(a,"ADD0",v.h.Xa)||"''";a=Q(a,"ADD1",v.h.Xa)||"''";a=v.h.text.Bi(b)+" + "+v.h.text.Bi(a);return[a,v.h.sf];default:b=Array(a.kb);for(var d=0;d<a.kb;d++)b[d]=Q(a,"ADD"+d,v.h.Da)||"''";a="["+b.join(",")+"].join('')";return[a,v.h.na]}};
v.h.text_append=function(a){var b=v.h.$a.getName(C(a,"VAR"),v.G.ab);a=Q(a,"TEXT",v.h.Xa)||"''";return b+" += "+v.h.text.Bi(a)+";\n"};v.h.text_length=function(a){return[(Q(a,"VALUE",v.h.na)||"''")+".length",v.h.Ha]};v.h.text_isEmpty=function(a){return["!"+(Q(a,"VALUE",v.h.Ha)||"''")+".length",v.h.ni]};v.h.text_indexOf=function(a){var b="FIRST"==C(a,"END")?"indexOf":"lastIndexOf",d=Q(a,"FIND",v.h.Xa)||"''";b=(Q(a,"VALUE",v.h.Ha)||"''")+"."+b+"("+d+")";return a.o.options.fd?[b+" + 1",v.h.sf]:[b,v.h.na]};
v.h.text_charAt=function(a){var b=C(a,"WHERE")||"FROM_START",d=Q(a,"VALUE","RANDOM"==b?v.h.Xa:v.h.Ha)||"''";switch(b){case "FIRST":return[d+".charAt(0)",v.h.na];case "LAST":return[d+".slice(-1)",v.h.na];case "FROM_START":return a=v.h.fc(a,"AT"),[d+".charAt("+a+")",v.h.na];case "FROM_END":return a=v.h.fc(a,"AT",1,!0),[d+".slice("+a+").charAt(0)",v.h.na];case "RANDOM":return d=gl("textRandomLetter",["function "+v.h.Kb+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];",
"}"])+"("+d+")",[d,v.h.na]}throw Error("Unhandled option (text_charAt).");};v.h.text.To=function(a,b,d){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+d:"LAST"==b?a+".length - 1":d};
v.h.text_getSubstring=function(a){var b=Q(a,"STRING",v.h.na)||"''",d=C(a,"WHERE1"),e=C(a,"WHERE2");if("FIRST"!=d||"LAST"!=e)if(b.match(/^'?\w+'?$/)||"FROM_END"!=d&&"LAST"!=d&&"FROM_END"!=e&&"LAST"!=e){switch(d){case "FROM_START":var f=v.h.fc(a,"AT1");break;case "FROM_END":f=v.h.fc(a,"AT1",1,!1,v.h.tf);f=b+".length - "+f;break;case "FIRST":f="0";break;default:throw Error("Unhandled option (text_getSubstring).");}switch(e){case "FROM_START":a=v.h.fc(a,"AT2",1);break;case "FROM_END":a=v.h.fc(a,"AT2",
0,!1,v.h.tf);a=b+".length - "+a;break;case "LAST":a=b+".length";break;default:throw Error("Unhandled option (text_getSubstring).");}b=b+".slice("+f+", "+a+")"}else{f=v.h.fc(a,"AT1");a=v.h.fc(a,"AT2");var h=v.h.text.To,k={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};b=gl("subsequence"+k[d]+k[e],["function "+v.h.Kb+"(sequence"+("FROM_END"==d||"FROM_START"==d?", at1":"")+("FROM_END"==e||"FROM_START"==e?", at2":"")+") {","  var start = "+h("sequence",d,"at1")+";","  var end = "+
h("sequence",e,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+b+("FROM_END"==d||"FROM_START"==d?", "+f:"")+("FROM_END"==e||"FROM_START"==e?", "+a:"")+")"}return[b,v.h.na]};
v.h.text_changeCase=function(a){var b={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[C(a,"CASE")];a=Q(a,"TEXT",b?v.h.Ha:v.h.Xa)||"''";return[b?a+b:gl("textToTitleCase",["function "+v.h.Kb+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+a+")",v.h.na]};
v.h.text_trim=function(a){var b={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[C(a,"MODE")];return[(Q(a,"TEXT",v.h.Ha)||"''")+b,v.h.na]};v.h.text_print=function(a){return"window.alert("+(Q(a,"TEXT",v.h.Xa)||"''")+");\n"};v.h.text_prompt_ext=function(a){var b="window.prompt("+(D(a,"TEXT")?v.h.su(C(a,"TEXT")):Q(a,"TEXT",v.h.Xa)||"''")+")";"NUMBER"==C(a,"TYPE")&&(b="parseFloat("+b+")");return[b,v.h.na]};v.h.text_prompt=v.h.text_prompt_ext;
v.h.text_count=function(a){var b=Q(a,"TEXT",v.h.Ha)||"''";a=Q(a,"SUB",v.h.Xa)||"''";return[gl("textCount",["function "+v.h.Kb+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+b+", "+a+")",v.h.tf]};
v.h.text_replace=function(a){var b=Q(a,"TEXT",v.h.Ha)||"''",d=Q(a,"FROM",v.h.Xa)||"''";a=Q(a,"TO",v.h.Xa)||"''";return[gl("textReplace",["function "+v.h.Kb+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")','                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+b+", "+d+", "+a+")",v.h.Ha]};
v.h.text_reverse=function(a){return[(Q(a,"TEXT",v.h.Ha)||"''")+".split('').reverse().join('')",v.h.Ha]};v.h.yA={};v.h.variables_get=function(a){return[v.h.$a.getName(C(a,"VAR"),v.G.ab),v.h.ie]};v.h.variables_set=function(a){var b=Q(a,"VALUE",v.h.Yg)||"0";return v.h.$a.getName(C(a,"VAR"),v.G.ab)+" = "+b+";\n"};v.I.movie_circle={O:function(){this.fe(160);J(J(Lh(N(this,"X").ga("Number"),v.ec),T("Movie_circleDraw")),T("Movie_x"));J(Lh(N(this,"Y").ga("Number"),v.ec),T("Movie_y"));J(Lh(N(this,"RADIUS").ga("Number"),v.ec),T("Movie_radius"));this.sd(!0);this.rd(!0);this.Aa(T("Movie_circleTooltip"))}};v.h.movie_circle=function(a){var b=Q(a,"X",v.h.Da)||"0",d=Q(a,"Y",v.h.Da)||"0";a=Q(a,"RADIUS",v.h.Da)||"0";return"circle("+b+", "+d+", "+a+");\n"};
v.I.movie_rect={O:function(){this.fe(160);J(J(Lh(N(this,"X").ga("Number"),v.ec),T("Movie_rectDraw")),T("Movie_x"));J(Lh(N(this,"Y").ga("Number"),v.ec),T("Movie_y"));J(Lh(N(this,"WIDTH").ga("Number"),v.ec),T("Movie_width"));J(Lh(N(this,"HEIGHT").ga("Number"),v.ec),T("Movie_height"));this.sd(!0);this.rd(!0);this.Aa(T("Movie_rectTooltip"))}};
v.h.movie_rect=function(a){var b=Q(a,"X",v.h.Da)||"0",d=Q(a,"Y",v.h.Da)||"0",e=Q(a,"WIDTH",v.h.Da)||"0";a=Q(a,"HEIGHT",v.h.Da)||"0";return"rect("+b+", "+d+", "+e+", "+a+");\n"};
v.I.movie_line={O:function(){this.fe(160);J(J(Lh(N(this,"X1").ga("Number"),v.ec),T("Movie_lineDraw")),T("Movie_x1"));J(Lh(N(this,"Y1").ga("Number"),v.ec),T("Movie_y1"));J(Lh(N(this,"X2").ga("Number"),v.ec),T("Movie_x2"));J(Lh(N(this,"Y2").ga("Number"),v.ec),T("Movie_y2"));J(Lh(N(this,"WIDTH").ga("Number"),v.ec),T("Movie_width"));this.sd(!0);this.rd(!0);this.Aa(T("Movie_rectTooltip"))}};
v.h.movie_line=function(a){var b=Q(a,"X1",v.h.Da)||"0",d=Q(a,"Y1",v.h.Da)||"0",e=Q(a,"X2",v.h.Da)||"0",f=Q(a,"Y2",v.h.Da)||"0";a=Q(a,"WIDTH",v.h.Da)||"0";return"line("+b+", "+d+", "+e+", "+f+", "+a+");\n"};v.I.movie_time={O:function(){this.fe(v.g.VARIABLES_HUE);J(O(this),"time (0\u2192100)");this.yc(!0,"Number");this.Aa(T("Movie_timeTooltip"))}};v.h.movie_time=function(){return["time()",v.h.ie]};
v.I.movie_colour={O:function(){this.fe(v.g.COLOUR_HUE);J(N(this,"COLOUR").ga("Colour"),T("Movie_setColour"));this.sd(!0);this.rd(!0);this.Aa(T("Movie_colourTooltip"))}};v.h.movie_colour=function(a){return"penColour("+(Q(a,"COLOUR",v.h.Xa)||"'#000000'")+");\n"};var Mm={};function Nm(){throw Error("Do not instantiate directly");}Nm.prototype.lo=null;Nm.prototype.lg=function(){return this.content};Nm.prototype.toString=function(){return this.content};Nm.prototype.vn=function(){if(this.Zr!==Mm)throw Error("Sanitized content was not of kind HTML.");return Nb(this.toString(),this.lo||null)};function Om(a){if(null!=a)switch(a.lo){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Pm(){Nm.call(this)}u(Pm,Nm);Pm.prototype.Zr=Mm;function Qm(a){return null!=a&&a.Zr===Mm?a:Rm(String(String(a)).replace(Sm,Tm),Om(a))}
var Rm=function(a){function b(){}b.prototype=a.prototype;return function(d,e){var f=new b;f.content=String(d);void 0!==e&&(f.lo=e);return f}}(Pm),Um={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Tm(a){return Um[a]}var Sm=/[\x00\x22\x26\x27\x3c\x3e]/g;function Vm(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};function Wm(){for(var a='<div style="display: none"><span id="Games_name">Blockly Games</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">Movie</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Movie_x">x</span><span id="Movie_y">y</span><span id="Movie_x1">start x</span><span id="Movie_y1">start y</span><span id="Movie_x2">end x</span><span id="Movie_y2">end y</span><span id="Movie_radius">radius</span><span id="Movie_width">width</span><span id="Movie_height">height</span><span id="Movie_circleTooltip">Draws a circle at the specified location and with the specified radius.</span><span id="Movie_circleDraw">circle</span><span id="Movie_rectTooltip">Draws a rectangle at the specified location and with the specified width and height.</span><span id="Movie_rectDraw">rectangle</span><span id="Movie_lineTooltip">Draws a line from one point to another with the specified width.</span><span id="Movie_lineDraw">line</span><span id="Movie_timeTooltip">Returns the current time in the animation (0-100).</span><span id="Movie_colourTooltip">Changes the colour of the pen.</span><span id="Movie_setColour">set colour to</span><span id="Movie_submitDisabled">Your movie doesn\'t move. Use blocks to make something interesting. Then you may submit your movie to the gallery.</span></div><table width="100%"><tr><td><h1>'+
('<span id="title">'+(xm?'<a href="index.html?lang='+Qm(vm)+'">':'<a href="./?lang='+Qm(vm)+'">')+"Blockly Games</a> : "+Qm({appName:"Movie"}.appName)+"</span>"),b=" &nbsp; ",d=1;11>d;d++)b+=" "+(d==S?'<span class="level_number level_done" id="level'+Qm(d)+'">'+Qm(d)+"</span>":10==d?'<a class="level_number" id="level'+Qm(d)+'" href="?lang='+Qm(vm)+"&level="+Qm(d)+Qm("")+'">'+Qm(d)+"</a>":'<a class="level_dot" id="level'+Qm(d)+'" href="?lang='+Qm(vm)+"&level="+Qm(d)+Qm("")+'"></a>');return a+b+'</h1></td><td class="farSide"><select id="languageMenu"></select>&nbsp;<button id="linkButton" title="Save and link to blocks."><img src="common/1x1.gif" class="link icon21"></button>&nbsp;<button id="helpButton">Help</button></td></tr></table><div id="visualization"><div id="coordinates"><span id="x"></span><span id="y"></span></div><canvas id="scratch" width="400" height="400" style="display: none"></canvas><canvas id="hatching" width="400" height="400" style="display: none"></canvas><canvas id="axies" width="400" height="400" style="display: none" dir="ltr"></canvas><canvas id="display" width="400" height="400" style="vertical-align: bottom"></canvas></div><svg id="scrubber" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="402" height="24"><image xlink:href="movie/youtube-bg.png" height=25 width=402 x=0 y=-1 /></svg>'+
(10!=S||xm?"":'<table style="padding-top: 1em; width: 400px;"><tr><td style="text-align: center;"><form action="/gallery" target="movie-gallery"><input type="hidden" name="app" value="movie"><input type="hidden" name="lang" value="'+Qm(vm)+'"><button type="submit" title="Open the gallery of movies."><img src="common/1x1.gif" class="gallery icon21"> See Gallery</button></form></td><td style="text-align: center;"><button id="submitButton" title="Submit your movie to the gallery."><img src="common/1x1.gif" class="camera icon21"> Submit to Gallery</button></td></tr></table><div id="galleryDialog" class="dialogHiddenContent"><form id="galleryForm" action="/gallery-api/submit" method="post" onsubmit="return false"><header>Submit your movie to the gallery.</header><canvas id="thumbnail" width="200" height="200"></canvas><input type="hidden" name="app" value="movie"><input id="galleryThumb" type="hidden" name="thumb"><input id="galleryXml" type="hidden" name="xml"><div>Title: <input id="galleryTitle" type="text" name="title" required></div><footer>\x3c!--Legal disclaimer goes here if needed.--\x3e</footer><div class="farSide"><button id="galleryCancel" type="button">Cancel</button><button id="galleryOk" class="secondary" type="submit">OK</button></div></form></div>')+
('<xml id="toolbox" style="display: none"><category name="Movie"><block type="movie_circle"><value name="X"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="Y"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="RADIUS"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block><block type="movie_rect"><value name="X"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="Y"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="WIDTH"><shadow type="math_number"><field name="NUM">10</field></shadow></value><value name="HEIGHT"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block><block type="movie_line"><value name="X1"><shadow type="math_number"><field name="NUM">40</field></shadow></value><value name="Y1"><shadow type="math_number"><field name="NUM">40</field></shadow></value><value name="X2"><shadow type="math_number"><field name="NUM">60</field></shadow></value><value name="Y2"><shadow type="math_number"><field name="NUM">60</field></shadow></value><value name="WIDTH"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block>'+
(1<S?'<block type="movie_time"></block>':"")+'</category><category name="Colour"><block type="movie_colour"><value name="COLOUR"><shadow type="colour_picker"></shadow></value></block>'+(10==S?'<block type="colour_picker"></block><block type="colour_rgb"><value name="RED"><shadow type="math_number"><field name="NUM">100</field></shadow></value><value name="GREEN"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="BLUE"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block><block type="colour_blend"><value name="COLOUR1"><shadow type="colour_picker"><field name="COLOUR">#ff0000</field></shadow></value><value name="COLOUR2"><shadow type="colour_picker"><field name="COLOUR">#3333ff</field></shadow></value><value name="RATIO"><shadow type="math_number"><field name="NUM">0.5</field></shadow></value></block>':
"")+"</category>"+(6<S?'<category name="Logic"><block type="controls_if">'+(10>S?'<mutation else="1"></mutation>':"")+'</block><block type="logic_compare"></block>'+(10==S?'<block type="logic_operation"></block><block type="logic_negate"></block><block type="logic_boolean"></block><block type="logic_ternary"></block>':"")+"</category>":"")+(10==S?'<category name="Loops"><block type="controls_whileUntil"></block><block type="controls_for"><value name="FROM"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="TO"><shadow type="math_number"><field name="NUM">10</field></shadow></value><value name="BY"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block><block type="controls_flow_statements"></block></category>':
"")+(2<S?'<category name="Math"><block type="math_number"></block><block type="math_arithmetic"><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block>'+(10==S?'<block type="math_single"><value name="NUM"><shadow type="math_number"><field name="NUM">9</field></shadow></value></block><block type="math_trig"><value name="NUM"><shadow type="math_number"><field name="NUM">45</field></shadow></value></block><block type="math_constant"></block><block type="math_number_property"><value name="NUMBER_TO_CHECK"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block><block type="math_round"><value name="NUM"><shadow type="math_number"><field name="NUM">3.1</field></shadow></value></block><block type="math_modulo"><value name="DIVIDEND"><shadow type="math_number"><field name="NUM">64</field></shadow></value><value name="DIVISOR"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block><block type="math_constrain"><value name="VALUE"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="LOW"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="HIGH"><shadow type="math_number"><field name="NUM">100</field></shadow></value></block>':
"")+"</category>":"")+(10==S?'<category name="Lists"><block type="lists_create_with"><mutation items="0"></mutation></block><block type="lists_create_with"></block><block type="lists_repeat"><value name="NUM"><shadow type="math_number"><field name="NUM">5</field></shadow></value></block><block type="lists_length"></block><block type="lists_isEmpty"></block><block type="lists_indexOf"><value name="VALUE"><block type="variables_get"><field name="VAR">list</field></block></value></block><block type="lists_getIndex"><value name="VALUE"><block type="variables_get"><field name="VAR">list</field></block></value></block><block type="lists_setIndex"><value name="LIST"><block type="variables_get"><field name="VAR">list</field></block></value></block><block type="lists_getSublist"><value name="LIST"><block type="variables_get"><field name="VAR">list</field></block></value></block><block type="lists_sort"></block><block type="lists_reverse"></block></category><sep></sep><category name="Variables" custom="VARIABLE"></category><category name="Functions" custom="PROCEDURE"></category>':
"")+"</xml>")+'<div id="blockly"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneCancel">Cancel</button><button id="doneOk" class="secondary">OK</button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel">Cancel</button><button id="abortOk" class="secondary">OK</button></div></div>'+
('<div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>'+Vm()+"</div>")+(9==S?'<div id="helpLayer" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">Move the background circle to the top of your program.  Then it will appear behind the person.</div>'+Vm()+"</div>":"")+'<div id="help" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">'+(1==S?"Use simple shapes to draw this person.":2==S?"This level is a movie. You want the person's arm to move across the screen. Press the play button to see a preview.<div id=\"sampleHelp2\" class=\"readonly\"></div>As the movie plays, the value of the 'time' block counts from 0 to 100. Since you want the 'y' position of the arm to start at 0 and go to 100 this should be easy.":
3==S?"The 'time' block counts from 0 to 100. But now you want the 'y' position of the other arm to start at 100 and go to 0. Can you figure out a simple mathematical formula that flips the direction?":4==S?"Use what you learned in the previous level to make legs that cross.":5==S?'The mathematical formula for the arm is complicated. Here\'s the answer:<br><br><code class="ltr">y = ((time - 50) &divide; 5) ^ 2</code><code class="rtl">&lrm;2 ^ (5 &divide; (50 - time)) = y&lrm;</code>':6==S?"Give the person a couple of hands.":
7==S?"Use the 'if' block to draw a small head for the first half of the movie. Then draw a big head for the second half of the movie.":8==S?"Make the legs reverse direction half way through the movie.":9==S?"Draw an expanding circle behind the person.":10==S?"Make a movie of anything you want. You've got a huge number of new blocks you can explore. Have fun!"+(xm?"":'<br><br>Use the "See Gallery" button to see movies that other people have made. If you make an interesting movie, use the "Submit to Gallery" button to publish it.'):
"")+"</div>"+Vm()+"</div>"};function Xm(a){var b=Ym;this.ge=42;this.xj=328;this.wj=11.5;this.Ce=12;this.ub=0;this.Ir=b;this.Wn=[];this.ou=[];b=document.createElementNS(Zm,"text");b.setAttribute("style","font-size: 10pt");b.setAttribute("x",this.xj+9);b.setAttribute("y",16);ym()&&b.setAttribute("text-anchor","end");a.appendChild(b);this.qa=b;b="#ff3333 #f72f2f #ef2a2a #e72727 #df2222 #d71f1f #cf1a1a".split(" ");for(var d=0;d<b.length;d++){var e=document.createElementNS(Zm,"rect");e.setAttribute("style","fill: "+b[d]);e.setAttribute("x",
this.ge);e.setAttribute("y",8+d);e.setAttribute("height",1);a.appendChild(e);this.ou[d]=e}b=document.createElementNS(Zm,"rect");b.setAttribute("style","opacity: 0");b.setAttribute("x",this.ge-this.Ce);b.setAttribute("y",this.wj-this.Ce);b.setAttribute("width",this.xj-this.ge+2*this.Ce);b.setAttribute("height",2*this.Ce);b.setAttribute("rx",this.Ce);b.setAttribute("ry",this.Ce);a.appendChild(b);e=document.createElementNS(Zm,"clipPath");e.setAttribute("id","knobClipPath");a.appendChild(e);d=document.createElementNS(Zm,
"rect");d.setAttribute("width","16");d.setAttribute("height","16");d.setAttribute("y","3");e.appendChild(d);this.Ty=d;e=document.createElementNS(Zm,"image");e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","movie/icons.png");e.setAttribute("clip-path","url(#knobClipPath)");e.setAttribute("width","63");e.setAttribute("height","42");e.setAttribute("y","3");a.appendChild(e);this.wt=e;e=document.createElementNS(Zm,"rect");e.setAttribute("style","opacity: 0");e.setAttribute("width",2*this.Ce);
e.setAttribute("height",2*this.Ce);e.setAttribute("y",this.wj-this.Ce);a.appendChild(e);this.rp=e;this.setValue(0);e=document.createElementNS(Zm,"clipPath");e.setAttribute("id","playClipPath");a.appendChild(e);d=document.createElementNS(Zm,"rect");d.setAttribute("width","21");d.setAttribute("height","21");d.setAttribute("x","4");d.setAttribute("y","1");e.appendChild(d);e=document.createElementNS(Zm,"image");e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","movie/icons.png");e.setAttribute("clip-path",
"url(#playClipPath)");e.setAttribute("width","63");e.setAttribute("height","42");e.setAttribute("x",-17);e.setAttribute("y","-20");a.appendChild(e);for(this.$m=e;a&&"svg"!=a.nodeName.toLowerCase();)a=a.parentElement;this.Ia=a;$m(this.rp,"mousedown",this,this.vt);$m(this.rp,"touchstart",this,this.vt);$m(b,"mousedown",this,this.Pz);$m(this.Ia,"mouseup",null,an);$m(this.Ia,"touchend",null,an);$m(this.Ia,"mousemove",null,bn);$m(this.Ia,"touchmove",null,bn);$m(this.$m,"click",this,this.Lk);$m(this.$m,
"touchend",this,this.Lk)}var Zm="http://www.w3.org/2000/svg",cn=null,dn=0,en=0;c=Xm.prototype;c.vt=function(a){this.bj&&this.Lk();if("touchstart"==a.type){if(1!=a.changedTouches.length)return;fn(a)}cn=this;dn=gn(this,a).x;en=Number(this.wt.getAttribute("x"))+this.ge+8;a.preventDefault()};function an(){cn=null}function bn(a){var b=cn;if(b){if("touchmove"==a.type){if(1!=a.changedTouches.length)return;fn(a)}a=gn(b,a).x-dn+en;b.setValue((a-b.ge)/(b.xj-b.ge))}}
c.Pz=function(a){this.bj&&this.Lk();if("touchstart"==a.type){if(1!=a.changedTouches.length)return;fn(a)}a=gn(this,a).x;hn(this,(a-this.ge)/(this.xj-this.ge))};c.bj=0;c.Lk=function(a){a&&V.Ff(a)||(this.bj?(this.$m.setAttribute("x",-17),clearTimeout(this.bj),this.bj=0,jn()):(this.$m.setAttribute("x",4),1<=this.getValue()&&this.setValue(0),kn(this)))};c.zt=0;c.yt=0;c.Fv=25;
function kn(a){var b=a.getValue();if(1<=b)a.Lk();else{a.setValue(b+.01);b=Date.now();var d=Math.max(1,1E3/a.Fv-(b-a.zt-a.yt));a.bj=setTimeout(function(){kn(a)},d);a.zt=b;a.yt=d}}c.getValue=function(){return this.ub};function hn(a,b){function d(h){return function(){a.setValue(h*(b-e)/9+e)}}for(;a.Wn.length;)clearTimeout(a.Wn.pop());for(var e=a.getValue(),f=0;10>f;f++)a.Wn.push(setTimeout(d(f),200*f/10))}
c.setValue=function(a){this.ub=Math.min(Math.max(a,0),1);a=this.ge+(this.xj-this.ge)*this.ub;this.Ty.setAttribute("x",a-8);this.wt.setAttribute("x",a-42-8);this.rp.setAttribute("x",a-this.Ce);for(var b=0,d;d=this.ou[b];b++)d.setAttribute("width",a-this.ge);for(;this.qa.firstChild;)this.qa.removeChild(this.qa.firstChild);a=Math.round(100*this.ub);this.qa.appendChild(document.createTextNode("time = "+a));this.Ir&&this.Ir(a)};
function gn(a,b){var d=a.Ia.createSVGPoint();d.x=b.clientX;d.y=b.clientY;a=a.Ia.getScreenCTM().inverse();return d.matrixTransform(a)}function $m(a,b,d,e){a.addEventListener(b,function(f){e.apply(d,arguments)},!1)}function fn(a){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY};var Gm="movie",Km=1==S?0:100,Lm=Array(Km),ln=!1,mn=0;function nn(){document.getElementById("coordinates").style.display="block"}function on(){document.getElementById("coordinates").style.display="none"}
function pn(a){var b=ym(),d=a.clientX;a=a.clientY;b&&(d-=window.innerWidth);var e=document.getElementById("visualization");var f=qh(e);e=sh(e);f=new yg(f.x,f.y,e.width,e.height);d+=b?f.left:-f.left;a-=f.top;d/=4;a=100-a/4;b&&(d+=100);10==S?(d=Math.round(d),a=Math.round(a)):(d=10*Math.round(d/10),a=10*Math.round(a/10));0<=d&&100>=d&&0<=a&&100>=a?(document.getElementById("x").innerHTML="x = "+d,document.getElementById("y").innerHTML="y = "+a):on()}
function qn(){var a=document.getElementById("help"),b=document.getElementById("helpButton");2==S&&V.Ly("sampleHelp2",'<xml><block type="movie_time" x="15" y="10"></block></xml>');U.kj(a,b,!0,!0,{width:"50%",left:"25%",top:"5em"},rn);U.Gq()}function rn(){U.Iq()}
function sn(a){var b=document.getElementById("visualization");W.strokeStyle="#000";W.fillStyle="#000";var d=document.createElement("canvas");d.id="answer"+a;d.width=400;d.height=400;d.style.display="none";b.appendChild(d);W.canvas.width=W.canvas.width;switch(S){case 1:X("#ff0000");Y(50,70,10);X("#3333ff");tn(50,40,20,40);X("#000000");Z(40,50,20,70,5);Z(60,50,80,70,5);break;case 2:X("#ff0000");Y(50,70,10);X("#3333ff");tn(50,40,20,40);X("#000000");Z(40,50,20,70,5);Z(60,50,80,a,5);break;case 3:X("#ff0000");
Y(50,70,10);X("#3333ff");tn(50,40,20,40);X("#000000");Z(40,50,20,100-a,5);Z(60,50,80,a,5);break;case 4:X("#ff0000");Y(50,70,10);X("#3333ff");tn(50,40,20,40);X("#000000");Z(40,50,20,100-a,5);Z(60,50,80,a,5);Z(40,20,a,0,5);Z(60,20,100-a,0,5);break;case 5:X("#ff0000");Y(50,70,10);X("#3333ff");tn(50,40,20,40);X("#000000");Z(40,50,20,100-a,5);Z(60,50,80,Math.pow((a-50)/5,2),5);Z(40,20,a,0,5);Z(60,20,100-a,0,5);break;case 6:X("#ff0000");Y(50,70,10);X("#3333ff");tn(50,40,20,40);X("#000000");Z(40,50,20,100-
a,5);Z(60,50,80,Math.pow((a-50)/5,2),5);Z(40,20,a,0,5);Z(60,20,100-a,0,5);X("#ff0000");Y(20,100-a,5);Y(80,Math.pow((a-50)/5,2),5);break;case 7:X("#ff0000");50>a?Y(50,70,10):Y(50,80,20);X("#3333ff");tn(50,40,20,40);X("#000000");Z(40,50,20,100-a,5);Z(60,50,80,Math.pow((a-50)/5,2),5);Z(40,20,a,0,5);Z(60,20,100-a,0,5);X("#ff0000");Y(20,100-a,5);Y(80,Math.pow((a-50)/5,2),5);break;case 8:X("#ff0000");50>a?Y(50,70,10):Y(50,80,20);X("#3333ff");tn(50,40,20,40);X("#000000");Z(40,50,20,100-a,5);Z(60,50,80,Math.pow((a-
50)/5,2),5);50>a?(Z(40,20,a,0,5),Z(60,20,100-a,0,5)):(Z(40,20,100-a,0,5),Z(60,20,a,0,5));X("#ff0000");Y(20,100-a,5);Y(80,Math.pow((a-50)/5,2),5);break;case 9:X("#00ff00"),Y(50,a/2,a/2),X("#ff0000"),50>a?Y(50,70,10):Y(50,80,20),X("#3333ff"),tn(50,40,20,40),X("#000000"),Z(40,50,20,100-a,5),Z(60,50,80,Math.pow((a-50)/5,2),5),50>a?(Z(40,20,a,0,5),Z(60,20,100-a,0,5)):(Z(40,20,100-a,0,5),Z(60,20,a,0,5)),X("#ff0000"),Y(20,100-a,5),Y(80,Math.pow((a-50)/5,2),5)}a=d.getContext("2d");a.globalCompositeOperation=
"copy";a.drawImage(W.canvas,0,0)}function un(){var a=document.getElementById("hatching").getContext("2d");a.strokeStyle="#fff";a.lineWidth=1;for(var b=-400;400>b;b+=4)a.beginPath(),a.moveTo(b,-b),a.lineTo(b+400,-b+400),a.stroke()}
function vn(){var a=document.getElementById("axies").getContext("2d");a.lineWidth=1;a.strokeStyle="#bba";a.fillStyle="#bba";a.font="normal 14px sans-serif";for(var b=1,d=.1;.9>d;d+=.1)a.beginPath(),a.moveTo(400*d,400),a.lineTo(400*d,400-9*b),a.stroke(),a.beginPath(),a.moveTo(0,400*d),a.lineTo(9*b,400*d),a.stroke(),2==b&&(a.fillText(Math.round(100*d),400*d+2,396),a.fillText(Math.round(100-100*d),3,400*d-2)),b=1==b?2:1}
function wn(a){W.canvas.width=W.canvas.width;W.strokeStyle="#000";W.fillStyle="#000";W.globalAlpha=10==S?1:.9;for(var b=!0,d=0;b&&1E4>d;d++)try{b=a.step()}catch(e){alert(e),b=!1}}
function Ym(a){if("Interpreter"in window){"number"==typeof a&&(mn=a);var b=mn;Im.beginPath();Im.rect(0,0,Im.canvas.width,Im.canvas.height);Im.fillStyle="#ffffff";Im.fill();if(b=document.getElementById("answer"+b))Im.globalAlpha=.2,Im.drawImage(b,0,0),Im.globalAlpha=1;b=document.getElementById("hatching");Im.drawImage(b,0,0);b=$k();try{var d=new Interpreter(b,xn)}catch(e){console.error(e)}d?wn(d):W.canvas.width=W.canvas.width;Im.drawImage(W.canvas,0,0);Im.drawImage(document.getElementById("axies"),
0,0);yn();1==S&&setTimeout(jn,1E3)}else setTimeout(function(){Ym(a)},250)}function xn(a,b){var d=function(e,f,h){Y(e,f,h)};a.setProperty(b,"circle",a.createNativeFunction(d));d=function(e,f,h,k){tn(e,f,h,k)};a.setProperty(b,"rect",a.createNativeFunction(d));d=function(e,f,h,k,l){Z(e,f,h,k,l)};a.setProperty(b,"line",a.createNativeFunction(d));d=function(e){X(e)};a.setProperty(b,"penColour",a.createNativeFunction(d));a.setProperty(b,"time",a.createNativeFunction(function(){return mn}))}
function Y(a,b,d){a*=4;b=4*(100-b);d=Math.max(4*d,0);W.beginPath();W.arc(a,b,d,0,2*Math.PI,!1);W.fill()}function tn(a,b,d,e){a*=4;b=4*(100-b);d=Math.max(4*d,0);e=Math.max(4*e,0);W.beginPath();W.rect(a-d/2,b-e/2,d,e);W.fill()}function Z(a,b,d,e,f){a*=4;b=4*(100-b);d*=4;e=4*(100-e);f*=4;W.beginPath();W.moveTo(a,b);W.lineTo(d,e);W.lineWidth=Math.max(f,0);W.stroke()}function X(a){W.strokeStyle=a;W.fillStyle=a}
function yn(){var a=document.getElementById("answer"+mn);if(a){a=a.getContext("2d").getImageData(0,0,400,400);for(var b=W.getImageData(0,0,400,400),d=Math.min(b.data.length,a.data.length),e=0,f=3;f<d;f+=4)96<Math.abs(b.data[f]-a.data[f])&&e++;Lm[mn]=e}}function jn(){1<S&&mn!=Km||!Jm()||ln||(ln=!0,V.Uz(),10>S&&(al.Ge.play("win",.5),U.nx()))}
function zn(){var a=B(al).length,b=$k();if(4>a||-1==b.indexOf("time()"))alert(T("Movie_submitDisabled"));else{a=new Interpreter(b,xn);b=mn;try{mn=Math.round(Km/2),wn(a)}finally{mn=b}a=document.getElementById("thumbnail");b=a.getContext("2d");b.globalCompositeOperation="copy";b.drawImage(W.canvas,0,0,200,200);a=a.toDataURL("image/png");document.getElementById("galleryThumb").value=a;U.Cq()}}
window.addEventListener("load",function(){function a(){d.style.top=Math.max(10,e.offsetTop-window.pageYOffset)+"px";d.style.left=b?"10px":"420px";d.style.width=window.innerWidth-440+"px"}document.body.innerHTML=Wm();V.O();var b=ym(),d=document.getElementById("blockly"),e=document.getElementById("visualization");window.addEventListener("scroll",function(){a(null);v.Vh(al)});window.addEventListener("resize",a);a(null);10>S&&(Rk=3,Pk="#ff0000 #ffcc33 #ffff00 #009900 #3333ff #cc33cc #ffffff #999999 #000000".split(" "));
var f=document.getElementById("toolbox");al=v.ug("blockly",{media:"third-party/blockly/media/",rtl:b,toolbox:f,trashcan:!0,zoom:10==S?{controls:!0,wheel:!0}:null});fl("circle,rect,line,penColour,time");document.getElementById("submitButton")&&Hm("submitButton",zn);V.Xy("<xml></xml>",!0);Im=document.getElementById("display").getContext("2d");Im.globalCompositeOperation="source-over";W=document.getElementById("scratch").getContext("2d");un();sn(0);setTimeout(function(){for(var h=1;h<=Km;h++)sn(h)},
1);vn();Ym();al.Vc(Ym);f=document.getElementById("scrubber");new Xm(f);1==S&&(f.style.display="none");al.Ge.load(["movie/win.mp3","movie/win.ogg"],"win");setTimeout(V.Hy,1);setTimeout(V.Iy,1);Hm("helpButton",qn);2>location.hash.length&&!Em(S)&&setTimeout(qn,1E3);e.addEventListener("mouseover",nn);e.addEventListener("mouseout",on);e.addEventListener("mousemove",pn)});
