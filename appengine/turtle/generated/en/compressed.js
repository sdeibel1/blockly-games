// Automatically generated file.  Do not edit!
'use strict';var c;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ba(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var ca="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)},ea="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
function fa(a,b){if(b){var d=ea;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];f in d||(d[f]={});d=d[f]}a=a[a.length-1];e=d[a];b=b(e);b!=e&&null!=b&&ca(d,a,{configurable:!0,writable:!0,value:b})}}
fa("String.prototype.startsWith",function(a){return a?a:function(b,d){if(null==this)throw new TypeError("The 'this' value for String.prototype.startsWith must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.startsWith must not be a regular expression");var e=this+"";b+="";var f=e.length,h=b.length;d=Math.max(0,Math.min(d|0,e.length));for(var k=0;k<h&&d<f;)if(e[d++]!=b[k++])return!1;return k>=h}});
function ha(){ha=function(){};ea.Symbol||(ea.Symbol=ia)}function ja(a,b){this.dv=a;ca(this,"description",{configurable:!0,writable:!0,value:b})}ja.prototype.toString=function(){return this.dv};var ia=function(){function a(d){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new ja("jscomp_symbol_"+(d||"")+"_"+b++,d)}var b=0;return a}();
function ka(){ha();var a=ea.Symbol.iterator;a||(a=ea.Symbol.iterator=ea.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&ca(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return la(aa(this))}});ka=function(){}}function la(a){ka();a={next:a};a[ea.Symbol.iterator]=function(){return this};return a}
function ma(a,b){ka();a instanceof String&&(a+="");var d=0,e={next:function(){if(d<a.length){var f=d++;return{value:b(f,a[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e}fa("Array.prototype.keys",function(a){return a?a:function(){return ma(this,function(b){return b})}});
fa("Array.prototype.fill",function(a){return a?a:function(b,d,e){var f=this.length||0;0>d&&(d=Math.max(0,f+d));if(null==e||e>f)e=f;e=Number(e);0>e&&(e=Math.max(0,f+e));for(d=Number(d||0);d<e;d++)this[d]=b;return this}});var g=this||self;function p(a){return"string"==typeof a}function na(a){return"number"==typeof a}
function oa(a,b){a=a.split(".");var d=g;a[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===b?d=d[e]&&d[e]!==Object.prototype[e]?d[e]:d[e]={}:d[e]=b}function pa(){}function qa(a){a.hp=void 0;a.lg=function(){return a.hp?a.hp:a.hp=new a}}
function ra(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function sa(a){return"array"==ra(a)}function ta(a){var b=ra(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ua(a){return"function"==ra(a)}function va(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function wa(a){return a[xa]||(a[xa]=++ya)}var xa="closure_uid_"+(1E9*Math.random()>>>0),ya=0;function za(a,b,d){return a.call.apply(a.bind,arguments)}
function Aa(a,b,d){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,e);return a.apply(b,f)}}return function(){return a.apply(b,arguments)}}function Ba(a,b,d){Ba=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?za:Aa;return Ba.apply(null,arguments)}
function Ca(a,b){var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice();e.push.apply(e,arguments);return a.apply(this,e)}}function t(a,b){function d(){}d.prototype=b.prototype;a.v=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.kB=function(e,f,h){for(var k=Array(arguments.length-2),l=2;l<arguments.length;l++)k[l-2]=arguments[l];return b.prototype[f].apply(e,k)}};
var v={};v.H=Object(null);function Da(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Da);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}t(Da,Error);Da.prototype.name="CustomError";var Ea;function Fa(a,b){a=a.split("%s");for(var d="",e=a.length-1,f=0;f<e;f++)d+=a[f]+(f<b.length?b[f]:"%s");Da.call(this,d+a[e])}t(Fa,Da);Fa.prototype.name="AssertionError";var Ga=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(p(a))return p(b)&&1==b.length?a.indexOf(b,0):-1;for(var d=0;d<a.length;d++)if(d in a&&a[d]===b)return d;return-1},Ha=Array.prototype.forEach?function(a,b,d){Array.prototype.forEach.call(a,b,d)}:function(a,b,d){for(var e=a.length,f=p(a)?a.split(""):a,h=0;h<e;h++)h in f&&b.call(d,f[h],h,a)},Ia=Array.prototype.filter?function(a,b){return Array.prototype.filter.call(a,b,void 0)}:function(a,b){for(var d=
a.length,e=[],f=0,h=p(a)?a.split(""):a,k=0;k<d;k++)if(k in h){var l=h[k];b.call(void 0,l,k,a)&&(e[f++]=l)}return e},Ja=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var d=a.length,e=Array(d),f=p(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(void 0,f[h],h,a));return e},Ka=Array.prototype.every?function(a,b){return Array.prototype.every.call(a,b,void 0)}:function(a,b){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(void 0,
e[f],f,a))return!1;return!0};function La(a,b){return 0<=Ga(a,b)}function Ma(a,b){b=Ga(a,b);var d;(d=0<=b)&&Array.prototype.splice.call(a,b,1);return d}function Na(a){return Array.prototype.concat.apply([],arguments)}function Oa(a){var b=a.length;if(0<b){for(var d=Array(b),e=0;e<b;e++)d[e]=a[e];return d}return[]}function Pa(a,b,d,e){Array.prototype.splice.apply(a,Qa(arguments,1))}function Qa(a,b,d){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,d)};var Ra=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};
function Sa(a,b){if(b)a=a.replace(Ta,"&amp;").replace(Ua,"&lt;").replace(Va,"&gt;").replace(Wa,"&quot;").replace(Xa,"&#39;").replace(Ya,"&#0;");else{if(!Za.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ta,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ua,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Va,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Wa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Xa,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Ya,"&#0;"))}return a}
var Ta=/&/g,Ua=/</g,Va=/>/g,Wa=/"/g,Xa=/'/g,Ya=/\x00/g,Za=/[\x00&<>"']/;function $a(a,b){return a<b?-1:a>b?1:0};var ab;a:{var bb=g.navigator;if(bb){var cb=bb.userAgent;if(cb){ab=cb;break a}}ab=""}function db(a){return-1!=ab.indexOf(a)};function eb(a,b,d){for(var e in a)b.call(d,a[e],e,a)}var fb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gb(a,b){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)a[d]=e[d];for(var h=0;h<fb.length;h++)d=fb[h],Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=e[d])}}
function hb(a){var b=arguments.length;if(1==b&&sa(arguments[0]))return hb.apply(null,arguments[0]);for(var d={},e=0;e<b;e++)d[arguments[e]]=!0;return d};var ib={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function jb(a,b){this.Gq=a===kb&&b||"";this.nw=lb}jb.prototype.Xe=!0;jb.prototype.Zd=function(){return this.Gq};jb.prototype.toString=function(){return"Const{"+this.Gq+"}"};function mb(a){return a instanceof jb&&a.constructor===jb&&a.nw===lb?a.Gq:"type_error:Const"}var lb={},kb={};function nb(){this.gu=""}nb.prototype.Xe=!0;nb.prototype.Zd=function(){return this.gu.toString()};nb.prototype.sg=function(a){this.gu=a;return this};(new nb).sg("");function ob(){this.ju="";this.uw=qb}ob.prototype.Xe=!0;ob.prototype.Zd=function(){return this.ju.toString()};ob.prototype.ep=!0;ob.prototype.jh=function(){return 1};var qb={};function rb(){this.$p="";this.lw=sb}rb.prototype.Xe=!0;rb.prototype.Zd=function(){return this.$p.toString()};rb.prototype.ep=!0;rb.prototype.jh=function(){return 1};function tb(a){if(a instanceof rb&&a.constructor===rb&&a.lw===sb)return a.$p;ra(a);return"type_error:SafeUrl"}var ub=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function vb(a){if(a instanceof rb)return a;a="object"==typeof a&&a.Xe?a.Zd():String(a);ub.test(a)||(a="about:invalid#zClosurez");return wb(a)}var sb={};
function wb(a){var b=new rb;b.$p=a;return b}wb("about:blank");function xb(){this.Zp="";this.kw=yb}xb.prototype.Xe=!0;var yb={};xb.prototype.Zd=function(){return this.Zp};xb.prototype.sg=function(a){this.Zp=a;return this};var zb=(new xb).sg("");function Ab(a){var b="",d;for(d in a){if(!/^[-_a-zA-Z0-9]+$/.test(d))throw Error("Name allows only [-_a-zA-Z0-9], got: "+d);var e=a[d];null!=e&&(e=sa(e)?Ja(e,Bb).join(" "):Bb(e),b+=d+":"+e+";")}return b?(new xb).sg(b):zb}
function Bb(a){if(a instanceof rb)return'url("'+tb(a).toString().replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(a instanceof jb)a=mb(a);else{a=String(a);var b=a.replace(Cb,"$1").replace(Cb,"$1").replace(Db,"url");if(Eb.test(b)){if(b=!Fb.test(a)){for(var d=b=!0,e=0;e<a.length;e++){var f=a.charAt(e);"'"==f&&d?b=!b:'"'==f&&b&&(d=!d)}b=b&&d&&Gb(a)}a=b?Hb(a):"zClosurez"}else a="zClosurez"}if(/[{;}]/.test(a))throw new Fa("Value does not allow [{;}], got: %s.",[a]);return a}
function Gb(a){for(var b=!0,d=/^[-_a-zA-Z0-9]$/,e=0;e<a.length;e++){var f=a.charAt(e);if("]"==f){if(b)return!1;b=!0}else if("["==f){if(!b)return!1;b=!1}else if(!b&&!d.test(f))return!1}return b}var Eb=/^[-,."'%_!# a-zA-Z0-9\[\]]+$/,Db=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,Cb=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,Fb=/\/\*/;
function Hb(a){return a.replace(Db,function(b,d,e,f){var h="";e=e.replace(/^(['"])(.*)\1$/,function(k,l,m){h=l;return m});b=vb(e).Zd();return d+h+b+h+f})};function Ib(){this.iu=""}Ib.prototype.Xe=!0;Ib.prototype.Zd=function(){return this.iu};Ib.prototype.sg=function(a){this.iu=a;return this};(new Ib).sg("");function Jb(){this.Yp="";this.jw=Kb;this.Ds=null}Jb.prototype.ep=!0;Jb.prototype.jh=function(){return this.Ds};Jb.prototype.Xe=!0;Jb.prototype.Zd=function(){return this.Yp.toString()};function Lb(a){if(a instanceof Jb&&a.constructor===Jb&&a.jw===Kb)return a.Yp;ra(a);return"type_error:SafeHtml"}function Mb(a){if(a instanceof Jb)return a;var b="object"==typeof a,d=null;b&&a.ep&&(d=a.jh());return Nb(Sa(b&&a.Xe?a.Zd():String(a)),d)}
var Ob=/^[a-zA-Z0-9-]+$/,Pb={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},Qb={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};
function Rb(a,b,d){var e=String(a);if(!Ob.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in Qb)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.");a=String(a);e=null;var f="<"+a,h="";if(b)for(n in b){if(!Ob.test(n))throw Error('Invalid attribute name "'+n+'".');var k=b[n];if(null!=k){var l=a;var m=n;if(k instanceof jb)k=mb(k);else if("style"==m.toLowerCase()){if(!va(k))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof k+
" given: "+k);k instanceof xb||(k=Ab(k));k instanceof xb&&k.constructor===xb&&k.kw===yb?k=k.Zp:(ra(k),k="type_error:SafeStyle")}else{if(/^on/i.test(m))throw Error('Attribute "'+m+'" requires goog.string.Const value, "'+k+'" given.');if(m.toLowerCase()in Pb)if(k instanceof ob)k instanceof ob&&k.constructor===ob&&k.uw===qb?k=k.ju:(ra(k),k="type_error:TrustedResourceUrl"),k=k.toString();else if(k instanceof rb)k=tb(k).toString();else if(p(k))k=vb(k).Zd();else throw Error('Attribute "'+m+'" on tag "'+
l+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+k+'" given.');}k.Xe&&(k=k.Zd());m=m+'="'+Sa(String(k))+'"';h+=" "+m}}var n=f+h;null!=d?sa(d)||(d=[d]):d=[];!0===ib[a.toLowerCase()]?n+=">":(d=Sb(d),n+=">"+Lb(d).toString()+"</"+a+">",e=d.jh());(b=b&&b.dir)&&(e=/^(ltr|rtl|auto)$/i.test(b)?0:null);return Nb(n,e)}
function Tb(a){function b(h){sa(h)?Ha(h,b):(h=Mb(h),f.push(Lb(h).toString()),h=h.jh(),0==e?e=h:0!=h&&e!=h&&(e=null))}var d=Mb(Ub),e=d.jh(),f=[];Ha(a,b);return Nb(f.join(Lb(d).toString()),e)}function Sb(a){return Tb(Array.prototype.slice.call(arguments))}var Kb={};function Nb(a,b){return(new Jb).sg(a,b)}Jb.prototype.sg=function(a,b){this.Yp=a;this.Ds=b;return this};Nb("<!DOCTYPE html>",0);var Ub=Nb("",0),Vb=Nb("<br>",0);var Wb=function(a){var b=!1,d;return function(){b||(d=a(),b=!0);return d}}(function(){var a=document.createElement("div"),b=document.createElement("div");b.appendChild(document.createElement("div"));a.appendChild(b);b=a.firstChild.firstChild;a.innerHTML=Lb(Ub);return!b.parentElement});function Xb(a,b){if(Wb())for(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=Lb(b)}function Yb(a,b){Xb(a,b)};function Zb(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}function $b(a){return a=Sa(a,void 0)}function ac(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var d=g.document.createElement("div");return a.replace(bc,function(e,f){var h=b[e];if(h)return h;"#"==f.charAt(0)&&(f=Number("0"+f.substr(1)),isNaN(f)||(h=String.fromCharCode(f)));h||(h=Nb(e+" ",null),Xb(d,h),h=d.firstChild.nodeValue.slice(0,-1));return b[e]=h})}
function cc(a){return a.replace(/&([^;]+);/g,function(b,d){switch(d){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=d.charAt(0)||(d=Number("0"+d.substr(1)),isNaN(d))?b:String.fromCharCode(d)}})}var bc=/&([^;\s<&]+);?/g;function dc(a){dc[" "](a);return a}dc[" "]=pa;function ec(a,b){var d=fc;return Object.prototype.hasOwnProperty.call(d,a)?d[a]:d[a]=b(a)};var gc=db("Opera"),w=db("Trident")||db("MSIE"),hc=db("Edge"),ic=db("Gecko")&&!(-1!=ab.toLowerCase().indexOf("webkit")&&!db("Edge"))&&!(db("Trident")||db("MSIE"))&&!db("Edge"),z=-1!=ab.toLowerCase().indexOf("webkit")&&!db("Edge"),jc=z&&db("Mobile"),kc=db("Macintosh"),lc=db("Android"),mc=db("iPhone")&&!db("iPod")&&!db("iPad"),nc=db("iPad");function oc(){var a=g.document;return a?a.documentMode:void 0}var pc;
a:{var qc="",rc=function(){var a=ab;if(ic)return/rv:([^\);]+)(\)|;)/.exec(a);if(hc)return/Edge\/([\d\.]+)/.exec(a);if(w)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(z)return/WebKit\/(\S+)/.exec(a);if(gc)return/(?:Version)[ \/]?(\S+)/.exec(a)}();rc&&(qc=rc?rc[1]:"");if(w){var sc=oc();if(null!=sc&&sc>parseFloat(qc)){pc=String(sc);break a}}pc=qc}var fc={};
function tc(a){return ec(a,function(){for(var b=0,d=Ra(String(pc)).split("."),e=Ra(String(a)).split("."),f=Math.max(d.length,e.length),h=0;0==b&&h<f;h++){var k=d[h]||"",l=e[h]||"";do{k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==k[0].length&&0==l[0].length)break;b=$a(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||$a(0==k[2].length,0==l[2].length)||$a(k[2],l[2]);k=k[3];l=l[3]}while(0==b)}return 0<=b})}var uc;
uc=g.document&&w?oc():void 0;var vc=!w||9<=Number(uc),wc=!ic&&!w||w&&9<=Number(uc)||ic&&tc("1.9.1"),xc=w&&!tc("9");function A(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}c=A.prototype;c.clone=function(){return new A(this.x,this.y)};function yc(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function zc(a,b){var d=a.x-b.x;a=a.y-b.y;return Math.sqrt(d*d+a*a)}function Ac(a,b){return new A(a.x-b.x,a.y-b.y)}function Bc(a,b){return new A(a.x+b.x,a.y+b.y)}c.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};c.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};
c.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};c.translate=function(a,b){a instanceof A?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),na(b)&&(this.y+=b));return this};c.scale=function(a,b){b=na(b)?b:a;this.x*=a;this.y*=b;return this};function Cc(a,b){this.width=a;this.height=b}c=Cc.prototype;c.clone=function(){return new Cc(this.width,this.height)};c.aspectRatio=function(){return this.width/this.height};c.tt=function(){return!(this.width*this.height)};c.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};c.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
c.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};c.scale=function(a,b){b=na(b)?b:a;this.width*=a;this.height*=b;return this};function Dc(a){return a?new Ec(Fc(a)):Ea||(Ea=new Ec)}function Gc(a,b){eb(b,function(d,e){d&&"object"==typeof d&&d.Xe&&(d=d.Zd());"style"==e?a.style.cssText=d:"class"==e?a.className=d:"for"==e?a.htmlFor=d:Hc.hasOwnProperty(e)?a.setAttribute(Hc[e],d):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,d):a[e]=d})}
var Hc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ic(){var a=window.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Cc(a.clientWidth,a.clientHeight)}
function Jc(a){var b=Kc(a);a=a.parentWindow||a.defaultView;return w&&tc("10")&&a.pageYOffset!=b.scrollTop?new A(b.scrollLeft,b.scrollTop):new A(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}function Kc(a){return a.scrollingElement?a.scrollingElement:z||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function Lc(a,b,d,e){function f(k){k&&b.appendChild(p(k)?a.createTextNode(k):k)}for(;e<d.length;e++){var h=d[e];!ta(h)||va(h)&&0<h.nodeType?f(h):Ha(Mc(h)?Oa(h):h,f)}}
function Nc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Oc(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Pc(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Fc(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Qc(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=String(b);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(b)}else Nc(a),a.appendChild(Fc(a).createTextNode(String(b)))}var Rc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Sc={IMG:" ",BR:"\n"};function Tc(a){return w&&!tc("9")?(a=a.getAttributeNode("tabindex"),null!=a&&a.specified):a.hasAttribute("tabindex")}
function Uc(a){a=a.tabIndex;return na(a)&&0<=a&&32768>a}function Vc(a){var b=[];Wc(a,b,!1);return b.join("")}function Wc(a,b,d){if(!(a.nodeName in Rc))if(3==a.nodeType)d?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Sc)b.push(Sc[a.nodeName]);else for(a=a.firstChild;a;)Wc(a,b,d),a=a.nextSibling}
function Mc(a){if(a&&"number"==typeof a.length){if(va(a))return"function"==typeof a.item||"string"==typeof a.item;if(ua(a))return"function"==typeof a.item}return!1}function Ec(a){this.Je=a||g.document||document}c=Ec.prototype;c.Re=Dc;c.L=function(a){return p(a)?this.Je.getElementById(a):a};c.getElementsByTagName=function(a,b){return(b||this.Je).getElementsByTagName(String(a))};c.setProperties=Gc;
c.ba=function(a,b,d){var e=this.Je,f=arguments,h=String(f[0]),k=f[1];if(!vc&&k&&(k.name||k.type)){h=["<",h];k.name&&h.push(' name="',$b(k.name),'"');if(k.type){h.push(' type="',$b(k.type),'"');var l={};gb(l,k);delete l.type;k=l}h.push(">");h=h.join("")}h=e.createElement(h);k&&(p(k)?h.className=k:sa(k)?h.className=k.join(" "):Gc(h,k));2<f.length&&Lc(e,h,f,2);return h};c.createElement=function(a){return this.Je.createElement(String(a))};c.createTextNode=function(a){return this.Je.createTextNode(String(a))};
c.appendChild=function(a,b){a.appendChild(b)};c.append=function(a,b){Lc(Fc(a),a,arguments,1)};c.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
c.qu=Nc;c.removeNode=Oc;c.Ef=function(a){return wc&&void 0!=a.children?a.children:Ia(a.childNodes,function(b){return 1==b.nodeType})};c.contains=Pc;
c.xg=function(a){var b;(b="A"==a.tagName&&a.hasAttribute("href")||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!Tc(a)||Uc(a)):Tc(a)&&Uc(a))&&w?(a=!ua(a.getBoundingClientRect)||w&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect(),a=null!=a&&0<a.height&&0<a.width):a=b;return a};
v.i={};v.i.removeAttribute=function(a,b){w&&tc("10.0")?a.setAttribute(b,null):a.removeAttribute(b)};v.i.Ya=function(a,b){var d=a.getAttribute("class")||"";if(-1!=(" "+d+" ").indexOf(" "+b+" "))return!1;d&&(d+=" ");a.setAttribute("class",d+b);return!0};
v.i.Fb=function(a,b){var d=a.getAttribute("class");if(-1==(" "+d+" ").indexOf(" "+b+" "))return!1;d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=b||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):v.i.removeAttribute(a,"class");return!0};v.i.ct=function(a,b){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")};v.i.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};v.i.fz=function(a){a.preventDefault();a.stopPropagation()};
v.i.Hm=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
v.i.dd=function(a){var b=new A(0,0),d=a.getAttribute("x");d&&(b.x=parseInt(d,10));if(d=a.getAttribute("y"))b.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(v.i.dd.zw))b.x+=parseFloat(d[1]),d[3]&&(b.y+=parseFloat(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&((d=a.match(v.i.dd.xw))||(d=a.match(v.i.dd.yw)),d&&(b.x+=parseFloat(d[1]),d[3]&&(b.y+=parseFloat(d[3]))));return b};
v.i.Yj=function(a){for(var b=0,d=0;a;){var e=v.i.dd(a);b+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new A(b,d)};v.i.dd.zw=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*\))?/;v.i.dd.yw=/transform:\s*translate3d\(\s*([-+\d.e]+)px([ ,]\s*([-+\d.e]+)\s*)px([ ,]\s*([-+\d.e]+)\s*)px\)?/;v.i.dd.xw=/transform:\s*translate\(\s*([-+\d.e]+)px([ ,]\s*([-+\d.e]+)\s*)px\)?/;
v.i.C=function(a,b,d){a=document.createElementNS(v.Mn,a);for(var e in b)a.setAttribute(e,b[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};v.i.Ag=function(a){return a.ctrlKey&&kc?!0:2==a.button};v.i.Ck=function(a,b,d){var e=b.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=b.getScreenCTM().inverse());return e.matrixTransform(d)};
v.i.Ro=function(a){switch(a.deltaMode){case 0:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*v.Yq,y:a.deltaY*v.Yq};case 2:return{x:a.deltaX*v.er,y:a.deltaY*v.er}}};v.i.wq=function(a){return a.length?a.reduce(function(b,d){return b.length<d.length?b:d}).length:0};
v.i.gx=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;b=b||v.i.wq(a);for(var e=0;e<b;e++){for(var f=a[0][e],h=1;h<a.length;h++)if(f!=a[h][e])return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h][e])&&" "!=f)return d;return b};
v.i.hx=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;b=b||v.i.wq(a);for(var e=0;e<b;e++){for(var f=a[0].substr(-e-1,1),h=1;h<a.length;h++)if(f!=a[h].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h].charAt(a[h].length-e-1))&&" "!=f)return d;return b};v.i.jA=function(a){return v.i.Iq(a,!0)};v.i.pc=function(a){if("string"!=typeof a)return a;a=v.i.Iq(a,!1);return a.length?a[0]:""};
v.i.Jr=function(a){for(var b=v.g,d=/%{(BKY_[A-Z][A-Z0-9_]*)}/gi,e=d.exec(a);e;){var f=e[1];f=f.toUpperCase();"BKY_"!=f.substr(0,4)?console.log("WARNING: Unsupported message table prefix in %{"+e[1]+"}."):void 0==b[f.substr(4)]&&console.log("WARNING: No message string for %{"+e[1]+"}.");a=a.substring(e.index+f.length+1);e=d.exec(a)}};
v.i.Iq=function(a,b){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var h=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):b&&"0"<=l&&"9">=l?(f=2,h=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?h+=l:(d.push(parseInt(h,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[a-zA-Z][a-zA-Z0-9_]*/.test(f)?(l=f.toUpperCase(),(l=v.i.startsWith(l,
"BKY_")?l.substring(4):null)&&l in v.g?(f=v.g[l],"string"==typeof f?Array.prototype.push.apply(d,v.i.Iq(f,b)):b?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);b=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&b.push(l),a.length=0,b.push(d[k]));(l=a.join(""))&&b.push(l);a.length=0;return b};v.i.Pe=function(){for(var a=v.i.Pe.Eu.length,b=[],d=0;20>d;d++)b[d]=v.i.Pe.Eu.charAt(Math.random()*a);return b.join("")};
v.i.Pe.Eu="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";v.i.bv=function(a,b){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=v.i.xA(a[d],b);return a.join("\n")};
v.i.xA=function(a,b){if(a.length<=b)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>b&&(b=d[e].length);e=-Infinity;var f=1;do{var h=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=v.i.cv(d,a,b);e=v.i.Mq(d,a,b);a=v.i.yA(d,a);f++}while(e>h);return k};
v.i.Mq=function(a,b,d){for(var e=[0],f=[],h=0;h<a.length;h++)e[e.length-1]+=a[h].length,!0===b[h]?(e.push(0),f.push(a[h].charAt(a[h].length-1))):!1===b[h]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(h=b=0;h<e.length;h++)b-=2*Math.pow(Math.abs(d-e[h]),1.5),b-=Math.pow(a-e[h],1.5),-1!=".?!".indexOf(f[h])?b+=d/3:-1!=",;)]}".indexOf(f[h])&&(b+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(b+=.5);return b};
v.i.cv=function(a,b,d){for(var e=v.i.Mq(a,b,d),f,h=0;h<b.length-1;h++)if(b[h]!=b[h+1]){var k=[].concat(b);k[h]=!k[h];k[h+1]=!k[h+1];var l=v.i.Mq(a,k,d);l>e&&(e=l,f=k)}return f?v.i.cv(a,f,d):b};v.i.yA=function(a,b){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==b[e]&&d.push(b[e]?"\n":" ");return d.join("")};
v.i.vg=function(){if(void 0!==v.i.vg.Xn)return v.i.vg.Xn;if(!g.getComputedStyle)return!1;var a=document.createElement("p"),b="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";b=g.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(d[e])}document.body.removeChild(a);
v.i.vg.Xn="none"!==b;return v.i.vg.Xn};v.i.sh=function(a,b){var d=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");d?b.insertBefore(a,d):b.appendChild(a)};v.i.wu=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)};
v.i.Rk=function(a,b){a.style.transform=b;a.style["-webkit-transform"]=b};v.i.Xs=function(){var a=Ic(),b=Xc();return{right:a.width+b.x,bottom:a.height+b.y,top:b.y,left:b.x}};v.i.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};v.i.Cj=function(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0};v.i.bl=function(a){return a*Math.PI/180};v.i.iA=function(a){return 180*a/Math.PI};v.i.containsNode=function(a,b){return!!(a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)};
v.i.Lo=function(a,b){var d=Object.create(null),e=Yc(a,!0);b&&(a=Zc(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;b=e[a];a++)d[b.type]?d[b.type]++:d[b.type]=1;return d};v.i.Yn=function(a,b,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(b,d))};v.i.Pz=function(a,b){var d=b.x;b=b.y;var e=$c(a).getBoundingClientRect();d=new A(d-e.left,b-e.top);b=v.i.Yj(a.Ra);return Ac(d,b).scale(1/a.scale)};var ad=!w||9<=Number(uc),bd=!w||9<=Number(uc),cd=w&&!tc("9"),dd="ontouchstart"in g||!!(g.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!g.navigator||!g.navigator.maxTouchPoints&&!g.navigator.msMaxTouchPoints),ed="PointerEvent"in g,fd="MSPointerEvent"in g&&!(!g.navigator||!g.navigator.msPointerEnabled),gd=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{g.addEventListener("test",
pa,b),g.removeEventListener("test",pa,b)}catch(d){}return a}();
v.Touch={};v.Touch.fl=null;v.Touch.Ce={};g.PointerEvent?v.Touch.Ce={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:dd&&(v.Touch.Ce={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});v.Lm=0;
v.Ty=function(a,b){v.Dg();a.changedTouches&&1!=a.changedTouches.length||(v.Lm=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&hd(b,a)},v.Uv))};v.Dg=function(){v.Lm&&(clearTimeout(v.Lm),v.Lm=0)};v.Touch.xf=function(){v.Touch.fl=null};v.Touch.xq=function(a){return!v.Touch.Ky(a)||v.Touch.Yw(a)};
v.Touch.vm=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};v.Touch.Yw=function(a){var b=v.Touch.vm(a);return void 0!==v.Touch.fl&&null!==v.Touch.fl?v.Touch.fl==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(v.Touch.fl=b,!0):!1};
v.Touch.Sz=function(a){if(v.i.startsWith(a.type,"touch")){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}};v.Touch.Ky=function(a){return v.i.startsWith(a.type,"touch")||v.i.startsWith(a.type,"mouse")||v.i.startsWith(a.type,"pointer")};v.Touch.Im=function(a){return v.i.startsWith(a.type,"touch")||v.i.startsWith(a.type,"pointer")};
v.Touch.Xz=function(a){var b=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)b[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};v.j={};v.j.dk="";v.j.nc=!0;v.j.to=0;v.j.yl="create";v.j.tj=v.j.yl;v.j.yn="delete";v.j.rl=v.j.yn;v.j.Vg="change";v.j.BA=v.j.Vg;v.j.wj="move";v.j.Pq=v.j.wj;v.j.nr="var_create";v.j.pr="var_delete";v.j.qr="var_rename";v.j.Bj="ui";v.j.wl="comment_create";v.j.Sq="comment_delete";v.j.Rq="comment_change";v.j.xl="comment_move";v.j.zv="finished_loading";v.j.fv=[v.j.tj,v.j.Pq,v.j.wl,v.j.xl];v.j.uj=[];v.j.Y=function(a){v.j.isEnabled()&&(v.j.uj.length||setTimeout(v.j.Qx,0),v.j.uj.push(a))};
v.j.Qx=function(){for(var a=v.j.filter(v.j.uj,!0),b=v.j.uj.length=0,d;d=a[b];b++){var e=id[d.Jb]||null;if(e){var f=d;if(f.nc)for(e.Xh.push(f),e.Lk.length=0;e.Xh.length>e.Zq&&0<=e.Zq;)e.Xh.shift();for(var h=0;d=e.gd[h];h++)d(f)}}};
v.j.filter=function(a,b){a=a.slice();b||a.reverse();for(var d=[],e=Object.create(null),f=0,h;h=a[f];f++)if(!h.Qi()){var k=[h.type,h.Mb,h.Jb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:h,index:f},d.push(h);else if(h.type==v.j.wj&&l.index==f-1)m.Ah=h.Ah,m.zh=h.zh,m.Eg=h.Eg,l.index=f;else if(h.type==v.j.Vg&&h.element==m.element&&h.name==m.name)m.newValue=h.newValue;else if(h.type!=v.j.Bj||"click"!=h.element||"commentOpen"!=m.element&&"mutatorOpen"!=m.element&&"warningOpen"!=m.element)e[k]={event:h,
index:1},d.push(h)}a=d.filter(function(n){return!n.Qi()});b||a.reverse();for(f=1;h=a[f];f++)h.type==v.j.Vg&&"mutation"==h.element&&a.unshift(a.splice(f,1)[0]);return a};v.j.$w=function(){for(var a=0,b;b=v.j.uj[a];a++)b.nc=!1};v.j.disable=function(){v.j.to++};v.j.enable=function(){v.j.to--};v.j.isEnabled=function(){return 0==v.j.to};v.j.Qb=function(){return v.j.dk};v.j.T=function(a){v.j.dk="boolean"==typeof a?a?v.i.Pe():"":a};
v.j.Us=function(a){var b=[];a=Yc(a,!1);for(var d=0,e;e=a[d];d++)b[d]=e.id;return b};
v.j.la=function(a){switch(a.type){case v.j.yl:var b=new jd(null);break;case v.j.yn:b=new kd(null);break;case v.j.Vg:b=new ld(null,"","","","");break;case v.j.wj:b=new md(null);break;case v.j.nr:b=new nd(null);break;case v.j.pr:b=new od(null);break;case v.j.qr:b=new pd(null,"");break;case v.j.Bj:b=new qd(null);break;case v.j.wl:b=new rd(null);break;case v.j.Rq:b=new sd(null);break;case v.j.xl:b=new td(null);break;case v.j.Sq:b=new ud(null);break;default:throw Error("Unknown event type.");}b.la(a);
b.Jb=(void 0).id;return b};v.j.Dx=function(a){if(a.type==v.j.wj||a.type==v.j.yl){var b=id[a.Jb]||null;if(a=vd(b,a.Mb))if(a.getParent()&&!a.getParent().disabled){b=Yc(a,!1);a=0;for(var d;d=b[a];a++)d.Ub(!0)}else if((a.N||a.R)&&!b.Rb()){do a.Ub(!1),a=Zc(a);while(a)}}};
function wd(){this.Jb=void 0;this.group=v.j.dk;this.nc=v.j.nc}wd.prototype.Ma=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};wd.prototype.la=function(a){this.group=a.group};wd.prototype.Qi=function(){return!1};wd.prototype.run=function(){};function xd(a){a=id[a.Jb]||null;if(!a)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return a};function yd(a){yd.v.constructor.call(this);this.Tg=a.ea();this.Jb=a.o.id}t(yd,wd);yd.prototype.Ma=function(){var a=yd.v.Ma.call(this);a.varId=this.Tg;return a};yd.prototype.la=function(a){yd.v.Ma.call(this);this.Tg=a.varId};function nd(a){a&&(nd.v.constructor.call(this,a),this.$h=a.type,this.Zh=a.name)}t(nd,yd);nd.prototype.type=v.j.nr;nd.prototype.Ma=function(){var a=nd.v.Ma.call(this);a.varType=this.$h;a.varName=this.Zh;return a};
nd.prototype.la=function(a){nd.v.la.call(this,a);this.$h=a.varType;this.Zh=a.varName};nd.prototype.run=function(a){var b=xd(this);a?b.$c(this.Zh,this.$h,this.Tg):b.Ie(this.Tg)};function od(a){a&&(od.v.constructor.call(this,a),this.$h=a.type,this.Zh=a.name)}t(od,yd);od.prototype.type=v.j.pr;od.prototype.Ma=function(){var a=od.v.Ma.call(this);a.varType=this.$h;a.varName=this.Zh;return a};od.prototype.la=function(a){od.v.la.call(this,a);this.$h=a.varType;this.Zh=a.varName};
od.prototype.run=function(a){var b=xd(this);a?b.Ie(this.Tg):b.$c(this.Zh,this.$h,this.Tg)};function pd(a,b){a&&(pd.v.constructor.call(this,a),this.Ip=a.name,this.Ep=b)}t(pd,yd);pd.prototype.type=v.j.qr;pd.prototype.Ma=function(){var a=pd.v.Ma.call(this);a.oldName=this.Ip;a.newName=this.Ep;return a};pd.prototype.la=function(a){pd.v.la.call(this,a);this.Ip=a.oldName;this.Ep=a.newName};pd.prototype.run=function(a){var b=xd(this);a?b.Ih(this.Tg,this.Ep):b.Ih(this.Tg,this.Ip)};
function zd(a){this.Ca={};this.o=a}c=zd.prototype;c.clear=function(){this.Ca=Object(null)};c.cn=function(a,b){var d=this.Kc(b,a.type),e=B(this.o,!1);v.j.T(!0);try{if(d&&d.ea()!=a.ea()){var f=a.type;b!=d.name&&Ad(d,b,e);for(b=0;b<e.length;b++)e[b].Pk(a.ea(),d.ea());v.j.Y(new od(a));this.Ca[f].splice(this.ck(f).indexOf(a),1)}else Ad(a,b,e)}finally{v.j.T(!1)}};c.Ih=function(a,b){var d=this.me(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.cn(d,b)};
function Ad(a,b,d){v.j.Y(new pd(a,b));a.name=b;for(b=0;b<d.length;b++)d[b].rn(a)}c.$c=function(a,b,d){var e=this.Kc(a,b);if(e){if(d&&e.ea()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.ea()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.me(d))throw Error('Variable id, "'+d+'", is already in use.');d=d||v.i.Pe();b=b||"";e=new Bd(this.o,a,b,d);this.Ca[b]?this.Ca[b].push(e):this.Ca[b]=[e];return e};
c.Ie=function(a){var b=this.me(a);if(b){var d=b.name,e=this.To(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=C(f,"NAME");d=v.g.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);v.alert(d);return}var h=this;1<e.length?(d=v.g.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),v.confirm(d,function(k){k&&h.Yl(b,e)})):h.Yl(b,e)}else console.warn("Can't delete non-existent variable: "+a)};
c.Yl=function(a,b){var d=v.j.Qb();d||v.j.T(!0);try{for(var e=0;e<b.length;e++)b[e].D(!0,!1);var f=this.Ca[a.type];b=0;for(var h;h=f[b];b++)if(h.ea()==a.ea()){f.splice(b,1);v.j.Y(new od(a));break}}finally{d||v.j.T(!1)}};c.Kc=function(a,b){if(b=this.Ca[b||""])for(var d=0,e;e=b[d];d++)if(Cd(e.name,a))return e;return null};c.me=function(a){for(var b=Object.keys(this.Ca),d=0;d<b.length;d++)for(var e=b[d],f=0,h;h=this.Ca[e][f];f++)if(h.ea()==a)return h;return null};
c.ck=function(a){return(a=this.Ca[a||""])?a.slice():[]};c.So=function(){for(var a=Object.keys(this.Ca),b=!1,d=0;d<a.length;d++)""==a[d]&&(b=!0);b||a.push("");return a};c.Qe=function(){for(var a=[],b=Object.keys(this.Ca),d=0;d<b.length;d++)a=a.concat(this.Ca[b[d]]);return a};c.To=function(a){for(var b=[],d=B(this.o,!1),e=0;e<d.length;e++){var f=d[e].Hf();if(f)for(var h=0;h<f.length;h++)f[h].ea()==a&&b.push(d[e])}return b};v.B={};v.B.i={};v.B.i.createElement=function(a){return document.createElement(a)};v.B.i.createTextNode=function(a){return document.createTextNode(a)};v.B.i.dA=function(a){return(new DOMParser).parseFromString(a,"text/xml")};v.B.i.cd=function(a){return(new XMLSerializer).serializeToString(a)};function Dd(a){Dd.v.constructor.call(this);this.Mb=a.id;this.Jb=a.o.id}t(Dd,wd);Dd.prototype.Ma=function(){var a=Dd.v.Ma.call(this);a.blockId=this.Mb;return a};Dd.prototype.la=function(a){Dd.v.Ma.call(this);this.Mb=a.blockId};function ld(a,b,d,e,f){a&&(ld.v.constructor.call(this,a),this.element=b,this.name=d,this.oldValue=e,this.newValue=f,"field"===this.element&&(v.j.disable(),Ed(a,this.newValue,this.name),v.j.enable()),Fd(a))}t(ld,Dd);v.j.nd=ld;c=ld.prototype;c.type=v.j.Vg;
c.Ma=function(){var a=ld.v.Ma.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};c.la=function(a){ld.v.la.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};c.Qi=function(){return this.oldValue==this.newValue};
c.run=function(a){var b=vd(xd(this),this.Mb);if(b)switch(b.hd&&b.hd.za(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=D(b,this.name))?(Gd(b,a),b.setValue(a)):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.Jh(a||null);break;case "collapsed":b.Ng(a);break;case "disabled":b.Ub(!a);break;case "inline":b.Id(a);break;case "mutation":var d="";b.ya&&(d=(d=b.ya())&&v.B.cd(d));if(b.Pa){a=a||"<mutation></mutation>";var e=v.B.kd("<xml>"+a+"</xml>");b.Pa(e.firstChild)}v.j.Y(new ld(b,
"mutation",null,d,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.Mb)};function jd(a){a&&(jd.v.constructor.call(this,a),this.xml=a.o.U?v.B.Vn(a):v.B.ag(a),this.qg=v.j.Us(a))}t(jd,Dd);v.j.vl=jd;jd.prototype.type=v.j.yl;jd.prototype.Ma=function(){var a=jd.v.Ma.call(this);a.xml=v.B.cd(this.xml);a.ids=this.qg;return a};
jd.prototype.la=function(a){jd.v.la.call(this,a);this.xml=v.B.kd("<xml>"+a.xml+"</xml>").firstChild;this.qg=a.ids};jd.prototype.run=function(a){var b=xd(this);if(a)a=v.B.i.createElement("xml"),a.appendChild(this.xml),v.B.Cf(a,b);else{a=0;for(var d;d=this.qg[a];a++){var e=vd(b,d);e?e.D(!1,!1):d==this.Mb&&console.warn("Can't uncreate non-existent block: "+d)}}};
function kd(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");kd.v.constructor.call(this,a);this.Pt=a.o.U?v.B.Vn(a):v.B.ag(a);this.qg=v.j.Us(a)}}t(kd,Dd);v.j.Qq=kd;kd.prototype.type=v.j.yn;kd.prototype.Ma=function(){var a=kd.v.Ma.call(this);a.ids=this.qg;return a};kd.prototype.la=function(a){kd.v.la.call(this,a);this.qg=a.ids};
kd.prototype.run=function(a){var b=xd(this);if(a){a=0;for(var d;d=this.qg[a];a++){var e=vd(b,d);e?e.D(!1,!1):d==this.Mb&&console.warn("Can't delete non-existent block: "+d)}}else a=v.B.i.createElement("xml"),a.appendChild(this.Pt),v.B.Cf(a,b)};function md(a){a&&(md.v.constructor.call(this,a),a=Hd(this),this.Nt=a.$t,this.Mt=a.mt,this.Gp=a.$r)}t(md,Dd);v.j.ei=md;c=md.prototype;c.type=v.j.wj;
c.Ma=function(){var a=md.v.Ma.call(this);this.Ah&&(a.newParentId=this.Ah);this.zh&&(a.newInputName=this.zh);this.Eg&&(a.newCoordinate=Math.round(this.Eg.x)+","+Math.round(this.Eg.y));return a};c.la=function(a){md.v.la.call(this,a);this.Ah=a.newParentId;this.zh=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.Eg=new A(parseFloat(a[0]),parseFloat(a[1])))};c.bf=function(){var a=Hd(this);this.Ah=a.$t;this.zh=a.mt;this.Eg=a.$r;Fd(vd(id[this.Jb]||null,this.Mb))};
function Hd(a){var b=vd(id[a.Jb]||null,a.Mb);a={};var d=b.getParent();if(d){a.$t=d.id;a:{for(var e=0,f;f=d.M[e];e++)if(f.connection&&E(f.connection)==b){b=f;break a}b=null}b&&(a.mt=b.name)}else a.$r=b.ua();return a}c.Qi=function(){return this.Nt==this.Ah&&this.Mt==this.zh&&yc(this.Gp,this.Eg)};
c.run=function(a){var b=xd(this),d=vd(b,this.Mb);if(d){var e=a?this.Ah:this.Nt,f=a?this.zh:this.Mt;a=a?this.Eg:this.Gp;var h=null;if(e&&(h=vd(b,e),!h)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&Id(d);if(a)f=d.ua(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.N||d.R;if(f){if(b=F(h,f))var k=b.connection}else d.type==v.ge&&(k=h.K);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.Mb)};
function Jd(a){this.Jb=a.id;this.group=v.j.dk;this.nc=!1}t(Jd,wd);Jd.prototype.type=v.j.zv;Jd.prototype.Ma=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Jb&&(a.workspaceId=this.Jb);return a};Jd.prototype.la=function(a){this.Jb=a.workspaceId;this.group=a.group};v.B.Lq=function(a,b){var d=v.B.i.createElement("xml"),e=v.B.tA(v.G.xr(a));e.hasChildNodes()&&d.appendChild(e);var f=Kd(a,!0);e=0;for(var h;h=f[e];e++)d.appendChild(h.dl(b));a=Ld(a,!0);for(e=0;f=a[e];e++)d.appendChild(v.B.Vn(f,b));return d};v.B.tA=function(a){for(var b=v.B.i.createElement("variables"),d=0,e;e=a[d];d++){var f=v.B.i.createElement("variable");f.appendChild(v.B.i.createTextNode(e.name));f.setAttribute("type",e.type);f.setAttribute("id",e.ea());b.appendChild(f)}return b};
v.B.Vn=function(a,b){var d;a.o.w&&(d=a.o.Lc());b=v.B.ag(a,b);var e=a.ua();b.setAttribute("x",Math.round(a.o.w?d-e.x:e.x));b.setAttribute("y",Math.round(e.y));return b};v.B.Nx=function(a){var b=!1;a.name&&(a.sf?b=!0:a.Xf&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),b=!0));return b?a.cl(v.B.i.createElement("field")):null};
v.B.Dw=function(a,b){for(var d=0,e;e=a.M[d];d++)for(var f=0,h;h=e.na[f];f++)(h=v.B.Nx(h))&&b.appendChild(h)};
v.B.ag=function(a,b){var d=v.B.i.createElement(a.Na?"shadow":"block");d.setAttribute("type",a.type);b||d.setAttribute("id",a.id);if(a.ya){var e=a.ya();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}v.B.Dw(a,d);var f=a.mm();f&&(e=v.B.i.createElement("comment"),e.appendChild(v.B.i.createTextNode(f)),"object"==typeof a.cb&&(e.setAttribute("pinned",a.cb.isVisible()),f=a.cb.ih(),e.setAttribute("h",f.height),e.setAttribute("w",f.width)),d.appendChild(e));a.data&&(e=v.B.i.createElement("data"),
e.appendChild(v.B.i.createTextNode(a.data)),d.appendChild(e));f=0;for(var h;h=a.M[f];f++){var k,l=!0;if(h.type!=v.mf){var m=E(h.connection);h.type==v.Da?k=v.B.i.createElement("value"):h.type==v.Ea&&(k=v.B.i.createElement("statement"));e=h.connection.we;!e||m&&m.Na||k.appendChild(v.B.Pr(e));m&&(k.appendChild(v.B.ag(m,b)),l=!1);k.setAttribute("name",h.name);l||d.appendChild(k)}}a.Gy!=a.ug&&d.setAttribute("inline",a.ug);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.disabled&&d.setAttribute("disabled",
!0);a.xc()||a.Na||d.setAttribute("deletable",!1);a.Sb()||a.Na||d.setAttribute("movable",!1);Md(a)||d.setAttribute("editable",!1);if(f=Zc(a))k=v.B.i.createElement("next"),k.appendChild(v.B.ag(f,b)),d.appendChild(k);e=a.K&&a.K.we;!e||f&&f.Na||k.appendChild(v.B.Pr(e));return d};
v.B.Pr=function(a){for(var b=a=a.cloneNode(!0),d;b;)if(b.firstChild)b=b.firstChild;else{for(;b&&!b.nextSibling;)d=b,b=b.parentNode,3==d.nodeType&&""==d.data.trim()&&b.firstChild!=d&&v.i.removeNode(d);b&&(d=b,b=b.nextSibling,3==d.nodeType&&""==d.data.trim()&&v.i.removeNode(d))}return a};v.B.cd=function(a){return v.B.i.cd(a)};
v.B.qB=function(a){a=v.B.cd(a).split("<");for(var b="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(b=b.substring(2));a[d]=b+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(b+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};v.B.kd=function(a){a=v.B.i.dA(a);if(!a||!a.documentElement||"xml"!=a.documentElement.nodeName.toLowerCase())throw TypeError("Blockly.Xml.textToDom expected an <xml> document.");return a.documentElement};
v.B.mB=function(a,b){b.rc(!1);b.clear();a=v.B.Cf(a,b);b.rc(!0);return a};
v.B.Cf=function(a,b){if(a instanceof Nd){var d=a;a=b;b=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;b.w&&(e=b.Lc());d=[];Od();var f=a.childNodes.length,h=v.j.Qb();h||v.j.T(!0);b.rc&&b.rc(!1);var k=!0;try{for(var l=0;l<f;l++){var m=a.childNodes[l],n=m.nodeName.toLowerCase();if("block"==n||"shadow"==n&&!v.j.nc){var u=v.B.zi(m,b);d.push(u.id);var x=m.hasAttribute("x")?parseInt(m.getAttribute("x"),10):10,r=m.hasAttribute("y")?parseInt(m.getAttribute("y"),
10):10;isNaN(x)||isNaN(r)||u.moveBy(b.w?e-x:x,r);k=!1}else{if("shadow"==n)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==n)if(b.U)Pd(m,b,e);else{var q=m,y=b,K=Qd(q),S=new Rd(y,K.content,K.$s,K.Zu,K.id),da=parseInt(q.getAttribute("x"),10),pb=parseInt(q.getAttribute("y"),10);isNaN(da)||isNaN(pb)||S.moveBy(da,pb);Sd(S)}else if("variables"==n){if(k)v.B.Jx(m,b);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
k=!1}}}}finally{h||v.j.T(!1),Td()}b.rc&&b.rc(!0);v.j.Y(new Jd(b));return d};v.B.jB=function(a,b){if(b.hasOwnProperty("scale")){var d=G;try{G=0;var e=Ud(b)}finally{G=d}}a=v.B.Cf(a,b);if(e&&e.height){d=e.y+e.height;var f=e.x;var h=Infinity,k=Infinity;for(e=0;e<a.length;e++){var l=vd(b,a[e]).ua();l.y<k&&(k=l.y);l.x<h&&(h=l.x)}d=d-k+10;f-=h;var m;b.w&&(m=b.Lc());for(e=0;e<a.length;e++)vd(b,a[e]).moveBy(b.w?m-f:f,d)}return a};
v.B.zi=function(a,b){if(a instanceof Nd){var d=a;a=b;b=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}v.j.disable();d=b.Qe();try{var e=v.B.zo(a,b),f=Yc(e,!1);if(b.U){Vd(e,!0);for(var h=f.length-1;0<=h;h--)f[h].jc();for(h=f.length-1;0<=h;h--)f[h].ca(!1);setTimeout(function(){e.o&&Vd(e,!1)},1);Wd(e);Xd(b)}else for(h=f.length-1;0<=h;h--)f[h].rh()}finally{v.j.enable()}if(v.j.isEnabled()){a=v.G.Ts(b,d);for(h=0;h<a.length;h++)v.j.Y(new nd(a[h]));v.j.Y(new v.j.vl(e))}return e};
v.B.Jx=function(a,b){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==Element.ELEMENT_NODE){var f=e.getAttribute("type"),h=e.getAttribute("id");e=e.textContent;if(null==f)throw Error("Variable with id, "+h+" is without a type");b.$c(e,f,h)}};
v.B.zo=function(a,b){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=b.ce(e,f);var h=null;f=0;for(var k;k=a.childNodes[f];f++)if(3!=k.nodeType){for(var l=h=null,m=0,n;n=k.childNodes[m];m++)1==n.nodeType&&("block"==n.nodeName.toLowerCase()?h=n:"shadow"==n.nodeName.toLowerCase()&&(l=n));!h&&l&&(h=l);m=k.getAttribute("name");switch(k.nodeName.toLowerCase()){case "mutation":d.Pa&&(d.Pa(k),d.jc&&d.jc());break;case "comment":d.Jh(k.textContent);
var u=k.getAttribute("pinned");u&&!d.yb&&setTimeout(function(){d.cb&&d.cb.za&&d.cb.za("true"==u)},1);h=parseInt(k.getAttribute("w"),10);k=parseInt(k.getAttribute("h"),10);!isNaN(h)&&!isNaN(k)&&d.cb&&d.cb.za&&d.cb.Mg(h,k);break;case "data":d.data=k.textContent;break;case "title":case "field":v.B.Ix(d,m,k);break;case "value":case "statement":k=F(d,m);if(!k){console.warn("Ignoring non-existent input "+m+" in block "+e);break}l&&(k.connection.we=l);if(h)if(h=v.B.zo(h,b),h.N)k.connection.connect(h.N);
else if(h.R)k.connection.connect(h.R);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&d.K&&(d.K.we=l);if(h){if(!d.K)throw TypeError("Next statement does not exist.");if(d.K.isConnected())throw TypeError("Next statement is already connected.");h=v.B.zo(h,b);if(!h.R)throw TypeError("Next block does not have previous statement.");d.K.connect(h.R)}break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(f=a.getAttribute("inline"))&&d.Id("true"==
f);(f=a.getAttribute("disabled"))&&d.Ub("true"!=f&&"disabled"!=f);(f=a.getAttribute("deletable"))&&d.oq("true"==f);(f=a.getAttribute("movable"))&&d.Lh("true"==f);(f=a.getAttribute("editable"))&&d.pq("true"==f);(f=a.getAttribute("collapsed"))&&d.Ng("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=d.Ef(!1);for(f=0;b=a[f];f++)if(!b.Na)throw TypeError("Shadow block not allowed non-shadow child.");if(d.Hf().length)throw TypeError("Shadow blocks cannot have variable references.");d.uq(!0)}return d};
v.B.Ix=function(a,b,d){var e=D(a,b);e?e.Ps(d):console.warn("Ignoring non-existent field "+b+" in block "+a.type)};v.B.Ax=function(a){for(var b=0,d;d=a.childNodes[b];b++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};g.Blockly||(g.Blockly={});g.Blockly.Xml||(g.Blockly.Xml={});g.Blockly.Xml.domToText=v.B.cd;g.Blockly.Xml.domToWorkspace=v.B.Cf;g.Blockly.Xml.textToDom=v.B.kd;g.Blockly.Xml.workspaceToDom=v.B.Lq;function Yd(a){this.Fe=a.id;this.Jb=a.o.id;this.group=v.j.dk;this.nc=v.j.nc}t(Yd,wd);Yd.prototype.Ma=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Fe&&(a.commentId=this.Fe);return a};Yd.prototype.la=function(a){this.Fe=a.commentId;this.group=a.group};function sd(a,b,d){a&&(sd.v.constructor.call(this,a),this.Lt=b,this.Tm=d)}t(sd,Yd);c=sd.prototype;c.type=v.j.Rq;c.Ma=function(){var a=sd.v.Ma.call(this);a.newContents=this.Tm;return a};
c.la=function(a){sd.v.la.call(this,a);this.Tm=a.newValue};c.Qi=function(){return this.Lt==this.Tm};c.run=function(a){var b=Zd(xd(this),this.Fe);b?b.cf(a?this.Tm:this.Lt):console.warn("Can't change non-existent comment: "+this.Fe)};function rd(a){a&&(rd.v.constructor.call(this,a),this.xml=a.dl())}t(rd,Yd);rd.prototype.type=v.j.wl;rd.prototype.Ma=function(){var a=rd.v.Ma.call(this);a.xml=v.B.cd(this.xml);return a};rd.prototype.la=function(a){rd.v.la.call(this,a);this.xml=v.B.kd("<xml>"+a.xml+"</xml>").firstChild};
rd.prototype.run=function(a){v.j.Tq(this,a)};v.j.Tq=function(a,b){var d=xd(a);b?(b=v.B.i.createElement("xml"),b.appendChild(a.xml),v.B.Cf(b,d)):(d=Zd(d,a.Fe))?d.D(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.Fe)};function ud(a){a&&(ud.v.constructor.call(this,a),this.xml=a.dl())}t(ud,Yd);ud.prototype.type=v.j.Sq;ud.prototype.Ma=function(){return ud.v.Ma.call(this)};ud.prototype.la=function(a){ud.v.la.call(this,a)};ud.prototype.run=function(a){v.j.Tq(this,!a)};
function td(a){a&&(td.v.constructor.call(this,a),this.co=a,this.Hp=a.Pd.clone(),this.yh=null)}t(td,Yd);c=td.prototype;c.bf=function(){if(!this.co)throw Error("Tried to record the new position of a comment on the same event twice.");this.yh=this.co.Pd.clone();this.co=null};c.type=v.j.xl;c.Ma=function(){var a=td.v.Ma.call(this);this.yh&&(a.newCoordinate=Math.round(this.yh.x)+","+Math.round(this.yh.y));return a};
c.la=function(a){td.v.la.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.yh=new A(parseFloat(a[0]),parseFloat(a[1])))};c.Qi=function(){return yc(this.Hp,this.yh)};c.run=function(a){var b=Zd(xd(this),this.Fe);if(b){a=a?this.yh:this.Hp;var d=b.Pd.clone();b.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.Fe)};function Rd(a,b,d,e,f){this.id=f&&!Zd(a,f)?f:v.i.Pe();a.lj.push(this);a.Rl[this.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+this.id+'"');a.Rl[this.id]=this;this.Pd=new A(0,0);this.wa=d;this.ga=e;this.o=a;this.w=a.w;this.Dk=this.Oj=!0;this.pd=b;this.kp=!0;Sd(this)}c=Rd.prototype;
c.D=function(){if(this.o){v.j.isEnabled()&&v.j.Y(new ud(this));var a=this.o;if(!v.i.Cj(a.lj,this))throw Error("Comment not present in workspace's list of top-most comments.");delete a.Rl[this.id];this.o=null}};c.Fi=function(){return this.wa};c.Lc=function(){return this.ga};c.moveBy=function(a,b){var d=new td(this);this.Pd.translate(a,b);d.bf();v.j.Y(d)};c.xc=function(){return this.Oj&&!(this.o&&this.o.options.readOnly)};c.oq=function(a){this.Oj=a};c.Sb=function(){return this.Dk&&!(this.o&&this.o.options.readOnly)};
c.Lh=function(a){this.Dk=a};c.kg=function(){return this.pd};c.cf=function(a){this.pd!=a&&(v.j.Y(new sd(this,this.pd,a)),this.pd=a)};c.dl=function(a){a=this.cl(a);a.setAttribute("x",Math.round(this.Pd.x));a.setAttribute("y",Math.round(this.Pd.y));a.setAttribute("h",this.wa);a.setAttribute("w",this.ga);return a};c.cl=function(a){var b=v.B.i.createElement("comment");a||b.setAttribute("id",this.id);b.textContent=this.kg();return b};
function Sd(a){if(v.j.isEnabled()){var b=v.j.Qb();b||v.j.T(!0);try{v.j.Y(new rd(a))}finally{b||v.j.T(!1)}}}function Qd(a){var b=a.getAttribute("h"),d=a.getAttribute("w");return{id:a.getAttribute("id"),$s:b?parseInt(b,10):100,Zu:d?parseInt(d,10):100,x:parseInt(a.getAttribute("x"),10),y:parseInt(a.getAttribute("y"),10),content:a.textContent}};function $d(){this.Cb=null}c=$d.prototype;c.types={IA:"field",AA:"block",JA:"input",bB:"output",KA:"next",cB:"previous",fB:"stack",gB:"workspace"};function ae(a,b){a.Cb=b;a.Vu()}c.Vu=function(){};c.next=function(){var a=this.Cb;if(!a)return null;(a=a.next())&&a.Sc===be&&(a=a.next()||a);a&&ae(this,a);return a};c.mk=function(){var a=this.Cb;if(!a)return null;(a=a.mk())&&a.Sc===ce&&(a=a.next()||a);a&&ae(this,a);return a};
c.ej=function(){var a=this.Cb;if(!a)return null;(a=a.ej())&&a.Sc===be&&(a=a.ej()||a);a&&ae(this,a);return a};c.Hk=function(){var a=this.Cb;if(!a)return null;(a=a.Hk())&&ae(this,a);return a};function Nd(a){this.id=v.i.Pe();id[this.id]=this;this.options=a||{};this.w=!!this.options.w;this.sd=!!this.options.sd;this.qa=this.options.qa;this.kj=[];this.lj=[];this.Rl=Object.create(null);this.gd=[];this.Xh=[];this.Lk=[];this.Un=Object.create(null);this.Sf=Object.create(null);this.Ca=new zd(this);this.dj=null;this.cursor=this.bs()}c=Nd.prototype;c.U=!1;c.jp=!1;c.Zq=1024;c.bs=function(){return new $d};c.D=function(){this.gd.length=0;this.clear();delete id[this.id]};
c.ef=function(a,b){a=a.ua();b=b.ua();return a.y+Nd.prototype.ef.offset*a.x-(b.y+Nd.prototype.ef.offset*b.x)};function de(a,b){if(!v.i.Cj(a.kj,b))throw Error("Block not present in workspace's list of top-most blocks.");}function Ld(a,b){var d=[].concat(a.kj);b&&1<d.length&&(a.ef.offset=Math.sin(v.i.bl(3)),a.w&&(a.ef.offset*=-1),d.sort(a.ef));return d}function Kd(a,b){var d=[].concat(a.lj);b&&1<d.length&&(a.ef.offset=Math.sin(v.i.bl(3)),a.w&&(a.ef.offset*=-1),d.sort(a.ef));return d}
function B(a,b){if(b){a=Ld(a,!0);b=[];for(var d=0;d<a.length;d++)b.push.apply(b,Yc(a[d],!0))}else for(b=Ld(a,!1),d=0;d<b.length;d++)b.push.apply(b,b[d].Ef(!1));return b.filter(function(e){return!e.pe})}c.clear=function(){this.jp=!0;try{var a=v.j.Qb();for(a||v.j.T(!0);this.kj.length;)this.kj[0].D();for(;this.lj.length;)this.lj[this.lj.length-1].D();a||v.j.T(!1);this.Ca.clear();this.dj&&this.dj.clear()}finally{this.jp=!1}};c.Ih=function(a,b){this.Ca.Ih(a,b)};
c.$c=function(a,b,d){return this.Ca.$c(a,b,d)};c.To=function(a){return this.Ca.To(a)};c.Ie=function(a){this.Ca.Ie(a)};c.Yl=function(a,b){this.Ca.Yl(a,b)};c.Kc=function(a,b){return this.Ca.Kc(a,b)};c.me=function(a){return this.Ca.me(a)};c.ck=function(a){return this.Ca.ck(a)};c.So=function(){return this.Ca.So()};c.Qe=function(){return this.Ca.Qe()};c.Lc=function(){return 0};c.ce=function(a,b){return new ee(this,a,b)};function fe(a){return isNaN(a.options.yp)?Infinity:a.options.yp-B(a).length}
function ge(a,b){if(!he(a))return!0;var d=0,e;for(e in b){var f=b[e];if(a.options.zp){var h=a.options.zp[e]||Infinity;var k=a.Sf[e]?a.Sf[e].slice(0):[];h-=k.length}else h=Infinity;if(f>h)return!1;d+=b[e]}return d>fe(a)?!1:!0}function he(a){return Infinity!=a.options.yp||!!a.options.zp}
c.Kq=function(a){var b=a?this.Lk:this.Xh,d=a?this.Xh:this.Lk,e=b.pop();if(e){for(var f=[e];b.length&&e.group&&e.group==b[b.length-1].group;)f.push(b.pop());for(b=0;e=f[b];b++)d.push(e);f=v.j.filter(f,a);v.j.nc=!1;try{for(b=0;e=f[b];b++)e.run(a)}finally{v.j.nc=!0}}};c.Or=function(){this.Xh.length=0;this.Lk.length=0;v.j.$w()};c.Xc=function(a){this.gd.push(a);return a};c.Kf=function(a){v.i.Cj(this.gd,a)};function vd(a,b){return a.Un[b]||null}function Zd(a,b){return a.Rl[b]||null}var id=Object.create(null);
function ie(){var a=[],b;for(b in id)a.push(id[b]);return a}Nd.prototype.clear=Nd.prototype.clear;Nd.prototype.clearUndo=Nd.prototype.Or;Nd.prototype.addChangeListener=Nd.prototype.Xc;Nd.prototype.removeChangeListener=Nd.prototype.Kf;function je(a,b,d,e,f,h){this.m=a;this.pd=b;this.Du=d;d=ke;this.m.w&&(d=-d);this.Hw=v.i.bl(d);a.Md.appendChild(this.Kj(b,!(!f||!h)));this.Bb=e;this.Kg&&le(this);f&&h||(b=this.pd.getBBox(),f=b.width+2*me,h=b.height+2*me);this.Mg(f,h);le(this);ne(this);this.Kg=!0;a.options.readOnly||(v.W(this.Dj,"mousedown",this,this.Pw),this.bc&&v.W(this.bc,"mousedown",this,this.cq))}var me=6,ke=20,oe=null,pe=null;c=je.prototype;c.bq=null;function qe(){oe&&(v.Sa(oe),oe=null);pe&&(v.Sa(pe),pe=null)}
function re(){v.Touch.xf();qe()}c.Kg=!1;c.Bb=null;c.Jf=0;c.Hg=0;c.ga=0;c.wa=0;c.Gl=!0;
c.Kj=function(a,b){this.Ad=v.i.C("g",{},null);var d={filter:"url(#"+this.m.options.Ks+")"};-1!=ab.indexOf("JavaFX")&&(d={});d=v.i.C("g",d,this.Ad);this.Wn=v.i.C("path",{},d);this.Dj=v.i.C("rect",{"class":"blocklyDraggable",x:0,y:0,rx:me,ry:me},d);b?(this.bc=v.i.C("g",{"class":this.m.w?"blocklyResizeSW":"blocklyResizeSE"},this.Ad),b=2*me,v.i.C("polygon",{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.bc),v.i.C("line",{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.bc),v.i.C("line",
{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.bc)):this.bc=null;this.Ad.appendChild(a);return this.Ad};c.X=function(){return this.Ad};function se(a,b){a.Ad.dataset&&(a.Ad.dataset.Mb=b)}c.Pw=function(a){var b=this.m.Se(a);b&&te(b,a,this)};c.jj=function(){};c.xc=function(){return!1};c.cq=function(a){ue(this);qe();v.i.Ag(a)||(this.m.nn(a,new A(this.m.w?-this.ga:this.ga,this.wa)),oe=v.W(document,"mouseup",this,re),pe=v.W(document,"mousemove",this,this.eq),v.ic());a.stopPropagation()};
c.eq=function(a){this.Gl=!1;a=ve(this.m,a);this.Mg(this.m.w?-a.x:a.x,a.y);this.m.w&&le(this)};function ue(a){var b=a.Ad.parentNode;return b.lastChild!==a.Ad?(b.appendChild(a.Ad),!0):!1}function we(a,b,d){var e=a.m.w?a.Bb.x-b.x-a.ga:b.x+a.Bb.x;b=b.y+a.Bb.y;return Math.max(0,Math.min(1,(Math.min(e+a.ga,d.wb+d.Ja)-Math.max(e,d.wb))*(Math.min(b+a.wa,d.Ib+d.Oa)-Math.max(b,d.Ib))/(a.ga*a.wa)))}function le(a){var b=a.Bb.x;b=a.m.w?b-(a.Jf+a.ga):b+a.Jf;a.moveTo(b,a.Hg+a.Bb.y)}
c.moveTo=function(a,b){this.Ad.setAttribute("transform","translate("+a+","+b+")")};c.ih=function(){return{width:this.ga,height:this.wa}};
c.Mg=function(a,b){var d=2*me;a=Math.max(a,d+45);b=Math.max(b,d+20);this.ga=a;this.wa=b;this.Dj.setAttribute("width",a);this.Dj.setAttribute("height",b);this.bc&&(this.m.w?this.bc.setAttribute("transform","translate("+2*me+","+(b-d)+") scale(-1 1)"):this.bc.setAttribute("transform","translate("+(a-d)+","+(b-d)+")"));if(this.Kg){if(this.Gl){a=this.m.rb();a.wb/=this.m.scale;a.Ja/=this.m.scale;a.Ib/=this.m.scale;a.Oa/=this.m.scale;b=-this.ga/4;if(!(this.ga>a.Ja)){if(this.m.w){d=this.Bb.x-b;var e=d-this.ga;
var f=a.wb+a.Ja,h=a.wb+xe/this.m.scale}else e=b+this.Bb.x,d=e+this.ga,h=a.wb,f=a.wb+a.Ja-xe/this.m.scale;this.m.w?e<h?b=-(h-this.Bb.x+this.ga):d>f&&(b=-(f-this.Bb.x)):e<h?b=h-this.Bb.x:d>f&&(b=f-this.Bb.x-this.ga)}e=b;b=-this.wa/4;if(!(this.wa>a.Oa)){d=this.Bb.y+b;f=d+this.wa;h=a.Ib;var k=a.Ib+a.Oa-xe/this.m.scale,l=this.Bb.y;d<h?b=h-l:f>k&&(b=k-l-this.wa)}h=b;f=this.Du.getBBox();b={x:e,y:-this.wa-25};d={x:-this.ga-30,y:h};h={x:f.width,y:h};k={x:e,y:f.height};e=f.width<f.height?h:k;f=f.width<f.height?
k:h;h=we(this,b,a);k=we(this,d,a);l=we(this,e,a);a=Math.max(h,k,l,we(this,f,a));h==a?(this.Jf=b.x,this.Hg=b.y):k==a?(this.Jf=d.x,this.Hg=d.y):l==a?(this.Jf=e.x,this.Hg=e.y):(this.Jf=f.x,this.Hg=f.y)}le(this);ne(this)}this.bq&&this.bq()};
function ne(a){var b=[],d=a.ga/2,e=a.wa/2,f=-a.Jf,h=-a.Hg;if(d==f&&e==h)b.push("M "+d+","+e);else{h-=e;f-=d;a.m.w&&(f*=-1);var k=Math.sqrt(h*h+f*f),l=Math.acos(f/k);0>h&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),u=Math.cos(m),x=a.ih();m=(x.width+x.height)/5;m=Math.min(m,x.width,x.height)/4;x=1-8/k;f=d+x*f;h=e+x*h;x=d+m*u;var r=e+m*n;d-=m*u;e-=m*n;n=l+a.Hw;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/4;k=Math.cos(n)*k/4;b.push("M"+x+","+r);b.push("C"+(x+k)+","+
(r+l)+" "+f+","+h+" "+f+","+h);b.push("C"+f+","+h+" "+(d+k)+","+(e+l)+" "+d+","+e)}b.push("z");a.Wn.setAttribute("d",b.join(" "))}c.Qc=function(a){this.Dj.setAttribute("fill",a);this.Wn.setAttribute("fill",a)};c.D=function(){qe();v.i.removeNode(this.Ad);this.Du=this.pd=this.m=this.bc=this.Dj=this.Wn=this.Ad=null};c.Rm=function(a,b){a?a.Qf(b.x,b.y):this.moveTo(b.x,b.y);this.Jf=this.m.w?this.Bb.x-b.x-this.ga:b.x-this.Bb.x;this.Hg=b.y-this.Bb.y;ne(this)};
c.ua=function(){return new A(this.Bb.x+this.Jf,this.Bb.y+this.Hg)};c.yu=function(a){this.Gl=a};function qd(a,b,d,e){qd.v.constructor.call(this);this.Mb=a?a.id:null;this.Jb=a?a.o.id:null;this.element=b;this.oldValue=d;this.newValue=e;this.nc=!1}t(qd,wd);qd.prototype.type=v.j.Bj;qd.prototype.Ma=function(){var a=qd.v.Ma.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.Mb&&(a.blockId=this.Mb);return a};qd.prototype.la=function(a){qd.v.la.call(this,a);this.element=a.element;this.newValue=a.newValue;this.Mb=a.blockId};function ye(a){this.Z=a}c=ye.prototype;c.Qr=!0;c.In=17;c.fb=null;c.qh=null;function ze(a){a.ed||(a.ed=v.i.C("g",{"class":"blocklyIconGroup"},null),a.Z.yb&&v.i.Ya(a.ed,"blocklyIconGroupReadonly"),a.Ao(a.ed),a.Z.X().appendChild(a.ed),v.W(a.ed,"mouseup",a,a.cp),a.Vf())}c.D=function(){v.i.removeNode(this.ed);this.ed=null;this.za(!1);this.Z=null};c.Vf=function(){};c.isVisible=function(){return!!this.fb};c.cp=function(a){this.Z.o.Rb()||this.Z.yb||v.i.Ag(a)||this.za(!this.isVisible())};
c.Uf=function(){this.isVisible()&&this.fb.Qc(this.Z.Ud)};function Ae(a){var b=a.Z.ua(),d=v.i.dd(a.ed);b=new A(b.x+d.x+a.In/2,b.y+d.y+a.In/2);yc(a.qh,b)||(a.qh=b,a.isVisible()&&(a=a.fb,a.Bb=b,a.Kg&&le(a)))};
function Be(a){Be.v.constructor.call(this,a);ze(this)}t(Be,ye);c=Be.prototype;c.Ba="";c.ga=160;c.wa=80;c.Ao=function(a){v.i.C("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);v.i.C("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);v.i.C("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
c.Lj=function(){this.Cd=v.i.C("foreignObject",{x:me,y:me},null);var a=document.createElementNS(v.Yf,"body");a.setAttribute("xmlns",v.Yf);a.className="blocklyMinimalBody";var b=document.createElementNS(v.Yf,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.Z.w?"RTL":"LTR");a.appendChild(b);this.Hb=b;this.Cd.appendChild(a);v.W(b,"mouseup",this,this.eA,!0,!0);v.W(b,"wheel",this,function(d){d.stopPropagation()});v.W(b,"change",this,function(){this.Ba!=b.value&&(v.j.Y(new v.j.nd(this.Z,
"comment",null,this.Ba,b.value)),this.Ba=b.value)});setTimeout(function(){b.focus()},0);return this.Cd};c.Vf=function(){this.isVisible()&&(this.za(!1),this.za(!0));ye.prototype.Vf.call(this)};c.fn=function(){if(this.isVisible()){var a=this.fb.ih(),b=2*me;this.Cd.setAttribute("width",a.width-b);this.Cd.setAttribute("height",a.height-b);this.Hb.style.width=a.width-b-4+"px";this.Hb.style.height=a.height-b-4+"px"}};
c.za=function(a){if(a!=this.isVisible())if(v.j.Y(new qd(this.Z,"commentOpen",!a,a)),!Md(this.Z)&&!this.Hb||w)Ce.prototype.za.call(this,a);else{var b=this.Eb(),d=this.ih();a?(this.fb=new je(this.Z.o,this.Lj(),this.Z.zc,this.qh,this.ga,this.wa),se(this.fb,this.Z.id),a=this.fn.bind(this),this.fb.bq=a,this.Uf()):(this.fb.D(),this.Cd=this.Hb=this.fb=null);this.Gb(b);this.Mg(d.width,d.height)}};c.eA=function(){ue(this.fb)&&this.Hb.focus()};
c.ih=function(){return this.isVisible()?this.fb.ih():{width:this.ga,height:this.wa}};c.Mg=function(a,b){this.Hb?this.fb.Mg(a,b):(this.ga=a,this.wa=b)};c.Eb=function(){return this.Hb?this.Hb.value:this.Ba};c.Gb=function(a){this.Ba!=a&&(v.j.Y(new v.j.nd(this.Z,"comment",null,this.Ba,a)),this.Ba=a);this.Hb&&(this.Hb.value=a)};c.D=function(){v.j.isEnabled()&&this.Gb("");this.Z.cb=null;ye.prototype.D.call(this)};function De(a,b){this.u=a;this.type=b;a.o.eo&&(this.Vd=a.o.eo[b],this.Xl=a.o.eo[v.ni[b]],this.Ue=!this.Vd)}c=De.prototype;c.V=null;c.uf=null;c.we=null;c.Wb=0;c.Ta=0;c.rg=!1;c.Vd=null;c.Xl=null;c.Ue=null;
c.Sl=function(a){var b=this,d=b.u,e=a.u;a.isConnected()&&a.disconnect();if(b.isConnected()){var f=E(b),h=b.we;b.we=null;if(f.Na)h=v.B.ag(f),f.D(),f=null;else if(b.type==v.Da){if(!f.N)throw Error("Orphan block does not have an output connection.");var k=Ee(e,f);k&&(f.N.connect(k),f=null)}else if(b.type==v.Ea){if(!f.R)throw Error("Orphan block does not have a previous connection.");for(k=e;k.K;){var l=Zc(k);if(l&&!l.Na)k=l;else{Fe(f.R,k.K)&&(k.K.connect(f.R),f=null);break}}}if(f&&(b.disconnect(),v.j.nc)){var m=
v.j.Qb();setTimeout(function(){f.o&&!f.getParent()&&(v.j.T(m),f.N?Ge(f.N,b):f.R&&Ge(f.R,b),v.j.T(!1))},v.ul)}b.we=h}var n;v.j.isEnabled()&&(n=new v.j.ei(e));He(b,a);e.Mh(d);n&&(n.bf(),v.j.Y(n))};c.D=function(){if(this.isConnected())throw Error("Disconnect connection before disposing of it.");this.rg&&Ie(this.Vd,this);this.Xl=this.Vd=null};function Je(a){return a.type==v.Da||a.type==v.Ea}c.isConnected=function(){return!!this.V};
function Ke(a,b){if(!b)return 3;if(Je(a))var d=a.u,e=b.u;else e=a.u,d=b.u;return d&&d==e?1:b.type!=v.ni[a.type]?2:d&&e&&d.o!==e.o?5:Fe(a,b)?d.Na&&!e.Na?6:0:4}
c.Cm=function(a){if(a.u.pe||0!=Ke(this,a))return!1;switch(a.type){case v.ge:return this.V||-1!=v.Pj.indexOf(a)?a=!1:a.V?(a=E(a),a=a.pe?!(a.R&&E(a.R)):!1):a=!0,a;case v.fe:if(a.isConnected()&&!E(a).pe||this.isConnected())return!1;break;case v.Da:if(a.isConnected()&&!E(a).Sb()&&!E(a).Na)return!1;break;case v.Ea:if(a.isConnected()&&!this.u.K&&!E(a).Na&&E(a).K)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=v.Pj.indexOf(a)?!1:!0};
c.connect=function(a){if(this.V!=a){switch(Ke(this,a)){case 0:break;case 1:throw Error("Attempted to connect a block to itself.");case 5:throw Error("Blocks not on same workspace.");case 2:throw Error("Attempt to connect incompatible types.");case 3:throw Error("Target connection is null.");case 4:throw Error("Connection checks failed. "+(this+" expected "+this.uf+", found "+a.uf));case 6:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}var b=v.j.Qb();b||v.j.T(!0);Je(this)?this.Sl(a):a.Sl(this);b||v.j.T(!1)}};function He(a,b){if(!a||!b)throw Error("Cannot connect null connections.");a.V=b;b.V=a}function Le(a,b){for(var d=!1,e=0;e<a.M.length;e++){var f=a.M[e].connection;if(f&&f.type==v.Da&&Fe(b.N,f)){if(d)return null;d=f}}return d}function Ee(a,b){for(var d;d=Le(a,b);)if(a=E(d),!a||a.Na)return d;return null}
c.disconnect=function(){var a=this.V;if(!a)throw Error("Source connection not connected.");if(a.V!=this)throw Error("Target connection not connected to source connection.");if(Je(this)){var b=this.u;var d=a.u;a=this}else b=a.u,d=this.u;var e=v.j.Qb();e||v.j.T(!0);this.uo(b,d);a.gq();e||v.j.T(!1)};c.uo=function(a,b){var d;v.j.isEnabled()&&(d=new v.j.ei(b));this.V=this.V.V=null;b.Mh(null);d&&(d.bf(),v.j.Y(d))};
c.gq=function(){var a=this.u,b=this.we;if(a.o&&b&&v.j.nc)if(a=v.B.zi(b,a.o),a.N)this.connect(a.N);else if(a.R)this.connect(a.R);else throw Error("Child block does not have output or previous statement.");};function E(a){return a.isConnected()?a.V.u:null}function Fe(a,b){if(!a.uf||!b.uf)return!0;for(var d=0;d<a.uf.length;d++)if(-1!=b.uf.indexOf(a.uf[d]))return!0;return!1}c.Qt=function(){this.isConnected()&&!Fe(this,this.V)&&Id(Je(this)?E(this):this.u)};
c.Ga=function(a){a?(Array.isArray(a)||(a=[a]),this.uf=a,this.Qt()):this.uf=null;return this};c.Kt=function(){return[]};c.Te=function(){for(var a=null,b=this.u,d=b.M,e=0;e<b.M.length;e++)if(d[e].connection===this){a=d[e];break}return a};
c.toString=function(){var a=this.u;if(a)if(a.N==this)var b="Output Connection of ";else if(a.R==this)b="Previous Connection of ";else if(a.K==this)b="Next Connection of ";else{b=null;for(var d=0,e;e=a.M[d];d++)if(e.connection==this){b=e;break}if(b)b='Input "'+b.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";return b+Me(a)};function Ne(){this.Nb=[]}function Oe(a,b){if(b.rg)throw Error("Connection already in database.");b.u.yb||(a.Nb.splice(Pe(a,b),0,b),b.rg=!0)}function Qe(a,b){if(!a.Nb.length)return-1;var d=Pe(a,b);if(d>=a.Nb.length)return-1;for(var e=b.Ta,f=d;0<=f&&a.Nb[f].Ta==e;){if(a.Nb[f]==b)return f;f--}for(;d<a.Nb.length&&a.Nb[d].Ta==e;){if(a.Nb[d]==b)return d;d++}return-1}
function Pe(a,b){if(!a.Nb.length)return 0;for(var d=0,e=a.Nb.length;d<e;){var f=Math.floor((d+e)/2);if(a.Nb[f].Ta<b.Ta)d=f+1;else if(a.Nb[f].Ta>b.Ta)e=f;else{d=f;break}}return d}function Ie(a,b){if(!b.rg)throw Error("Connection not in database.");var d=Qe(a,b);if(-1==d)throw Error("Unable to find connection in connectionDB.");b.rg=!1;a.Nb.splice(d,1)}
function Re(a,b,d){function e(n){var u=h-f[n].Wb,x=k-f[n].Ta;Math.sqrt(u*u+x*x)<=d&&m.push(f[n]);return x<d}var f=a.Nb,h=b.Wb,k=b.Ta;a=0;for(var l=b=f.length-2;a<l;)f[l].Ta<k?a=l:b=l,l=Math.floor((a+b)/2);var m=[];b=a=l;if(f.length){for(;0<=a&&e(a);)a--;do b++;while(b<f.length&&e(b))}return m};v.nB={};v.Yq=40;v.er=125;v.vv=5;v.Av=10;v.Uc=28;v.iv=v.Uc;v.ov=8;v.Kv="#000000";v.ul=250;v.xn=10;v.gv=30;v.Uv=750;v.mw=100;v.wv=!0;v.Iv=.45;v.Jv=.65;v.Vc={width:96,height:124,url:"sprites.png"};v.Mn="http://www.w3.org/2000/svg";v.Yf="http://www.w3.org/1999/xhtml";v.Da=1;v.fe=2;v.Ea=3;v.ge=4;v.mf=5;v.sj=-1;v.ql=0;v.di=1;v.FA=0;v.GA=1;v.DA=1;v.EA=2;v.ni=[];v.ni[v.Da]=v.fe;v.ni[v.fe]=v.Da;v.ni[v.Ea]=v.ge;v.ni[v.ge]=v.Ea;v.Wc=0;v.Zf=1;v.od=2;v.Be=3;v.Uq=null;v.zn=1;v.Vq=2;v.mr="VARIABLE";v.vw="VARIABLE_DYNAMIC";
v.gr="PROCEDURE";v.ir="RENAME_VARIABLE_ID";v.Wq="DELETE_VARIABLE_ID";function Se(a,b){Se.v.constructor.call(this);this.m=a;this.Oi=b||!1}t(Se,$d);c=Se.prototype;c.Gd=null;c.dg=null;c.X=function(){return this.A};
c.ba=function(){this.A=v.i.C("g",{"class":"blocklyCursor"},null);var a=this.Oi?"#4286f4":"#cc0a0a";this.mo=v.i.C("g",{width:100,height:5},this.A);this.eg=v.i.C("rect",{x:"0",y:"0",fill:a,width:100,height:5,style:"display: none;"},this.mo);this.fg=v.i.C("rect",{"class":"blocklyVerticalCursor",x:"0",y:"0",rx:"10",ry:"10",style:"display: none;",stroke:a},this.mo);this.Wl=v.i.C("path",{width:100,height:5,d:"m 0,0 "+Te+" v 5",transform:"",style:"display: none;",fill:a},this.mo);this.Oi||(v.i.C("animate",
{attributeType:"XML",attributeName:"fill",dur:"1s",values:"#cc0a0a;transparent;transparent;",repeatCount:"indefinite"},this.eg),v.i.C("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:"#cc0a0a;transparent;transparent;",repeatCount:"indefinite"},this.Wl));return this.A};function Ue(a,b){var d=a.Gd;if(b!=d){var e=a.X();b?b.appendChild(e):d&&a.m.Ra.appendChild(e);a.Gd=b}}function Ve(a,b,d,e){a.eg.setAttribute("x",b);a.eg.setAttribute("y",d);a.eg.setAttribute("width",e)}
function We(a,b,d,e,f){a.fg.setAttribute("x",b);a.fg.setAttribute("y",d);a.fg.setAttribute("width",e);a.fg.setAttribute("height",f)}function Xe(a){a.xa();a.dg.style.display=""}c.xa=function(){this.eg.style.display="none";this.fg.style.display="none";this.Wl.style.display="none"};
c.Vu=function(){if(this.Cb){var a=this.Cb;if(a.Sc===Ye)a=this.Cb.oa,this.dg=this.fg,Ue(this,a.X()),We(this,0,0,a.width,a.height),Xe(this);else if(a.oa.type===v.Da||a.Sc===ce)a=this.Cb.oa,this.dg=this.Wl,Ue(this,a.u.X()),this.Wl.setAttribute("transform","translate("+a.Ch.x+","+a.Ch.y+")"+(a.u.w?" scale(-1 1)":"")),Xe(this);else if(a.oa.type===v.Ea){a=this.Cb.oa;var b=a.Ch.y,d=a.u.Db().width;this.dg=this.eg;Ue(this,a.u.X());Ve(this,0,b,d);Xe(this)}else if(a.Sc===Ze)a=this.Cb.oa,b=a.u.Db().width,this.dg=
this.eg,Ue(this,a.u.X()),Ve(this,0,0,b),Xe(this);else if(a.Sc===$e)a=this.Cb.oa,b=a.Yc.width.baseVal.value,d=a.Yc.height.baseVal.value,this.dg=this.fg,Ue(this,a.X()),We(this,0,0,b,d),Xe(this);else if(a.Sc===af)a=this.Cb.rj,this.dg=this.eg,Ue(this,this.m.Ra),Ve(this,a.x,a.y,100),Xe(this);else if(a.Sc===bf){a=this.Cb.oa;d=a.Db();b=d.width+10;d=d.height+10;var e=-5;a.N&&(e-=G);this.dg=this.fg;Ue(this,a.X());We(this,e,-5,b,d);Xe(this)}}};c.next=function(){return this.Oi?null:Se.v.next.call(this)};
c.mk=function(){return this.Oi?null:Se.v.mk.call(this)};c.ej=function(){return this.Oi?null:Se.v.ej.call(this)};c.Hk=function(){return this.Oi?null:Se.v.Hk.call(this)};v.Va={};v.Va.vo=0;v.Va.am=null;v.Va.Gx=function(a){var b=a.o,d=a.X();b.De.play("delete");a=cf(b,d);d=d.cloneNode(!0);d.oA=a.x;d.pA=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");H(b).appendChild(d);d.Ar=d.getBBox();v.Va.Fs(d,b.w,new Date,b.scale)};v.Va.Fs=function(a,b,d,e){var f=(new Date-d)/150;1<f?v.i.removeNode(a):(a.setAttribute("transform","translate("+(a.oA+(b?-1:1)*a.Ar.width*e/2*f)+","+(a.pA+a.Ar.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(v.Va.Fs,10,a,b,d,e))};
v.Va.jx=function(a){var b=a.o,d=b.scale;b.De.play("click");if(!(1>d)){var e=cf(b,a.X());a.N?(e.x+=(a.w?3:-3)*d,e.y+=13*d):a.R&&(e.x+=(a.w?-23:23)*d,e.y+=3*d);a=v.i.C("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},H(b));v.Va.Wr(a,new Date,d)}};v.Va.Wr=function(a,b,d){var e=(new Date-b)/150;1<e?v.i.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,v.Va.vo=setTimeout(v.Va.Wr,10,a,b,d))};
v.Va.Fx=function(a){a.o.De.play("disconnect");if(!(1>a.o.scale)){var b=a.Db().height;b=Math.atan(10/b)/Math.PI*180;a.w||(b*=-1);v.Va.Es(a.X(),b,new Date)}};v.Va.Es=function(a,b,d){var e=(new Date-d)/200;1<e?a.Ph="":(a.Ph="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*b)+")",v.Va.am=a,v.Va.vo=setTimeout(v.Va.Es,10,a,b,d));a.setAttribute("transform",a.Rf+a.Ph)};v.Va.wo=function(){if(v.Va.am){clearTimeout(v.Va.vo);var a=v.Va.am;a.Ph="";a.setAttribute("transform",a.Rf);v.Va.am=null}};function df(a,b){df.v.constructor.call(this,a,b);this.Ch=new A(0,0)}t(df,De);function ef(a,b){var d=a.Wb-b.Wb;a=a.Ta-b.Ta;return Math.sqrt(d*d+a*a)}function Ge(a,b){if(!a.u.o.Rb()){var d=ff(a.u);if(!d.yb){var e=!1;if(!d.Sb()){d=ff(b.u);if(!d.Sb())return;b=a;e=!0}var f=v.selected==d;f||d.si();var h=b.Wb+v.Uc+Math.floor(Math.random()*v.xn)-a.Wb,k=b.Ta+v.Uc+Math.floor(Math.random()*v.xn)-a.Ta;e&&(k=-k);d.w&&(h=b.Wb-v.Uc-Math.floor(Math.random()*v.xn)-a.Wb);d.moveBy(h,k);f||d.Hh()}}}c=df.prototype;
c.moveTo=function(a,b){this.rg&&Ie(this.Vd,this);this.Wb=a;this.Ta=b;this.Ue||Oe(this.Vd,this)};c.moveBy=function(a,b){this.moveTo(this.Wb+a,this.Ta+b)};function gf(a,b){a.moveTo(b.x+a.Ch.x,b.y+a.Ch.y)}function hf(a,b,d){a.Ch.x=b;a.Ch.y=d}function jf(a){var b=a.V.Wb-a.Wb,d=a.V.Ta-a.Ta;if(0!=b||0!=d){a=E(a);var e=a.X();if(!e)throw Error("block is not rendered.");e=v.i.dd(e);a.X().setAttribute("transform","translate("+(e.x-b)+","+(e.y-d)+")");kf(a,-b,-d)}}
c.closest=function(a,b){var d=this.Xl;if(d.Nb.length){var e=this.Ta,f=this.Wb;this.Wb=f+b.x;this.Ta=e+b.y;var h=Pe(d,this);b=null;for(var k=a,l,m=h-1;0<=m&&Math.abs(d.Nb[m].Ta-this.Ta)<=a;)l=d.Nb[m],this.Cm(l,k)&&(b=l,k=ef(l,this)),m--;for(;h<d.Nb.length&&Math.abs(d.Nb[h].Ta-this.Ta)<=a;)l=d.Nb[h],this.Cm(l,k)&&(b=l,k=ef(l,this)),h++;this.Wb=f;this.Ta=e;a={connection:b,$m:k}}else a={connection:null,$m:a};return a};
c.ap=function(){var a=this.type==v.Da||this.type==v.fe?"m 0,0 "+Te+" v 5":"m -20,0 h 5 l 6,4 3,0 6,-4 h 5";var b=this.u.ua();De.gt=v.i.C("path",{"class":"blocklyHighlightedConnectionPath",d:a,transform:"translate("+(this.Wb-b.x)+","+(this.Ta-b.y)+")"+(this.u.w?" scale(-1 1)":"")},this.u.X())};
function lf(a){mf(a,!1);var b=[];if(a.type!=v.Da&&a.type!=v.Ea)return b;if(a=E(a)){if(a.isCollapsed()){var d=[];a.N&&d.push(a.N);a.K&&d.push(a.K);a.R&&d.push(a.R)}else d=a.Yd(!0);for(var e=0;e<d.length;e++)b.push.apply(b,lf(d[e]));b.length||(b[0]=a)}return b}function mf(a,b){(a.Ue=b)&&a.rg?Ie(a.Vd,a):b||a.rg||Oe(a.Vd,a)}function nf(a){mf(a,!0);if(a.V){a=Yc(E(a),!1);for(var b=0;b<a.length;b++){for(var d=a[b],e=d.Yd(!0),f=0;f<e.length;f++)mf(e[f],!0);d=of(d);for(f=0;f<d.length;f++)d[f].za(!1)}}}
c.Cm=function(a,b){return ef(this,a)>b?!1:df.v.Cm.call(this,a)};c.connect=function(a){df.v.connect.call(this,a);if(this.Ue||a.Ue){a=Je(this)?this:a;a.Ue?nf(a):lf(a);var b=E(a);b.X().style.display=a.Ue?"none":"block";b.U=!a.Ue}};c.disconnect=function(){var a=Je(this)?this:this.V;if(this.V&&a.Ue){lf(a);var b=E(a);b.X().style.display="block";b.U=!0;mf(a,!0)}df.v.disconnect.call(this)};c.uo=function(a,b){df.v.uo.call(this,a,b);a.U&&a.ca();b.U&&(Wd(b),b.ca())};
c.gq=function(){var a=this.u,b=this.we;if(a.o&&b&&v.j.nc){df.v.gq.call(this);b=E(this);if(!b)throw Error("Couldn't respawn the shadow block that should exist here.");b.jc();b.ca(!1);a.U&&!this.Ue&&a.ca()}};c.Kt=function(a){return Re(this.Xl,this,a)};c.Sl=function(a){df.v.Sl.call(this,a);var b=this.u;a=a.u;b.U&&Wd(b);a.U&&Wd(a);b.U&&a.U&&(this.type==v.Ea||this.type==v.ge?a.ca():b.ca())};c.Qt=function(){this.isConnected()&&!Fe(this,this.V)&&(Id(Je(this)?E(this):this.u),this.u.pb())};function pf(a){this.ye=v.selected=a;this.m=a.o;this.vh=this.pp=null;this.Bi=qf(this,this.ye);this.kc=this.gb=null;this.lf=!1;this.Wi=null;this.bp=!1;this.Mi=null;a=this.ye.Yd(!1);var b;a:{for(b=this.ye.K;b;){var d=E(b);if(!d)break a;b=d.K}b=null}b&&b!=this.ye.K&&(a.push(b),this.pp=b,this.vh=qf(this,b.u));this.Tn=a}
pf.prototype.D=function(){this.m=this.ye=null;this.Tn.length=0;this.kc=this.gb=null;v.j.disable();try{this.Bi&&(this.Bi.D(),this.Bi=null),this.vh&&(this.vh.D(),this.vh=null)}finally{v.j.enable()}this.Mi=null};
pf.prototype.update=function(a,b){var d=this.gb&&this.kc?v.iv:v.Uc;for(var e=null,f=null,h=0;h<this.Tn.length;h++){var k=this.Tn[h],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.$m)}e=(d={closest:e,local:f,$m:d},!!d.closest)&&b!=v.Vq;if((this.lf=!!b&&!this.ye.getParent()&&this.ye.xc()&&!e)||rf(this,d,a)){v.j.disable();d.closest?(a=this.gb!=d.closest,b=this.kc!=d.local,this.gb&&this.kc&&(a||b||this.lf)&&sf(this)):sf(this);this.kc=this.gb=this.Wi=null;if(!this.lf&&(a=d.closest,b=d.local,a))if(a==
this.gb||a.u.pe)console.log("trying to connect to an insertion marker");else{this.gb=a;this.kc=b;a=this.gb;b=this.kc;if(b.type==v.fe)a=a.isConnected()&&!Ee(this.ye,a.V.u);else{a:{for(d=0;e=b.u.M[d];d++)if(e.connection&&e.connection.type==v.Ea){d=e.connection;break a}d=null}a=b==d?0:!this.ye.K&&b.type==v.ge&&a.isConnected()}if(a)a=this.gb,b=this.kc,E(a)?(this.Mi=E(a),tf(E(a),!0)):b.type==v.fe&&(this.Mi=a.u,a.u.yy(a,!0)),this.bp=!0;else{d=this.kc;a=this.gb;b=this.pp&&d==this.pp?this.vh:this.Bi;a:{f=
d.u;e=b.Yd(!0);f=f.Yd(!0);if(e.length!=f.length)throw Error("Connection lists did not match in length.");for(h=0;h<f.length;h++)if(f[h]==d){d=e[h];break a}d=null}b.ca();b.U=!0;b.X().setAttribute("visibility","visible");uf(b,d,a);d.connect(a);this.Wi=d}this.gb&&this.gb.ap()}v.j.enable()}};
function qf(a,b){var d=b.type;v.j.disable();try{var e=a.m.ce(d);e.Bu(!0);if(b.ya){var f=b.ya();f&&e.Pa(f)}for(a=0;a<b.M.length;a++){var h=b.M[a];for(d=0;d<h.na.length;d++){var k=h.na[d];Ed(e,k.getValue(),k.name)}}e.jc();e.X().setAttribute("visibility","hidden")}finally{v.j.enable()}return e}
function rf(a,b,d){var e=b.local,f=b.closest;b=b.$m;if(e&&f){if(a.kc&&a.gb){if(a.gb==f&&a.kc==e)return!1;e=a.kc.Wb+d.x-a.gb.Wb;a=a.kc.Ta+d.y-a.gb.Ta;a=Math.sqrt(e*e+a*a);return!(f&&b>a-v.ov)}if(a.kc||a.gb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.kc||!a.gb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function sf(a){a.gb&&(v.i.removeNode(De.gt),delete De.gt);if(a.bp){var b=a.gb;b.type!=v.Da||b.isConnected()?tf(a.Mi,!1):a.Mi.yy(b,!1);a.Mi=null;a.bp=!1}else if(a.Wi)if(a.Wi){b=a.Wi;var d=b.u,e=d.K,f=d.R,h=d.N;h=b.type==v.Da&&!(h&&h.V);!(b!=e||f&&f.V)||h?Id(E(b),!1):b.type==v.Ea&&b!=e?(e=b.V,Id(e.u,!1),f=f?f.V:null,Id(d,!0),f&&f.connect(e)):Id(d,!0);if(b.V)throw"markerConnection_ still connected at the end of disconnectInsertionMarker";a.Wi=null;d.X().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
pf.prototype.Gi=function(){var a=[];this.Bi&&a.push(this.Bi);this.vh&&a.push(this.vh);return a};function vf(a,b){this.ib=a;this.m=b;this.Ke=new pf(this.ib);this.eh=null;this.lf=!1;this.ff=this.ib.ua();b=[];a=Yc(a,!1);for(var d=0,e;e=a[d];d++){e=of(e);for(var f=0;f<e.length;f++)b.push({location:e[f].qh,icon:e[f]})}this.dm=b}vf.prototype.D=function(){this.fc=this.m=this.ib=null;this.dm.length=0;this.Ke&&(this.Ke.D(),this.Ke=null)};
function wf(a,b,d){d=a.bj(d);a.ib.Rm(Bc(a.ff,d));for(var e=0;e<a.dm.length;e++){var f=a.dm[e],h=f.icon;f=Bc(f.location,d);h.qh=f;h.isVisible()&&(h=h.fb,h.Bb=f,h.Kg&&le(h))}a.eh=xf(a.m,b);a.Ke.update(d,a.eh);a.lf=a.Ke.lf;b=a.m.Ac;a.lf?(a.ib.Sk(!0),a.eh==v.zn&&b&&yf(b,!0)):(a.ib.Sk(!1),b&&yf(b,!1))}
function zf(a,b,d){wf(a,b,d);a.dm=[];Td();v.Va.wo();b=a.bj(d);a.ib.Jt(Bc(a.ff,b));d=a.m.Ac;a.lf?(d&&setTimeout(d.close.bind(d),100),a.Sj(),a.ib.D(!1,!0)):d&&d.close();a.lf||(kf(a.ib,b.x,b.y),a.ib.Og(!1),a.Sj(),a.Ke.gb?(b=a.Ke,b.gb&&(v.j.disable(),sf(b),v.j.enable(),b.kc.connect(b.gb),b.ye.U&&(v.Va.jx((Je(b.kc)?b.gb:b.kc).u),Af(ff(b.ye))))):a.ib.ca(),Bf(a.ib));a.m.rc(!0);(b=a.m.$)&&v.i.Fb(b.Tc,a.ib.xc()?"blocklyToolboxDelete":"blocklyToolboxGrab");v.j.T(!1)}
vf.prototype.Sj=function(){var a=new v.j.ei(this.ib);a.Gp=this.ff;a.bf();v.j.Y(a)};vf.prototype.bj=function(a){a=new A(a.x/this.m.scale,a.y/this.m.scale);this.m.Pi&&(a=a.scale(1/this.m.options.Tb.scale));return a};vf.prototype.Gi=function(){return this.Ke&&this.Ke.Gi?this.Ke.Gi():[]};function Cf(a,b,d,e,f){this.A=v.i.C("g",{"class":"blocklyComment"},null);this.A.Rf="";this.$k=v.i.C("rect",{"class":"blocklyCommentRect",x:0,y:0,rx:3,ry:3});this.A.appendChild(this.$k);this.Kg=!1;this.kf=v.i.vg()&&!!a.Lb;Cf.v.constructor.call(this,a,b,d,e,f);this.ca()}t(Cf,Rd);c=Cf.prototype;
c.D=function(){if(this.o){if(v.selected==this){this.Tf();var a=this.o;a.Ob&&a.Ob.cancel()}v.j.isEnabled()&&v.j.Y(new ud(this));v.i.removeNode(this.A);this.Sh=this.Rg=this.Cd=this.Hb=this.$k=this.A=null;this.Bf=!0;v.j.disable();Cf.v.D.call(this);v.j.enable()}};c.jc=function(){if(!this.o.U)throw TypeError("Workspace is headless.");this.o.options.readOnly||this.Co||(v.W(this.Rg,"mousedown",this,this.au),v.W(this.Sh,"mousedown",this,this.au));this.Co=!0;Df(this);this.X().parentNode||this.o.Md.appendChild(this.X())};
c.au=function(a){var b=this.o.Se(a);b&&te(b,a,this)};c.jj=function(a){if(!this.o.options.readOnly){var b=[];this.xc()&&this.Sb()&&(b.push(v.ka.ex(this)),b.push(v.ka.bx(this)));v.ka.show(a,b,this.w)}};c.select=function(){if(v.selected!=this){var a=null;if(v.selected){a=v.selected.id;v.j.disable();try{v.selected.Tf()}finally{v.j.enable()}}a=new qd(null,"selected",a,this.id);a.Jb=this.o.id;v.j.Y(a);v.selected=this;this.si()}};
c.Tf=function(){if(v.selected==this){var a=new qd(null,"selected",this.id,null);a.Jb=this.o.id;v.j.Y(a);v.selected=null;this.Hh();Ef(this)}};c.si=function(){v.i.Ya(this.A,"blocklySelected");this.qq()};c.Hh=function(){v.i.Fb(this.A,"blocklySelected");Ef(this)};
c.ua=function(){var a=0,b=0,d=this.kf?this.o.Lb.Qb():null,e=this.X();if(e){do{var f=v.i.dd(e);a+=f.x;b+=f.y;this.kf&&this.o.Lb.Wd.firstChild==e&&(f=this.o.Lb.um(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.o.Md&&e!=d)}return this.Pd=new A(a,b)};c.moveBy=function(a,b){var d=new td(this),e=this.ua();this.translate(e.x+a,e.y+b);this.Pd=new A(e.x+a,e.y+b);d.bf();v.j.Y(d);Xd(this.o)};c.translate=function(a,b){this.Pd=new A(a,b);this.X().setAttribute("transform","translate("+a+","+b+")")};
c.Sm=function(){if(this.kf){var a=this.ua();v.i.removeAttribute(this.X(),"transform");this.o.Lb.Qf(a.x,a.y);Ff(this.o.Lb,this.X())}};c.Jt=function(a){this.kf&&(this.translate(a.x,a.y),this.o.Lb.Fj(this.o.Ra))};c.Rm=function(a,b){a?a.Qf(b.x,b.y):(this.A.Rf="translate("+b.x+","+b.y+")",this.A.setAttribute("transform",this.A.Rf+this.A.Ph))};c.moveTo=function(a,b){this.translate(a,b)};
c.im=function(){var a=this.ua(),b=this.Db();if(this.w){var d=new A(a.x-b.width,a.y);a=new A(a.x,a.y+b.height)}else d=new A(a.x,a.y),a=new A(a.x+b.width,a.y+b.height);return{md:d,zd:a}};function Df(a){a.Sb()?v.i.Ya(a.A,"blocklyDraggable"):v.i.Fb(a.A,"blocklyDraggable")}c.Lh=function(a){Cf.v.Lh.call(this,a);Df(this)};c.Og=function(a){a?(a=this.X(),a.Rf="",a.Ph="",v.i.Ya(this.A,"blocklyDragging")):v.i.Fb(this.A,"blocklyDragging")};c.X=function(){return this.A};
c.kg=function(){return this.Hb?this.Hb.value:this.pd};c.cf=function(a){Cf.v.cf.call(this,a);this.Hb&&(this.Hb.value=a)};c.Sk=function(a){a?v.i.Ya(this.A,"blocklyDraggingDelete"):v.i.Fb(this.A,"blocklyDraggingDelete")};c.yu=function(){};function Pd(a,b,d){v.j.disable();try{var e=Qd(a),f=new Cf(b,e.content,e.$s,e.Zu,e.id);b.U&&(f.jc(),f.ca(!1));if(!isNaN(e.x)&&!isNaN(e.y))if(b.w){var h=d||b.Lc();f.moveBy(h-e.x,e.y)}else f.moveBy(e.x,e.y)}finally{v.j.enable()}Sd(f);return f}
c.dl=function(a){var b;this.o.w&&(b=this.o.Lc());a=this.cl(a);var d=this.ua();a.setAttribute("x",Math.round(this.o.w?b-d.x:d.x));a.setAttribute("y",Math.round(d.y));a.setAttribute("h",this.Fi());a.setAttribute("w",this.Lc());return a};function Gf(a,b){this.$b=a;this.m=b;this.eh=null;this.tn=!1;this.ff=this.$b.ua();this.gh=v.i.vg()&&b.Lb?b.Lb:null}Gf.prototype.D=function(){this.gh=this.m=this.$b=null};function Hf(a,b,d){d=a.bj(d);a.$b.Rm(a.gh,Bc(a.ff,d));a.$b.xc()&&(a.eh=xf(a.m,b),a.tn=a.eh!=v.Uq,b=a.m.Ac,a.tn?(a.$b.Sk(!0),a.eh==v.zn&&b&&yf(b,!0)):(a.$b.Sk(!1),b&&yf(b,!1)))}
function If(a,b,d){Hf(a,b,d);b=a.bj(d);b=Bc(a.ff,b);a.$b.moveTo(b.x,b.y);b=a.m.Ac;a.tn?(b&&setTimeout(b.close.bind(b),100),a.Sj(),a.$b.D(!1,!0)):b&&b.close();a.tn||(a.gh&&a.gh.Fj(a.m.Md),a.$b.Og&&a.$b.Og(!1),a.Sj());a.m.rc(!0);a.m.$&&v.i.Fb(a.m.$.Tc,a.$b.xc()?"blocklyToolboxDelete":"blocklyToolboxGrab");v.j.T(!1)}Gf.prototype.Sj=function(){if(this.$b.kp){var a=new td(this.$b);a.Hp=this.ff;a.bf();v.j.Y(a)}};
Gf.prototype.bj=function(a){a=new A(a.x/this.m.scale,a.y/this.m.scale);this.m.Pi&&(a=a.scale(1/this.m.options.Tb.scale));return a};Gf.prototype.Sm=function(){this.$b.moveTo(0,0);this.gh.Qf(this.ff.x,this.ff.y);Ff(this.gh,this.$b.X())};function Jf(a){this.m=a;this.Zz=new A(a.scrollX,a.scrollY)}Jf.prototype.D=function(){this.m=null};Jf.prototype.nn=function(){v.selected&&v.selected.Tf();Kf(this.m)};Jf.prototype.fh=function(a){a=Bc(this.Zz,a);this.m.scroll(a.x,a.y)};function Lf(a){Lf.v.constructor.call(this,a.mg());this.qc=a.qc;this.Ve=a.Ve}t(Lf,Jf);v.F={};v.F.visible=!1;v.F.ui=!1;v.F.Ov=50;v.F.It=0;v.F.Uk=0;v.F.rp=0;v.F.sp=0;v.F.aa=null;v.F.Wm=null;v.F.$q=0;v.F.cr=10;v.F.hw=10;v.F.Hv=750;v.F.Bn=5;v.F.ra=null;v.F.ba=function(){v.F.ra||(v.F.ra=document.createElement("div"),v.F.ra.className="blocklyTooltipDiv",document.body.appendChild(v.F.ra))};v.F.$g=function(a){v.uc(a,"mouseover",null,v.F.vz);v.uc(a,"mouseout",null,v.F.uz);a.addEventListener("mousemove",v.F.sz,!1)};
v.F.vz=function(a){if(!v.F.ui){for(a=a.target;"string"!=typeof a.vd&&"function"!=typeof a.vd;)a=a.vd;v.F.aa!=a&&(v.F.xa(),v.F.Wm=null,v.F.aa=a);clearTimeout(v.F.It)}};v.F.uz=function(){v.F.ui||(v.F.It=setTimeout(function(){v.F.aa=null;v.F.Wm=null;v.F.xa()},1),clearTimeout(v.F.Uk))};
v.F.sz=function(a){if(v.F.aa&&v.F.aa.vd&&!v.O.isVisible()&&!v.F.ui)if(v.F.visible){var b=v.F.rp-a.pageX;a=v.F.sp-a.pageY;Math.sqrt(b*b+a*a)>v.F.hw&&v.F.xa()}else v.F.Wm!=v.F.aa&&(clearTimeout(v.F.Uk),v.F.rp=a.pageX,v.F.sp=a.pageY,v.F.Uk=setTimeout(v.F.Vz,v.F.Hv))};v.F.xa=function(){v.F.visible&&(v.F.visible=!1,v.F.ra&&(v.F.ra.style.display="none"));v.F.Uk&&clearTimeout(v.F.Uk)};v.F.block=function(){v.F.xa();v.F.ui=!0};v.F.qA=function(){v.F.ui=!1};
v.F.Vz=function(){if(!v.F.ui&&(v.F.Wm=v.F.aa,v.F.ra)){v.F.ra.innerHTML="";for(var a=v.F.aa.vd;"function"==typeof a;)a=a();a=v.i.bv(a,v.F.Ov);a=a.split("\n");for(var b=0;b<a.length;b++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[b]));v.F.ra.appendChild(d)}a=v.F.aa.w;b=Ic();v.F.ra.style.direction=a?"rtl":"ltr";v.F.ra.style.display="block";v.F.visible=!0;d=v.F.rp;d=a?d-(v.F.$q+v.F.ra.offsetWidth):d+v.F.$q;var e=v.F.sp+v.F.cr;e+v.F.ra.offsetHeight>b.height+window.scrollY&&
(e-=v.F.ra.offsetHeight+2*v.F.cr);a?d=Math.max(v.F.Bn-window.scrollX,d):d+v.F.ra.offsetWidth>b.width+window.scrollX-2*v.F.Bn&&(d=b.width-v.F.ra.offsetWidth-2*v.F.Bn);v.F.ra.style.top=e+"px";v.F.ra.style.left=d+"px"}};function Mf(a,b){this.fc=this.tc=this.Qh=this.Rh=this.Kd=this.bd=this.Ht=null;this.ds=b;this.qk=this.uh=this.rk=this.lh=!1;this.qe=a;this.I=this.Ug=this.je=this.tf=this.Vm=this.Um=null;this.Em=this.mh=this.Fr=!1;this.et=!v.wv}c=Mf.prototype;c.D=function(){v.Touch.xf();v.F.qA();this.ds.Ob=null;this.Um&&v.Sa(this.Um);this.Vm&&v.Sa(this.Vm);this.I=this.fc=this.tc=this.Qh=this.Rh=null;this.je&&(this.je.D(),this.je=null);this.Ug&&(this.Ug.D(),this.Ug=null);this.tf&&(this.tf.D(),this.tf=null)};
function Nf(a,b){a.bd=Ac(new A(b.clientX,b.clientY),a.Ht);if(a.lh)var d=!1;else d=a.bd,a.lh=Math.sqrt(d.x*d.x+d.y*d.y)>(a.I?v.Av:v.vv),d=a.lh;if(d){if(a.Fr)throw Error("updateIsDragging_ should only be called once per gesture.");a.Fr=!0;if(a.Kd){a.qk=!0;a.tf=new Gf(a.Kd,a.fc);d=a.tf;v.j.Qb()||v.j.T(!0);d.m.rc(!1);d.$b.yu(!1);d.gh&&d.Sm();d.$b.Og&&d.$b.Og(!0);var e=d.m.$;e&&v.i.Ya(e.Tc,d.$b.xc()?"blocklyToolboxDelete":"blocklyToolboxGrab");Hf(a.tf,a.qe,a.bd);d=!0}else d=!1;if(!d){if(a.tc)if(a.I?(a.I.rt(a.tc)?
!Of(a.I)||a.I.st(a.bd)?(a.fc=a.I.Aa,Pf(a.fc),v.j.Qb()||v.j.T(!0),a.Qh=null,a.tc=Qf(a.I,a.tc),a.tc.select(),d=!0):d=!1:d=!1,a.uh=d):a.tc.Sb()&&(a.uh=!0),a.uh){a.je=new vf(a.tc,a.fc);d=a.je;e=a.bd;var f=a.et;v.j.Qb()||v.j.T(!0);d.m.Pi&&Af(d.ib);Od();d.m.rc(!1);v.Va.wo();if(d.ib.getParent()||f&&d.ib.K&&E(d.ib.K))Id(d.ib,f),e=d.bj(e),e=Bc(d.ff,e),d.ib.translate(e.x,e.y),v.Va.Fx(d.ib);d.ib.Og(!0);d.ib.Sm();(e=d.m.$)&&v.i.Ya(e.Tc,d.ib.xc()?"blocklyToolboxDelete":"blocklyToolboxGrab");wf(a.je,a.qe,a.bd);
d=!0}else d=!1;else d=!1;if(d=!d)if(a.I)d=Of(a.I);else if(d=a.fc)d=a.fc,d=d.options.lc&&d.options.lc.fh;d&&(a.Ug=a.I?new Lf(a.I):new Jf(a.fc),a.rk=!0,a.Ug.nn())}v.Dg()}a.qe=b}
c.xo=function(a){v.i.Hm(a)?this.cancel():(this.mh=!0,v.Va.wo(),Pf(this.fc),this.fc.Pi&&this.fc.resize(),Rf(this.fc),this.qe=a,v.ic(!!this.I),v.F.block(),this.tc&&(this.tc.select(),!this.tc.yb&&a.shiftKey&&v.s.gm()),v.i.Ag(a)?hd(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||v.Ty(a,this),this.Ht=new A(a.clientX,a.clientY),this.et=a.altKey||a.ctrlKey||a.metaKey,this.$g(a)))};
c.$g=function(a){this.Um=v.W(document,"mousemove",null,this.gk.bind(this));this.Vm=v.W(document,"mouseup",null,this.xm.bind(this));a.preventDefault();a.stopPropagation()};c.gk=function(a){Nf(this,a);this.rk?this.Ug.fh(this.bd):this.uh?wf(this.je,this.qe,this.bd):this.qk&&Hf(this.tf,this.qe,this.bd);a.preventDefault();a.stopPropagation()};
c.xm=function(a){Nf(this,a);v.Dg();if(this.Em)console.log("Trying to end a gesture recursively.");else{this.Em=!0;if(this.qk)If(this.tf,a,this.bd);else if(this.uh)zf(this.je,a,this.bd);else if(this.rk){var b=this.Ug;b.fh(this.bd);Sf(b.m)}else if(this.Kd&&!this.lh)this.Kd.qq&&this.Kd.qq(),this.Kd.select&&this.Kd.select();else if(Tf(this))this.Rh.xe(),Uf(this);else if(this.Qh&&!this.lh&&!Tf(this))this.I&&this.I.ti?this.tc.disabled||(v.j.Qb()||v.j.T(!0),Bf(Qf(this.I,this.tc))):v.j.Y(new qd(this.Qh,"click",
void 0,void 0)),Uf(this),v.j.T(!1);else if(!(this.Qh||this.Kd||this.Rh||this.lh))if(v.Ti=!1,b=this.ds,b.cursor.xa(),a.shiftKey){var d=v.i.Pz(b,new A(a.clientX,a.clientY));d=Vf(b,d);ae(b.cursor,d);v.Ti=!0}else v.selected&&v.selected.Tf();a.preventDefault();a.stopPropagation();this.D()}};c.cancel=function(){if(!this.Em){v.Dg();if(this.qk)If(this.tf,this.qe,this.bd);else if(this.uh)zf(this.je,this.qe,this.bd);else if(this.rk){var a=this.Ug;a.fh(this.bd);Sf(a.m)}this.D()}};
function hd(a,b){a.tc?(Uf(a),v.ic(a.I),a.tc.jj(b)):a.Kd?a.Kd.jj(b):a.fc&&!a.I&&(v.ic(),a.fc.jj(b));b.preventDefault();b.stopPropagation();a.D()}function Wf(a,b,d){if(a.mh)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.fc||(a.fc=d);a.qe=b;a.xo(b)}function Xf(a,b,d){if(a.mh)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.I||(a.I=d);Wf(a,b,d.mg())}
function te(a,b,d){if(a.mh)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");a.Kd||(a.Kd=d);a.qe=b}function Uf(a){a.tc&&!a.I&&Af(a.tc)}function Yf(a,b){a.Qh||a.Kd||(a.Qh=b,b.yb&&b!=ff(b)?Zf(a,ff(b)):Zf(a,b))}function Zf(a,b){b.Na?Zf(a,b.getParent()):a.tc=b}function Tf(a){return(a.Rh?$f(a.Rh):!1)&&!a.lh&&(!a.I||!a.I.ti)}c.Rb=function(){return this.rk||this.uh||this.qk};c.Gi=function(){return this.je?this.je.Gi():[]};
function ag(){for(var a=ie(),b=0,d;d=a[b];b++)if(d.Ob)return!0;return!1};function bg(a,b){this.Hi=a;this.Bq=b.spacing;this.zt=b.length;this.Ny=(this.up=a.firstChild)&&this.up.nextSibling;this.Wz=b.snap}bg.prototype.Lg=1;bg.prototype.D=function(){this.Hi=null};bg.prototype.update=function(a){this.Lg=a;var b=this.Bq*a||100;this.Hi.setAttribute("width",b);this.Hi.setAttribute("height",b);b=Math.floor(this.Bq/2)+.5;var d=b-this.zt/2,e=b+this.zt/2;b*=a;d*=a;e*=a;cg(this.up,a,d,e,b,b);cg(this.Ny,a,b,b,d,e)};
function cg(a,b,d,e,f,h){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",h))}bg.prototype.moveTo=function(a,b){this.Hi.setAttribute("x",a);this.Hi.setAttribute("y",b);(w||hc)&&this.update(this.Lg)};v.lr={};
v.lr.rv=new function(){this.Ow={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};this.Sw={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},
math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}}};function dg(a){var b=!!a.readOnly;if(b)var d=null,e=!1,f=!1,h=!1,k=!1,l=!1,m=!1;else{d=eg(a.toolbox);e=!(!d||!d.getElementsByTagName("category").length);f=a.trashcan;void 0===f&&(f=e);var n=a.maxTrashcanContents;f?void 0===n&&(n=32):n=0;h=a.collapse;void 0===h&&(h=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var u=!!a.rtl,x=a.horizontalLayout;void 0===x&&(x=!1);var r=a.toolboxPosition;r="end"===r?!1:!0;r=x?r?v.Wc:v.Zf:r==u?v.Be:v.od;var q=a.css;void 0===
q&&(q=!0);var y="https://blockly-demo.appspot.com/static/media/";a.media?y=a.media:a.path&&(y=a.path+"media/");var K=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,S=a.theme||v.lr.rv;this.w=u;this.jd=K;this.collapse=h;this.Hj=k;this.disable=l;this.readOnly=b;this.yp=a.maxBlocks||Infinity;this.zp=a.maxInstances;this.te=y;this.bt=e;b=a.move||{};h={};h.scrollbars=void 0===b.scrollbars&&void 0===a.scrollbars?e:!!b.scrollbars||!!a.scrollbars;h.ai=h.scrollbars&&void 0!==b.wheel?!!b.wheel:!1;h.fh=h.scrollbars?
void 0===b.drag?!0:!!b.drag:!1;this.lc=h;this.dt=f;this.Yi=n;this.vy=m;this.uy=q;this.sd=x;this.Ze=d;d=a.grid||{};e={};e.spacing=parseFloat(d.spacing)||0;e.Ql=d.colour||"#888";e.length=parseFloat(d.length)||1;e.CB=0<e.spacing&&!!d.snap;this.Ys=e;a=a.zoom||{};d={};d.controls=void 0===a.controls?!1:!!a.controls;d.ai=void 0===a.wheel?!1:!!a.wheel;d.Iu=void 0===a.startScale?1:parseFloat(a.startScale);d.Ak=void 0===a.maxScale?3:parseFloat(a.maxScale);d.Bk=void 0===a.minScale?.3:parseFloat(a.minScale);
d.Oz=void 0===a.scaleSpeed?1.2:parseFloat(a.scaleSpeed);this.eb=d;this.qa=r;this.gA=S}dg.prototype.Tb=null;dg.prototype.Mf=null;dg.prototype.rb=null;function eg(a){a?("string"!=typeof a&&("undefined"==typeof XSLTProcessor&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=v.B.kd(a))):a=null;return a};function fg(a){this.m=a;this.Fd=new gg(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.Od=new gg(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.Jj=v.i.C("rect",{height:xe,width:xe,"class":"blocklyScrollbarBackground"},null);v.i.sh(this.Jj,a.Md)}fg.prototype.mb=null;fg.prototype.D=function(){v.i.removeNode(this.Jj);this.mb=this.m=this.Jj=null;this.Fd.D();this.Fd=null;this.Od.D();this.Od=null};
fg.prototype.resize=function(){var a=this.m.rb();if(a){var b=!1,d=!1;this.mb&&this.mb.Ja==a.Ja&&this.mb.Oa==a.Oa&&this.mb.Ab==a.Ab&&this.mb.zb==a.zb?(this.mb&&this.mb.Zc==a.Zc&&this.mb.wb==a.wb&&this.mb.xb==a.xb||(b=!0),this.mb&&this.mb.Hc==a.Hc&&this.mb.Ib==a.Ib&&this.mb.qb==a.qb||(d=!0)):d=b=!0;b&&this.Fd.resize(a);d&&this.Od.resize(a);this.mb&&this.mb.Ja==a.Ja&&this.mb.zb==a.zb||this.Jj.setAttribute("x",this.Od.Oc.x);this.mb&&this.mb.Oa==a.Oa&&this.mb.Ab==a.Ab||this.Jj.setAttribute("y",this.Fd.Oc.y);
this.mb=a}};fg.prototype.set=function(a,b){var d={};a*=this.Fd.mc;b*=this.Od.mc;var e=this.Od.ee,f=a/this.Fd.ee;d.x=isNaN(f)?0:f;e=b/e;d.y=isNaN(e)?0:e;this.m.Mf(d);hg(this.Fd,a);hg(this.Od,b)};
function gg(a,b,d,e){this.m=a;this.aj=d||!1;this.ph=b;this.mb=null;this.Kj(e);this.Oc=new A(0,0);a=xe;b?(this.Ld.setAttribute("height",a),this.$e.setAttribute("height",a),this.hf.setAttribute("height",a-5),this.hf.setAttribute("y",2.5),this.wk="width",this.bu="x"):(this.Ld.setAttribute("width",a),this.$e.setAttribute("width",a),this.hf.setAttribute("width",a-5),this.hf.setAttribute("x",2.5),this.wk="height",this.bu="y");this.Vt=v.W(this.Ld,"mousedown",this,this.pz);this.Wt=v.W(this.hf,"mousedown",
this,this.qz)}var ig,jg;c=gg.prototype;c.Np=new A(0,0);c.Hu=0;c.ee=0;c.og=0;c.hk=0;c.Bg=!0;c.ah=!0;var xe=15;dd&&(xe=25);gg.prototype.D=function(){kg();v.Sa(this.Vt);this.Vt=null;v.Sa(this.Wt);this.Wt=null;v.i.removeNode(this.$e);this.m=this.hf=this.Ld=this.A=this.$e=null};function hg(a,b){a.hk=b;a.hf.setAttribute(a.bu,a.hk)}function lg(a,b){a.ee=b;a.$e.setAttribute(a.wk,a.ee);a.Ld.setAttribute(a.wk,a.ee)}fg.prototype.Kh=function(a){this.Fd.Kh(a);this.Od.Kh(a)};
function mg(a,b,d){a.Oc.x=b;a.Oc.y=d;v.i.Rk(a.$e,"translate("+(a.Oc.x+a.Np.x)+"px,"+(a.Oc.y+a.Np.y)+"px)")}c=gg.prototype;c.resize=function(a){if(!a&&(a=this.m.rb(),!a))return;var b=this.mb;a&&b&&a.Ja==b.Ja&&a.Oa==b.Oa&&a.wb==b.wb&&a.Ib==b.Ib&&a.Ab==b.Ab&&a.zb==b.zb&&a.Zc==b.Zc&&a.Hc==b.Hc&&a.xb==b.xb&&a.qb==b.qb||(this.mb=a,this.ph?ng(this,a):og(this,a),pg(this))};function ng(a,b){var d=b.Ja-1;a.aj&&(d-=xe);lg(a,Math.max(0,d));d=b.zb+.5;a.aj&&a.m.w&&(d+=xe);mg(a,d,b.Ab+b.Oa-xe-.5);qg(a,b)}
function qg(a,b){a.aj||a.za(a.ee<b.Zc);a.mc=a.ee/b.Zc;if(-Infinity==a.mc||Infinity==a.mc||isNaN(a.mc))a.mc=0;a.og=Math.max(0,b.Ja*a.mc);a.hf.setAttribute(a.wk,a.og);hg(a,rg(a,(b.wb-b.xb)*a.mc))}function og(a,b){var d=b.Oa-1;a.aj&&(d-=xe);lg(a,Math.max(0,d));d=b.zb+.5;a.m.w||(d+=b.Ja-xe-1);mg(a,d,b.Ab+.5);sg(a,b)}
function sg(a,b){a.aj||a.za(a.ee<b.Hc);a.mc=a.ee/b.Hc;if(-Infinity==a.mc||Infinity==a.mc||isNaN(a.mc))a.mc=0;a.og=Math.max(0,b.Oa*a.mc);a.hf.setAttribute(a.wk,a.og);hg(a,rg(a,(b.Ib-b.qb)*a.mc))}
c.Kj=function(a){var b="blocklyScrollbar"+(this.ph?"Horizontal":"Vertical");a&&(b+=" "+a);this.$e=v.i.C("svg",{"class":b},null);this.A=v.i.C("g",{},this.$e);this.Ld=v.i.C("rect",{"class":"blocklyScrollbarBackground"},this.A);a=Math.floor((xe-5)/2);this.hf=v.i.C("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.A);v.i.sh(this.$e,H(this.m))};c.isVisible=function(){return this.Bg};c.Kh=function(a){var b=a!=this.ah;this.ah=a;b&&this.jl()};
c.za=function(a){var b=a!=this.isVisible();if(this.aj)throw Error("Unable to toggle visibility of paired scrollbars.");this.Bg=a;b&&this.jl()};c.jl=function(){this.ah&&this.isVisible()?this.$e.setAttribute("display","block"):this.$e.setAttribute("display","none")};
c.pz=function(a){Rf(this.m);v.Touch.xf();kg();if(v.i.Ag(a))a.stopPropagation();else{var b=v.i.Ck(a,H(this.m),tg(this.m));b=this.ph?b.x:b.y;var d=v.i.Yj(this.hf);d=this.ph?d.x:d.y;var e=this.hk,f=.95*this.og;b<=d?e-=f:b>=d+this.og&&(e+=f);hg(this,rg(this,e));pg(this);a.stopPropagation();a.preventDefault()}};
c.qz=function(a){Rf(this.m);kg();v.i.Ag(a)?a.stopPropagation():(this.Yz=this.hk,Kf(this.m),this.Hu=this.ph?a.clientX:a.clientY,ig=v.W(document,"mouseup",this,this.wz),jg=v.W(document,"mousemove",this,this.rz),a.stopPropagation(),a.preventDefault())};c.rz=function(a){hg(this,rg(this,this.Yz+((this.ph?a.clientX:a.clientY)-this.Hu)));pg(this)};c.wz=function(){Sf(this.m);v.Touch.xf();kg()};function kg(){v.ic(!0);ig&&(v.Sa(ig),ig=null);jg&&(v.Sa(jg),jg=null)}
function rg(a,b){return b=0>=b||isNaN(b)||a.ee<a.og?0:Math.min(b,a.ee-a.og)}function pg(a){var b=a.hk/a.ee;isNaN(b)&&(b=0);var d={};a.ph?d.x=b:d.y=b;a.m.Mf(d)}c.set=function(a){hg(this,rg(this,a*this.mc));pg(this)};function ug(a,b){ug.v.constructor.call(this,a,b);this.Fm=!1;this.Td={};this.Gu=this.Kk=0;this.Mp=null}t(ug,Mf);c=ug.prototype;c.xo=function(a){ug.v.xo.call(this,a);!this.Em&&v.Touch.Im(a)&&vg(this,a)};c.$g=function(a){this.Mp=v.W(document,"mousedown",null,this.qy.bind(this),!0);this.Um=v.W(document,"mousemove",null,this.gk.bind(this),!0);this.Vm=v.W(document,"mouseup",null,this.xm.bind(this),!0);a.preventDefault();a.stopPropagation()};
c.qy=function(a){!this.Rb()&&v.Touch.Im(a)&&(vg(this,a),this.Fm&&v.Dg())};c.gk=function(a){if(this.Rb())v.Touch.xq(a)&&ug.v.gk.call(this,a);else if(this.Fm){if(v.Touch.Im(a)){this.Td[v.Touch.vm(a)]=wg(this,a);var b=Object.keys(this.Td);if(2==b.length){b=zc(this.Td[b[0]],this.Td[b[1]])/this.Gu;if(0<this.Kk&&Infinity>this.Kk){var d=b-this.Kk;d=0<d?5*d:6*d;var e=this.fc,f=v.i.Ck(a,H(e),tg(e));e.zoom(f.x,f.y,d)}this.Kk=b;a.preventDefault()}}v.Dg()}else ug.v.gk.call(this,a)};
c.xm=function(a){if(v.Touch.Im(a)&&!this.Rb()){var b=v.Touch.vm(a);this.Td[b]&&delete this.Td[b];2>Object.keys(this.Td).length&&(this.Td={},this.Kk=0)}!this.Fm||this.Rb()?v.Touch.xq(a)&&ug.v.xm.call(this,a):(a.preventDefault(),a.stopPropagation(),this.D())};c.D=function(){ug.v.D.call(this);this.Mp&&v.Sa(this.Mp)};function vg(a,b){a.Td[v.Touch.vm(b)]=wg(a,b);var d=Object.keys(a.Td);2==d.length&&(a.Gu=zc(a.Td[d[0]],a.Td[d[1]]),a.Fm=!0,b.preventDefault())}
function wg(a,b){return a.fc?new A(b.pageX?b.pageX:b.changedTouches[0].pageX,b.pageY?b.pageY:b.changedTouches[0].pageY):null};function xg(a,b,d,e){this.top=a;this.right=b;this.bottom=d;this.left=e}c=xg.prototype;c.Lc=function(){return this.right-this.left};c.Fi=function(){return this.bottom-this.top};c.clone=function(){return new xg(this.top,this.right,this.bottom,this.left)};c.contains=function(a){return this&&a?a instanceof xg?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
c.expand=function(a,b,d,e){va(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(d),this.left-=Number(e));return this};c.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
c.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};c.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};c.translate=function(a,b){a instanceof A?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,na(b)&&(this.top+=b,this.bottom+=b));return this};
c.scale=function(a,b){b=na(b)?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};function yg(a,b,d,e){this.left=a;this.top=b;this.width=d;this.height=e}c=yg.prototype;c.clone=function(){return new yg(this.left,this.top,this.width,this.height)};c.contains=function(a){return a instanceof A?a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height:this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height};c.ak=function(){return new Cc(this.width,this.height)};
c.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};c.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};c.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
c.translate=function(a,b){a instanceof A?(this.left+=a.x,this.top+=a.y):(this.left+=a,na(b)&&(this.top+=b));return this};c.scale=function(a,b){b=na(b)?b:a;this.left*=a;this.width*=a;this.top*=b;this.height*=b;return this};function zg(a){this.m=a;this.Zo=!1;this.wi=[];0>=this.m.options.Yi||(a={scrollbars:!0,Af:this.m.options.Af,Tb:this.m,w:this.m.w,jd:this.m.options.jd},this.m.sd?(a.qa=this.m.qa==v.Wc?v.Zf:v.Wc,this.I=new Ag(a)):(a.qa=this.m.qa==v.Be?v.od:v.Be,this.I=new Bg(a)),this.m.Xc(Cg(this)))}c=zg.prototype;c.Zg=47;c.tl=44;c.ji=16;c.Cn=20;c.vj=20;c.Bl=10;c.Jn=0;c.Kn=32;c.Gv=.1;c.Ri=!1;c.Pm=0;c.A=null;c.pn=null;c.tp=0;c.Cg=0;c.vk=0;c.mj=0;
c.ba=function(){this.A=v.i.C("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=v.i.C("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.A);v.i.C("rect",{width:this.Zg,height:this.tl,y:this.ji},b);var d=v.i.C("image",{width:v.Vc.width,x:-this.Jn,height:v.Vc.height,y:-this.Kn,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.A);d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.m.options.te+v.Vc.url);b=v.i.C("clipPath",{id:"blocklyTrashLidClipPath"+
a},this.A);v.i.C("rect",{width:this.Zg,height:this.ji},b);this.pn=v.i.C("image",{width:v.Vc.width,x:-this.Jn,height:v.Vc.height,y:-this.Kn,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.A);this.pn.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.m.options.te+v.Vc.url);v.W(this.A,"mouseup",this,this.click);v.uc(d,"mouseover",this,this.Zy);v.uc(d,"mouseout",this,this.Yy);this.Rn();return this.A};
c.J=function(a){0<this.m.options.Yi&&(v.i.sh(this.I.ba("svg"),H(this.m)),this.I.J(this.m),this.I.rt=function(){return!0});this.Wf=this.Cn+a;yf(this,!1);return this.Wf+this.tl+this.ji};c.D=function(){this.A&&(v.i.removeNode(this.A),this.A=null);this.m=this.pn=null;clearTimeout(this.tp)};
c.position=function(){if(this.Wf){var a=this.m.rb();a&&(this.vk=a.qa==v.od||this.m.sd&&!this.m.w?a.Ja+a.zb-this.Zg-this.vj-xe:this.vj+xe,this.mj=a.qa==v.Zf?this.Wf:a.Oa+a.Ab-(this.tl+this.ji)-this.Wf,this.A.setAttribute("transform","translate("+this.vk+","+this.mj+")"))}};c.Di=function(){if(!this.A)return null;var a=this.A.getBoundingClientRect();return new yg(a.left+this.Jn-this.Bl,a.top+this.Kn-this.Bl,this.Zg+2*this.Bl,this.ji+this.tl+2*this.Bl)};
function yf(a,b){a.Ri!=b&&(clearTimeout(a.tp),a.Ri=b,a.Rn())}c.Rn=function(){this.Cg+=this.Ri?.2:-.2;this.Cg=Math.min(Math.max(this.Cg,this.Pm),1);Dg(this,45*this.Cg);this.A.style.opacity=.4+.4*this.Cg;this.Cg>this.Pm&&1>this.Cg&&(this.tp=setTimeout(this.Rn.bind(this),20))};function Dg(a,b){var d=a.m.qa==v.Be||a.m.sd&&a.m.w;a.pn.setAttribute("transform","rotate("+(d?-b:b)+","+(d?4:a.Zg-4)+","+(a.ji-2)+")")}c.close=function(){yf(this,!1)};
c.click=function(){if(this.Zo){for(var a=[],b=0,d;d=this.wi[b];b++)a[b]=v.B.kd(d).firstChild;this.I.show(a)}};c.Zy=function(){this.Zo&&yf(this,!0)};c.Yy=function(){yf(this,!1)};
function Cg(a){return function(b){if(!(0>=a.m.options.Yi)&&b.type==v.j.rl){for(var d=b=b.Pt.cloneNode(!0);d;){d.removeAttribute&&(d.removeAttribute("x"),d.removeAttribute("y"),d.removeAttribute("id"));var e=d.firstChild||d.nextSibling;if(!e)for(e=d.parentNode;e;){if(e.nextSibling){e=e.nextSibling;break}e=e.parentNode}d=e}b="<xml>"+v.B.cd(b)+"</xml>";-1==a.wi.indexOf(b)&&(a.wi.unshift(b),a.wi.length>a.m.options.Yi&&a.wi.splice(a.m.options.Yi,a.wi.length-a.m.options.Yi),a.Zo=!0,a.Pm=a.Gv,Dg(a,45*a.Pm))}}}
;function Bd(a,b,d,e){this.o=a;this.name=b;this.type=d||"";this.Ni=e||v.i.Pe();v.j.Y(new nd(this))}Bd.prototype.ea=function(){return this.Ni};function Eg(a,b){a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a==b?0:1};v.G={};v.G.ab=v.mr;v.G.xr=function(a){var b=B(a,!1);a=Object.create(null);for(var d=0;d<b.length;d++){var e=b[d].Hf();if(e)for(var f=0;f<e.length;f++){var h=e[f],k=h.ea();k&&(a[k]=h)}}b=[];for(k in a)b.push(a[k]);return b};v.G.iB=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};v.G.Oq={};
v.G.Cw=function(a){a=B(a,!1);for(var b=Object.create(null),d=0,e;e=a[d];d++){var f=e.uB;!f&&e.Wx&&(f=e.Wx,v.G.Oq[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),v.G.Oq[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)b[e[f]]=!0}return Object.keys(b)};
v.G.jg=function(a){var b=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");Fg(a,"CREATE_VARIABLE",function(e){v.G.xi(e.Aa)});b.push(d);a=v.G.Go(a);return b=b.concat(a)};
v.G.Go=function(a){a=a.ck("");var b=[];if(0<a.length){var d=v.G.Wj(a[a.length-1]);if(v.H.variables_set){var e=v.H.math_change?8:24;e=v.B.kd('<xml><block type="variables_set" gap="'+e+'">'+d+"</block></xml>").firstChild;b.push(e)}v.H.math_change&&(e=v.H.variables_get?20:8,e=v.B.kd('<xml><block type="math_change" gap="'+e+'">'+d+'<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></xml>').firstChild,b.push(e));if(v.H.variables_get)for(a.sort(Eg),d=0;e=
a[d];d++)e='<xml><block type="variables_get" gap="8">'+v.G.Wj(e)+"</block></xml>",e=v.B.kd(e).firstChild,b.push(e)}return b};v.G.Rs=function(a){a=a.Qe();var b="";if(a.length)for(var d=1,e=0,f="ijkmnopqrstuvwxyzabcdefgh".charAt(e);!b;){for(var h=!1,k=0;k<a.length;k++)if(a[k].name.toLowerCase()==f){h=!0;break}h?(e++,25==e&&(e=0,d++),f="ijkmnopqrstuvwxyzabcdefgh".charAt(e),1<d&&(f+=d)):b=f}else b="i";return b};
v.G.xi=function(a,b,d){function e(h){v.G.lu(v.g.NEW_VARIABLE_TITLE,h,function(k){if(k){var l=v.G.az(k,a);if(l){var m=k.toLowerCase();if(l.type==f)var n=v.g.VARIABLE_ALREADY_EXISTS.replace("%1",m);else n=v.g.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,n=n.replace("%1",m).replace("%2",l.type);v.alert(n,function(){e(k)})}else a.$c(k,f),b&&b(k)}else b&&b(null)})}var f=d||"";e("")};oa("Blockly.Variables.createVariableButtonHandler",v.G.xi);v.G.$c=v.G.xi;oa("Blockly.Variables.createVariable",v.G.$c);
v.G.cn=function(a,b){function d(e){var f=v.g.RENAME_VARIABLE_TITLE.replace("%1",b.name);v.G.lu(f,e,function(h){if(h){var k=v.G.bz(h,b.type,a);k?(k=v.g.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",h.toLowerCase()).replace("%2",k.type),v.alert(k,function(){d(h)})):a.Ih(b.ea(),h)}})}d("")};v.G.lu=function(a,b,d){v.prompt(a,b,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),e==v.g.RENAME_VARIABLE||e==v.g.NEW_VARIABLE)&&(e=null);d(e)})};
v.G.bz=function(a,b,d){d=d.Ca.Qe();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=b)return f;return null};v.G.az=function(a,b){b=b.Ca.Qe();a=a.toLowerCase();for(var d=0,e;e=b[d];d++)if(e.name.toLowerCase()==a)return e;return null};v.G.Wj=function(a){var b=a.type;""==b&&(b="''");return'<field name="VAR" id="'+a.ea()+'" variabletype="'+$b(b)+'">'+$b(a.name)+"</field>"};v.G.Ss=function(a){a="<xml>"+v.G.Wj(a)+"</xml>";return v.B.kd(a).firstChild};
v.G.rm=function(a,b,d,e){var f=v.G.Kc(a,b,d,e);f||(f=v.G.lx(a,b,d,e));return f};v.G.Kc=function(a,b,d,e){var f=a.dj;if(b){var h=a.me(b);!h&&f&&(h=f.me(b));if(h)return h}if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");h=a.Kc(d,e);!h&&f&&(h=f.Kc(d,e))}return h};v.G.lx=function(a,b,d,e){var f=a.dj;d||(d=v.G.Rs(a.ae?a.Vh:a));return f?f.$c(d,e,b):a.$c(d,e,b)};
v.G.Ts=function(a,b){a=a.Qe();var d=[];if(b.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==b.indexOf(f)&&d.push(f)}return d};v.Sd={};v.Sd.jz=function(a){v.G.xi(a.Aa,null,"String")};v.Sd.iz=function(a){v.G.xi(a.Aa,null,"Number")};v.Sd.hz=function(a){v.G.xi(a.Aa,null,"Colour")};
v.Sd.jg=function(a){var b=[],d=document.createElement("button");d.setAttribute("text",v.g.NEW_STRING_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_STRING");b.push(d);d=document.createElement("button");d.setAttribute("text",v.g.NEW_NUMBER_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER");b.push(d);d=document.createElement("button");d.setAttribute("text",v.g.NEW_COLOUR_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR");b.push(d);Fg(a,"CREATE_VARIABLE_STRING",v.Sd.jz);
Fg(a,"CREATE_VARIABLE_NUMBER",v.Sd.iz);Fg(a,"CREATE_VARIABLE_COLOUR",v.Sd.hz);a=v.Sd.Go(a);return b=b.concat(a)};v.Sd.Go=function(a){a=a.Qe();var b=[];if(0<a.length){if(v.H.variables_set_dynamic){var d='<xml><block type="variables_set_dynamic" gap="24">'+v.G.Wj(a[a.length-1])+"</block></xml>";d=v.B.kd(d).firstChild;b.push(d)}if(v.H.variables_get_dynamic){a.sort(Eg);for(var e=0;d=a[e];e++)d='<xml><block type="variables_get_dynamic" gap="8">'+v.G.Wj(d)+"</block></xml>",d=v.B.kd(d).firstChild,b.push(d)}}return b};function Gg(a){this.Qp=a;this.Aj=Object.create(null)}c=Gg.prototype;c.qp=null;c.D=function(){this.Aj=this.Qp=null};c.load=function(a,b){if(a.length){try{var d=new window.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var h=a[f],k=h.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new window.Audio(h);break}}e&&e.play&&(this.Aj[b]=e)}};c.preload=function(){for(var a in this.Aj){var b=this.Aj[a];b.volume=.01;b.play().catch(function(){});b.pause();if(nc||mc)break}};
c.play=function(a,b){var d=this.Aj[a];d?(a=new Date,null!=this.qp&&a-this.qp<v.mw||(this.qp=a,d=uc&&9===uc||nc||lc?d:d.cloneNode(),d.volume=void 0===b?1:b,d.play())):this.Qp&&this.Qp.De.play(a,b)};c=Cf.prototype;c.Db=function(){return{width:this.Lc(),height:this.Fi()}};
c.ca=function(){if(!this.Kg){var a=this.Db();this.Lj();this.A.appendChild(this.Cd);this.Sh=v.i.C("rect",{"class":"blocklyCommentHandleTarget",x:0,y:0});this.A.appendChild(this.Sh);this.Rg=v.i.C("rect",{"class":"blocklyCommentTarget",x:0,y:0,rx:3,ry:3});this.A.appendChild(this.Rg);this.bc=v.i.C("g",{"class":this.w?"blocklyResizeSW":"blocklyResizeSE"},this.A);v.i.C("polygon",{points:"0,x x,x x,0".replace(/x/g,(8).toString())},this.bc);v.i.C("line",{"class":"blocklyResizeLine",x1:8/3,y1:7,x2:7,y2:8/
3},this.bc);v.i.C("line",{"class":"blocklyResizeLine",x1:16/3,y1:7,x2:7,y2:16/3},this.bc);this.xc()&&(this.hg=v.i.C("g",{"class":"blocklyCommentDeleteIcon"},this.A),this.ys=v.i.C("circle",{"class":"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.hg),v.i.C("line",{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.hg),v.i.C("line",{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.hg));Hg(this,a.width,a.height);this.Hb.value=this.pd;this.Kg=!0;this.bc&&v.W(this.bc,
"mousedown",this,this.cq);this.xc()&&(v.W(this.hg,"mousedown",this,this.xx),v.W(this.hg,"mouseout",this,this.yx),v.W(this.hg,"mouseup",this,this.zx))}};
c.Lj=function(){this.Cd=v.i.C("foreignObject",{x:0,y:10,"class":"blocklyCommentForeignObject"},null);var a=document.createElementNS(v.Yf,"body");a.setAttribute("xmlns",v.Yf);a.className="blocklyMinimalBody";var b=document.createElementNS(v.Yf,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.w?"RTL":"LTR");a.appendChild(b);this.Hb=b;this.Cd.appendChild(a);v.W(b,"wheel",this,function(d){d.stopPropagation()});v.W(b,"change",this,function(){this.cf(b.value)});return this.Cd};
c.cq=function(a){Ig(this);v.i.Ag(a)||(this.o.nn(a,new A(this.o.w?-this.ga:this.ga,this.wa)),this.Dh=v.W(document,"mouseup",this,this.Lz),this.Lp=v.W(document,"mousemove",this,this.eq),v.ic());a.stopPropagation()};c.xx=function(a){v.i.Ya(this.ys,"blocklyDeleteIconHighlighted");a.stopPropagation()};c.yx=function(){v.i.Fb(this.ys,"blocklyDeleteIconHighlighted")};c.zx=function(a){this.D(!0,!0);a.stopPropagation()};function Ig(a){a.Dh&&(v.Sa(a.Dh),a.Dh=null);a.Lp&&(v.Sa(a.Lp),a.Lp=null)}
c.Lz=function(){v.Touch.xf();Ig(this)};c.eq=function(a){this.Gl=!1;a=ve(this.o,a);Hg(this,this.w?-a.x:a.x,a.y)};
function Hg(a,b,d){b=Math.max(b,45);d=Math.max(d,30);a.ga=b;a.wa=d;a.$k.setAttribute("width",b);a.$k.setAttribute("height",d);a.Rg.setAttribute("width",b);a.Rg.setAttribute("height",d);a.Sh.setAttribute("width",b);a.Sh.setAttribute("height",10);a.w&&(a.$k.setAttribute("transform","scale(-1 1)"),a.Rg.setAttribute("transform","scale(-1 1)"));a.bc&&(a.w?(a.bc.setAttribute("transform","translate("+(-b+8)+","+(d-8)+") scale(-1 1)"),a.hg.setAttribute("transform","translate("+(-b+8)+",-8) scale(-1 1)")):
(a.bc.setAttribute("transform","translate("+(b-8)+","+(d-8)+")"),a.hg.setAttribute("transform","translate("+(b-8)+",-8)")));b=a.Db();a.Cd.setAttribute("width",b.width);a.Cd.setAttribute("height",b.height-10);a.w&&a.Cd.setAttribute("x",-b.width);a.Hb.style.width=b.width-4+"px";a.Hb.style.height=b.height-4-10+"px"}
c.qq=function(){var a=this;this.Tj=!0;setTimeout(function(){a.Bf||(a.Hb.focus(),v.i.Ya(a.A,"blocklyFocused"),v.i.Ya(a.Rg,"blocklyCommentTargetFocused"),v.i.Ya(a.Sh,"blocklyCommentHandleTargetFocused"))},0)};function Ef(a){a.Tj=!1;setTimeout(function(){a.Bf||(a.Hb.blur(),v.i.Fb(a.A,"blocklyFocused"),v.i.Fb(a.Rg,"blocklyCommentTargetFocused"),v.i.Fb(a.Sh,"blocklyCommentHandleTargetFocused"))},0)};function Jg(a){this.Ij=a;this.ba()}c=Jg.prototype;c.Fa=null;c.Wd=null;c.Ij=null;c.ba=function(){this.Fa||(this.Fa=v.i.C("svg",{xmlns:v.Mn,"xmlns:html":v.Yf,"xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Ij.appendChild(this.Fa))};c.Qf=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.Fa.style.display="block";v.i.Rk(this.Fa,"translate3d("+a+"px, "+b+"px, 0px)")};c.um=function(){return v.i.dd(this.Fa)};
c.Fj=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.Fa.childNodes[0],d=this.Fa.childNodes[1];if(!(b&&d&&v.i.ct(b,"blocklyBlockCanvas")&&v.i.ct(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.ue?v.i.sh(b,this.ue):a.insertBefore(b,a.firstChild);v.i.sh(d,b);this.Fa.style.display="none";if(this.Fa.childNodes.length)throw Error("Drag surface was not cleared.");v.i.Rk(this.Fa,"");
this.ue=null};
function Kg(a){this.m=a}c=Kg.prototype;c.Zg=32;c.Xq=110;c.Cn=20;c.vj=20;c.A=null;c.vk=0;c.mj=0;c.ba=function(){this.A=v.i.C("g",{},null);var a=String(Math.random()).substring(2);Lg(this,a);Mg(this,a);this.m.Sb()&&Ng(this,a);return this.A};c.J=function(a){this.Wf=this.Cn+a;return this.Wf+this.Xq};c.D=function(){this.A&&(v.i.removeNode(this.A),this.A=null);this.m=null};
c.position=function(){if(this.Wf){var a=this.m.rb();a&&(this.vk=a.qa==v.od||this.m.sd&&!this.m.w?a.Ja+a.zb-this.Zg-this.vj-xe:this.vj+xe,a.qa==v.Zf?(this.mj=this.Wf,this.un.setAttribute("transform","translate(0, 34)"),this.vn&&this.vn.setAttribute("transform","translate(0, 77)")):(this.mj=a.Oa+a.Ab-this.Xq-this.Wf,this.un.setAttribute("transform","translate(0, 43)"),this.Nq.setAttribute("transform","translate(0, 77)")),this.A.setAttribute("transform","translate("+this.vk+","+this.mj+")"))}};
function Lg(a,b){var d=a.m;a.Nq=v.i.C("g",{"class":"blocklyZoom"},a.A);var e=v.i.C("clipPath",{id:"blocklyZoomoutClipPath"+b},a.Nq);v.i.C("rect",{width:32,height:32},e);a=v.i.C("image",{width:v.Vc.width,height:v.Vc.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+b+")"},a.Nq);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.options.te+v.Vc.url);v.W(a,"mousedown",null,function(f){Rf(d);Og(d,-1);v.Touch.xf();f.stopPropagation();f.preventDefault()})}
function Mg(a,b){var d=a.m;a.un=v.i.C("g",{"class":"blocklyZoom"},a.A);var e=v.i.C("clipPath",{id:"blocklyZoominClipPath"+b},a.un);v.i.C("rect",{width:32,height:32},e);a=v.i.C("image",{width:v.Vc.width,height:v.Vc.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+b+")"},a.un);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.options.te+v.Vc.url);v.W(a,"mousedown",null,function(f){Rf(d);Og(d,1);v.Touch.xf();f.stopPropagation();f.preventDefault()})}
function Ng(a,b){var d=a.m;a.vn=v.i.C("g",{"class":"blocklyZoom"},a.A);var e=v.i.C("clipPath",{id:"blocklyZoomresetClipPath"+b},a.vn);v.i.C("rect",{width:32,height:32},e);a=v.i.C("image",{width:v.Vc.width,height:v.Vc.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+b+")"},a.vn);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.options.te+v.Vc.url);v.W(a,"mousedown",null,function(f){Rf(d);d.setScale(d.options.eb.Iu);Pg(d);Qg(d);setTimeout(function(){v.i.Fb(d.Ra,"blocklyCanvasTransitioning");
v.i.Fb(d.Md,"blocklyCanvasTransitioning")},500);v.Touch.xf();f.stopPropagation();f.preventDefault()})};
function Rg(a,b,d){Rg.v.constructor.call(this,a);this.rb=a.rb||Sg;this.Mf=a.Mf||Tg;var e=[];e[v.Da]=new Ne;e[v.fe]=new Ne;e[v.Ea]=new Ne;e[v.ge]=new Ne;this.eo=e;b&&(this.Lb=b);d&&(this.bi=d);this.sn=this.bi&&v.i.vg();this.jk=[];this.De=new Gg(a.Tb);this.$d=this.options.Zs?new bg(a.Zs,a.Ys):null;v.G&&v.G.jg&&Ug(this,v.mr,v.G.jg);v.Sd&&v.Sd.jg&&Ug(this,v.vw,v.Sd.jg);v.sa&&v.sa.jg&&Ug(this,v.gr,v.sa.jg);this.Dt=new Se(this,!0)}t(Rg,Nd);c=Rg.prototype;c.hn=null;c.U=!0;c.Bg=!0;c.ae=!1;c.Pi=!1;c.fq=!0;
c.scrollX=0;c.scrollY=0;c.Hs=null;c.scale=1;c.Ac=null;c.tb=null;c.Ob=null;c.Lb=null;c.bi=null;c.sn=!1;c.Dm=!1;c.gp=null;c.xt=null;c.Fo={};c.Jq={};c.Ur=null;c.Vh=null;c.ot=null;c.ip=!0;c.bs=function(){return new Se(this)};function tg(a){if(a.ip){var b=H(a).getScreenCTM();b&&(a.ot=b.inverse(),a.ip=!1)}return a.ot}c.kl=function(){this.ip=!0};c.isVisible=function(){return this.Bg};
function cf(a,b){var d=0,e=0,f=1;if(v.i.containsNode(a.Ra,b)||v.i.containsNode(a.Md,b))f=a.scale;do{var h=v.i.dd(b);if(b==a.Ra||b==a.Md)f=1;d+=h.x*f;e+=h.y*f;b=b.parentNode}while(b&&b!=H(a));return new A(d,e)}function $c(a){if(!a.gp)for(var b=a.A;b;){if(-1!=(" "+(b.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.gp=b;break}b=b.parentNode}return a.gp}
c.ba=function(a){this.A=v.i.C("g",{"class":"blocklyWorkspace"},null);a&&(this.Ld=v.i.C("rect",{height:"100%",width:"100%","class":a},this.A),"blocklyMainBackground"==a&&this.$d&&(this.Ld.style.fill="url(#"+this.$d.Hi.id+")"));this.Ra=v.i.C("g",{"class":"blocklyBlockCanvas"},this.A);this.Md=v.i.C("g",{"class":"blocklyBubbleCanvas"},this.A);this.ae||(v.W(this.A,"mousedown",this,this.Fg,!1,!0),v.W(this.A,"wheel",this,this.yz));this.options.bt&&(this.$=new Vg(this));this.$d&&this.$d.update(this.scale);
Wg(this);a=this.cursor.ba();this.A.appendChild(a);a=this.Dt.ba();this.A.appendChild(a);return this.A};
c.D=function(){this.U=!1;this.Ob&&this.Ob.cancel();Rg.v.D.call(this);this.A&&(v.i.removeNode(this.A),this.A=null);this.Md=this.Ra=null;this.$&&(this.$.D(),this.$=null);this.I&&(this.I.D(),this.I=null);this.Ac&&(this.Ac.D(),this.Ac=null);this.tb&&(this.tb.D(),this.tb=null);this.ci&&(this.ci.D(),this.ci=null);this.Pb&&(this.Pb.D(),this.Pb=null);this.De&&(this.De.D(),this.De=null);this.$d&&(this.$d.D(),this.$d=null);this.Fo=this.Jq=null;if(!this.options.Tb){var a=H(this).parentNode;a&&v.i.removeNode(a)}this.hn&&
(v.Sa(this.hn),this.hn=null)};c.ce=function(a,b){return new I(this,a,b)};function Xg(a){a.Ac=new zg(a);var b=a.Ac.ba();a.A.insertBefore(b,a.Ra)}function Yg(a){a.ci=new Kg(a);var b=a.ci.ba();a.A.appendChild(b)}function Zg(a,b){var d={Af:a.options.Af,Tb:a,w:a.w,jd:a.options.jd,sd:a.sd,qa:a.options.qa};a.I=null;a.I=a.sd?new Ag(d):new Bg(d);a.I.ti=!1;return a.I.ba(b)}function $g(a){return a.I?a.I:a.$?a.$.I:null}function Xd(a){if(a.fq&&a.U){if(a.tb){var b=a.rb();qg(a.tb.Fd,b);sg(a.tb.Od,b)}a.kl()}}
c.resize=function(){this.$&&this.$.position();this.I&&this.I.position();this.Ac&&this.Ac.position();this.ci&&this.ci.position();this.tb&&this.tb.resize();this.kl();Wg(this)};function Pf(a){var b=Jc(document);yc(a.xt,b)||(a.xt=b,a.kl(),Wg(a))}function H(a){if(a.Cr)return a.Cr;for(var b=a.A;b;){if("svg"==b.tagName)return a.Cr=b;b=b.parentNode}return null}
c.translate=function(a,b){if(this.sn&&this.Dm)this.bi.Qf(a,b);else{var d="translate("+a+","+b+") scale("+this.scale+")";this.Ra.setAttribute("transform",d);this.Md.setAttribute("transform",d)}if(this.Lb){d=this.Lb;var e=this.scale;d.Lg=e;d.Wd.setAttribute("transform","translate("+a.toFixed(0)+","+b.toFixed(0)+") scale("+e+")")}this.$d&&this.$d.moveTo(a,b)};
function Sf(a){if(a.sn){a.Dm=!1;var b=a.bi.um();a.bi.Fj(a.A);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.Ra.setAttribute("transform",b);a.Md.setAttribute("transform",b)}}
function Kf(a){if(a.sn&&!a.Dm){a.Dm=!0;var b=a.Ra.previousSibling,d=parseInt(H(a).getAttribute("width"),10),e=parseInt(H(a).getAttribute("height"),10),f=v.i.dd(a.Ra),h=a.bi,k=a.Ra,l=a.Md,m=a.scale;if(h.Fa.childNodes.length)throw Error("Already dragging a block.");h.ue=b;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");h.Fa.setAttribute("width",d);h.Fa.setAttribute("height",e);h.Fa.appendChild(k);h.Fa.appendChild(l);h.Fa.style.display=
"block";a.bi.Qf(f.x,f.y)}}c.Lc=function(){var a=this.rb();return a?a.Ja/this.scale:0};c.za=function(a){this.tb&&this.tb.Kh(a);$g(this)&&$g(this).Kh(a);H(this).style.display=a?"block":"none";this.$&&(this.$.Tc.style.display=a?"block":"none");a?(this.ca(),this.$&&this.$.position()):v.ic(!0);this.Bg=a};c.ca=function(){for(var a=B(this,!1),b=a.length-1;0<=b;b--)a[b].ca(!1);if(this.Ob)for(a=this.Ob.Gi(),b=0;b<a.length;b++)a[b].ca(!1)};
function ah(a,b){var d=bh;if(void 0===b){for(var e=0,f;f=d.jk[e];e++)f.ud(!1);d.jk.length=0}if(f=a?vd(d,a):null)(a=void 0===b||b)?-1==d.jk.indexOf(f)&&d.jk.push(f):v.i.Cj(d.jk,f),f.ud(a)}
function ch(a){var b=v.Gj;if(a.U&&!(b.getElementsByTagName("block").length>=fe(a)))if(a.Ob&&a.Ob.cancel(),"comment"==b.tagName.toLowerCase()){v.j.disable();try{var d=Pd(b,a),e=parseInt(b.getAttribute("x"),10),f=parseInt(b.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.w&&(e=-e),d.moveBy(e+50,f+50))}finally{v.j.enable()}d.select()}else a:{v.j.disable();try{var h=v.B.zi(b,a);if(v.s.Iy){v.s.nt(h,v.s.Iy);break a}var k=parseInt(b.getAttribute("x"),10),l=parseInt(b.getAttribute("y"),10);if(!isNaN(k)&&!isNaN(l)){a.w&&
(k=-k);do{b=!1;var m=B(a,!1);d=0;for(var n;n=m[d];d++){var u=n.ua();if(1>=Math.abs(k-u.x)&&1>=Math.abs(l-u.y)){b=!0;break}}if(!b){var x=h.Yd(!1);d=0;for(var r;r=x[d];d++)if(r.closest(v.Uc,new A(k,l)).connection){b=!0;break}}b&&(k=a.w?k-v.Uc:k+v.Uc,l+=2*v.Uc)}while(b);h.moveBy(k,l)}}finally{v.j.enable()}v.j.isEnabled()&&!h.Na&&v.j.Y(new v.j.vl(h));h.select()}}function dh(a){if((a=a.ae?a.Vh:a)&&!a.Ob&&a.$&&a.$.I){a=a.$;var b=a.Bc.Pc;b&&b.Ee&&a.I.show(b.Ee)}}
c.Ih=function(a,b){Rg.v.Ih.call(this,a,b);dh(this)};c.Ie=function(a){Rg.v.Ie.call(this,a);dh(this)};c.$c=function(a,b,d){a=Rg.v.$c.call(this,a,b,d);dh(this);return a};function Wg(a){a.xs=a.Ac&&a.A.parentNode?a.Ac.Di():null;a.ws=a.I?a.I.Di():a.$?a.$.Di():null}function xf(a,b){b=new A(b.clientX,b.clientY);return a.xs&&a.xs.contains(b)?v.zn:a.ws&&a.ws.contains(b)?v.Vq:v.Uq}c.Fg=function(a){var b=this.Se(a);b&&Wf(b,a,this)};
c.nn=function(a,b){a=v.i.Ck(a,H(this),tg(this));a.x/=this.scale;a.y/=this.scale;this.Hs=Ac(b,a)};function ve(a,b){b=v.i.Ck(b,H(a),tg(a));b.x/=a.scale;b.y/=a.scale;return Bc(a.Hs,b)}c.Rb=function(){return null!=this.Ob&&this.Ob.Rb()};function eh(a){return a.options.lc&&a.options.lc.scrollbars||a.options.lc&&a.options.lc.ai||a.options.lc&&a.options.lc.fh||a.options.eb&&a.options.eb.controls||a.options.eb&&a.options.eb.ai}
c.Sb=function(){return this.options.lc&&this.options.lc.scrollbars||this.options.lc&&this.options.lc.ai||this.options.lc&&this.options.lc.fh||this.options.eb&&this.options.eb.ai};
c.yz=function(a){if(ag())a.preventDefault(),a.stopPropagation();else{var b=this.options.eb&&this.options.eb.ai,d=this.options.lc&&this.options.lc.ai;if(b||d){var e=v.i.Ro(a);!b||!a.ctrlKey&&d?(b=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(b=this.scrollX-e.y,d=this.scrollY),this.scroll(b,d)):(e=-e.y/50,b=v.i.Ck(a,H(this),tg(this)),this.zoom(b.x,b.y,e));a.preventDefault()}}};
function Ud(a){var b=Ld(a,!1);a=Kd(a,!1);b=b.concat(a);if(!b.length)return{x:0,y:0,width:0,height:0};a=b[0].im();for(var d=1;d<b.length;d++){var e=b[d].im();e.md.x<a.md.x&&(a.md.x=e.md.x);e.zd.x>a.zd.x&&(a.zd.x=e.zd.x);e.md.y<a.md.y&&(a.md.y=e.md.y);e.zd.y>a.zd.y&&(a.zd.y=e.zd.y)}return{x:a.md.x,y:a.md.y,width:a.zd.x-a.md.x,height:a.zd.y-a.md.y}}
c.Zw=function(){this.rc(!1);v.j.T(!0);for(var a=Ld(this,!0),b=0,d=0,e;e=a[d];d++)if(e.Sb()){var f=e.ua();e.moveBy(-f.x,b-f.y);fh(e);b=e.ua().y+e.Db().height+25}v.j.T(!1);this.rc(!0)};
c.jj=function(a){function b(q){if(q.xc())r=r.concat(Yc(q,!1));else{q=q.Ef(!1);for(var y=0;y<q.length;y++)b(q[y])}}function d(){v.j.T(h);var q=r.shift();q&&(q.o?(q.D(!1,!0),setTimeout(d,10)):d());v.j.T(!1)}if(!this.options.readOnly&&!this.ae){var e=[],f=Ld(this,!0),h=v.i.Pe(),k=this,l={};l.text=v.g.UNDO;l.enabled=0<this.Xh.length;l.bb=this.Kq.bind(this,!1);e.push(l);l={};l.text=v.g.REDO;l.enabled=0<this.Lk.length;l.bb=this.Kq.bind(this,!0);e.push(l);this.Sb()&&(l={},l.text=v.g.CLEAN_UP,l.enabled=1<
f.length,l.bb=this.Zw.bind(this),e.push(l));if(this.options.collapse){for(var m=l=!1,n=0;n<f.length;n++)for(var u=f[n];u;)u.isCollapsed()?l=!0:m=!0,u=Zc(u);var x=function(q){for(var y=0,K=0;K<f.length;K++)for(var S=f[K];S;)setTimeout(S.Ng.bind(S,q),y),S=Zc(S),y+=10};m={enabled:m};m.text=v.g.COLLAPSE_ALL;m.bb=function(){x(!0)};e.push(m);l={enabled:l};l.text=v.g.EXPAND_ALL;l.bb=function(){x(!1)};e.push(l)}var r=[];for(n=0;n<f.length;n++)b(f[n]);l={text:1==r.length?v.g.DELETE_BLOCK:v.g.DELETE_X_BLOCKS.replace("%1",
String(r.length)),enabled:0<r.length,bb:function(){k.Ob&&k.Ob.cancel();2>r.length?d():v.confirm(v.g.DELETE_ALL_BLOCKS.replace("%1",r.length),function(q){q&&d()})}};e.push(l);this.Ur&&this.Ur(e);v.ka.show(a,e,this.w)}};
c.Uu=function(a){if(a=eg(a)){if(!this.options.Ze)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(a.getElementsByTagName("category").length){if(!this.$)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.Ze=a;a=this.$.Xm(a);gh(this.$);this.$.position();this.$.Bc.df(a)}else{if(!this.I)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.Ze=a;this.I.show(a.childNodes)}}else if(this.options.Ze)throw Error("Can't nullify an existing toolbox.");
};function Rf(a){if(a.options.Tb)Rf(a.options.Tb);else{v.xk=a;document.activeElement&&document.activeElement.blur();try{H(a).focus()}catch(b){try{H(a).parentNode.setActive()}catch(d){H(a).parentNode.focus()}}}}
c.zoom=function(a,b,d){d=Math.pow(this.options.eb.Oz,d);var e=this.scale*d;if(this.scale!=e){e>this.options.eb.Ak?d=this.options.eb.Ak/this.scale:e<this.options.eb.Bk&&(d=this.options.eb.Bk/this.scale);var f=this.Ra.getCTM(),h=H(this).createSVGPoint();h.x=a;h.y=b;h=h.matrixTransform(f.inverse());a=h.x;b=h.y;f=f.translate(a*(1-d),b*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
function Og(a,b){var d=a.rb();if(a.I){var e=d.cA/2;d=d.bA/2}else e=d.Ja/2+d.zb,d=d.Oa/2+d.Ab;a.zoom(e,d,b)}c.scroll=function(a,b){var d=this.rb();a=Math.min(a,-d.xb);b=Math.min(b,-d.qb);a=Math.max(a,d.Ja-d.xb-d.Zc);b=Math.max(b,d.Oa-d.qb-d.Hc);v.O.xa(!0);this.tb.set(-a-d.xb,-b-d.qb)};function Pg(a){v.i.Ya(a.Ra,"blocklyCanvasTransitioning");v.i.Ya(a.Md,"blocklyCanvasTransitioning")}
function Qg(a){if(a.Sb()){var b=a.rb(),d=(b.Zc-b.Ja)/2,e=(b.Hc-b.Oa)/2;d=-d-b.xb;e=-e-b.qb;a.scroll(d,e)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}
c.setScale=function(a){this.options.eb.Ak&&a>this.options.eb.Ak?a=this.options.eb.Ak:this.options.eb.Bk&&a<this.options.eb.Bk&&(a=this.options.eb.Bk);this.scale=a;v.ic(!1);this.I&&(this.I.aq(),Wg(this));this.$d&&this.$d.update(this.scale);a=this.rb();this.scrollX-=a.zb;this.scrollY-=a.Ab;a.wb+=a.zb;a.Ib+=a.Ab;this.scroll(this.scrollX,this.scrollY);this.tb&&(this.I?(ng(this.tb.Fd,a),og(this.tb.Od,a)):(qg(this.tb.Fd,a),sg(this.tb.Od,a)))};
c.scroll=function(a,b){var d=this.rb(),e=d.Zc+d.xb-d.Ja,f=d.Hc+d.qb-d.Oa;a=Math.min(a,-d.xb);b=Math.min(b,-d.qb);a=Math.max(a,-e);b=Math.max(b,-f);this.scrollX=a;this.scrollY=b;this.tb&&(hg(this.tb.Fd,-(a+d.xb)*this.tb.Fd.mc),hg(this.tb.Od,-(b+d.qb)*this.tb.Od.mc));v.O.xa(!0);a+=d.zb;b+=d.Ab;this.translate(a,b)};function hh(a){var b=0,d=0;a&&(b=a.Lc(),d=a.Fi());return{width:b,height:d}}
function ih(a){var b=Ud(a),d=a.scale;a=b.width*d;var e=b.height*d,f=b.x*d;b=b.y*d;return{left:f,top:b,right:f+a,bottom:b+e,width:a,height:e}}
function Sg(){var a=hh(this.$),b=hh(this.I),d=v.Mu(H(this)),e=d.height,f=d.width;if(this.$)if(this.qa==v.Wc||this.qa==v.Zf)e-=a.height;else{if(this.qa==v.od||this.qa==v.Be)f-=a.width}else if(this.I)if(this.qa==v.Wc||this.qa==v.Zf)e-=b.height;else if(this.qa==v.od||this.qa==v.Be)f-=b.width;if(eh(this)){var h=ih(this);var k=f,l=e,m=k/2,n=l/2,u=Math.min(h.left-m,h.right-k),x=Math.min(h.top-n,h.bottom-l);h={left:u,top:x,height:Math.max(h.bottom+n,h.top+l)-x,width:Math.max(h.right+m,h.left+k)-u}}else h=
ih(this);k=0;this.$&&this.qa==v.od?k=a.width:this.I&&this.qa==v.od&&(k=b.width);l=0;this.$&&this.qa==v.Wc?l=a.height:this.I&&this.qa==v.Wc&&(l=b.height);return{Hc:h.height,Zc:h.width,qb:h.top,xb:h.left,Oa:e,Ja:f,Ib:-this.scrollY,wb:-this.scrollX,Ab:l,zb:k,bA:d.height,cA:d.width,Qu:a.width,Pu:a.height,tB:b.width,sB:b.height,qa:this.qa}}
function Tg(a){var b=this.rb();"number"==typeof a.x&&(this.scrollX=-b.Zc*a.x-b.xb);"number"==typeof a.y&&(this.scrollY=-b.Hc*a.y-b.qb);this.translate(this.scrollX+b.zb,this.scrollY+b.Ab)}c.rc=function(a){var b=!this.fq&&a;this.fq=a;b&&Xd(this)};c.clear=function(){this.rc(!1);Rg.v.clear.call(this);this.rc(!0)};function Fg(a,b,d){if("function"!=typeof d)throw TypeError("Button callbacks must be functions.");a.Fo[b]=d}function jh(a,b){return(a=a.Fo[b])?a:null}
function Ug(a,b,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.Jq[b]=d}c.Se=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.Ob;return d?b&&d.mh?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:b?this.Ob=new ug(a,this):null};Rg.prototype.setVisible=Rg.prototype.za;function kh(a){kh.v.constructor.call(this,null);this.mu=a}t(kh,ye);c=kh.prototype;c.qj=0;c.ol=0;
c.Ao=function(a){v.i.C("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);v.i.C("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
v.i.C("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};c.cp=function(a){Md(this.Z)&&ye.prototype.cp.call(this,a)};
c.Lj=function(){this.Zk=v.i.C("svg",{x:me,y:me},null);if(this.mu.length)for(var a=v.B.i.createElement("xml"),b=0,d;d=this.mu[b];b++){var e=v.B.i.createElement("block");e.setAttribute("type",d);a.appendChild(e)}else a=null;a={disable:!1,Af:this.Z.o.options.Af,Ze:a,Tb:this.Z.o,te:this.Z.o.options.te,w:this.Z.w,qa:this.Z.w?v.Be:v.od,sd:!1,rb:this.Xx.bind(this),Mf:null};this.m=new Rg(a);this.m.Pi=!0;this.m.Xc(v.j.Dx);a=Zg(this.m,"g");b=this.m.ba("blocklyMutatorBackground");b.insertBefore(a,this.m.Ra);
this.Zk.appendChild(b);return this.Zk};c.Vf=function(){this.Z.yb||(Md(this.Z)?this.ed&&v.i.Fb(this.ed,"blocklyIconGroupReadonly"):(this.za(!1),this.ed&&v.i.Ya(this.ed,"blocklyIconGroupReadonly")));ye.prototype.Vf.call(this)};
c.fn=function(){var a=2*me,b=this.m.Ra.getBBox();var d=this.Z.w?-b.x:b.width+b.x;b=b.height+3*a;if(this.m.I){var e=this.m.I.Ff();b=Math.max(b,e.Hc+20)}d+=3*a;if(Math.abs(this.qj-d)>a||Math.abs(this.ol-b)>a)this.qj=d,this.ol=b,this.fb.Mg(d+a,b+a),this.Zk.setAttribute("width",this.qj),this.Zk.setAttribute("height",this.ol);this.Z.w&&this.m.Ra.setAttribute("transform","translate("+this.qj+",0)");this.m.resize()};
c.za=function(a){if(a!=this.isVisible())if(v.j.Y(new qd(this.Z,"mutatorOpen",!a,a)),a){this.fb=new je(this.Z.o,this.Lj(),this.Z.zc,this.qh,null,null);se(this.fb,this.Z.id);if(a=this.m.options.Ze)this.m.I.J(this.m),this.m.I.show(a.childNodes);this.Lf=this.Z.He(this.m);a=Yc(this.Lf,!1);for(var b=0,d;d=a[b];b++)d.ca();this.Lf.Lh(!1);this.Lf.oq(!1);this.m.I?(a=2*this.m.I.va,b=$g(this.m).Lc()+a):b=a=16;this.Z.w&&(b=-b);this.Lf.moveBy(b,a);if(this.Z.Qk){var e=this;this.Z.Qk(this.Lf);this.ln=function(){e.Z.Qk(e.Lf)};
this.Z.o.Xc(this.ln)}this.fn();this.m.Xc(this.vA.bind(this));this.Uf()}else this.Zk=null,this.m.D(),this.Lf=this.m=null,this.fb.D(),this.fb=null,this.ol=this.qj=0,this.ln&&(this.Z.o.Kf(this.ln),this.ln=null)};
c.vA=function(a){if(a.type!=v.j.Bj&&(a.type!=v.j.Vg||"disabled"!=a.element)){if(!this.m.Rb()){a=Ld(this.m,!1);for(var b=0,d;d=a[b];b++){var e=d.ua(),f=d.Db();20>e.y+f.height&&d.moveBy(0,20-f.height-e.y)}}if(this.Lf.o==this.m){v.j.T(!0);d=this.Z;a=(a=d.ya())&&v.B.cd(a);b=d.U;d.U=!1;d.Ge(this.Lf);d.U=b;d.jc();b=(b=d.ya())&&v.B.cd(b);if(a!=b){v.j.Y(new v.j.nd(d,"mutation",null,a,b));var h=v.j.Qb();setTimeout(function(){v.j.T(h);d.pb();v.j.T(!1)},v.ul)}d.U&&d.ca();this.m.Rb()||this.fn();v.j.T(!1)}}};
c.Xx=function(){return{Oa:this.ol,Ja:this.qj-$g(this.m).Lc(),Ab:0,zb:this.m.w?0:$g(this.m).Lc()}};c.D=function(){this.Z.hd=null;ye.prototype.D.call(this)};function lh(a,b,d){if(!a||!a.u.o)return!1;d=F(b,d).connection;var e=E(a);return e&&e!=b||d.V==a?!1:(d.isConnected()&&d.disconnect(),d.connect(a),!0)}function mh(a){var b=null;if(a&&a.options){var d=a.options.Tb;a.ae?d&&d.options&&(b=d.options.Tb):d&&(b=d)}return b}g.Blockly||(g.Blockly={});g.Blockly.Mutator||(g.Blockly.Mutator={});
g.Blockly.Mutator.reconnect=lh;v.S={};v.S.wn={};v.S.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(v.S.wn[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');v.S.wn[a]=b};v.S.an=function(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');v.S.register(a,function(){nh(this,b)})};
v.S.Nk=function(a,b,d,e){var f='Error when registering mutator "'+a+'": ';v.S.Ir(f,b.Pa,"domToMutation");v.S.Ir(f,b.ya,"mutationToDom");var h=v.S.Kr(b,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');v.S.register(a,function(){h&&this.ij(new kh(e));nh(this,b);d&&d.apply(this)})};
v.S.apply=function(a,b,d){var e=v.S.wn[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)v.S.Xw(a,b);else var f=v.S.Qo(b);e.apply(b);if(d)v.S.Vw('Error after applying mutator "'+a+'": ',b);else if(!v.S.$y(f,b))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
v.S.Ir=function(a,b,d){if(!b)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof b)throw Error(a+'" required property "'+d+'" must be a function');};v.S.Xw=function(a,b){if(v.S.Qo(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);};
v.S.Kr=function(a,b){var d=void 0!==a.Ge,e=void 0!==a.He;if(d&&e){if("function"!=typeof a.Ge)throw Error(b+"compose must be a function.");if("function"!=typeof a.He)throw Error(b+"decompose must be a function.");return!0}if(d||e)throw Error(b+'Must have both or neither of "compose" and "decompose"');return!1};
v.S.Vw=function(a,b){if("function"!=typeof b.Pa)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.ya)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');v.S.Kr(b,a)};v.S.Qo=function(a){var b=[];void 0!==a.Pa&&b.push(a.Pa);void 0!==a.ya&&b.push(a.ya);void 0!==a.Ge&&b.push(a.Ge);void 0!==a.He&&b.push(a.He);return b};v.S.$y=function(a,b){b=v.S.Qo(b);if(b.length!=a.length)return!1;for(var d=0;d<b.length;d++)if(a[d]!=b[d])return!1;return!0};
v.S.Hl=function(a,b){var d=[];"object"==typeof document&&v.i.wu(function(){for(var e in b)v.i.Jr(b[e])});return function(){this.type&&-1===d.indexOf(this.type)&&(v.S.Ww(this,a,b),d.push(this.type));this.pa(function(){var e=C(this,a),f=b[e];null==f?-1===d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=v.i.pc(f);return f}.bind(this))}};
v.S.Ww=function(a,b,d){var e=D(a,b);if("function"!=typeof e.xh){e=e.getOptions();for(var f=0;f<e.length;++f){var h=e[f][1];null==d[h]&&console.warn("No tooltip mapping for value "+h+" of field "+b+" of block type "+a.type)}}};v.S.Il=function(a){"object"==typeof document&&v.i.wu(function(){v.i.Jr(a)});return function(){this.pa(function(){var b=D(this,"VAR");return v.i.pc(a).replace("%1",b?b.Eb():"")}.bind(this))}};
v.S.Mx=function(){this.mA=this.vd;this.pa(function(){var a=this.getParent();return a&&oh(a)&&a.vd||this.mA}.bind(this))};v.S.register("parent_tooltip_when_inline",v.S.Mx);function ph(a,b){var d=Fc(a);return d.defaultView&&d.defaultView.getComputedStyle&&(a=d.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function qh(a,b){return ph(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function Xc(){var a=document,b=a.body;a=a.documentElement;return new A(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)}
function rh(a){try{var b=a.getBoundingClientRect()}catch(d){return{left:0,top:0,right:0,bottom:0}}w&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}function sh(a){var b=Fc(a),d=new A(0,0);var e=b?Fc(b):document;e=!w||9<=Number(uc)||"CSS1Compat"==Dc(e).Je.compatMode?e.documentElement:e.body;if(a==e)return d;a=rh(a);b=Jc(Dc(b).Je);d.x=a.left+b.x;d.y=a.top+b.y;return d}
function th(a){"number"==typeof a&&(a+="px");return a}function uh(a){var b=vh;if("none"!=qh(a,"display"))return b(a);var d=a.style,e=d.display,f=d.visibility,h=d.position;d.visibility="hidden";d.position="absolute";d.display="inline";a=b(a);d.display=e;d.position=h;d.visibility=f;return a}function vh(a){var b=a.offsetWidth,d=a.offsetHeight,e=z&&!b&&!d;return(void 0===b||e)&&a.getBoundingClientRect?(a=rh(a),new Cc(a.right-a.left,a.bottom-a.top)):new Cc(b,d)}
function wh(a,b){a.style.display=b?"":"none"}var xh=ic?"MozUserSelect":z||hc?"WebkitUserSelect":null;function yh(a,b,d){d=d?null:a.getElementsByTagName("*");if(xh){if(b=b?"none":"",a.style&&(a.style[xh]=b),d){a=0;for(var e;e=d[a];a++)e.style&&(e.style[xh]=b)}}else if(w||gc)if(b=b?"on":"",a.setAttribute("unselectable",b),d)for(a=0;e=d[a];a++)e.setAttribute("unselectable",b)}var zh={thin:2,medium:4,thick:6};
function Ah(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var d=a.currentStyle?a.currentStyle[b+"Width"]:null;if(d in zh)a=zh[d];else if(/^\d+px?$/.test(d))a=parseInt(d,10);else{b=a.style.left;var e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=d;d=a.style.pixelLeft;a.style.left=b;a.runtimeStyle.left=e;a=+d}return a};function Bh(a,b){this.ec=new Cc(0,25);this.setValue(a);this.Yh=b}var Ch={};function Dh(a,b){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'"');if(!b||"function"!=typeof b.la)throw Error('Field "'+b+'" must have a fromJson function');Ch[a]=b}var Eh=null,Fh=0;c=Bh.prototype;c.name=void 0;c.Et=50;c.Ba="";c.u=null;c.lp=!0;c.ob=!0;c.Yh=null;c.$n=null;c.Xf=!0;c.sf=!1;c.vq=function(a){if(this.u)throw Error("Field already bound to a block.");this.u=a};
c.J=function(){this.jb||(this.jb=v.i.C("g",{},null),this.ob||(this.jb.style.display="none"),this.Yc=v.i.C("rect",{rx:4,ry:4,x:-5,y:0,height:16},this.jb),this.La=v.i.C("text",{"class":"blocklyText",y:this.ec.height-12.5},this.jb),this.Vf(),this.$n=this.X(),this.u.X().appendChild(this.jb),this.Qm=v.W(this.$n,"mousedown",this,this.Fg))};c.rh=function(){};c.Ps=function(a){this.setValue(a.textContent)};c.cl=function(a){a.setAttribute("name",this.name);a.textContent=this.getValue();return a};
c.D=function(){this.Qm&&(v.Sa(this.Qm),this.Qm=null);this.u=null;this.jb&&(v.i.removeNode(this.jb),this.jb=null);this.Yh=this.Yc=this.La=null};c.Vf=function(){var a=this.$n||this.X();this.Xf&&a&&(Md(this.u)?(v.i.Ya(a,"blocklyEditableText"),v.i.Fb(a,"blocklyNonEditableText"),a.style.cursor=this.zl):(v.i.Ya(a,"blocklyNonEditableText"),v.i.Fb(a,"blocklyEditableText"),a.style.cursor=""))};function $f(a){return a.Xf&&!!a.u&&Md(a.u)}c.isVisible=function(){return this.ob};
c.za=function(a){if(this.ob!=a){this.ob=a;var b=this.X();b&&(b.style.display=a?"block":"none",this.ec.width=0)}};function Gh(a,b){a.Yh=b}c.Zn=function(a){return a};function Gd(a,b){var d=a.Zn(b);if(null===d)return null;void 0!==d&&(b=d);if(d=a.Yh){a=d.call(a,b);if(null===a)return null;void 0!==a&&(b=a)}return b}c.X=function(){return this.jb};c.Jg=function(){this.La.textContent=Hh(this);this.pj();this.lp=!1};
c.pj=function(){var a=Ih(this.La);this.Yc&&this.Yc.setAttribute("width",a+10);this.ec.width=a};function Ih(a){var b=a.textContent+"\n"+a.className.baseVal,d;if(Eh&&(d=Eh[b]))return d;try{d=w||hc?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}Eh&&(Eh[b]=d);return d}function Od(){Fh++;Eh||(Eh={})}function Td(){Fh--;Fh||(Eh=null)}
c.ak=function(){this.lp?this.Jg():this.ob&&0==this.ec.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Jg());return this.ec};function Jh(a){var b=a.Yc.getBBox(),d=b.height*a.u.o.scale;b=b.width*a.u.o.scale;a=sh(a.Yc);return{top:a.y,bottom:a.y+d,left:a.x,right:a.x+b}}
function Hh(a){var b=a.Ba;if(!b)return"\u00a0";b.length>a.Et&&(b=b.substring(0,a.Et-2)+"\u2026");b=b.replace(/\s/g,"\u00a0");a.u.w&&(b+="\u200f");return b}c.Eb=function(){return this.Ba};c.Gb=function(a){null!==a&&(a=String(a),a!==this.Ba&&(this.Ba=a,this.Uj()))};c.Uj=function(){this.lp=!0;this.u&&this.u.U&&(this.u.ca(),this.u.pb())};c.getValue=function(){return this.Eb()};
c.setValue=function(a){if(null!==a){var b=Gd(this,a);null!==b&&(a=b);b=this.getValue();b!=a&&(this.u&&v.j.isEnabled()&&v.j.Y(new v.j.nd(this.u,"field",this.name,b,a)),this.Gb(a))}};c.Fg=function(a){if(this.u&&this.u.o&&(a=this.u.o.Se(a))){if(a.mh)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.Rh||(a.Rh=this)}};c.pa=function(){};c.Mk=function(){return!1};
c.Te=function(){for(var a=null,b=this.u,d=b.M,e=0;e<b.M.length;e++)for(var f=d[e],h=f.na,k=0;k<h.length;k++)if(h[k]===this){a=f;break}return a};function Kh(a,b){this.ec=new Cc(0,17.5);this.Nr=b;this.setValue(a);this.Wh=""}t(Kh,Bh);Kh.la=function(a){var b=v.i.pc(a.text);return new Kh(b,a["class"])};c=Kh.prototype;c.Xf=!1;c.J=function(){this.La||(this.La=v.i.C("text",{"class":"blocklyText","aria-hidden":!0,y:this.ec.height-5},null),this.Nr&&v.i.Ya(this.La,this.Nr),this.ob||(this.La.style.display="none"),this.u.X().appendChild(this.La),this.La.vd=this.Wh?this.Wh:this.u,v.F.$g(this.La))};
c.D=function(){this.La&&(v.i.removeNode(this.La),this.La=null)};c.X=function(){return this.La};c.pa=function(a){this.Wh=a;this.La&&(this.La.vd=a)};Dh("field_label",Kh);function Lh(a,b,d,e){if(a!=v.mf&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.u=d;this.connection=e;this.na=[]}c=Lh.prototype;c.align=v.sj;c.ob=!0;function J(a,b,d){Mh(a,a.na.length,b,d);return a}
function Mh(a,b,d,e){if(0>b||b>a.na.length)throw Error("index "+b+" out of bounds.");if(!d&&!e)return b;"string"==typeof d&&(d=new Kh(d));d.vq(a.u);a.u.U&&d.J();d.name=e;d.Tp&&(b=Mh(a,b,d.Tp));a.na.splice(b,0,d);++b;d.Hq&&(b=Mh(a,b,d.Hq));a.u.U&&(a.u.ca(),a.u.pb());return b}c.isVisible=function(){return this.ob};
c.za=function(a){var b=[];if(this.ob==a)return b;for(var d=(this.ob=a)?"block":"none",e=0,f;f=this.na[e];e++)f.za(a);this.connection&&(a?b=lf(this.connection):nf(this.connection),e=E(this.connection))&&(e.X().style.display=d,a||(e.U=!1));return b};c.Ga=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Ga(a);return this};function Nh(a,b){a.align=b;a.u.U&&a.u.ca();return a}c.J=function(){if(this.u.o.U)for(var a=0;a<this.na.length;a++)this.na[a].J()};
c.D=function(){for(var a=0,b;b=this.na[a];a++)b.D();this.connection&&this.connection.D();this.u=null};function Ce(a){Ce.v.constructor.call(this,a);ze(this);this.Ba={}}t(Ce,ye);c=Ce.prototype;c.Qr=!1;c.Ao=function(a){v.i.C("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);v.i.C("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);v.i.C("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
c.za=function(a){if(a!=this.isVisible())if(v.j.Y(new qd(this.Z,"warningOpen",!a,a)),a){var b=this.Eb();a=v.i.C("text",{"class":"blocklyText blocklyBubbleText",y:me},null);b=b.split("\n");for(var d=0;d<b.length;d++)v.i.C("tspan",{dy:"1em",x:me},a).appendChild(document.createTextNode(b[d]));this.fb=new je(this.Z.o,a,this.Z.zc,this.qh,null,null);se(this.fb,this.Z.id);if(this.Z.w){b=a.getBBox().width;d=0;for(var e;e=a.childNodes[d];d++)e.setAttribute("text-anchor","end"),e.setAttribute("x",b+me)}this.Uf();
a=this.fb.ih();this.fb.Mg(a.width,a.height)}else this.fb.D(),this.fb=null};c.Gb=function(a,b){this.Ba[b]!=a&&(a?this.Ba[b]=a:delete this.Ba[b],this.isVisible()&&(this.za(!1),this.za(!0)))};c.Eb=function(){var a=[],b;for(b in this.Ba)a.push(this.Ba[b]);return a.join("\n")};c.D=function(){this.Z.Dc=null;ye.prototype.D.call(this)};function ee(a,b,d){if("undefined"!==typeof Oh.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=d&&!vd(a,d)?d:v.i.Pe();a.Un[this.id]=this;this.R=this.K=this.N=null;this.M=[];this.ug=void 0;this.disabled=!1;this.vd="";this.contextMenu=!0;this.se=null;this.vf=[];this.Js=this.Dk=this.Oj=!0;this.yf=this.Na=!1;this.cb=null;this.Pd=new A(0,0);this.o=a;this.yb=a.ae;this.w=a.w;this.pe=!1;this.nh=void 0;if(b){this.type=b;d=v.H[b];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+
b);for(var e in d)this[e]=d[e]}a.kj.push(this);a.Sf[this.type]||(a.Sf[this.type]=[]);a.Sf[this.type].push(this);"function"==typeof this.J&&this.J();this.Gy=this.ug;if(v.j.isEnabled()){(a=v.j.Qb())||v.j.T(!0);try{v.j.Y(new v.j.vl(this))}finally{a||v.j.T(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.Gk&&this.o.Kf(this.Gk);if(this.onchange=a)this.Gk=a.bind(this),this.o.Xc(this.Gk)}}c=ee.prototype;c.data=null;
c.Ud="#000000";c.Rr=null;c.Sr=null;c.Xk=null;
c.D=function(a){if(this.o){this.Gk&&this.o.Kf(this.Gk);Id(this,a);v.j.isEnabled()&&v.j.Y(new v.j.Qq(this));v.j.disable();try{if(this.o){de(this.o,this);var b=this.o;b.Sf[this.type].splice(b.Sf[this.type].indexOf(this),1);b.Sf[this.type].length||delete b.Sf[this.type];delete this.o.Un[this.id];this.o=null}v.selected==this&&(v.selected=null);for(var d=this.vf.length-1;0<=d;d--)this.vf[d].D(!1);d=0;for(var e;e=this.M[d];d++)e.D();this.M.length=0;var f=this.Yd(!0);for(d=0;d<f.length;d++){var h=f[d];h.isConnected()&&
h.disconnect();f[d].D()}}finally{v.j.enable()}}};c.rh=function(){for(var a=0,b;b=this.M[a];a++)for(var d=0,e;e=b.na[d];d++)e.rh&&e.rh()};
function Id(a,b){if(a.N){var d=null;a.N.isConnected()&&(d=a.N.V,a.N.disconnect());if(d&&b){a:{b=null;for(var e=0;e<a.M.length;e++){var f=a.M[e].connection;if(f&&f.type==v.Da&&f.V){if(b){a=null;break a}b=f}}a=b}a&&a.isConnected()&&!E(a).Na&&(a=a.V,Fe(a,d)&&(a.disconnect(),d.connect(a)))}}else a.R&&(d=null,a.R.isConnected()&&(d=a.R.V,a.R.disconnect()),e=Zc(a),b&&e&&!e.Na&&(a=a.K.V,a.disconnect(),d&&Fe(d,a)&&d.connect(a)))}
c.Yd=function(){var a=[];this.N&&a.push(this.N);this.R&&a.push(this.R);this.K&&a.push(this.K);for(var b=0,d;d=this.M[b];b++)d.connection&&a.push(d.connection);return a};c.pb=function(){console.warn("Not expected to reach Block.bumpNeighbours_ function. BlockSvg.bumpNeighbours_ was expected to be called instead.")};c.getParent=function(){return this.se};function Ph(a){do{var b=a;a=a.getParent();if(!a)return null}while(Zc(a)==b);return a}function Zc(a){return a.K&&E(a.K)}
function ff(a){var b=a;do a=b,b=a.se;while(b);return a}c.Ef=function(a){if(!a)return this.vf;a=[];for(var b=0,d;d=this.M[b];b++)d.connection&&(d=E(d.connection))&&a.push(d);(b=Zc(this))&&a.push(b);return a};c.Mh=function(a){if(a!=this.se){if(this.se){v.i.Cj(this.se.vf,this);if(this.R&&this.R.isConnected())throw Error("Still connected to previous block.");if(this.N&&this.N.isConnected())throw Error("Still connected to parent block.");this.se=null}else de(this.o,this);(this.se=a)?a.vf.push(this):this.o.kj.push(this)}};
function Yc(a,b){var d=[a];a=a.Ef(b);for(var e,f=0;e=a[f];f++)d.push.apply(d,Yc(e,b));return d}c.xc=function(){return this.Oj&&!this.Na&&!(this.o&&this.o.options.readOnly)};c.oq=function(a){this.Oj=a};c.Sb=function(){return this.Dk&&!this.Na&&!(this.o&&this.o.options.readOnly)};c.Lh=function(a){this.Dk=a};c.uq=function(a){this.Na=a};c.Bu=function(a){this.pe=a};function Md(a){return a.Js&&!(a.o&&a.o.options.readOnly)}c.pq=function(a){this.Js=a;a=0;for(var b;b=this.M[a];a++)for(var d=0,e;e=b.na[d];d++)e.Vf()};
function Vd(a,b){if(!b&&a.isCollapsed()){if(a.N&&mf(a.N,b),a.R&&mf(a.R,b),a.K){mf(a.K,b);var d=E(a.K);d&&Vd(d,b)}}else{a=a.Yd(!0);for(var e=0;d=a[e];e++)mf(d,b),Je(d)&&(d=E(d))&&Vd(d,b)}}c.pa=function(a){this.vd=a};c.Qc=function(a){var b="string"==typeof a?v.i.pc(a):a,d=Number(b);if(!isNaN(d)&&0<=d&&360>=d)this.Ud=v.ht(d);else if("string"==typeof b&&/^#[0-9a-fA-F]{6}$/.test(b))this.Ud=b;else throw d='Invalid colour: "'+b+'"',a!=b&&(d+=' (from "'+a+'")'),Error(d);};
function L(a,b){var d=v.al;if(d)if(d=d.Ow[b],a.Xk=b,d)a.Rr=d.colourSecondary,a.Sr=d.colourTertiary,a.nh=d.nh,a.Qc(d.colourPrimary);else throw Error("Invalid style name: "+b);}function D(a,b){for(var d=0,e;e=a.M[d];d++)for(var f=0,h;h=e.na[f];f++)if(h.name===b)return h;return null}c.Uo=function(){for(var a=[],b=0,d;d=this.M[b];b++)for(var e=0,f;f=d.na[e];e++)f.Mk()&&a.push(f.getValue());return a};
c.Hf=function(){for(var a=[],b=0,d;d=this.M[b];b++)for(var e=0,f;f=d.na[e];e++)f.Mk()&&(f=this.o.me(f.getValue()))&&a.push(f);return a};c.rn=function(a){for(var b=0,d;d=this.M[b];b++)for(var e=0,f;f=d.na[e];e++)f.Mk()&&a.ea()==f.getValue()&&f.Gb(a.name)};c.Pk=function(a,b){for(var d=0,e;e=this.M[d];d++)for(var f=0,h;h=e.na[f];f++)h.Mk()&&a==h.getValue()&&h.setValue(b)};function C(a,b){return(a=D(a,b))?a.getValue():null}
function Ed(a,b,d){a=D(a,d);if(!a)throw Error('Field "'+d+'" not found.');a.setValue(b)}c.dc=function(a,b){if(a){void 0===b&&(b=null);if(!this.R){if(this.N)throw Error("Remove output connection prior to adding previous connection.");this.R=this.yk(v.ge)}this.R.Ga(b)}else if(this.R){if(this.R.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.R.D();this.R=null}};
c.cc=function(a,b){if(a)void 0===b&&(b=null),this.K||(this.K=this.yk(v.Ea)),this.K.Ga(b);else if(this.K){if(this.K.isConnected())throw Error("Must disconnect next statement before removing connection.");this.K.D();this.K=null}};
c.Rc=function(a,b){if(a){void 0===b&&(b=null);if(!this.N){if(this.R)throw Error("Remove previous connection prior to adding output connection.");this.N=this.yk(v.fe)}this.N.Ga(b)}else if(this.N){if(this.N.isConnected())throw Error("Must disconnect output value before removing connection.");this.N.D();this.N=null}};c.Id=function(a){this.ug!=a&&(v.j.Y(new v.j.nd(this,"inline",null,this.ug,a)),this.ug=a)};
function oh(a){if(void 0!=a.ug)return a.ug;for(var b=1;b<a.M.length;b++)if(a.M[b-1].type==v.mf&&a.M[b].type==v.mf)return!1;for(b=1;b<a.M.length;b++)if(a.M[b-1].type==v.Da&&a.M[b].type==v.mf)return!0;return!1}c.isEnabled=function(){return!this.disabled};c.Ub=function(a){this.isEnabled()!=a&&(v.j.Y(new v.j.nd(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Qh(a){for(a=Ph(a);a;){if(a.disabled)return!0;a=Ph(a)}return!1}c.isCollapsed=function(){return this.yf};
c.Ng=function(a){this.yf!=a&&(v.j.Y(new v.j.nd(this,"collapsed",null,this.yf,a)),this.yf=a)};c.toString=function(a,b){var d=[],e=b||"?";if(this.yf)d.push(F(this,"_TEMP_COLLAPSED_INPUT").na[0].Ba);else for(var f=0,h;h=this.M[f];f++){for(var k=0,l;l=h.na[k];k++)l instanceof M&&!l.getValue()?d.push(e):d.push(l.Eb());h.connection&&((h=E(h.connection))?d.push(h.toString(void 0,b)):d.push(e))}d=d.join(" ").trim()||"???";a&&d.length>a&&(d=d.substring(0,a-3)+"...");return d};
function N(a,b){return a.ie(v.Da,b)}function O(a,b){return a.ie(v.mf,b||"")}
function Rh(a,b){var d=b.type?'Block "'+b.type+'": ':"";if(b.output&&b.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");b.style&&b.style.nh&&(a.nh=b.style.nh,b.style=null);if(b.style&&b.colour)throw Error(d+"Must not have both a colour and a style.");if(b.style){var e=b.style;try{L(a,e)}catch(q){console.warn(d+"Style does not exist: ",e)}}else if("colour"in b)if(void 0===b.colour)console.warn(d+"Undefined colour value.");else{e=b.colour;try{a.Qc(e)}catch(q){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==b["message"+e];){for(var f=a,h=b["args"+e]||[],k=b["lastDummyAlign"+e],l=v.i.jA(b["message"+e]),m=[],n=0,u=[],x=0;x<l.length;x++){var r=l[x];if("number"==typeof r){if(0>=r||r>h.length)throw Error('Block "'+f.type+'": Message index %'+r+" out of range.");if(m[r])throw Error('Block "'+f.type+'": Message index %'+r+" duplicated.");m[r]=!0;n++;u.push(h[r-1])}else(r=r.trim())&&u.push(r)}if(n!=h.length)throw Error('Block "'+f.type+'": Message does not reference all '+
h.length+" arg(s).");u.length&&("string"==typeof u[u.length-1]||v.i.startsWith(u[u.length-1].type,"field_"))&&(x={type:"input_dummy"},k&&(x.align=k),u.push(x));k={LEFT:v.sj,RIGHT:v.di,CENTRE:v.ql};h=[];for(x=0;x<u.length;x++)if(m=u[x],"string"==typeof m)h.push([m,void 0]);else{l=r=null;do if(n=!1,"string"==typeof m)r=new Kh(m);else switch(m.type){case "input_value":l=N(f,m.name);break;case "input_statement":l=f.ie(v.Ea,m.name);break;case "input_dummy":l=O(f,m.name);break;default:r=(r=Ch[m.type])?
r.la(m):null,r||(m.alt?(m=m.alt,n=!0):console.warn("Blockly could not create a field of type "+m.type+". You may need to register your custom field.  See github.com/google/blockly/issues/1584"))}while(n);if(r)h.push([r,m.name]);else if(l){m.check&&l.Ga(m.check);m.align&&Nh(l,k[m.align]);for(m=0;m<h.length;m++)J(l,h[m][0],h[m][1]);h.length=0}}e++}void 0!==b.inputsInline&&a.Id(b.inputsInline);void 0!==b.output&&a.Rc(!0,b.output);void 0!==b.previousStatement&&a.dc(!0,b.previousStatement);void 0!==b.nextStatement&&
a.cc(!0,b.nextStatement);void 0!==b.tooltip&&(e=b.tooltip,e=v.i.pc(e),a.pa(e));void 0!==b.enableContextMenu&&(e=b.enableContextMenu,a.contextMenu=!!e);void 0!==b.helpUrl&&(e=b.helpUrl,e=v.i.pc(e),a.kb=e);"string"==typeof b.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+b.type+"' block."),b.extensions=[b.extensions]);void 0!==b.mutator&&v.S.apply(b.mutator,a,!0);if(Array.isArray(b.extensions))for(b=b.extensions,d=0;d<b.length;++d)v.S.apply(b[d],
a,!1)}function nh(a,b){var d=[],e;for(e in b)void 0!==a[e]&&d.push(e);if(d.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(d));for(var f in b)a[f]=b[f]}c.ie=function(a,b){var d=null;if(a==v.Da||a==v.Ea)d=this.yk(a);a=new Lh(a,b,this,d);this.M.push(a);return a};
function Sh(a,b,d){if(b!=d){for(var e=-1,f=d?-1:a.M.length,h=0,k;k=a.M[h];h++)if(k.name==b){if(e=h,-1!=f)break}else if(d&&k.name==d&&(f=h,-1!=e))break;if(-1==e)throw Error('Named input "'+b+'" not found.');if(-1==f)throw Error('Reference input "'+d+'" not found.');a.Bp(e,f)}}
c.Bp=function(a,b){if(a==b)throw Error("Can't move input to itself.");if(a>=this.M.length)throw RangeError("Input index "+a+" out of bounds.");if(b>this.M.length)throw RangeError("Reference input "+b+" out of bounds.");var d=this.M[a];this.M.splice(a,1);a<b&&b--;this.M.splice(b,0,d)};
c.Ua=function(a,b){for(var d=0,e;e=this.M[d];d++)if(e.name==a){e.connection&&e.connection.isConnected()&&(e.connection.we=null,a=E(e.connection),a.Na?a.D():Id(a));e.D();this.M.splice(d,1);return}if(!b)throw Error("Input not found: "+a);};function F(a,b){for(var d=0,e;e=a.M[d];d++)if(e.name==b)return e;return null}function Th(a,b){return(a=F(a,b))&&a.connection&&E(a.connection)}c.mm=function(){return this.cb||""};
c.Jh=function(a){this.cb!=a&&(v.j.Y(new v.j.nd(this,"comment",null,this.cb,a||"")),this.cb=a)};c.Of=function(){};c.ij=function(){};c.ua=function(){return this.Pd};c.moveBy=function(a,b){if(this.se)throw Error("Block has parent.");var d=new v.j.ei(this);this.Pd.translate(a,b);d.bf();v.j.Y(d)};c.yk=function(a){return new De(this,a)};function Me(a){var b=a.type?'"'+a.type+'" block':"Block";a.id&&(b+=' (id="'+a.id+'")');return b};v.i.nj={};v.i.nj.ak=function(a){a=a.L();var b=uh(a);b.height=a.scrollHeight;return b};v.i.nj.wr=function(a,b,d){b.left+=d.width;b.right+=d.width;a.left+=d.width;a.right+=d.width};function Uh(){0!=Vh&&(Wh[wa(this)]=this);this.Bf=this.Bf;this.If=this.If}var Vh=0,Wh={};Uh.prototype.Bf=!1;Uh.prototype.D=function(){if(!this.Bf&&(this.Bf=!0,this.Zb(),0!=Vh)){var a=wa(this);if(0!=Vh&&this.If&&0<this.If.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Wh[a]}};function Xh(a,b){a.Bf?b():(a.If||(a.If=[]),a.If.push(b))}Uh.prototype.Zb=function(){if(this.If)for(;this.If.length;)this.If.shift()()};
function Yh(a){a&&"function"==typeof a.D&&a.D()};function Zh(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Fh=!1;this.vu=!0}Zh.prototype.stopPropagation=function(){this.Fh=!0};Zh.prototype.preventDefault=function(){this.defaultPrevented=!0;this.vu=!1};var $h={li:ed?"pointerdown":fd?"MSPointerDown":"mousedown",mi:ed?"pointerup":fd?"MSPointerUp":"mouseup",ki:ed?"pointercancel":fd?"MSPointerCancel":"mousecancel",Zv:ed?"pointermove":fd?"MSPointerMove":"mousemove",aw:ed?"pointerover":fd?"MSPointerOver":"mouseover",$v:ed?"pointerout":fd?"MSPointerOut":"mouseout",Xv:ed?"pointerenter":fd?"MSPointerEnter":"mouseenter",Yv:ed?"pointerleave":fd?"MSPointerLeave":"mouseleave"},ai={li:"mousedown",mi:"mouseup",ki:"mousecancel",Zv:"mousemove",aw:"mouseover",$v:"mouseout",
Xv:"mouseenter",Yv:"mouseleave"};function bi(a,b){Zh.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Sp=!1;this.pointerId=0;this.pointerType="";this.Me=null;a&&this.J(a,b)}t(bi,Zh);var ci=[1,4,2],di={2:"touch",3:"pen",4:"mouse"};
bi.prototype.J=function(a,b){var d=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(ic){a:{try{dc(b.nodeName);var f=!0;break a}catch(h){}f=!1}f||(b=null)}}else"mouseover"==d?b=a.fromElement:"mouseout"==d&&(b=a.toElement);this.relatedTarget=b;e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=
e.screenY||0):(this.offsetX=z||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=z||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==d?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Sp=kc?a.metaKey:
a.ctrlKey;this.pointerId=a.pointerId||0;this.pointerType=p(a.pointerType)?a.pointerType:di[a.pointerType]||"";this.state=a.state;this.Me=a;a.defaultPrevented&&this.preventDefault()};function ei(a){return ad?0==a.Me.button:"click"==a.type?!0:!!(a.Me.button&ci[0])}bi.prototype.stopPropagation=function(){bi.v.stopPropagation.call(this);this.Me.stopPropagation?this.Me.stopPropagation():this.Me.cancelBubble=!0};
bi.prototype.preventDefault=function(){bi.v.preventDefault.call(this);var a=this.Me;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,cd)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var fi="closure_listenable_"+(1E6*Math.random()|0);function gi(a){return!(!a||!a[fi])}var hi=0;function ii(a,b,d,e,f){this.listener=a;this.proxy=null;this.src=b;this.type=d;this.capture=!!e;this.ym=f;this.key=++hi;this.fj=this.Jl=!1}function ji(a){a.fj=!0;a.listener=null;a.proxy=null;a.src=null;a.ym=null};function ki(a){this.src=a;this.fd={};this.il=0}ki.prototype.add=function(a,b,d,e,f){var h=a.toString();a=this.fd[h];a||(a=this.fd[h]=[],this.il++);var k=li(a,b,e,f);-1<k?(b=a[k],d||(b.Jl=!1)):(b=new ii(b,this.src,h,!!e,f),b.Jl=d,a.push(b));return b};ki.prototype.remove=function(a,b,d,e){a=a.toString();if(!(a in this.fd))return!1;var f=this.fd[a];b=li(f,b,d,e);return-1<b?(ji(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete this.fd[a],this.il--),!0):!1};
function mi(a,b){var d=b.type;d in a.fd&&Ma(a.fd[d],b)&&(ji(b),0==a.fd[d].length&&(delete a.fd[d],a.il--))}ki.prototype.removeAll=function(a){a=a&&a.toString();var b=0,d;for(d in this.fd)if(!a||d==a){for(var e=this.fd[d],f=0;f<e.length;f++)++b,ji(e[f]);delete this.fd[d];this.il--}return b};ki.prototype.Zj=function(a,b,d,e){a=this.fd[a.toString()];var f=-1;a&&(f=li(a,b,d,e));return-1<f?a[f]:null};
function li(a,b,d,e){for(var f=0;f<a.length;++f){var h=a[f];if(!h.fj&&h.listener==b&&h.capture==!!d&&h.ym==e)return f}return-1};var ni="closure_lm_"+(1E6*Math.random()|0),oi={},pi=0;function qi(a,b,d,e,f){if(e&&e.once)return ri(a,b,d,e,f);if(sa(b)){for(var h=0;h<b.length;h++)qi(a,b[h],d,e,f);return null}d=si(d);return gi(a)?a.Ia(b,d,va(e)?!!e.capture:!!e,f):ti(a,b,d,!1,e,f)}
function ti(a,b,d,e,f,h){if(!b)throw Error("Invalid event type");var k=va(f)?!!f.capture:!!f,l=ui(a);l||(a[ni]=l=new ki(a));d=l.add(b,d,e,k,h);if(d.proxy)return d;e=vi();d.proxy=e;e.src=a;e.listener=d;if(a.addEventListener)gd||(f=k),void 0===f&&(f=!1),a.addEventListener(b.toString(),e,f);else if(a.attachEvent)a.attachEvent(wi(b.toString()),e);else if(a.addListener&&a.removeListener)a.addListener(e);else throw Error("addEventListener and attachEvent are unavailable.");pi++;return d}
function vi(){var a=xi,b=bd?function(d){return a.call(b.src,b.listener,d)}:function(d){d=a.call(b.src,b.listener,d);if(!d)return d};return b}function ri(a,b,d,e,f){if(sa(b)){for(var h=0;h<b.length;h++)ri(a,b[h],d,e,f);return null}d=si(d);return gi(a)?a.Bt(b,d,va(e)?!!e.capture:!!e,f):ti(a,b,d,!0,e,f)}function yi(a,b,d,e,f){if(sa(b))for(var h=0;h<b.length;h++)yi(a,b[h],d,e,f);else e=va(e)?!!e.capture:!!e,d=si(d),gi(a)?a.Nd(b,d,e,f):a&&(a=ui(a))&&(b=a.Zj(b,d,e,f))&&zi(b)}
function zi(a){if(!na(a)&&a&&!a.fj){var b=a.src;if(gi(b))mi(b.Df,a);else{var d=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(d,e,a.capture):b.detachEvent?b.detachEvent(wi(d),e):b.addListener&&b.removeListener&&b.removeListener(e);pi--;(d=ui(b))?(mi(d,a),0==d.il&&(d.src=null,b[ni]=null)):ji(a)}}}function wi(a){return a in oi?oi[a]:oi[a]="on"+a}
function Ai(a,b,d,e){var f=!0;if(a=ui(a))if(b=a.fd[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var h=b[a];h&&h.capture==d&&!h.fj&&(h=Bi(h,e),f=f&&!1!==h)}return f}function Bi(a,b){var d=a.listener,e=a.ym||a.src;a.Jl&&zi(a);return d.call(e,b)}
function xi(a,b){if(a.fj)return!0;if(!bd){if(!b)a:{b=["window","event"];for(var d=g,e=0;e<b.length;e++)if(d=d[b[e]],null==d){b=null;break a}b=d}e=b;b=new bi(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(k){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=b.currentTarget;f;f=f.parentNode)e.push(f);a=a.type;for(f=e.length-1;!b.Fh&&0<=f;f--){b.currentTarget=e[f];var h=Ai(e[f],a,!0,b);d=d&&h}for(f=0;!b.Fh&&f<e.length;f++)b.currentTarget=
e[f],h=Ai(e[f],a,!1,b),d=d&&h}return d}return Bi(a,new bi(b,this))}function ui(a){a=a[ni];return a instanceof ki?a:null}var Ci="__closure_events_fn_"+(1E9*Math.random()>>>0);function si(a){if(ua(a))return a;a[Ci]||(a[Ci]=function(b){return a.handleEvent(b)});return a[Ci]};function Di(a){Uh.call(this);this.Li=a;this.Ui={}}t(Di,Uh);var Ei=[];c=Di.prototype;c.Ia=function(a,b,d,e){sa(b)||(b&&(Ei[0]=b.toString()),b=Ei);for(var f=0;f<b.length;f++){var h=qi(a,b[f],d||this.handleEvent,e||!1,this.Li||this);if(!h)break;this.Ui[h.key]=h}return this};c.Bt=function(a,b,d,e){return Fi(this,a,b,d,e)};function Fi(a,b,d,e,f,h){if(sa(d))for(var k=0;k<d.length;k++)Fi(a,b,d[k],e,f,h);else{b=ri(b,d,e||a.handleEvent,f,h||a.Li||a);if(!b)return a;a.Ui[b.key]=b}return a}
c.Nd=function(a,b,d,e,f){if(sa(b))for(var h=0;h<b.length;h++)this.Nd(a,b[h],d,e,f);else d=d||this.handleEvent,e=va(e)?!!e.capture:!!e,f=f||this.Li||this,d=si(d),e=!!e,b=gi(a)?a.Zj(b,d,e,f):a?(a=ui(a))?a.Zj(b,d,e,f):null:null,b&&(zi(b),delete this.Ui[b.key]);return this};c.removeAll=function(){eb(this.Ui,function(a,b){this.Ui.hasOwnProperty(b)&&zi(a)},this);this.Ui={}};c.Zb=function(){Di.v.Zb.call(this);this.removeAll()};
c.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Gi(){Uh.call(this);this.Df=new ki(this);this.Aw=this;this.Pp=null}t(Gi,Uh);Gi.prototype[fi]=!0;c=Gi.prototype;c.sm=function(){return this.Pp};c.rq=function(a){this.Pp=a};c.addEventListener=function(a,b,d,e){qi(this,a,b,d,e)};c.removeEventListener=function(a,b,d,e){yi(this,a,b,d,e)};
c.dispatchEvent=function(a){var b,d=this.sm();if(d)for(b=[];d;d=d.sm())b.push(d);d=this.Aw;var e=a.type||a;if(p(a))a=new Zh(a,d);else if(a instanceof Zh)a.target=a.target||d;else{var f=a;a=new Zh(e,d);gb(a,f)}f=!0;if(b)for(var h=b.length-1;!a.Fh&&0<=h;h--){var k=a.currentTarget=b[h];f=Hi(k,e,!0,a)&&f}a.Fh||(k=a.currentTarget=d,f=Hi(k,e,!0,a)&&f,a.Fh||(f=Hi(k,e,!1,a)&&f));if(b)for(h=0;!a.Fh&&h<b.length;h++)k=a.currentTarget=b[h],f=Hi(k,e,!1,a)&&f;return f};
c.Zb=function(){Gi.v.Zb.call(this);this.removeAllListeners();this.Pp=null};c.Ia=function(a,b,d,e){return this.Df.add(String(a),b,!1,d,e)};c.Bt=function(a,b,d,e){return this.Df.add(String(a),b,!0,d,e)};c.Nd=function(a,b,d,e){return this.Df.remove(String(a),b,d,e)};c.removeAllListeners=function(a){return this.Df?this.Df.removeAll(a):0};
function Hi(a,b,d,e){b=a.Df.fd[String(b)];if(!b)return!0;b=b.concat();for(var f=!0,h=0;h<b.length;++h){var k=b[h];if(k&&!k.fj&&k.capture==d){var l=k.listener,m=k.ym||k.src;k.Jl&&mi(a.Df,k);f=!1!==l.call(m,e)&&f}}return f&&0!=e.vu}c.Zj=function(a,b,d,e){return this.Df.Zj(String(a),b,d,e)};function Ii(){}qa(Ii);Ii.prototype.ez=0;Ii.prototype.By="";function Ji(a){Gi.call(this);this.cm=a||Dc();this.gj=Ki;this.Ni=null;this.Qa=!1;this.aa=null;this.ng=void 0;this.cg=this.Gc=this.Gd=this.Ap=null;this.cj=this.uA=!1}t(Ji,Gi);Ji.prototype.Ay=Ii.lg();var Ki=null;
function Li(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}c=Ji.prototype;c.ea=function(){var a;(a=this.Ni)||(a=this.Ay,a=this.Ni=a.By+":"+(a.ez++).toString(36));return a};c.L=function(){return this.aa};
function Mi(a){a.ng||(a.ng=new Di(a));return a.ng}c.Mh=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.Gd&&this.Ni&&Ni(this.Gd,this.Ni)&&this.Gd!=a)throw Error("Unable to set parent component");this.Gd=a;Ji.v.rq.call(this,a)};c.getParent=function(){return this.Gd};c.rq=function(a){if(this.Gd&&this.Gd!=a)throw Error("Method not supported");Ji.v.rq.call(this,a)};c.Re=function(){return this.cm};c.ba=function(){this.aa=this.cm.createElement("DIV")};c.ca=function(a){this.Jg(a)};
c.Jg=function(a,b){if(this.Qa)throw Error("Component already rendered");this.aa||this.ba();a?a.insertBefore(this.aa,b||null):this.cm.Je.body.appendChild(this.aa);this.Gd&&!this.Gd.Qa||this.vc()};c.vc=function(){this.Qa=!0;Oi(this,function(a){!a.Qa&&a.L()&&a.vc()})};c.Xd=function(){Oi(this,function(a){a.Qa&&a.Xd()});this.ng&&this.ng.removeAll();this.Qa=!1};
c.Zb=function(){this.Qa&&this.Xd();this.ng&&(this.ng.D(),delete this.ng);Oi(this,function(a){a.D()});!this.uA&&this.aa&&Oc(this.aa);this.Gd=this.Ap=this.aa=this.cg=this.Gc=null;Ji.v.Zb.call(this)};c.El=function(a,b){this.ri(a,Pi(this),b)};
c.ri=function(a,b,d){if(a.Qa&&(d||!this.Qa))throw Error("Component already rendered");if(0>b||b>Pi(this))throw Error("Child component index out of bounds");this.cg&&this.Gc||(this.cg={},this.Gc=[]);if(a.getParent()==this){var e=a.ea();this.cg[e]=a;Ma(this.Gc,a)}else{e=this.cg;var f=a.ea();if(null!==e&&f in e)throw Error('The object already contains the key "'+f+'"');e[f]=a}a.Mh(this);Pa(this.Gc,b,0,a);a.Qa&&this.Qa&&a.getParent()==this?(d=this.Dd(),b=d.childNodes[b]||null,b!=a.L()&&d.insertBefore(a.L(),
b)):d?(this.aa||this.ba(),b=P(this,b+1),a.Jg(this.Dd(),b?b.aa:null)):this.Qa&&!a.Qa&&a.aa&&a.aa.parentNode&&1==a.aa.parentNode.nodeType&&a.vc()};c.Dd=function(){return this.aa};function Qi(a){null==a.gj&&(a.gj="rtl"==qh(a.Qa?a.aa:a.cm.Je.body,"direction"));return a.gj}c.Nf=function(a){if(this.Qa)throw Error("Component already rendered");this.gj=a};function Ri(a){return!!a.Gc&&0!=a.Gc.length}function Pi(a){return a.Gc?a.Gc.length:0}
function Ni(a,b){a.cg&&b?(a=a.cg,b=(null!==a&&b in a?a[b]:void 0)||null):b=null;return b}function P(a,b){return a.Gc?a.Gc[b]||null:null}function Oi(a,b,d){a.Gc&&Ha(a.Gc,b,d)}function Si(a,b){return a.Gc&&b?Ga(a.Gc,b):-1}c.removeChild=function(a,b){if(a){var d=p(a)?a:a.ea();a=Ni(this,d);if(d&&a){var e=this.cg;d in e&&delete e[d];Ma(this.Gc,a);b&&(a.Xd(),a.aa&&Oc(a.aa));a.Mh(null)}}if(!a)throw Error("Child is not in parent component");return a};
c.qu=function(a){for(var b=[];Ri(this);)b.push(this.removeChild(P(this,0),a));return b};var Ti;hb("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));function Ui(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}
function Vi(a,b,d){sa(d)&&(d=d.join(" "));var e="aria-"+b;""===d||void 0==d?(Ti||(Ti={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),d=Ti,b in d?a.setAttribute(e,d[b]):a.removeAttribute(e)):a.setAttribute(e,d)};function Wi(a,b,d,e,f,h){if(z&&!tc("525"))return!0;if(kc&&f)return Xi(a);if(f&&!e)return!1;if(!ic){na(b)&&(b=Yi(b));var k=17==b||18==b||kc&&91==b;if((!d||kc)&&k||kc&&16==b&&(e||h))return!1}if((z||hc)&&e&&d)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(w&&e&&b==a)return!1;switch(a){case 13:return ic?h||f?!1:!(d&&e):!0;case 27:return!(z||hc||ic)}return ic&&(e||f||h)?!1:Xi(a)}
function Xi(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(z||hc)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return ic;default:return!1}}function Yi(a){if(ic)a=Zi(a);else if(kc&&z)switch(a){case 93:a=91}return a}
function Zi(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function $i(a,b){Gi.call(this);a&&aj(this,a,b)}t($i,Gi);c=$i.prototype;c.aa=null;c.Jm=null;c.mp=null;c.Km=null;c.td=-1;c.Ye=-1;c.Qn=!1;
var bj={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},cj={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},dj=!z||tc("525"),ej=kc&&ic;c=$i.prototype;
c.ky=function(a){if(z||hc)if(17==this.td&&!a.ctrlKey||18==this.td&&!a.altKey||kc&&91==this.td&&!a.metaKey)this.Ye=this.td=-1;-1==this.td&&(a.ctrlKey&&17!=a.keyCode?this.td=17:a.altKey&&18!=a.keyCode?this.td=18:a.metaKey&&91!=a.keyCode&&(this.td=91));dj&&!Wi(a.keyCode,this.td,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?this.handleEvent(a):(this.Ye=Yi(a.keyCode),ej&&(this.Qn=a.altKey))};c.ly=function(a){this.Ye=this.td=-1;this.Qn=a.altKey};
c.handleEvent=function(a){var b=a.Me,d=b.altKey;if(w&&"keypress"==a.type){var e=this.Ye;var f=13!=e&&27!=e?b.keyCode:0}else(z||hc)&&"keypress"==a.type?(e=this.Ye,f=0<=b.charCode&&63232>b.charCode&&Xi(e)?b.charCode:0):gc&&!z?(e=this.Ye,f=Xi(e)?b.keyCode:0):("keypress"==a.type?(ej&&(d=this.Qn),b.keyCode==b.charCode?32>b.keyCode?(e=b.keyCode,f=0):(e=this.Ye,f=b.charCode):(e=b.keyCode||this.Ye,f=b.charCode||0)):(e=b.keyCode||this.Ye,f=b.charCode||0),kc&&63==f&&224==e&&(e=191));var h=e=Yi(e);e?63232<=
e&&e in bj?h=bj[e]:25==e&&a.shiftKey&&(h=9):b.keyIdentifier&&b.keyIdentifier in cj&&(h=cj[b.keyIdentifier]);ic&&dj&&"keypress"==a.type&&!Wi(h,this.td,a.shiftKey,a.ctrlKey,d,a.metaKey)||(a=h==this.td,this.td=h,b=new fj(h,f,a,b),b.altKey=d,this.dispatchEvent(b))};c.L=function(){return this.aa};function aj(a,b,d){a.Km&&a.detach();a.aa=b;a.Jm=qi(a.aa,"keypress",a,d);a.mp=qi(a.aa,"keydown",a.ky,d,a);a.Km=qi(a.aa,"keyup",a.ly,d,a)}
c.detach=function(){this.Jm&&(zi(this.Jm),zi(this.mp),zi(this.Km),this.Km=this.mp=this.Jm=null);this.aa=null;this.Ye=this.td=-1};c.Zb=function(){$i.v.Zb.call(this);this.detach()};function fj(a,b,d,e){bi.call(this,e);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=d}t(fj,bi);function gj(a){if(a.classList)return a.classList;a=a.className;return p(a)&&a.match(/\S+/g)||[]}function hj(a,b){return a.classList?a.classList.contains(b):La(gj(a),b)}function ij(a,b){a.classList?a.classList.add(b):hj(a,b)||(a.className+=0<a.className.length?" "+b:b)}function jj(a,b){if(a.classList)Ha(b,function(f){ij(a,f)});else{var d={};Ha(gj(a),function(f){d[f]=!0});Ha(b,function(f){d[f]=!0});a.className="";for(var e in d)a.className+=0<a.className.length?" "+e:e}}
function kj(a,b){a.classList?a.classList.remove(b):hj(a,b)&&(a.className=Ia(gj(a),function(d){return d!=b}).join(" "))}function lj(a,b){a.classList?Ha(b,function(d){kj(a,d)}):a.className=Ia(gj(a),function(d){return!La(b,d)}).join(" ")};function mj(a,b){if(!a)throw Error("Invalid class name "+a);if(!ua(b))throw Error("Invalid decorator function "+b);}var nj={};function oj(a){this.zr=a}qa(oj);c=oj.prototype;c.hm=function(){return this.zr};function pj(a,b){a&&(a.tabIndex=b?0:-1)}c.ba=function(a){return a.Re().ba("DIV",this.lm(a).join(" "))};c.Dd=function(a){return a};c.nk=function(a){a=a.L();yh(a,!0,ic);w&&(a.hideFocus=!0);var b=this.hm();b&&Ui(a,b)};c.hc=function(a){return a.L()};c.Ic=function(){return"goog-container"};c.lm=function(a){var b=this.Ic(),d=[b,a.Eh==qj?b+"-horizontal":b+"-vertical"];a.isEnabled()||d.push(b+"-disabled");return d};function rj(){}var sj;qa(rj);var tj={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};c=rj.prototype;c.hm=function(){};c.ba=function(a){return a.Re().ba("DIV",this.lm(a).join(" "),a.kg())};c.Dd=function(a){return a};c.Qj=function(a,b,d){if(a=a.L?a.L():a){var e=[b];w&&!tc("7")&&(e=uj(gj(a),b),e.push(b));(d?jj:lj)(a,e)}};c.nk=function(a){Qi(a)&&this.Nf(a.L(),!0);a.isEnabled()&&this.Pg(a,a.isVisible())};
function vj(a,b,d){if(a=d||a.hm())d=b.getAttribute("role")||null,a!=d&&Ui(b,a)}function wj(a,b,d){var e=b.yr;null!=e&&a.lq(d,e);b.isVisible()||Vi(d,"hidden",!b.isVisible());b.isEnabled()||xj(d,1,!b.isEnabled());b.Vb&8&&xj(d,8,b.Gm());b.Vb&16&&xj(d,16,!!(b.Za&16));b.Vb&64&&xj(d,64,b.Ri())}c.lq=function(a,b){Vi(a,"label",b)};c.kq=function(a,b){yh(a,!b,!w&&!gc)};c.Nf=function(a,b){this.Qj(a,this.Ic()+"-rtl",b)};c.xg=function(a){var b;return a.Vb&32&&(b=a.hc())?Tc(b)&&Uc(b):!1};
c.Pg=function(a,b){var d;if(a.Vb&32&&(d=a.hc())){if(!b&&a.Za&32){try{d.blur()}catch(e){}a.Za&32&&a.ek(null)}(Tc(d)&&Uc(d))!=b&&(a=d,b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex")))}};c.za=function(a,b){wh(a,b);a&&Vi(a,"hidden",!b)};c.ve=function(a,b,d){var e=a.L();if(e){var f=this.km(b);f&&this.Qj(a,f,d);xj(e,b,d)}};
function xj(a,b,d){sj||(sj={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=sj[b];var e=a.getAttribute("role")||null;e&&(e=tj[e]||b,b="checked"==b||"selected"==b?e:b);b&&Vi(a,b,d)}c.cf=function(a,b){var d=this.Dd(a);d&&(Nc(d),b&&(p(b)?Qc(d,b):(a=function(e){if(e){var f=Fc(d);d.appendChild(p(e)?f.createTextNode(e):e)}},sa(b)?Ha(b,a):!ta(b)||"nodeType"in b?a(b):Ha(Oa(b),a))))};c.hc=function(a){return a.L()};c.Ic=function(){return"goog-control"};
c.lm=function(a){var b=this.Ic(),d=[b],e=this.Ic();e!=b&&d.push(e);b=a.getState();for(e=[];b;){var f=b&-b;e.push(this.km(f));b&=~f}d.push.apply(d,e);(a=a.Ne)&&d.push.apply(d,a);w&&!tc("7")&&d.push.apply(d,uj(d));return d};function uj(a,b){var d=[];b&&(a=Na(a,[b]));Ha([],function(e){!Ka(e,Ca(La,a))||b&&!La(e,b)||d.push(e.join("_"))});return d}
c.km=function(a){if(!this.Lr){var b=this.Ic();b.replace(/\xa0|\s/g," ");this.Lr={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}}return this.Lr[a]};function yj(a,b,d){Ji.call(this,d);if(!b){b=this.constructor;for(var e;b;){e=wa(b);if(e=nj[e])break;b=b.v?b.v.constructor:null}b=e?ua(e.lg)?e.lg():new e:null}this.Ka=b;this.pd=void 0!==a?a:null;this.yr=null}t(yj,Ji);c=yj.prototype;c.pd=null;c.Za=0;c.Vb=39;c.Iw=255;c.Wk=0;c.ob=!0;c.Ne=null;c.fk=!0;c.Pn=!1;c.Dz=null;c.hc=function(){return this.Ka.hc(this)};c.pm=function(){return this.Nc||(this.Nc=new $i)};
c.Qj=function(a,b){b?a&&(this.Ne?La(this.Ne,a)||this.Ne.push(a):this.Ne=[a],this.Ka.Qj(this,a,!0)):a&&this.Ne&&Ma(this.Ne,a)&&(0==this.Ne.length&&(this.Ne=null),this.Ka.Qj(this,a,!1))};c.ba=function(){var a=this.Ka.ba(this);this.aa=a;vj(this.Ka,a,this.tm());this.Pn||this.Ka.kq(a,!1);this.isVisible()||this.Ka.za(a,!1)};c.tm=function(){return this.Dz};c.lq=function(a){this.yr=a;var b=this.L();b&&this.Ka.lq(b,a)};c.Dd=function(){return this.Ka.Dd(this.L())};
c.vc=function(){yj.v.vc.call(this);wj(this.Ka,this,this.aa);this.Ka.nk(this);if(this.Vb&-2&&(this.fk&&zj(this,!0),this.Vb&32)){var a=this.hc();if(a){var b=this.pm();aj(b,a);Mi(this).Ia(b,"key",this.ne).Ia(a,"focus",this.wm).Ia(a,"blur",this.ek)}}};
function zj(a,b){var d=a.cj?$h:ai,e=Mi(a),f=a.L();b?(e.Ia(f,d.li,a.Ji).Ia(f,[d.mi,d.ki],a.Ki).Ia(f,"mouseover",a.Yo).Ia(f,"mouseout",a.Xo),a.cj&&e.Ia(f,"gotpointercapture",a.Zm),a.Ii!=pa&&e.Ia(f,"contextmenu",a.Ii),w&&(tc(9)||e.Ia(f,"dblclick",a.at),a.lk||(a.lk=new Aj(a),Xh(a,Ca(Yh,a.lk))))):(e.Nd(f,d.li,a.Ji).Nd(f,[d.mi,d.ki],a.Ki).Nd(f,"mouseover",a.Yo).Nd(f,"mouseout",a.Xo),a.cj&&e.Nd(f,"gotpointercapture",a.Zm),a.Ii!=pa&&e.Nd(f,"contextmenu",a.Ii),w&&(tc(9)||e.Nd(f,"dblclick",a.at),Yh(a.lk),a.lk=
null))}c.Xd=function(){yj.v.Xd.call(this);this.Nc&&this.Nc.detach();this.isVisible()&&this.isEnabled()&&this.Ka.Pg(this,!1)};c.Zb=function(){yj.v.Zb.call(this);this.Nc&&(this.Nc.D(),delete this.Nc);delete this.Ka;this.lk=this.Ne=this.pd=null};c.kg=function(){return this.pd};c.cf=function(a){this.Ka.cf(this.L(),a);this.pd=a};
c.Mo=function(){var a=this.kg();if(!a)return"";if(!p(a))if(sa(a))a=Ja(a,Vc).join("");else{if(xc&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Wc(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");xc||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""))}return Zb(a)};c.Nf=function(a){yj.v.Nf.call(this,a);var b=this.L();b&&this.Ka.Nf(b,a)};c.kq=function(a){this.Pn=a;var b=this.L();b&&this.Ka.kq(b,a)};
c.isVisible=function(){return this.ob};c.za=function(a,b){return b||this.ob!=a&&this.dispatchEvent(a?"show":"hide")?((b=this.L())&&this.Ka.za(b,a),this.isEnabled()&&this.Ka.Pg(this,a),this.ob=a,!0):!1};c.isEnabled=function(){return!(this.Za&1)};c.Ub=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!Bj(this,1,!a)||(a||(this.setActive(!1),this.ud(!1)),this.isVisible()&&this.Ka.Pg(this,a),this.ve(1,!a,!0))};c.ud=function(a){Bj(this,2,a)&&this.ve(2,a)};
c.setActive=function(a){Bj(this,4,a)&&this.ve(4,a)};c.Gm=function(){return!!(this.Za&8)};function Cj(a,b){Bj(a,16,b)&&a.ve(16,b)}c.Ri=function(){return!!(this.Za&64)};function Dj(a,b){Bj(a,64,b)&&a.ve(64,b)}c.getState=function(){return this.Za};c.ve=function(a,b,d){d||1!=a?this.Vb&a&&b!=!!(this.Za&a)&&(this.Ka.ve(this,a,b),this.Za=b?this.Za|a:this.Za&~a):this.Ub(!b)};
c.Jd=function(a,b){if(this.Qa&&this.Za&a&&!b)throw Error("Component already rendered");!b&&this.Za&a&&this.ve(a,!1);this.Vb=b?this.Vb|a:this.Vb&~a};function Ej(a,b){return!!(a.Iw&b)&&!!(a.Vb&b)}function Bj(a,b,d){return!!(a.Vb&b)&&!!(a.Za&b)!=d&&(!(a.Wk&b)||a.dispatchEvent(Li(b,d)))&&!a.Bf}c.Yo=function(a){!Fj(a,this.L())&&this.dispatchEvent("enter")&&this.isEnabled()&&Ej(this,2)&&this.ud(!0)};
c.Xo=function(a){!Fj(a,this.L())&&this.dispatchEvent("leave")&&(Ej(this,4)&&this.setActive(!1),Ej(this,2)&&this.ud(!1))};c.Zm=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};c.Ii=pa;function Fj(a,b){return!!a.relatedTarget&&Pc(b,a.relatedTarget)}c.Ji=function(a){this.isEnabled()&&(Ej(this,2)&&this.ud(!0),!ei(a)||z&&kc&&a.ctrlKey||(Ej(this,4)&&this.setActive(!0),this.Ka&&this.Ka.xg(this)&&this.hc().focus()));this.Pn||!ei(a)||z&&kc&&a.ctrlKey||a.preventDefault()};
c.Ki=function(a){this.isEnabled()&&(Ej(this,2)&&this.ud(!0),this.Za&4&&Gj(this,a)&&Ej(this,4)&&this.setActive(!1))};c.at=function(a){this.isEnabled()&&Gj(this,a)};function Gj(a,b){Ej(a,16)&&Cj(a,!(a.Za&16));Ej(a,8)&&Bj(a,8,!0)&&a.ve(8,!0);Ej(a,64)&&Dj(a,!a.Ri());var d=new Zh("action",a);b&&(d.altKey=b.altKey,d.ctrlKey=b.ctrlKey,d.metaKey=b.metaKey,d.shiftKey=b.shiftKey,d.Sp=b.Sp);return a.dispatchEvent(d)}c.wm=function(){Ej(this,32)&&Bj(this,32,!0)&&this.ve(32,!0)};
c.ek=function(){Ej(this,4)&&this.setActive(!1);Ej(this,32)&&Bj(this,32,!1)&&this.ve(32,!1)};c.ne=function(a){return this.isVisible()&&this.isEnabled()&&this.kh(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};c.kh=function(a){return 13==a.keyCode&&Gj(this,a)};if(!ua(yj))throw Error("Invalid component class "+yj);if(!ua(rj))throw Error("Invalid renderer class "+rj);var Hj=wa(yj);nj[Hj]=rj;mj("goog-control",function(){return new yj(null)});
function Aj(a){Uh.call(this);this.Tl=a;this.Nl=!1;this.Li=new Di(this);Xh(this,Ca(Yh,this.Li));a=this.Tl.aa;this.Li.Ia(a,"mousedown",this.ny).Ia(a,"mouseup",this.oy).Ia(a,"click",this.ay)}t(Aj,Uh);var Ij=!w||9<=Number(uc);Aj.prototype.ny=function(){this.Nl=!1};Aj.prototype.oy=function(){this.Nl=!0};
function Jj(a,b){if(!Ij)return a.button=0,a.type=b,a;var d=document.createEvent("MouseEvents");d.initMouseEvent(b,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,a.relatedTarget||null);return d}Aj.prototype.ay=function(a){if(this.Nl)this.Nl=!1;else{var b=a.Me,d=b.button,e=b.type,f=Jj(b,"mousedown");this.Tl.Ji(new bi(f,a.currentTarget));f=Jj(b,"mouseup");this.Tl.Ki(new bi(f,a.currentTarget));Ij||(b.button=d,b.type=e)}};
Aj.prototype.Zb=function(){this.Tl=null;Aj.v.Zb.call(this)};function Kj(a,b,d){Ji.call(this,d);this.Ka=b||oj.lg();this.Eh=a||Lj}t(Kj,Ji);var qj="horizontal",Lj="vertical";c=Kj.prototype;c.np=null;c.Nc=null;c.Ka=null;c.Eh=null;c.ob=!0;c.hh=!0;c.Io=!0;c.sb=-1;c.ac=null;c.Zi=!1;c.Fw=!1;c.Az=!0;c.wf=null;c.hc=function(){return this.np||this.Ka.hc(this)};c.pm=function(){return this.Nc||(this.Nc=new $i(this.hc()))};c.ba=function(){this.aa=this.Ka.ba(this)};c.Dd=function(){return this.Ka.Dd(this.L())};
c.vc=function(){Kj.v.vc.call(this);Oi(this,function(d){d.Qa&&Mj(this,d)},this);var a=this.L();this.Ka.nk(this);this.za(this.ob,!0);var b=this.cj?$h:ai;Mi(this).Ia(this,"enter",this.Vo).Ia(this,"highlight",this.jy).Ia(this,"unhighlight",this.ty).Ia(this,"open",this.py).Ia(this,"close",this.by).Ia(a,b.li,this.Ji).Ia(Fc(a),[b.mi,b.ki],this.ey).Ia(a,[b.li,b.mi,b.ki,"mouseover","mouseout","contextmenu"],this.$x);this.cj&&Mi(this).Ia(a,"gotpointercapture",this.Zm);this.xg()&&Nj(this,!0)};
c.Zm=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};function Nj(a,b){var d=Mi(a),e=a.hc();b?d.Ia(e,"focus",a.wm).Ia(e,"blur",a.ek).Ia(a.pm(),"key",a.ne):d.Nd(e,"focus",a.wm).Nd(e,"blur",a.ek).Nd(a.pm(),"key",a.ne)}c.Xd=function(){this.hj(-1);this.ac&&Dj(this.ac,!1);this.Zi=!1;Kj.v.Xd.call(this)};c.Zb=function(){Kj.v.Zb.call(this);this.Nc&&(this.Nc.D(),this.Nc=null);this.Ka=this.ac=this.wf=this.np=null};c.Vo=function(){return!0};
c.jy=function(a){var b=Si(this,a.target);if(-1<b&&b!=this.sb){var d=P(this,this.sb);d&&d.ud(!1);this.sb=b;d=P(this,this.sb);this.Zi&&d.setActive(!0);this.Az&&this.ac&&d!=this.ac&&(d.Vb&64?Dj(d,!0):Dj(this.ac,!1))}b=this.L();null!=a.target.L()&&Vi(b,"activedescendant",a.target.L().id)};c.ty=function(a){a.target==P(this,this.sb)&&(this.sb=-1);this.L().removeAttribute("aria-activedescendant")};c.py=function(a){(a=a.target)&&a!=this.ac&&a.getParent()==this&&(this.ac&&Dj(this.ac,!1),this.ac=a)};
c.by=function(a){a.target==this.ac&&(this.ac=null);var b=this.L(),d=a.target.L();b&&a.target.Za&2&&d&&(a="",d&&(a=d.id),Vi(b,"activedescendant",a))};c.Ji=function(a){this.hh&&(this.Zi=!0);var b=this.hc();b&&Tc(b)&&Uc(b)?b.focus():a.preventDefault()};c.ey=function(){this.Zi=!1};
c.$x=function(a){var b=this.cj?$h:ai;a:{var d=a.target;if(this.wf)for(var e=this.L();d&&d!==e;){var f=d.id;if(f in this.wf){d=this.wf[f];break a}d=d.parentNode}d=null}if(d)switch(a.type){case b.li:d.Ji(a);break;case b.mi:case b.ki:d.Ki(a);break;case "mouseover":d.Yo(a);break;case "mouseout":d.Xo(a);break;case "contextmenu":d.Ii(a)}};c.wm=function(){};c.ek=function(){this.hj(-1);this.Zi=!1;this.ac&&Dj(this.ac,!1)};
c.ne=function(a){return this.isEnabled()&&this.isVisible()&&(0!=Pi(this)||this.np)&&this.kh(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
c.kh=function(a){var b=P(this,this.sb);if(b&&"function"==typeof b.ne&&b.ne(a)||this.ac&&this.ac!=b&&"function"==typeof this.ac.ne&&this.ac.ne(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.xg())this.hc().blur();else return!1;break;case 36:Oj(this);break;case 35:Pj(this);break;case 38:if(this.Eh==Lj)Qj(this);else return!1;break;case 37:if(this.Eh==qj)Qi(this)?Rj(this):Qj(this);else return!1;break;case 40:if(this.Eh==Lj)Rj(this);else return!1;break;
case 39:if(this.Eh==qj)Qi(this)?Qj(this):Rj(this);else return!1;break;default:return!1}return!0};function Mj(a,b){var d=b.L();d=d.id||(d.id=b.ea());a.wf||(a.wf={});a.wf[d]=b}c.El=function(a,b){Kj.v.El.call(this,a,b)};
c.ri=function(a,b,d){a.Wk|=2;a.Wk|=64;!this.xg()&&this.Fw||a.Jd(32,!1);a.Qa&&0!=a.fk&&zj(a,!1);a.fk=!1;var e=a.getParent()==this?Si(this,a):-1;Kj.v.ri.call(this,a,b,d);a.Qa&&this.Qa&&Mj(this,a);a=e;-1==a&&(a=Pi(this));a==this.sb?this.sb=Math.min(Pi(this)-1,b):a>this.sb&&b<=this.sb?this.sb++:a<this.sb&&b>this.sb&&this.sb--};
c.removeChild=function(a,b){if(a=p(a)?Ni(this,a):a){var d=Si(this,a);-1!=d&&(d==this.sb?(a.ud(!1),this.sb=-1):d<this.sb&&this.sb--);var e=a.L();e&&e.id&&this.wf&&(d=this.wf,e=e.id,e in d&&delete d[e])}b=a=Kj.v.removeChild.call(this,a,b);b.Qa&&1!=b.fk&&zj(b,!0);b.fk=!0;return a};c.setOrientation=function(a){if(this.L())throw Error("Component already rendered");this.Eh=a};c.isVisible=function(){return this.ob};
c.za=function(a,b){if(b||this.ob!=a&&this.dispatchEvent(a?"show":"hide")){this.ob=a;var d=this.L();d&&(wh(d,a),this.xg()&&pj(this.hc(),this.hh&&this.ob),b||this.dispatchEvent(this.ob?"aftershow":"afterhide"));return!0}return!1};c.isEnabled=function(){return this.hh};
c.Ub=function(a){this.hh!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.hh=!0,Oi(this,function(b){b.$u?delete b.$u:b.Ub(!0)})):(Oi(this,function(b){b.isEnabled()?b.Ub(!1):b.$u=!0}),this.Zi=this.hh=!1),this.xg()&&pj(this.hc(),a&&this.ob))};c.xg=function(){return this.Io};c.Pg=function(a){a!=this.Io&&this.Qa&&Nj(this,a);this.Io=a;this.hh&&this.ob&&pj(this.hc(),a)};c.hj=function(a){(a=P(this,a))?a.ud(!0):-1<this.sb&&P(this,this.sb).ud(!1)};c.ud=function(a){this.hj(Si(this,a))};
function Oj(a){Sj(a,function(b,d){return(b+1)%d},Pi(a)-1)}function Pj(a){Sj(a,function(b,d){b--;return 0>b?d-1:b},0)}function Rj(a){Sj(a,function(b,d){return(b+1)%d},a.sb)}function Qj(a){Sj(a,function(b,d){b--;return 0>b?d-1:b},a.sb)}function Sj(a,b,d){d=0>d?Si(a,a.ac):d;var e=Pi(a);d=b.call(a,d,e);for(var f=0;f<=e;){var h=P(a,d);if(h&&a.Gr(h)){a.hj(d);break}f++;d=b.call(a,d,e)}}c.Gr=function(a){return a.isVisible()&&a.isEnabled()&&!!(a.Vb&2)};function Tj(){}t(Tj,rj);qa(Tj);Tj.prototype.Ic=function(){return"goog-menuheader"};function Uj(a,b,d){yj.call(this,a,d||Tj.lg(),b);this.Jd(1,!1);this.Jd(2,!1);this.Jd(4,!1);this.Jd(32,!1);this.Za=1}t(Uj,yj);mj("goog-menuheader",function(){return new Uj(null)});function Vj(){this.Mr=[]}t(Vj,rj);qa(Vj);function Wj(a,b){var d=a.Mr[b];if(!d){switch(b){case 0:d=a.Ic()+"-highlight";break;case 1:d=a.Ic()+"-checkbox";break;case 2:d=a.Ic()+"-content"}a.Mr[b]=d}return d}c=Vj.prototype;c.hm=function(){return"menuitem"};c.ba=function(a){var b=a.Re().ba("DIV",this.lm(a).join(" "),Xj(this,a.kg(),a.Re()));Yj(this,a,b,!!(a.Vb&8)||!!(a.Vb&16));return b};c.Dd=function(a){return a&&a.firstChild};
c.cf=function(a,b){var d=this.Dd(a),e=Zj(this,a)?d.firstChild:null;Vj.v.cf.call(this,a,b);e&&!Zj(this,a)&&d.insertBefore(e,d.firstChild||null)};function Xj(a,b,d){a=Wj(a,2);return d.ba("DIV",a,b)}c.Cu=function(a,b,d){a&&b&&Yj(this,a,b,d)};c.nq=function(a,b,d){a&&b&&Yj(this,a,b,d)};function Zj(a,b){return(b=a.Dd(b))?(b=b.firstChild,a=Wj(a,1),!!b&&va(b)&&1==b.nodeType&&hj(b,a)):!1}
function Yj(a,b,d,e){vj(a,d,b.tm());wj(a,b,d);e!=Zj(a,d)&&(e?ij(d,"goog-option"):kj(d,"goog-option"),d=a.Dd(d),e?(a=Wj(a,1),d.insertBefore(b.Re().ba("DIV",a),d.firstChild||null)):d.removeChild(d.firstChild))}c.km=function(a){switch(a){case 2:return Wj(this,0);case 16:case 8:return"goog-option-selected";default:return Vj.v.km.call(this,a)}};c.Ic=function(){return"goog-menuitem"};function ak(a,b,d,e){yj.call(this,a,e||Vj.lg(),d);this.setValue(b)}t(ak,yj);c=ak.prototype;c.getValue=function(){var a=this.Ap;return null!=a?a:this.Mo()};c.setValue=function(a){this.Ap=a};c.Jd=function(a,b){ak.v.Jd.call(this,a,b);switch(a){case 8:this.Za&16&&!b&&Cj(this,!1);(a=this.L())&&this.Ka.Cu(this,a,b);break;case 16:(a=this.L())&&this.Ka.nq(this,a,b)}};c.Cu=function(a){this.Jd(8,a)};c.nq=function(a){this.Jd(16,a)};
c.Mo=function(){var a=this.kg();return sa(a)?(a=Ja(a,function(b){return va(b)&&1==b.nodeType&&(hj(b,"goog-menuitem-accel")||hj(b,"goog-menuitem-mnemonic-separator"))?"":Vc(b)}).join(""),Zb(a)):ak.v.Mo.call(this)};c.Ki=function(a){var b=this.getParent();if(b){var d=b.Zt;b.Zt=null;if(d&&na(a.clientX)&&yc(d,new A(a.clientX,a.clientY)))return}ak.v.Ki.call(this,a)};c.kh=function(a){return a.keyCode==this.Gt&&Gj(this,a)?!0:ak.v.kh.call(this,a)};c.Yx=function(){return this.Gt};mj("goog-menuitem",function(){return new ak(null)});
ak.prototype.tm=function(){return this.Vb&16?"menuitemcheckbox":this.Vb&8?"menuitemradio":ak.v.tm.call(this)};ak.prototype.getParent=function(){return yj.prototype.getParent.call(this)};ak.prototype.sm=function(){return yj.prototype.sm.call(this)};function bk(){}t(bk,rj);qa(bk);bk.prototype.ba=function(a){return a.Re().ba("DIV",this.Ic())};bk.prototype.cf=function(){};bk.prototype.Ic=function(){return"goog-menuseparator"};function ck(a,b){yj.call(this,null,a||bk.lg(),b);this.Jd(1,!1);this.Jd(2,!1);this.Jd(4,!1);this.Jd(32,!1);this.Za=1}t(ck,yj);ck.prototype.vc=function(){ck.v.vc.call(this);var a=this.L();Ui(a,"separator")};mj("goog-menuseparator",function(){return new ck});function dk(a){this.zr=a||"menu"}t(dk,oj);qa(dk);dk.prototype.Ic=function(){return"goog-menu"};dk.prototype.nk=function(a){dk.v.nk.call(this,a);a=a.L();Vi(a,"haspopup","true")};mj("goog-menuseparator",function(){return new ck});function ek(a,b){Kj.call(this,Lj,b||dk.lg(),a);this.Pg(!1)}t(ek,Kj);c=ek.prototype;c.Fl=!0;c.Gw=!1;c.Ic=function(){return this.Ka.Ic()};c.removeItem=function(a){(a=this.removeChild(a,!0))&&a.D()};c.setPosition=function(a,b){var d=this.isVisible();d||wh(this.L(),!0);var e=this.L(),f=a;a=sh(e);f instanceof A&&(b=f.y,f=f.x);var h=e.offsetLeft+(f-a.x);h instanceof A?(f=h.x,b=h.y):(f=h,b=e.offsetTop+(Number(b)-a.y));e.style.left=th(f);e.style.top=th(b);d||wh(this.L(),!1)};
c.Ws=function(){return this.isVisible()?sh(this.L()):null};c.za=function(a,b,d){(b=ek.v.za.call(this,a,b))&&a&&this.Qa&&this.Fl&&this.hc().focus();this.Zt=a&&d&&na(d.clientX)?new A(d.clientX,d.clientY):null;return b};c.Vo=function(a){this.Fl&&this.hc().focus();return ek.v.Vo.call(this,a)};c.Gr=function(a){return(this.Gw||a.isEnabled())&&a.isVisible()&&!!(a.Vb&2)};
c.kh=function(a){var b=ek.v.kh.call(this,a);b||Oi(this,function(d){!b&&d.Yx&&d.Gt==a.keyCode&&(this.isEnabled()&&this.ud(d),b=d.ne(a))},this);return b};
c.hj=function(a){ek.v.hj.call(this,a);if(a=P(this,a)){var b=a.L();a=this.L()||Kc(document);var d=a||Kc(document);var e=sh(b),f=sh(d);if(!w||9<=Number(uc)){k=ph(d,"borderLeftWidth");var h=ph(d,"borderRightWidth");l=ph(d,"borderTopWidth");m=ph(d,"borderBottomWidth");h=new xg(parseFloat(l),parseFloat(h),parseFloat(m),parseFloat(k))}else{var k=Ah(d,"borderLeft");h=Ah(d,"borderRight");var l=Ah(d,"borderTop"),m=Ah(d,"borderBottom");h=new xg(l,h,m,k)}d==Kc(document)?(k=e.x-d.scrollLeft,e=e.y-d.scrollTop,
!w||10<=Number(uc)||(k+=h.left,e+=h.top)):(k=e.x-f.x-h.left,e=e.y-f.y-h.top);b=vh(b);f=d.clientHeight-b.height;h=d.scrollLeft;l=d.scrollTop;h+=Math.min(k,Math.max(k-(d.clientWidth-b.width),0));l+=Math.min(e,Math.max(e-f,0));d=new A(h,l);a.scrollLeft=d.x;a.scrollTop=d.y}};v.ka={};v.ka.Ul=null;v.ka.Ls=null;v.ka.show=function(a,b,d){v.O.show(v.ka,d,null);if(b.length){var e=v.ka.Xm(b,d);qi(e,"action",v.ka.xa);v.ka.Oc(e,a,d);setTimeout(function(){e.L().focus()},1);v.ka.Ul=null}else v.ka.xa()};v.ka.Xm=function(a,b){var d=new ek;d.Nf(b);for(var e=0,f;f=a[e];e++){var h=new ak(f.text);h.Nf(b);d.El(h,!0);h.Ub(f.enabled);f.enabled&&(qi(h,"action",f.bb),h.Ii=function(){this.dispatchEvent("action")})}return d};
v.ka.Oc=function(a,b,d){var e=v.i.Xs();b={top:b.clientY+e.top,bottom:b.clientY+e.top,left:b.clientX+e.left,right:b.clientX+e.left};v.ka.Mj(a);var f=v.i.nj.ak(a);d&&v.i.nj.wr(e,b,f);v.O.du(e,b,f,d);a.L().focus()};v.ka.Mj=function(a){a.ca(v.O.ra);var b=a.L();v.i.Ya(b,"blocklyContextMenu");v.W(b,"contextmenu",null,v.i.fz);a.Fl=!0;a.Pg(!0)};v.ka.xa=function(){v.O.ik(v.ka);v.ka.Ul=null;v.ka.Ls&&v.Sa(v.ka.Ls)};
v.ka.Kl=function(a,b){return function(){v.j.disable();try{var d=v.B.zi(b,a.o),e=a.ua();e.x=a.w?e.x-v.Uc:e.x+v.Uc;e.y+=2*v.Uc;d.moveBy(e.x,e.y)}finally{v.j.enable()}v.j.isEnabled()&&!d.Na&&v.j.Y(new v.j.vl(d));d.select()}};v.ka.Lw=function(a){var b=Yc(a,!1).length,d=Zc(a);d&&(b-=Yc(d,!1).length);return{text:1==b?v.g.DELETE_BLOCK:v.g.DELETE_X_BLOCKS.replace("%1",String(b)),enabled:!0,bb:function(){v.j.T(!0);a.D(!0,!0);v.j.T(!1)}}};
v.ka.Nw=function(a){return{enabled:!("function"==typeof a.kb?!a.kb():!a.kb),text:v.g.HELP,bb:function(){var b="function"==typeof a.kb?a.kb():a.kb;b&&window.open(b)}}};v.ka.Mw=function(a){var b=he(a.o)?ge(a.o,v.i.Lo(a,!0)):!0;return{text:v.g.DUPLICATE_BLOCK,enabled:b,bb:function(){v.Is(a)}}};v.ka.Kw=function(a){var b={enabled:!w};a.cb?(b.text=v.g.REMOVE_COMMENT,b.bb=function(){a.Jh(null)}):(b.text=v.g.ADD_COMMENT,b.bb=function(){a.Jh("")});return b};
v.ka.bx=function(a){return{text:v.g.dB,enabled:!0,bb:function(){v.j.T(!0);a.D(!0,!0);v.j.T(!1)}}};v.ka.ex=function(a){return{text:v.g.HA,enabled:!0,bb:function(){v.Is(a)}}};v.ka.DB=function(a,b){var d={enabled:!w};d.text=v.g.zA;d.bb=function(){var e=new Cf(a,v.g.hB,100,100),f=$c(a).getBoundingClientRect();f=new A(b.clientX-f.left,b.clientY-f.top);var h=v.i.Yj(a.Ra);f=Ac(f,h).scale(1/a.scale);e.moveBy(f.x,f.y);a.U&&(e.jc(),e.ca(!1),e.select())};return d};var fk=/#(.)(.)(.)/;function gk(a){var b=a[0],d=a[1];a=a[2];b=Number(b);d=Number(d);a=Number(a);if(b!=(b&255)||d!=(d&255)||a!=(a&255))throw Error('"('+b+","+d+","+a+'") is not a valid RGB color');d=b<<16|d<<8|a;return 16>b?"#"+(16777216|d).toString(16).substr(1):"#"+d.toString(16)}var hk=/^#(?:[0-9a-f]{3}){1,2}$/i;function ik(a,b,d){d=Math.min(Math.max(d,0),1);return[Math.round(b[0]+d*(a[0]-b[0])),Math.round(b[1]+d*(a[1]-b[1])),Math.round(b[2]+d*(a[2]-b[2]))]};function I(a,b,d){this.A=v.i.C("g",{},null);this.A.Rf="";this.Th=v.i.C("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.A);this.zc=v.i.C("path",{"class":"blocklyPath","aria-label":b.replace(/_/g," ")},this.A);this.jf=v.i.C("path",{"class":"blocklyPathLight"},this.A);this.zc.vd=this;this.U=!1;this.kf=v.i.vg()&&!!a.Lb;v.F.$g(this.zc);I.v.constructor.call(this,a,b,d);this.A.dataset&&(this.A.dataset.id=this.id)}t(I,ee);c=I.prototype;c.height=0;c.width=0;c.xd=null;
c.jc=function(){if(!this.o.U)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.M[a];a++)b.J();b=of(this);for(a=0;a<b.length;a++)ze(b[a]);this.Uf();Df(this);this.o.options.readOnly||this.Co||v.W(this.X(),"mousedown",this,this.Fg);this.Co=!0;this.X().parentNode||this.o.Ra.appendChild(this.X())};
function jk(a){var b="";a=ba(a.M);for(var d=a.next();!d.done;d=a.next())d=d.value,b+=d.na.reduce(function(e,f){return e+f.Eb()+" "},""),d.connection&&d.connection.V&&1===d.type&&(b+=jk(d.connection.V.u)+" ");return b.trim()}function Fd(a){var b=void 0===b?!0:b;a.zc&&(a.zc.setAttribute("aria-label",jk(a)),b&&a.getParent()&&Fd(a.getParent()))}
c.select=function(){if(this.Na&&this.getParent())this.getParent().select();else if(v.selected!=this){var a=null;if(v.selected){a=v.selected.id;v.j.disable();try{v.selected.Tf()}finally{v.j.enable()}}a=new qd(null,"selected",a,this.id);a.Jb=this.o.id;v.j.Y(a);v.selected=this;this.si()}};c.Tf=function(){if(v.selected==this){var a=new qd(null,"selected",this.id,null);a.Jb=this.o.id;v.j.Y(a);v.selected=null;this.Hh()}};c.hd=null;c.cb=null;c.Dc=null;
function of(a){var b=[];a.hd&&b.push(a.hd);a.cb&&b.push(a.cb);a.Dc&&b.push(a.Dc);return b}c.Mh=function(a){var b=this.se;if(a!=b){Od();I.v.Mh.call(this,a);Td();var d=this.X();if(!this.o.jp&&d){var e=this.ua();a?(a.X().appendChild(d),a=this.ua(),kf(this,a.x-e.x,a.y-e.y)):b&&(this.o.Ra.appendChild(d),this.translate(e.x,e.y))}}};
c.ua=function(){var a=0,b=0,d=this.kf?this.o.Lb.Qb():null,e=this.X();if(e){do{var f=v.i.dd(e);a+=f.x;b+=f.y;this.kf&&this.o.Lb.Wd.firstChild==e&&(f=this.o.Lb.um(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.o.Ra&&e!=d)}return new A(a,b)};c.moveBy=function(a,b){if(this.se)throw Error("Block has parent.");var d=v.j.isEnabled();if(d)var e=new v.j.ei(this);var f=this.ua();this.translate(f.x+a,f.y+b);kf(this,a,b);d&&(e.bf(),v.j.Y(e));Xd(this.o)};
c.moveTo=function(a){if(this.se)throw Error("Block has parent.");var b=v.j.isEnabled();if(b)var d=new v.j.ei(this);var e=this.ua();this.translate(a.x,a.y);kf(this,a.x-e.x,a.y-e.y);b&&(d.bf(),v.j.Y(d));Xd(this.o)};c.translate=function(a,b){this.X().setAttribute("transform","translate("+a+","+b+")")};c.Sm=function(){if(this.kf){var a=this.ua();v.i.removeAttribute(this.X(),"transform");this.o.Lb.Qf(a.x,a.y);Ff(this.o.Lb,this.X())}};c.Jt=function(a){this.kf&&(this.translate(a.x,a.y),this.o.Lb.Fj(this.o.Ra))};
c.Rm=function(a){this.kf?this.o.Lb.Qf(a.x,a.y):(this.A.Rf="translate("+a.x+","+a.y+")",this.A.setAttribute("transform",this.A.Rf+this.A.Ph))};function fh(a){if(a.o&&!a.o.Rb()&&!a.getParent()&&!a.yb){var b=a.o.$d;if(b&&b.Wz){var d=b.Bq,e=d/2,f=a.ua();b=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;b=Math.round(b);d=Math.round(d);0==b&&0==d||a.moveBy(b,d)}}}
c.im=function(){var a=this.ua(),b=this.N?G:0,d=this.Db();if(this.w){var e=new A(a.x-(d.width-b),a.y);a=new A(a.x+b,a.y+d.height)}else e=new A(a.x-b,a.y),a=new A(a.x+d.width-b,a.y+d.height);return{md:e,zd:a}};
c.Ng=function(a){if(this.yf!=a){for(var b=[],d=0,e;e=this.M[d];d++)b.push.apply(b,e.za(!a));if(a){e=of(this);for(d=0;d<e.length;d++)e[d].za(!1);d=this.toString(v.gv);J(O(this,"_TEMP_COLLAPSED_INPUT"),d).J();e=Yc(this,!0);if(d=Zc(this))d=e.indexOf(d),e.splice(d,e.length-d);d=1;for(var f;f=e[d];d++)if(f.Dc){this.Of(v.g.COLLAPSED_WARNINGS_WARNING,"TEMP_COLLAPSED_WARNING_");break}}else this.Ua("_TEMP_COLLAPSED_INPUT"),this.Dc&&(this.Dc.Gb("","TEMP_COLLAPSED_WARNING_"),Object.keys(this.Dc.Ba).length||
this.Of(null));I.v.Ng.call(this,a);b.length||(b[0]=this);if(this.U)for(d=0;f=b[d];d++)f.ca()}};function kk(a,b,d){for(var e=[],f=0,h;h=a.M[f];f++){for(var k=0,l;l=h.na[k];k++)l instanceof lk&&e.push(l);h.connection&&(h=E(h.connection))&&e.push(h)}b=e.indexOf(b);-1==b&&(b=d?-1:e.length);(e=e[d?b+1:b-1])?e instanceof Bh?e.xe():kk(e,null,d):(e=a.getParent())&&kk(e,a,d)}
c.Fg=function(a){var b=this.o&&this.o.Se(a);if(b){if(b.mh)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Yf(b,this);b.qe=a}};
c.jj=function(a){if(!this.o.options.readOnly&&this.contextMenu){var b=this,d=[];if(!this.yb){this.xc()&&this.Sb()&&d.push(v.ka.Mw(b));this.o.options.Hj&&!this.yf&&Md(this)&&d.push(v.ka.Kw(b));if(this.Sb())if(this.yf)this.o.options.collapse&&(e={enabled:!0},e.text=v.g.EXPAND_BLOCK,e.bb=function(){b.Ng(!1)},d.push(e));else{for(var e=1;e<this.M.length;e++)if(this.M[e-1].type!=v.Ea&&this.M[e].type!=v.Ea){e={enabled:!0};var f=oh(this);e.text=f?v.g.EXTERNAL_INPUTS:v.g.INLINE_INPUTS;e.bb=function(){b.Id(!f)};
d.push(e);break}this.o.options.collapse&&(e={enabled:!0},e.text=v.g.COLLAPSE_BLOCK,e.bb=function(){b.Ng(!0)},d.push(e))}this.o.options.disable&&Md(this)&&(e={text:this.disabled?v.g.ENABLE_BLOCK:v.g.DISABLE_BLOCK,enabled:!Qh(this),bb:function(){var h=v.j.Qb();h||v.j.T(!0);b.Ub(!b.isEnabled());h||v.j.T(!1)}},d.push(e));this.xc()&&d.push(v.ka.Lw(b))}d.push(v.ka.Nw(b));this.zf&&this.zf(d);v.ka.show(a,d,this.w);v.ka.Ul=this}};
function kf(a,b,d){if(a.U){for(var e=a.Yd(!1),f=0;f<e.length;f++)e[f].moveBy(b,d);e=of(a);for(f=0;f<e.length;f++)Ae(e[f]);for(f=0;f<a.vf.length;f++)kf(a.vf[f],b,d)}}c.Og=function(a){if(a){var b=this.X();b.Rf="";b.Ph="";v.Pj=v.Pj.concat(this.Yd(!0));v.i.Ya(this.A,"blocklyDragging")}else v.Pj=[],v.i.Fb(this.A,"blocklyDragging");for(b=0;b<this.vf.length;b++)this.vf[b].Og(a)};c.Lh=function(a){I.v.Lh.call(this,a);Df(this)};c.pq=function(a){I.v.pq.call(this,a);a=of(this);for(var b=0;b<a.length;b++)a[b].Vf()};
c.uq=function(a){I.v.uq.call(this,a);this.Uf()};c.Bu=function(a){this.pe!=a&&(this.pe=a)&&(this.Qc(v.Kv),v.i.Ya(this.A,"blocklyInsertionMarker"))};c.X=function(){return this.A};
c.D=function(a,b){if(this.o){v.F.xa();Od();var d=this.o;if(v.selected==this){this.Tf();var e=this.o;e.Ob&&e.Ob.cancel()}v.ka.Ul==this&&v.ka.xa();b&&this.U&&(Id(this,a),v.Va.Gx(this));this.U=!1;if(this.xd){for(var f in this.xd)clearTimeout(this.xd[f]);this.xd=null}Id(this,a);var h;v.j.isEnabled()&&(h=new v.j.Qq(this));v.j.disable();try{var k=of(this);for(b=0;b<k.length;b++)k[b].D();I.v.D.call(this,a)}finally{v.j.enable()}v.j.isEnabled()&&h&&v.j.Y(h);v.i.removeNode(this.A);Xd(d);this.Th=this.jf=this.zc=
this.A=null;Td()}};
c.Uf=function(){if(!this.disabled){var a=this.Ud,b=this.Rr,d=this.Sr;var e=a;if(!hk.test(e))throw Error("'"+e+"' is not a valid hex color");4==e.length&&(e=e.replace(fk,"#$1$1$2$2$3$3"));e=e.toLowerCase();e=parseInt(e.substr(1),16);e=[e>>16,e>>8&255,e&255];this.Na?(a=e,b?(this.jf.style.display="none",this.Th.style.display="none",this.zc.setAttribute("fill",b),a=b):(a=ik([255,255,255],a,.6),a=gk(a),this.jf.style.display="none",this.Th.setAttribute("fill",a))):d?(this.jf.setAttribute("stroke","none"),
this.Th.setAttribute("fill","none"),this.zc.setAttribute("stroke",d)):(this.jf.style.display="",b=gk(ik([255,255,255],e,.3)),d=gk(ik([0,0,0],e,.2)),this.jf.setAttribute("stroke",b),this.Th.setAttribute("fill",d),this.zc.setAttribute("stroke","none"));this.zc.setAttribute("fill",a);a=of(this);for(b=0;b<a.length;b++)a[b].Uf();for(a=0;b=this.M[a];a++)for(d=0;e=b.na[d];d++)e.Uj()}};
function Wd(a){a.disabled||Qh(a)?v.i.Ya(a.A,"blocklyDisabled")&&a.zc.setAttribute("fill","url(#"+a.o.options.Af+")"):v.i.Fb(a.A,"blocklyDisabled")&&a.Uf();a=a.Ef(!1);for(var b=0,d;d=a[b];b++)Wd(d)}c.mm=function(){return this.cb?this.cb.Eb().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""};c.Jh=function(a){var b=!1;"string"==typeof a?(this.cb||(this.cb=new Be(this),b=!0),this.cb.Gb(a)):this.cb&&(this.cb.D(),b=!0);b&&this.U&&(this.ca(),this.pb())};
c.Of=function(a,b){this.xd||(this.xd=Object.create(null));var d=b||"";if(d)this.xd[d]&&(clearTimeout(this.xd[d]),delete this.xd[d]);else for(var e in this.xd)clearTimeout(this.xd[e]),delete this.xd[e];if(this.o.Rb()){var f=this;this.xd[d]=setTimeout(function(){f.o&&(delete f.xd[d],f.Of(a,d))},100)}else{this.yb&&(a=null);b=Ph(this);for(e=null;b;)b.isCollapsed()&&(e=b),b=Ph(b);e&&e.Of(v.g.COLLAPSED_WARNINGS_WARNING,"TEMP_COLLAPSED_WARNING_");b=!1;"string"==typeof a?(this.Dc||(this.Dc=new Ce(this),b=
!0),this.Dc.Gb(a,d)):this.Dc&&!d?(this.Dc.D(),b=!0):this.Dc&&(b=this.Dc.Eb(),this.Dc.Gb("",d),(e=this.Dc.Eb())||this.Dc.D(),b=b!=e);b&&this.U&&(this.ca(),this.pb())}};c.ij=function(a){this.hd&&this.hd!==a&&this.hd.D();a&&(a.Z=this,this.hd=a,ze(a))};c.Ub=function(a){this.isEnabled()!=a&&(I.v.Ub.call(this,a),this.U&&Wd(this))};c.ud=function(a){this.U&&(a?(this.zc.setAttribute("filter","url(#"+this.o.options.Ks+")"),this.jf.style.display="none"):(v.i.removeAttribute(this.zc,"filter"),delete this.jf.style.display))};
c.si=function(){v.i.Ya(this.A,"blocklySelected")};c.Hh=function(){v.i.Fb(this.A,"blocklySelected")};c.Sk=function(a){a?v.i.Ya(this.A,"blocklyDraggingDelete"):v.i.Fb(this.A,"blocklyDraggingDelete")};c.Qc=function(a){I.v.Qc.call(this,a);this.U&&this.Uf()};function Af(a){do{var b=a.X();b.parentNode.appendChild(b);a=a.getParent()}while(a)}c.dc=function(a,b){I.v.dc.call(this,a,b);this.U&&(this.ca(),this.pb())};c.cc=function(a,b){I.v.cc.call(this,a,b);this.U&&(this.ca(),this.pb())};
c.Rc=function(a,b){I.v.Rc.call(this,a,b);this.U&&(this.ca(),this.pb())};c.Id=function(a){I.v.Id.call(this,a);this.U&&(this.ca(),this.pb())};c.Ua=function(a,b){I.v.Ua.call(this,a,b);this.U&&(this.ca(),this.pb())};c.Bp=function(a,b){I.v.Bp.call(this,a,b);this.U&&(this.ca(),this.pb())};c.ie=function(a,b){a=I.v.ie.call(this,a,b);this.U&&(this.ca(),this.pb());return a};
c.Yd=function(a){var b=[];if(a||this.U)if(this.N&&b.push(this.N),this.R&&b.push(this.R),this.K&&b.push(this.K),a||!this.yf){a=0;for(var d;d=this.M[a];a++)d.connection&&b.push(d.connection)}return b};c.yk=function(a){return new df(this,a)};c.pb=function(){if(this.o&&!this.o.Rb()){var a=ff(this);if(!a.yb)for(var b=this.Yd(!1),d=0,e;e=b[d];d++){e.isConnected()&&Je(e)&&E(e).pb();for(var f=e.Kt(v.Uc),h=0,k;k=f[h];h++)e.isConnected()&&k.isConnected()||ff(k.u)!=a&&(Je(e)?Ge(k,e):Ge(e,k))}}};
function Bf(a){var b=v.j.Qb();setTimeout(function(){v.j.T(b);fh(a);v.j.T(!1)},v.ul/2);setTimeout(function(){v.j.T(b);a.pb();v.j.T(!1)},v.ul)}function uf(a,b,d){b.type!=v.Ea&&b.type!=v.Da||a.moveBy(d.Wb-b.Wb,d.Ta-b.Ta)};function mk(){this.gf=[];this.oe=[];this.kt=[];this.ft=[]}var G=8,nk=7.5*(1-Math.SQRT1_2)+.5,ok=8.5*(1-Math.SQRT1_2)-.5,Te="v 5 c 0,10 -"+G+",-8 -"+G+",7.5 s "+G+",-2.5 "+G+",7.5",pk="v 6.5 m -"+.97*G+",3 q -"+.05*G+",10 "+.3*G+",9.5 m "+.67*G+",-1.9 v 1.4",qk="m "+nk+","+nk,rk="a 8,8 0 0,0 "+(-ok-.5)+","+(8-ok),sk="a 8.5,8.5 0 0,0 "+(8-ok)+","+(ok+.5);
I.prototype.Db=function(){var a=this.height,b=this.width,d=Zc(this);d?(d=d.Db(),a+=d.height-4,b=Math.max(b,d.width)):this.K||this.N||(a+=2);return{height:a,width:b}};
I.prototype.ca=function(a){if(this.o){Od();this.U=!0;var b=10;this.w&&(b=-b);for(var d=of(this),e=0;e<d.length;e++){var f=d[e];if(f.Qr&&f.Z.isCollapsed()||f.Z.pe)f.ed.setAttribute("display","none");else{f.ed.setAttribute("display","block");var h=f.In;f.Z.w&&(b-=h);f.ed.setAttribute("transform","translate("+b+",5)");Ae(f);b=f.Z.w?b-10:b+(h+10)}}var k=b+=this.w?10:-10,l=this.M;d=[];d.yc=k+20;if(this.R||this.K)d.yc=Math.max(d.yc,40);f=e=0;for(var m=h=!1,n=!1,u=void 0,x=oh(this)&&!this.isCollapsed(),
r=0,q;q=l[r];r++)if(q.isVisible()){if(x&&u&&u!=v.Ea&&q.type!=v.Ea)var y=d[d.length-1];else u=q.type,y=[],y.type=x&&q.type!=v.Ea?-1:q.type,y.height=0,d.push(y);y.push(q);q.Ig=25;q.oc=x&&q.type==v.Da?G+12.5:0;if(q.connection&&q.connection.isConnected()){var K=E(q.connection).Db();q.Ig=Math.max(q.Ig,K.height);q.oc=Math.max(q.oc,K.width)}x||r!=l.length-1?!x&&q.type==v.Da&&l[r+1]&&l[r+1].type==v.Ea&&q.Ig--:q.Ig--;y.height=Math.max(y.height,q.Ig);q.le=0;1==d.length&&(q.le+=this.w?-k:k);K=!1;for(var S=0,
da;da=q.na[S];S++){0!=S&&(q.le+=10);var pb=da.ak();da.oc=pb.width;da.dn=K&&da.Xf?10:0;q.le+=da.oc+da.dn;y.height=Math.max(y.height,pb.height);K=da.Xf}-1!=y.type&&(y.type==v.Ea?(m=!0,f=Math.max(f,q.le)):(y.type==v.Da?h=!0:y.type==v.mf&&(n=!0),e=Math.max(e,q.le)))}for(k=0;y=d[k];k++)if(y.Ou=!1,-1==y.type)for(l=0;q=y[l];l++)if(q.type==v.Da){y.height+=10;y.Ou=!0;break}d.on=20+f;m&&(d.yc=Math.max(d.yc,d.on+30));h?d.yc=Math.max(d.yc,e+20+G):n&&(d.yc=Math.max(d.yc,e+20));d.wy=h;d.xB=m;d.wB=n;e=b;this.Eq=
!1;this.height=0;this.N?this.Cq=this.Vk=!0:(b=this.nh?"cap"===this.nh:!1,this.Cq=this.Vk=!1,this.R?(b=E(this.R))&&Zc(b)==this&&(this.Vk=!0):b&&(this.Eq=this.Vk=!0,this.height+=15,d.yc=Math.max(d.yc,100)),Zc(this)&&(this.Cq=!0));b=new mk;f=d.yc;h=b.gf;m=b.oe;this.Vk?(h.push("m 0,0"),m.push("m 0.5,0.5"),this.Eq&&(h.push("c 30,-15 70,-15 100,0"),m.push(this.w?"m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7":"c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5"))):(h.push("m 0,8"),m.push(this.w?qk:"m 0.5,7.5"),h.push("A 8,8 0 0,1 8,0"),
m.push("A 7.5,7.5 0 0,1 8,0.5"));this.R&&(h.push("H",15),m.push("H",15),h.push("l 6,4 3,0 6,-4"),m.push("l 6,4 3,0 6,-4"),hf(this.R,this.w?-30:30,0));h.push("H",f);m.push("H",f-.5);this.width=f;f={x:0,y:0};h={x:0,y:0};for(m=0;n=d[m];m++){f.x=10;0==m&&(f.x+=this.w?-e:e);b.oe.push("M",d.yc-.5+","+(f.y+.5));if(this.isCollapsed())k=n,q=b.gf,y=b.oe,tk(this,k[0].na,f.x,f.y),q.push("l 8,0 0,4 8,4 -16,8 8,4"),y.push("h 8"),k=k.height-20,q.push("v",k),this.w&&(y.push("v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5"),
y.push("v",k-.7)),this.width+=15;else if(-1==n.type){y=n;k=f;l=h;u=d.yc;x=b.kt;r=b.ft;K=b.gf;S=b.oe;for(da=0;q=y[da];da++){pb=k.x;var yk=k.y;y.Ou&&(yk+=5);k.x=tk(this,q.na,pb,yk);q.type!=v.mf&&(k.x+=q.oc+10);q.type==v.Da&&(x.push("M",k.x-10+","+(k.y+5)),x.push("h",G-2-q.oc),x.push(Te),x.push("v",q.Ig+1-20),x.push("h",q.oc+2-G),x.push("z"),this.w?(r.push("M",k.x-10-2.5+G-q.oc+","+(k.y+5+.5)),r.push(pk),r.push("v",q.Ig-20+2.5),r.push("h",q.oc-G+2)):(r.push("M",k.x-10+.5+","+(k.y+5+.5)),r.push("v",q.Ig+
1),r.push("h",G-2-q.oc),r.push("M",k.x-q.oc-10+.9+","+(k.y+5+20-.7)),r.push("l",.46*G+",-2.1")),l.x=this.w?-k.x-G+10+q.oc+1:k.x+G-10-q.oc-1,l.y=k.y+5+1,hf(q.connection,l.x,l.y))}k.x=Math.max(k.x,u);this.width=Math.max(this.width,k.x);K.push("H",k.x);S.push("H",k.x-.5);K.push("v",y.height);this.w&&S.push("v",y.height-1)}else n.type==v.Da?(r=n,q=f,y=h,k=d.yc,l=b.gf,u=b.oe,x=r[0],K=q.x,S=q.y,x.align!=v.sj&&(da=k-x.le-G-20,x.align==v.di?K+=da:x.align==v.ql&&(K+=da/2)),tk(this,x.na,K,S),l.push(Te),r=r.height-
20,l.push("v",r),this.w?(u.push(pk),u.push("v",r+.5)):(u.push("M",k-5+","+(q.y+20-.7)),u.push("l",.46*G+",-2.1")),y.x=this.w?-k-1:k+1,hf(x.connection,y.x,q.y),x.connection.isConnected()&&(this.width=Math.max(this.width,k+E(x.connection).Db().width-G+1))):n.type==v.mf?(q=n,y=b.gf,k=b.oe,l=q[0],u=f.x,x=f.y,l.align!=v.sj&&(r=d.yc-l.le-20,d.wy&&(r-=G),l.align==v.di?u+=r:l.align==v.ql&&(u+=r/2)),tk(this,l.na,u,x),y.push("v",q.height),this.w&&k.push("v",q.height-1)):n.type==v.Ea&&(q=n,y=f,k=h,l=d,u=m,x=
b.gf,r=b.oe,K=q[0],0==u&&(x.push("v",10),this.w&&r.push("v",9),y.y+=10),S=y.x,da=y.y,K.align!=v.sj&&(pb=l.on-K.le-20,K.align==v.di?S+=pb:K.align==v.ql&&(S+=pb/2)),tk(this,K.na,S,da),y.x=l.on+30,x.push("H",y.x),x.push("l -6,4 -3,0 -6,-4 h -7 a 8,8 0 0,0 -8,8"),x.push("v",q.height-16),x.push("a 8,8 0 0,0 8,8"),x.push("H",l.yc),this.w?(r.push("M",y.x-30+ok+","+(y.y+ok)),r.push(rk),r.push("v",q.height-16),r.push("a 8.5,8.5 0 0,0 8.5,8.5")):(r.push("M",y.x-30+ok+","+(y.y+q.height-ok)),r.push(sk)),r.push("H",
l.yc-.5),k.x=this.w?-y.x:y.x+1,hf(K.connection,k.x,y.y+1),K.connection.isConnected()&&(this.width=Math.max(this.width,l.on+E(K.connection).Db().width)),u==l.length-1||l[u+1].type==v.Ea)&&(x.push("v",10),this.w&&r.push("v",9),y.y+=10);f.y+=n.height}d.length||(f.y=25,b.gf.push("V",f.y),this.w&&b.oe.push("V",f.y-1));d=f.y;e=b.gf;f=b.oe;this.height+=d+1;this.K&&(e.push("H",30+(this.w?.5:-.5)+" l -6,4 -3,0 -6,-4"),hf(this.K,this.w?-30:30,d+1),this.height+=4);this.Cq?(e.push("H 0"),this.w||f.push("M","0.5,"+
(d-.5))):(e.push("H",8),e.push("a","8,8 0 0,1 -8,-8"),this.w||(f.push("M",nk+","+(d-nk)),f.push("A","7.5,7.5 0 0,1 0.5,"+(d-8))));d=b.gf;e=b.oe;this.N?(hf(this.N,0,0),d.push("V",20),d.push("c 0,-10 -"+G+",8 -"+G+",-7.5 s "+G+",2.5 "+G+",-7.5"),this.w?(e.push("M",-.25*G+",8.4"),e.push("l",-.45*G+",-2.1")):(e.push("V",18.5),e.push("m",-.92*G+",-0.5 q "+-.19*G+",-5.5 0,-11"),e.push("m",.92*G+",1 V 0.5 H 1")),this.width+=G):this.w||(this.Vk?e.push("V",.5):e.push("V",8));d.push("z");d=b.gf.join(" ")+"\n"+
b.kt.join(" ");this.zc.setAttribute("d",d);this.Th.setAttribute("d",d);d=b.oe.join(" ")+"\n"+b.ft.join(" ");this.jf.setAttribute("d",d);this.w&&(this.zc.setAttribute("transform","scale(-1 1)"),this.jf.setAttribute("transform","scale(-1 1)"),this.Th.setAttribute("transform","translate(1,1) scale(-1 1)"));d=this.ua();this.R&&gf(this.R,d);this.N&&gf(this.N,d);for(b=0;b<this.M.length;b++)if(e=this.M[b].connection)gf(e,d),e.isConnected()&&jf(e);this.K&&(gf(this.K,d),this.K.isConnected()&&jf(this.K));!1!==
a&&((a=this.getParent())?a.ca(!0):Xd(this.o));Td()}};function tk(a,b,d,e){e+=5;a.w&&(d=-d);for(var f=0,h;h=b[f];f++){var k=h.X();if(k){var l="";if(a.w){var m=d-=h.dn+h.oc;h.oc&&(d-=10)}else m=d+h.dn,h.oc&&(d+=h.dn+h.oc+10);a.w&&h instanceof uk&&h.Rx&&(l="scale(-1 1)",m+=h.oc);k.setAttribute("transform","translate("+m+","+e+")"+l);a.pe&&k.setAttribute("display","none")}}return a.w?-d:d}function tf(a,b){b?v.i.Ya(a.A,"blocklyReplaceable"):v.i.Fb(a.A,"blocklyReplaceable")};
var vk,wk,xk=null,zk=null,Ak=null,Bk=null,Ck=0;function Dk(){if(!xk){var a=document.createElement("div");a.className="blocklyDropDownDiv";document.body.appendChild(a);xk=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);vk=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);wk=b;xk.style.transition="transform 0.25s, opacity 0.25s"}}function Ek(){vk.innerHTML="";vk.style.width=""}
function Fk(a){var b=a.jb.getBoundingClientRect();var d=b.left+b.width/2;var e=b.bottom;b=b.top;zk=H(a.u.o).parentNode;Ak=a;Ck=void 0;a=zk.getBoundingClientRect();var f=uh(zk);var h=a.left;var k=a.left+f.width;var l=a.top;f=a.top+f.height;a=uh(xk);if(e+a.height>f)if(b-a.height<l){f=d;l=0;d=!1;var m=!0}else f=d,l=b-a.height-16,d=!0;else f=d,l=e+16,d=!1;var n=f;f-=a.width/2;f=v.i.Yn(h,f,k-a.width);k=v.i.Yn(h,n-8,k)-f;k=v.i.Yn(12,k,a.width-12-16);h=f;e=d?b-a.height:e;b=f;a=(d?a.height-1:0)-9;m=!m;wk.style.transform=
"translate("+k+"px,"+a+"px) rotate(45deg)";wk.setAttribute("class",d?"blocklyDropDownArrow arrowBottom":"blocklyDropDownArrow arrowTop");wk.style.display=m?"":"none";Gk(h,e,b,l)}function Hk(){var a=xk;a.style.transform="translate(0px, 0px)";a.style.opacity=0;Bk=setTimeout(function(){Ik()},250);Ck&&(Ck(),Ck=null)}function Ik(){Ak&&(Bk&&window.clearTimeout(Bk),Gk(),Ek(),Ak=null,Ck&&(Ck(),Ck=null))}
function Gk(a,b,d,e){a=null==a?a:Math.floor(a);b=null==b?b:Math.floor(b);d=null==d?d:Math.floor(d);e=null==e?e:Math.floor(e);var f=xk;f.style.left=null!=a?a+"px":"";f.style.top=null!=b?b+"px":"";null!=d?(f.style.display="block",f.style.opacity=1,f.style.transform="translate("+(d-a)+"px,"+(e-b)+"px)"):(f.style.display="none",f.style.transform="")};v.g={};function lk(a,b){lk.v.constructor.call(this,a,b)}t(lk,Bh);lk.la=function(a){var b=v.i.pc(a.text);b=new lk(b,a["class"]);"boolean"===typeof a.spellcheck&&(b.mn=a.spellcheck);return b};lk.prototype.sf=!0;var Jk=null;c=lk.prototype;c.zl="text";c.mn=!0;c.D=function(){v.O.ik(this);lk.v.D.call(this)};c.setValue=function(a){if(null!==a){if(this.u){var b=Gd(this,a);null!==b&&(a=b)}Bh.prototype.setValue.call(this,a)}};
c.Gb=function(a){null!==a&&(a=String(a),a!==this.Ba&&(this.u&&v.j.isEnabled()&&v.j.Y(new v.j.nd(this.u,"field",this.name,this.Ba,a)),Bh.prototype.Gb.call(this,a)))};
c.xe=function(a){this.m=this.u.o;a=a||!1;if(!a&&(jc||lc||nc))Kk(this);else{v.O.show(this,this.u.w,Lk(this));var b=v.O.ra,d=document.createElement("input");d.className="blocklyHtmlInput";d.setAttribute("spellcheck",this.mn);var e=11*this.m.scale+"pt";b.style.fontSize=e;d.style.fontSize=e;Jk=d;b.appendChild(d);d.value=d.defaultValue=this.Ba;d.Ot=null;Mk(this);this.gn();a||(d.focus(),d.select());d.lz=v.W(d,"keydown",this,this.kz);d.oz=v.W(d,"keyup",this,this.St);d.nz=v.W(d,"keypress",this,this.St);d.Yt=
this.gn.bind(this);this.m.Xc(d.Yt)}};function Kk(a){v.prompt(v.g.CHANGE_VALUE_TITLE,a.Ba,function(b){a.u&&(b=Gd(a,b));a.setValue(b)})}c.kz=function(a){var b=Jk;13==a.keyCode?(v.O.xa(),Ak===this&&Hk()):27==a.keyCode?(b.value=b.defaultValue,v.O.xa(),Ak===this&&Hk()):9==a.keyCode&&(v.O.xa(),Ak===this&&Hk(),kk(this.u,this,!a.shiftKey),a.preventDefault())};c.St=function(){var a=Jk,b=a.value;b!==a.Ot?(a.Ot=b,v.j.T(!0),this.setValue(b),v.j.T(!1),Mk(this)):z&&this.u.ca();this.gn();v.Uh(this.u.o)};
function Mk(a){var b=!0;if(!Jk)throw Error("htmlInput not defined");var d=Jk;a.u&&(b=Gd(a,d.value));null===b?v.i.Ya(d,"blocklyInvalidInput"):v.i.Fb(d,"blocklyInvalidInput")}c.gn=function(){var a=v.O.ra,b=Jh(this);a.style.width=b.right-b.left+"px";a.style.height=b.bottom-b.top+"px";b=new A(this.u.w?b.right-a.offsetWidth:b.left,b.top);b.y+=1;ic&&v.O.ra.style.top&&(--b.x,--b.y);z&&(b.y-=3);a.style.left=b.x+"px";a.style.top=b.y+"px"};
function Lk(a){return function(){var b=Jk,d=Jk,e=d.value;a.u&&(e=Gd(a,e),null===e?e=d.defaultValue:a.Jp&&a.Jp(e));a.Gb(e);a.u.U&&a.u.ca();v.Sa(b.lz);v.Sa(b.oz);v.Sa(b.nz);a.m.Kf(b.Yt);Jk=null;v.j.T(!1);b=v.O.ra.style;b.width="auto";b.height="auto";b.fontSize=""}}Dh("field_input",lk);function Nk(a,b){this.Nu=v.i.C("tspan",{},null);this.Nu.appendChild(document.createTextNode("\u00b0"));a=a&&!isNaN(a)?String(a):"0";Nk.v.constructor.call(this,a,b)}t(Nk,lk);Nk.la=function(a){return new Nk(a.angle)};c=Nk.prototype;c.sf=!0;c.Jg=function(){this.La.textContent=Hh(this);this.La.appendChild(this.Nu);this.pj()};c.yi=function(){var a=this;return function(){Nk.v.yi.call(a)();a.Vj=null;a.ao&&v.Sa(a.ao);a.Cp&&v.Sa(a.Cp);a.Dp&&v.Sa(a.Dp)}};
c.xe=function(){Nk.v.xe.call(this,jc||lc||nc);Ik();Ek();var a=v.i.C("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:"100px",width:"100px"},vk),b=v.i.C("circle",{cx:50,cy:50,r:49,"class":"blocklyAngleCircle"},a);this.Vj=v.i.C("path",{"class":"blocklyAngleGauge"},a);this.At=v.i.C("line",{x1:50,y1:50,"class":"blocklyAngleLine"},a);for(var d=0;360>d;d+=15)v.i.C("line",{x1:99,y1:50,x2:99-(0==d%45?10:
5),y2:50,"class":"blocklyAngleMarks",transform:"rotate("+d+",50,50)"},a);d=this.u.Ud;xk.style.backgroundColor=this.u.Ud;xk.style.borderColor=d;Fk(this);this.ao=v.uc(a,"click",this,this.xy.bind(this));this.Cp=v.uc(b,"mousemove",this,this.Xt);this.Dp=v.uc(this.Vj,"mousemove",this,this.Xt);Ok(this)};c.xy=function(){v.Sa(this.Cp);v.Sa(this.Dp);v.Sa(this.ao);Ak===this&&Hk();v.O.xa()};
c.Xt=function(a){var b=this.Vj.ownerSVGElement.getBoundingClientRect(),d=a.clientX-b.left-50;a=a.clientY-b.top-50;b=Math.atan(-a/d);isNaN(b)||(b=v.i.iA(b),0>d?b+=180:0<a&&(b+=360),b=15*Math.round((b-0)/15),b=Gd(this,b),Jk.value=b,this.setValue(b),Mk(this),this.gn())};c.Gb=function(a){Nk.v.Gb.call(this,a);this.La&&Ok(this)};
function Ok(a){if(a.Vj){var b=Number(a.Eb())+0;b=v.i.bl(b);var d=["M ",50,",",50],e=50,f=50;if(!isNaN(b)){var h=v.i.bl(0),k=49*Math.cos(h),l=-49*Math.sin(h);e+=49*Math.cos(b);f-=49*Math.sin(b);d.push(" l ",k,",",l," A ",49,",",49," 0 ",Math.abs(Math.floor((b-h)/Math.PI)%2)," ",Number(!1)," ",e,",",f," z")}a.Vj.setAttribute("d",d.join(""));a.At.setAttribute("x2",e);a.At.setAttribute("y2",f)}}
c.Zn=function(a){if(null===a)return null;a=parseFloat(a||0);if(isNaN(a))return null;a%=360;0>a&&(a+=360);360<a&&(a-=360);return String(a)};Dh("field_angle",Nk);function Pk(a,b){Pk.v.constructor.call(this,"",b);this.setValue(a)}t(Pk,Bh);Pk.la=function(a){return new Pk(a.checked?"TRUE":"FALSE")};c=Pk.prototype;c.sf=!0;c.zl="default";c.J=function(){this.jb||(Pk.v.J.call(this),this.Ml=v.i.C("text",{"class":"blocklyText blocklyCheckbox",x:-3,y:14},this.jb),this.Ml.appendChild(document.createTextNode("\u2713")),this.Ml.style.display=this.Za?"block":"none")};c.getValue=function(){return String(this.Za).toUpperCase()};
c.setValue=function(a){a="string"==typeof a?"TRUE"==a.toUpperCase():!!a;this.Za!==a&&(this.u&&v.j.isEnabled()&&v.j.Y(new v.j.nd(this.u,"field",this.name,this.Za,a)),this.Za=a,this.Ml&&(this.Ml.style.display=a?"block":"none"))};c.xe=function(){var a=!this.Za;this.u&&(a=Gd(this,a));null!==a&&this.setValue(String(a).toUpperCase())};Dh("field_checkbox",Pk);function Qk(a,b){Qk.v.constructor.call(this,a,b);this.Gb("\u00a0\u00a0\u00a0")}t(Qk,Bh);Qk.la=function(a){return new Qk(a.colour)};c=Qk.prototype;c.sf=!0;c.ax=null;c.hA=null;c.Tr=0;c.yv="silver";c.xv="white";c.J=function(){Qk.v.J.call(this);this.ec=new Cc(16,12);this.Yc.style.fillOpacity=1;this.Yc.setAttribute("width",this.ec.width+10);this.setValue(this.getValue())};c.zl="default";c.D=function(){v.O.ik(this);Qk.v.D.call(this)};c.pj=function(){};c.getValue=function(){return this.Ud};
c.setValue=function(a){this.u&&v.j.isEnabled()&&this.Ud!=a&&v.j.Y(new v.j.nd(this.u,"field",this.name,this.Ud,a));this.Ud=a;this.Yc&&(this.Yc.style.fill=a)};c.Eb=function(){var a=this.Ud,b=a.match(/^#(.)\1(.)\2(.)\3$/);b&&(a="#"+b[1]+b[2]+b[3]);return a};
var Rk="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),Sk=
[],Tk=7;Qk.prototype.setColumns=function(a){this.Tr=a;return this};Qk.prototype.xe=function(){Ik();Ek();var a=this.Mj();vk.appendChild(a);var b=this.yv;xk.style.backgroundColor=this.xv;xk.style.borderColor=b;Fk(this);v.uc(a,"mouseup",this,this.Fk)};Qk.prototype.Fk=function(a){(a=a.target)&&!a.label&&(a=a.parentNode);a=a&&a.label;v.O.xa();this.u&&(a=Gd(this,a));null!==a&&this.setValue(a)};
Qk.prototype.Mj=function(){var a=this.Tr||Tk,b=this.ax||Rk,d=this.hA||Sk,e=this.getValue(),f=document.createElement("table");f.className="blocklyColourTable";for(var h,k=0;k<b.length;k++){0==k%a&&(h=document.createElement("tr"),f.appendChild(h));var l=document.createElement("td");h.appendChild(l);var m=document.createElement("div");l.appendChild(m);l.label=b[k];l.title=d[k]||b[k];m.style.backgroundColor=b[k];b[k]==e&&(m.className="blocklyColourSelected")}return f};Dh("field_colour",Qk);function M(a,b){"function"!=typeof a&&Uk(a);this.xh=a;this.Hq=this.Tp=null;a=this.xh;if(Array.isArray(a)){for(var d=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=v.i.pc(f):(null!=f.alt&&(a[e][0].alt=v.i.pc(f.alt)),d=!0)}if(!(d||2>a.length)){f=[];for(e=0;e<a.length;e++)f.push(a[e][0]);var h=v.i.wq(f);e=v.i.gx(f,h);d=v.i.hx(f,h);if((e||d)&&!(h<=e+d)){e&&(this.Tp=f[0].substring(0,e-1));d&&(this.Hq=f[0].substr(1-d));f=[];for(h=0;h<a.length;h++){var k=a[h][0],l=a[h][1];k=k.substring(e,
k.length-d);f[h]=[k,l]}this.xh=f}}}a=this.getOptions()[0];M.v.constructor.call(this,a[1],b)}t(M,Bh);M.la=function(a){return new M(a.options)};M.prototype.sf=!0;var Vk=lc?"\u25bc":"\u25be";c=M.prototype;c.zl="default";c.vb="";c.Mc=null;c.We=null;c.J=function(){this.jb||(this.$f=v.i.C("tspan",{},null),this.$f.appendChild(document.createTextNode(this.u.w?Vk+" ":" "+Vk)),M.v.J.call(this))};
c.xe=function(){v.O.show(this,this.u.w,null);var a=new ek;a.Nf(this.u.w);for(var b=this.getOptions(),d=0;d<b.length;d++){var e=b[d][0],f=b[d][1];if("object"==typeof e){var h=new Image(e.width,e.height);h.src=e.src;h.alt=e.alt||"";e=h}e=new ak(e);e.Nf(this.u.w);e.setValue(f);e.nq(!0);a.El(e,!0);Cj(e,f==this.vb)}Wk(this,a);b=v.i.Xs();d=Jh(this);this.u.w?d.right+=25:d.left-=25;this.Mj(a);f=v.i.nj.ak(a);e=.45*document.documentElement.clientHeight;f.height>e&&(f.height=e);this.u.w&&v.i.nj.wr(b,d,f);v.O.du(b,
d,f,this.u.w);a.L().focus()};function Wk(a,b){qi(b,"action",function(d){(d=d.target)&&a.Tt(d);v.O.ik(a);v.j.T(!1)})}c.Mj=function(a){a.ca(v.O.ra);v.i.Ya(a.L(),"blocklyDropdownMenu");a.Fl=!0;a.Pg(!0)};c.Tt=function(a){a=a.getValue();this.u&&(a=Gd(this,a));null!==a&&this.setValue(a)};c.getOptions=function(){if("function"==typeof this.xh){var a=this.xh.call(this);Uk(a);return a}return this.xh};c.getValue=function(){return this.vb};
c.setValue=function(a){if(!(null===a||a===this.vb&&this.Ba)){this.u&&v.j.isEnabled()&&v.j.Y(new v.j.nd(this.u,"field",this.name,this.vb,a));this.vb=a;for(var b=this.getOptions(),d=0;d<b.length;d++)if(b[d][1]==a){a=b[d][0];"object"==typeof a?(this.We=a,this.Ba=a.alt):(this.We=null,this.Ba=a);this.Uj();return}this.Ba=a;this.Uj()}};
c.Jg=function(){this.u&&this.$f&&(this.$f.style.fill=this.u.Ud);for(var a;a=this.La.firstChild;)this.La.removeChild(a);this.Mc&&(v.i.removeNode(this.Mc),this.Mc=null);this.We?(this.Mc=v.i.C("image",{y:5,height:this.We.height+"px",width:this.We.width+"px"},this.jb),this.Mc.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.We.src),this.La.appendChild(this.$f),a=Ih(this.$f),this.ec.height=Number(this.We.height)+19,this.ec.width=Number(this.We.width)+a,this.u.w?(this.Mc.setAttribute("x",
a),this.La.setAttribute("x",-1)):(this.La.setAttribute("text-anchor","end"),this.La.setAttribute("x",this.ec.width+1))):(a=document.createTextNode(Hh(this)),this.La.appendChild(a),this.u.w?this.La.insertBefore(this.$f,this.La.firstChild):this.La.appendChild(this.$f),this.La.setAttribute("text-anchor","start"),this.La.setAttribute("x",0),this.ec.height=25,this.ec.width=Ih(this.La));this.Yc.setAttribute("height",this.ec.height-9);this.Yc.setAttribute("width",this.ec.width+10)};
c.pj=function(){if(this.We&&(w||hc)){var a=Ih(this.$f);a=Number(this.We.width)+a+10;this.Yc&&this.Yc.setAttribute("width",a);this.ec.width=a}else Bh.prototype.pj.call(this)};c.D=function(){v.O.ik(this);M.v.D.call(this)};
function Uk(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");for(var b=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(b=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(b=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+e[0]+" in: ",e)):(b=!0,console.error("Invalid option["+
d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(b)throw TypeError("Found invalid FieldDropdown options.");}Dh("field_dropdown",M);function Xk(a,b){Xk.v.constructor.call(this,a,b)}t(Xk,Kh);Xk.la=function(a){var b=v.i.pc(a.text);return new Xk(b,a["class"])};Xk.prototype.Xf=!1;Xk.prototype.sf=!0;Dh("field_label_serializable",Xk);function uk(a,b,d,e,f,h){this.u=null;this.wa=Number(d);this.ga=Number(b);this.ec=new Cc(this.ga,this.wa+10);this.Rx=h;this.Wh="";this.setValue(a);this.Gb(e);"function"==typeof f&&(this.Ol=f)}t(uk,Bh);uk.la=function(a){var b=v.i.pc(a.src),d=Number(v.i.pc(a.width)),e=Number(v.i.pc(a.height)),f=v.i.pc(a.alt);return new uk(b,d,e,f,null,!!a.flipRtl)};c=uk.prototype;c.Xf=!1;
c.J=function(){this.jb||(this.jb=v.i.C("g",{"aria-hidden":!0},null),this.ob||(this.jb.style.display="none"),this.Mc=v.i.C("image",{height:this.wa+"px",width:this.ga+"px"},this.jb),this.setValue(this.Fu),this.Gb(this.Ba),this.u.X().appendChild(this.jb),this.Wh?this.Mc.vd=this.Wh:this.pa(this.u),v.F.$g(this.Mc),this.Ol&&(this.Qm=v.W(this.jb,"mousedown",this,this.Ol)))};c.D=function(){this.jb&&(v.i.removeNode(this.jb),this.jb=null);this.Mc=null};c.pa=function(a){this.Wh=a;this.Mc&&(this.Mc.vd=a)};
c.getValue=function(){return this.Fu};c.setValue=function(a){null!==a&&(this.Fu=a,this.Mc&&this.Mc.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a||""))};c.Gb=function(a){null!==a&&(this.Ba=a,this.Mc&&this.Mc.setAttribute("alt",a||""))};c.Jg=function(){};c.Uj=function(){};c.pj=function(){};c.xe=function(){this.Ol&&this.Ol(this)};Dh("field_image",uk);function Yk(a,b,d,e,f){e=parseFloat(e);this.Ym=isNaN(e)?0:e;e=this.Ym.toString();var h=e.indexOf(".");this.Os=-1==h?-1:e.length-(h+1);b=parseFloat(b);this.Xy=isNaN(b)?-Infinity:b;d=parseFloat(d);this.Wy=isNaN(d)?Infinity:d;a=a&&!isNaN(a)?String(a):"0";Yk.v.constructor.call(this,a,f)}t(Yk,lk);Yk.la=function(a){return new Yk(a.value,a.min,a.max,a.precision)};Yk.prototype.sf=!0;
Yk.prototype.Zn=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=parseFloat(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.Xy),this.Wy);this.Ym&&isFinite(a)&&(a=Math.round(a/this.Ym)*this.Ym);return-1==this.Os?String(a):a.toFixed(this.Os)};Dh("field_number",Yk);function Zk(a,b,d,e){this.xh=$k;this.ec=new Cc(0,25);this.Yh=b;this.vx=a||"";a=e||"";if(null==d||void 0==d)d=null;else if(Array.isArray(d)){b=!1;for(e=0;e<d.length;e++)d[e]==a&&(b=!0);if(!b)throw Error("Invalid default type '"+a+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.ux=a;this.rA=d;this.vb=null}t(Zk,M);Zk.la=function(a){var b=v.i.pc(a.variable);return new Zk(b,null,a.variableTypes,a.defaultType)};
c=Zk.prototype;c.sf=!0;c.J=function(){this.jb||(Zk.v.J.call(this),this.rh())};c.rh=function(){if(!this.wd){this.m=this.u.o;var a=v.G.rm(this.m,null,this.vx,this.ux);v.j.disable();try{this.setValue(a.ea())}finally{v.j.enable()}}};c.Ps=function(a){var b=a.getAttribute("id"),d=a.textContent;a=a.getAttribute("variabletype")||"";b=v.G.rm(this.m||this.u.o,b,d,a);this.setValue(b.ea())};
c.cl=function(a){this.rh();a.setAttribute("name",this.name);a.setAttribute("id",this.wd.ea());a.textContent=this.wd.name;a.setAttribute("variableType",this.wd.type);return a};c.D=function(){Zk.v.D.call(this);this.Ca=this.m=null};c.vq=function(a){if(a.Na)throw Error("Variable fields are not allowed to exist on shadow blocks.");Zk.v.vq.call(this,a)};c.getValue=function(){return this.wd?this.wd.ea():null};c.Eb=function(){return this.wd?this.wd.name:""};c.Kc=function(){return this.wd};
c.setValue=function(a){var b=v.G.Kc(this.u.o,a);if(!b)throw Error("Variable id doesn't point to a real variable!  ID was "+a);var d=b.type,e;a:if(e=al(this)){for(var f=0;f<e.length;f++)if(d==e[f]){e=!0;break a}e=!1}else e=!0;if(!e)throw Error("Variable type doesn't match this field!  Type was "+d);this.u&&v.j.isEnabled()&&(d=this.wd?this.wd.ea():null,v.j.Y(new v.j.nd(this.u,"field",this.name,d,a)));this.wd=b;this.vb=a;this.Gb(b.name)};
function al(a){var b=a.rA;if(null===b&&a.u)return a.u.o.So();b=b||[""];if(0==b.length)throw a=a.Eb(),Error("'variableTypes' of field variable "+a+" was an empty list");return b}
function $k(){if(!this.wd)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.Eb(),b=null;this.u&&(b=this.u.o);var d=[];if(b)for(var e=al(this),f=0;f<e.length;f++)d=d.concat(b.ck(e[f]));d.sort(Eg);b=[];for(f=0;f<d.length;f++)b[f]=[d[f].name,d[f].ea()];b.push([v.g.RENAME_VARIABLE,v.ir]);v.g.DELETE_VARIABLE&&b.push([v.g.DELETE_VARIABLE.replace("%1",a),v.Wq]);return b}
c.Tt=function(a){a=a.getValue();if(this.u&&this.u.o){var b=this.u.o;if(a==v.ir){v.G.cn(b,this.wd);return}if(a==v.Wq){b.Ie(this.wd.ea());return}}this.setValue(a)};c.Mk=function(){return!0};Dh("field_variable",Zk);function Oh(){this.cz="JavaScript";this.Bv=new RegExp(this.Kb,"g")}c=Oh.prototype;c.Al=null;c.pi=null;c.nf="  ";c.hv=60;c.Dl=[];function bl(){var a=v.h,b=bh;b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=v.qd());var d=[];a.J(b);b=Ld(b,!0);for(var e=0,f;f=b[e];e++){var h=cl(a,f);Array.isArray(h)&&(h=h[0]);h&&(f.N&&(h=a.xu(h)),d.push(h))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");return d=d.replace(/[ \t]+\n/g,"\n")}
function dl(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}
function cl(a,b){if(!b)return"";if(b.disabled)return cl(a,Zc(b));var d=a[b.type];if("function"!=typeof d)throw Error('Language "'+a.cz+'" does not know how to generate  code for block type "'+b.type+'".');d=d.call(b,b);if(Array.isArray(d)){if(!b.N)throw TypeError("Expecting string from statement block: "+b.type);return[a.jn(b,d[0],void 0),d[1]]}if("string"==typeof d){var e=b.id.replace(/\$/g,"$$$$");a.pi&&(d=a.pi.replace(/%1/g,"'"+e+"'")+d);return a.jn(b,d,void 0)}if(null===d)return"";throw SyntaxError("Invalid code generated: "+
d);}
function Q(a,b,d){var e=v.h;if(isNaN(d))throw TypeError("Expecting valid order from block: "+a.type);var f=Th(a,b);if(!f)return"";b=cl(e,f);if(""===b)return"";if(!Array.isArray(b))throw TypeError("Expecting tuple from value block: "+f.type);a=b[0];b=b[1];if(isNaN(b))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var h=Math.floor(d),k=Math.floor(b);if(h<=k&&(h!=k||0!=h&&99!=h))for(f=!0,h=0;h<e.Dl.length;h++)if(e.Dl[h][0]==d&&e.Dl[h][1]==b){f=!1;break}f&&(a="("+
a+")");return a}function el(a,b){var d=v.h;a=Th(a,b);b=cl(d,a);if("string"!=typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=dl(b,d.nf));return b}function fl(a,b){var d=v.h;b=b.replace(/\$/g,"$$$$");d.Al&&(a=d.Al.replace(/%1/g,"'"+b+"'")+a);d.pi&&(a+=dl(d.pi.replace(/%1/g,"'"+b+"'"),d.nf));return a}c.Hn="";function gl(a){var b=v.h;b.Hn+=a+","}c.Kb="{leCUI8hutHZI4480Dc}";
function hl(a,b){var d=v.h;if(!d.dh[a]){var e=il(d.$a,a,v.sa.ab);d.Jo[a]=e;b=b.join("\n").replace(d.Bv,e);for(var f;f!=b;)f=b,b=b.replace(/^(( {2})*) {2}/gm,"$1\x00");b=b.replace(/\0/g,d.nf);d.dh[a]=b}return d.Jo[a]}c.J=function(){};c.jn=function(a,b){return b};c.finish=function(a){return a};c.xu=function(a){return a};function jl(a,b,d){if(!b)throw Error("Cannot create a node without a location.");this.Sc=a;a:{switch(a){case Ze:case be:case "input":case ce:a=!0;break a}a=!1}this.pk=a;this.oa=b;if(b=d||null)b.wsCoordinate?this.rj=b.wsCoordinate:b.input&&(this.Cz=b.input)}var $e="field",Ye="block",ce="output",be="next",Ze="previous",bf="stack",af="workspace";
function kl(a){return a?a.type===v.Da||a.type===v.Ea&&a.Te()?ll(a.Te()):a.type===v.Ea?new jl(be,a):a.type===v.fe?new jl(ce,a):a.type===v.ge?new jl(Ze,a):null:null}function ll(a){return a?new jl("input",a.connection,{input:a}):null}function ml(a){return new jl(Ye,a)}function Vf(a,b){return new jl(af,a,{wsCoordinate:b})}c=jl.prototype;c.Te=function(){return this.Cz};
function nl(a,b){a=a.oa;a instanceof ee||(a=a.u);if(!a)return null;var d=ff(a);a=Ld(d.o,!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return b=e+(b?1:-1),-1==b||b==a.length?null:new jl(bf,a[b]);throw Error("Couldn't find "+(b?"next":"previous")+" stack?!?!?!");}function ol(a){if(a.R)for(;a&&a.R&&a.R.V&&E(a.R).K==a.R.V;)a=E(a.R);var b=a.R||a.N;return b&&b.V&&b.V.Te()?ll(b.V.Te()):new jl(bf,a)}
c.next=function(){switch(this.Sc){case af:return Vf(this.oa,new A(this.rj.x+10,this.rj.y));case bf:return nl(this,!0);case ce:return ml(this.oa.u);case $e:a:{var a=this.oa;var b=a.Te();var d=a.u;a=b.na.indexOf(a)+1;for(var e=d.M.indexOf(b);b=d.M[e];e++){for(var f=b.na;a<f.length;){if($f(f[a])){b=new jl($e,f[a]);break a}a++}a=0;if(b.connection){b=ll(b);break a}}b=null}return b;case "input":a:{d=this.oa.Te();b=d.u;for(d=b.M.indexOf(d)+1;a=b.M[d];d++){e=a.na;f=0;for(var h;h=e[f];f++)if($f(h)){b=new jl($e,
h);break a}if(a.connection){b=ll(a);break a}}b=null}return b;case Ye:if(b=this.oa.K)return kl(b);break;case Ze:return ml(this.oa.u);case be:if(b=this.oa.V)return kl(b)}return null};
c.mk=function(){switch(this.Sc){case af:var a=Ld(this.oa,!0);if(0<a.length)return new jl(bf,a[0]);break;case bf:a=this.oa;var b=a.R||a.N;return b?kl(b):ml(a);case Ye:a:{a=this.oa.M;b=0;for(var d;d=a[b];b++){for(var e=d.na,f=0,h;h=e[f];f++)if($f(h)){a=new jl($e,h);break a}if(d.connection){a=ll(d);break a}}a=null}return a;case "input":if(a=this.oa.V)return kl(a)}return null};
c.ej=function(){switch(this.Sc){case af:return Vf(this.oa,new A(this.rj.x-10,this.rj.y));case bf:return nl(this,!1);case $e:a:{var a=this.oa;var b=a.Te();var d=a.u;a=b.na.indexOf(a)-1;for(var e=d.M.indexOf(b),f;f=d.M[e];e--){if(f.connection&&f!==b){b=ll(f);break a}for(f=f.na;-1<a;){if($f(f[a])){b=new jl($e,f[a]);break a}a--}0<=e-1&&(a=d.M[e-1].na.length-1)}b=null}return b;case "input":a:{b=this.oa.Te();d=b.u;for(a=d.M.indexOf(b);e=d.M[a];a--){if(e.connection&&e!==b){b=ll(e);break a}e=e.na;f=e.length-
1;for(var h;h=e[f];f--)if($f(h)){b=new jl($e,h);break a}}b=null}return b;case Ye:b=this.oa.N;if(b=this.oa.R||b)return kl(b);break;case Ze:if(b=this.oa.V)return kl(b);break;case be:return ml(this.oa.u)}return null};c.Hk=function(){switch(this.Sc){case bf:var a=this.oa.ua();return Vf(this.oa.o,new A(a.x,a.y+-20));case ce:return(a=this.oa.V)?kl(a):new jl(bf,this.oa.u);case $e:return ml(this.oa.u);case "input":return ml(this.oa.u);case Ye:return ol(this.oa);case Ze:return ol(this.oa.u);case be:return ol(this.oa.u)}return null};v.s={};v.s.Pb=null;v.s.wh=null;v.s.ad=null;v.s.Oe=null;v.s.Vi=null;v.s.jr=1;v.s.Ln=2;v.s.kr=3;v.s.Vl=v.s.Ln;v.s.Au=function(a){v.s.Pb=a};v.s.Tz=function(a){v.s.wh=a};v.s.wp=function(){ae(v.s.wh,v.s.Pb.Cb)};v.s.Kz=function(){ae(v.s.wh,null);v.s.wh.xa()};v.s.Ns=function(){v.s.uu(!1);v.s.Vl=v.s.kr;var a=v.qd(),b=a.$;v.s.wh.Cb||v.s.wp();a&&!v.s.ad&&(v.s.ad=b.Bc.Eo);b.Bc.df(v.s.ad)};v.s.dz=function(){if(v.s.ad){var a=pl(v.s.ad);a&&(a.select(),v.s.ad=a)}};
v.s.Ez=function(){if(v.s.ad){var a=ql(v.s.ad);a&&(a.select(),v.s.ad=a)}};v.s.Ey=function(){if(v.s.ad){var a=v.s.ad;Ri(a)?a.wc()?(P(a,0).select(),v.s.ad=P(a,0)):a.Hd(!0):v.s.Ms()}};v.s.Bz=function(){if(v.s.ad){var a=v.s.ad;if(Ri(a)&&a.wc()&&a.Si)a.Hd(!1);else{var b=a.getParent();a=a.Jc();b&&(a.Qg||b!=a)&&(b.select(),v.s.ad=b)}}};v.s.Ms=function(){v.s.Vl=v.s.jr;var a=v.qd();var b=a.$,d=v.s.Pb;a=b?b.I:$g(a);v.s.wh.Cb||v.s.wp();a&&a.mg()&&(a=Ld(a.mg()),0<a.length&&(a=a[0],v.s.Oe=a,a=ml(v.s.Oe),ae(d,a)))};
v.s.Qz=function(){if(v.s.Oe){var a=v.s.Vs(),b=a.indexOf(v.s.Oe),d=v.s.Pb,e;-1<b&&a[++b]&&(e=a[b]);e&&(v.s.Oe=e,a=ml(e),ae(d,a))}};v.s.Rz=function(){if(v.s.Oe){var a=v.s.Vs(),b=a.indexOf(v.s.Oe),d=v.s.Pb,e;-1<b&&a[--b]&&(e=a[b]);e&&(v.s.Oe=e,a=ml(e),ae(d,a))}};v.s.Vs=function(){var a=v.qd(),b=a.$,d=[];(a=b?b.I:$g(a))&&a.mg()&&(d=Ld(a.mg()));return d};
v.s.Hy=function(){var a=$g(v.qd());if(a&&a.isVisible()){var b=Qf(a,v.s.Oe);b.ca();Vd(b,!1);ae(v.s.Pb,ml(b));v.s.modify()||v.s.warn("Something went wrong while inserting a block from the flyout.");v.s.gm();a=b.R;b=b.N;a=kl(a?a:b);ae(v.s.Pb,a);v.s.Kz()}else v.s.warn("Trying to insert from the flyout when the flyout does not  exist or is not visible")};v.s.uu=function(a){var b=v.s.Pb;v.s.Oe=null;b.xa();a&&$g(b.m).xa()};
v.s.modify=function(){var a=v.s.wh.Cb,b=v.s.Pb.Cb;if(!a)return v.s.warn("Cannot insert with no marked node."),!1;if(!b)return v.s.warn("Cannot insert with no cursor node."),!1;var d=a.Sc,e=b.Sc;if(d==$e)return v.s.warn("Should not have been able to mark a field."),!1;if(d==Ye)return v.s.warn("Should not have been able to mark a block."),!1;if(d==bf)return v.s.warn("Should not have been able to mark a stack."),!1;if(e==$e)return v.s.warn("Cannot attach a field to anything else."),!1;if(e==af)return v.s.warn("Cannot attach a workspace to anything else."),
!1;var f=b.oa,h=a.oa;if(a.pk){if(b.pk)return v.s.connect(f,h);if(e==Ye||e==bf)return v.s.nt(f,h)}else if(d==af){if(b.pk){if("input"==e||e==be)return v.s.warn("Cannot move a next or input connection to the workspace."),!1;b=f.u}else if(e==Ye||e==bf)b=f;else return!1;if(b.Na)return v.s.warn("Cannot move a shadow block to the workspace."),!1;b.getParent()&&Id(b,!1);b.moveTo(a.rj);return!0}v.s.warn("Unexpected state in Blockly.Navigation.modify.");return!1};
v.s.connect=function(a,b){if(a){var d=a.u;b.type!=v.ge&&b.type!=v.fe||uf(d,a,b);try{return b.connect(a),!0}catch(e){v.s.warn("Connection failed with error: "+e)}}return!1};v.s.Ox=function(a,b){if(!a||!b)return null;if(b.type===v.ge)return a.K;if(b.type===v.Ea)return a.R;if(b.type===v.Da)return a.N;if(b.type===v.fe)for(b=0;b<a.M.length;b++){var d=a.M[b].connection;if(d.type===v.Da)return d}return null};
v.s.nt=function(a,b){(a=v.s.Ox(a,b))&&a.isConnected()&&!E(a).Na&&a.disconnect();return v.s.connect(a,b)};v.s.Ex=function(){var a=v.s.Pb.Cb;if(a.pk){var b=a.oa;b.isConnected()?(a=Je(b)?b:b.V,b=Je(b)?b.V:b,b.u.Na?v.s.log("Cannot disconnect a shadow block"):(a.disconnect(),Ge(b,a),Af(ff(a.u)),a=kl(a),ae(v.s.Pb,a))):v.s.log("Cannot disconnect unconnected connection")}else v.s.log("Cannot disconnect blocks when the cursor is not on a connection")};
v.s.gm=function(){var a=v.s.Pb;v.s.uu(v.qd().$?!0:!1);v.s.Vl=v.s.Ln;v.s.Kx();if(v.selected){var b=v.selected.R,d=v.selected.N;b=kl(b?b:d);ae(a,b);v.selected.Tf()}else b=Vf(a.m,new A(100,100)),ae(a,b)};v.s.gy=function(){var a=v.s.Pb.Cb,b=a.Sc;b===$e?a.oa.xe():a.pk||b==af?v.s.wp():b==Ye?v.s.warn("Cannot mark a block."):b==bf&&v.s.warn("Cannot mark a stack.")};
v.s.navigate=function(a){var b=v.s.Vl;if(84===a.keyCode)return v.qd().$?(v.s.Ns(),v.s.log("T: Focus Toolbox")):(v.s.Ms(),v.s.log("T: Focus Flyout")),!0;if(b===v.s.jr)return v.s.Sx(a);if(b===v.s.Ln)return v.s.wA(a);if(b===v.s.kr)return v.s.lA(a);v.s.log("Not a valid key ");return!1};
v.s.Sx=function(a){return 87===a.keyCode?(v.s.Rz(),v.s.log("W: Flyout : Previous"),!0):65===a.keyCode?(v.s.Ns(),v.s.log("A: Flyout : Go To Toolbox"),!0):83===a.keyCode?(v.s.Qz(),v.s.log("S: Flyout : Next"),!0):13===a.keyCode?(v.s.Hy(),v.s.log("Enter: Flyout : Select"),!0):69===a.keyCode||27===a.keyCode?(v.s.gm(),v.s.log("E or ESC: Flyout: Exit"),!0):!1};
v.s.lA=function(a){return 87===a.keyCode?(v.s.Ez(),v.s.log("W: Toolbox : Previous"),!0):65===a.keyCode?(v.s.Bz(),v.s.log("A: Toolbox : Out"),!0):83===a.keyCode?(v.s.dz(),v.s.log("S: Toolbox : Next"),!0):68===a.keyCode?(v.s.Ey(),v.s.log("D: Toolbox : Go to flyout"),!0):13===a.keyCode?!0:69===a.keyCode||27===a.keyCode?(v.s.log("E or ESC: Toolbox: Exit"),v.s.gm(),!0):!1};
v.s.wA=function(a){return 87===a.keyCode?(v.s.Pb.ej(),v.s.log("W: Workspace : Previous"),!0):65===a.keyCode?(v.s.Pb.Hk(),v.s.log("A: Workspace : Out"),!0):83===a.keyCode?(v.s.Pb.next(),v.s.log("S: Workspace : Next"),!0):68===a.keyCode?(v.s.Pb.mk(),v.s.log("D: Workspace : In"),!0):73===a.keyCode?(v.s.modify(),v.s.log("I: Workspace : Insert/Connect Blocks"),!0):13===a.keyCode?(v.s.gy(),v.s.log("Enter: Workspace : Mark"),!0):88===a.keyCode?(v.s.log("X: Workspace: Disconnect Blocks"),v.s.Ex(),!0):!1};
v.s.Kx=function(){v.Ti=!0};v.s.pB=function(){v.Ti=!1};v.s.log=function(a){v.s.Vi?v.s.Vi("log",a):console.log(a)};v.s.warn=function(a){v.s.Vi?v.s.Vi("warn",a):console.warn(a)};v.s.error=function(a){v.s.Vi?v.s.Vi("error",a):console.error(a)};function rl(){var a=v.h.Hn;this.Wu="";this.tu=Object.create(null);if(a){a=a.split(",");for(var b=0;b<a.length;b++)this.tu[a[b]]=!0}this.reset()}rl.prototype.reset=function(){this.Vd=Object.create(null);this.vs=Object.create(null);this.Ca=null};
rl.prototype.getName=function(a,b){if(b==v.G.ab){var d=a;this.Ca?d=(d=this.Ca.me(d))?d.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),d=null);d&&(a=d)}d=a.toLowerCase()+"_"+b;var e=b==v.G.ab||"DEVELOPER_VARIABLE"==b?this.Wu:"";if(d in this.Vd)return e+this.Vd[d];a=il(this,a,b);this.Vd[d]=
a.substr(e.length);return a};function il(a,b,d){b?(b=encodeURI(b.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(b[0])&&(b="my_"+b)):b="unnamed";for(var e="";a.vs[b+e]||b+e in a.tu;)e=e?e+1:2;b+=e;a.vs[b]=!0;return(d==v.G.ab||"DEVELOPER_VARIABLE"==d?a.Wu:"")+b}function Cd(a,b){return a.toLowerCase()==b.toLowerCase()};v.sa={};v.sa.ab=v.gr;v.sa.Ew=function(a){a=B(a,!1);for(var b=[],d=[],e=0;e<a.length;e++)if(a[e].Gf){var f=a[e].Gf();f&&(f[2]?b.push(f):d.push(f))}d.sort(v.sa.ku);b.sort(v.sa.ku);return[d,b]};v.sa.ku=function(a,b){return a[0].toLowerCase().localeCompare(b[0].toLowerCase())};v.sa.Px=function(a,b){if(b.yb)return a;for(;!v.sa.Jy(a,b.o,b);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};v.sa.Jy=function(a,b,d){return!v.sa.Ly(a,b,d)};
v.sa.Ly=function(a,b,d){b=B(b,!1);for(var e=0;e<b.length;e++)if(b[e]!=d&&b[e].Gf){var f=b[e].Gf();if(Cd(f[0],a))return!0}return!1};v.sa.su=function(a){a=a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"");var b=v.sa.Px(a,this.u),d=this.Ba;if(d!=a&&d!=b){a=B(this.u.o,!1);for(var e=0;e<a.length;e++)a[e].Ok&&a[e].Ok(d,b)}return b};
v.sa.jg=function(a){function b(h,k){for(var l=0;l<h.length;l++){var m=h[l][0],n=h[l][1],u=v.B.i.createElement("block");u.setAttribute("type",k);u.setAttribute("gap",16);var x=v.B.i.createElement("mutation");x.setAttribute("name",m);u.appendChild(x);for(m=0;m<n.length;m++){var r=v.B.i.createElement("arg");r.setAttribute("name",n[m]);x.appendChild(r)}d.push(u)}}var d=[];if(v.H.procedures_defnoreturn){var e=v.B.i.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=v.B.i.createElement("field");f.setAttribute("name","NAME");f.appendChild(v.B.i.createTextNode(v.g.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}v.H.procedures_defreturn&&(e=v.B.i.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=v.B.i.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(v.B.i.createTextNode(v.g.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));v.H.procedures_ifreturn&&(e=v.B.i.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=v.sa.Ew(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");return d};v.sa.Vx=function(a,b){var d=[];b=B(b,!1);for(var e=0;e<b.length;e++)if(b[e].Ed){var f=b[e].Ed();f&&Cd(f,a)&&d.push(b[e])}return d};
v.sa.Ek=function(a){var b=v.j.nc,d=a.Gf()[0],e=a.ya(!0);a=v.sa.Vx(d,a.o);d=0;for(var f;f=a[d];d++){var h=f.ya();h=h&&v.B.cd(h);f.Pa(e);var k=f.ya();k=k&&v.B.cd(k);h!=k&&(v.j.nc=!1,v.j.Y(new v.j.nd(f,"mutation",null,h,k)),v.j.nc=b)}};v.sa.Xj=function(a,b){b=Ld(b,!1);for(var d=0;d<b.length;d++)if(b[d].Gf){var e=b[d].Gf();if(e&&Cd(e[0],a))return b[d]}return null};function sl(a,b,d,e){this.m=a;this.Aa=b;this.Ba=d.getAttribute("text");this.Oc=new A(0,0);this.yg=e;this.Ll=d.getAttribute("callbackKey");this.hs=d.getAttribute("web-class")||null}c=sl.prototype;c.width=0;c.height=0;c.Dh=null;
c.ba=function(){var a=this.yg?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.hs&&(a+=" "+this.hs);this.A=v.i.C("g",{"class":a},this.m.Ra);if(!this.yg)var b=v.i.C("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.A);a=v.i.C("rect",{"class":this.yg?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.A);var d=v.i.C("text",{"class":this.yg?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.A);d.textContent=v.i.pc(this.Ba);this.width=
Ih(d);this.height=20;this.yg||(this.width+=10,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);d.setAttribute("x",this.width/2);d.setAttribute("y",this.height-5);tl(this);this.Dh=v.W(this.A,"mouseup",this,this.xz);return this.A};c.show=function(){tl(this);this.A.setAttribute("display","block")};function tl(a){a.A.setAttribute("transform","translate("+a.Oc.x+","+a.Oc.y+")")}
c.moveTo=function(a,b){this.Oc.x=a;this.Oc.y=b;tl(this)};c.Ws=function(){return this.Oc};c.D=function(){this.Dh&&v.Sa(this.Dh);this.A&&(v.i.removeNode(this.A),this.A=null);this.Aa=this.m=null};c.xz=function(a){(a=this.Aa.Se(a))&&a.cancel();this.yg&&this.Ll?console.warn("Labels should not have callbacks. Label text: "+this.Ba):this.yg||this.Ll&&jh(this.Aa,this.Ll)?this.yg||jh(this.Aa,this.Ll)(this):console.warn("Buttons should have callbacks. Button text: "+this.Ba)};function ul(a){a.rb=this.Ff.bind(this);a.Mf=this.kn.bind(this);this.m=new Rg(a);this.m.ae=!0;this.w=!!a.w;this.ld=a.qa;this.Bo=[];this.Om=[];this.Ej=[];this.gd=[];this.Rp=[]}c=ul.prototype;c.ti=!0;c.Bg=!1;c.ah=!0;c.va=8;c.Rd=ul.prototype.va;c.Ev=3*ul.prototype.Rd;c.Fv=3*ul.prototype.Rd;c.Xg=2;c.ga=0;c.wa=0;c.Gs=70;c.ba=function(a){this.A=v.i.C(a,{"class":"blocklyFlyout",style:"display: none"},null);this.Ld=v.i.C("path",{"class":"blocklyFlyoutBackground"},this.A);this.A.appendChild(this.m.ba());return this.A};
c.J=function(a){this.Aa=a;this.m.Vh=a;this.qc=new gg(this.m,this.Ve,!1,"blocklyFlyoutScrollbar");this.xa();Array.prototype.push.apply(this.Bo,v.W(this.A,"wheel",this,this.av));this.ti||(this.em=this.Do.bind(this),this.Aa.Xc(this.em));Array.prototype.push.apply(this.Bo,v.W(this.Ld,"mousedown",this,this.Fg));this.m.Se=this.Aa.Se.bind(this.Aa);this.m.Ca=this.Aa.Ca;a=this.m;a.dj=new zd(a)};
c.D=function(){this.xa();v.Sa(this.Bo);this.em&&(this.Aa.Kf(this.em),this.em=null);this.qc&&(this.qc.D(),this.qc=null);this.m&&(this.m.Vh=null,this.m.D(),this.m=null);this.A&&(v.i.removeNode(this.A),this.A=null);this.Aa=this.Ld=null};c.Lc=function(){return this.ga};c.Fi=function(){return this.wa};c.mg=function(){return this.m};c.isVisible=function(){return this.Bg};c.za=function(a){var b=a!=this.isVisible();this.Bg=a;b&&this.jl()};c.Kh=function(a){var b=a!=this.ah;this.ah=a;b&&this.jl()};
c.jl=function(){var a=this.ah?this.isVisible():!1;this.A.style.display=a?"block":"none";this.qc.Kh(a)};function vl(a,b,d,e,f){a.A.setAttribute("width",b);a.A.setAttribute("height",d);"svg"==a.A.tagName?v.i.Rk(a.A,"translate("+e+"px,"+f+"px)"):a.A.setAttribute("transform","translate("+e+","+f+")");a.qc&&(a.qc.Np=new A(e,f),a.qc.resize(),mg(a.qc,a.qc.Oc.x,a.qc.Oc.y))}
c.xa=function(){if(this.isVisible()){this.za(!1);for(var a=0,b;b=this.gd[a];a++)v.Sa(b);this.gd.length=0;this.Gg&&(this.m.Kf(this.Gg),this.Gg=null)}};
c.show=function(a){this.m.rc(!1);this.xa();wl(this);if("string"==typeof a){a=this.m.Vh.Jq[a]||null;if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.m.Vh);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.za(!0);var b=[],d=[];this.Rp.length=0;for(var e=this.Ve?this.Ev:this.Fv,f=0,h;h=a[f];f++)if(h.tagName)switch(h.tagName.toUpperCase()){case "BLOCK":var k=v.B.zi(h,this.m);k.disabled&&
this.Rp.push(k);b.push({type:"block",block:k});h=parseInt(h.getAttribute("gap"),10);d.push(isNaN(h)?e:h);break;case "SEP":h=parseInt(h.getAttribute("gap"),10);!isNaN(h)&&0<d.length?d[d.length-1]=h:d.push(e);break;case "LABEL":case "BUTTON":h=new sl(this.m,this.Aa,h,"LABEL"==h.tagName.toUpperCase()),b.push({type:"button",button:h}),d.push(e)}this.yt(b,d);this.gd.push(v.W(this.Ld,"mouseover",this,function(){for(var l=Ld(this.m,!1),m=0,n;n=l[m];m++)n.Hh()}));this.Ve?this.wa=0:this.ga=0;this.m.rc(!0);
this.aq();this.Do();this.position();this.Gg=this.aq.bind(this);this.m.Xc(this.Gg)};function wl(a){for(var b=Ld(a.m,!1),d=0,e;e=b[d];d++)e.o==a.m&&e.D(!1,!1);for(d=0;d<a.Om.length;d++)(b=a.Om[d])&&v.i.removeNode(b);for(d=a.Om.length=0;b=a.Ej[d];d++)b.D();a.Ej.length=0;a.m.dj.clear()}
function xl(a,b,d,e){a.gd.push(v.W(b,"mousedown",null,yl(a,d)));a.gd.push(v.W(e,"mousedown",null,yl(a,d)));a.gd.push(v.uc(b,"mouseover",d,d.si));a.gd.push(v.uc(b,"mouseout",d,d.Hh));a.gd.push(v.uc(e,"mouseover",d,d.si));a.gd.push(v.uc(e,"mouseout",d,d.Hh))}function yl(a,b){return function(d){var e=a.Aa.Se(d);e&&(Yf(e,b),Xf(e,d,a))}}c.Fg=function(a){var b=this.Aa.Se(a);b&&Xf(b,a,this)};c.rt=function(a){return!a.disabled};
function Qf(a,b){var d=null;v.j.disable();var e=a.Aa.Qe();a.Aa.rc(!1);try{var f=a.Aa;if(!b.X())throw Error("oldBlock is not rendered.");var h=v.B.ag(b);f.rc(!1);var k=v.B.zi(h,f);if(!k.X())throw Error("block is not rendered.");var l=v.i.Yj(f.Ra),m=v.i.Yj(a.m.Ra),n=b.ua().scale(a.m.scale),u=Ac(Bc(m,n),l).scale(1/f.scale);k.moveBy(u.x,u.y);d=k;v.ic()}finally{v.j.enable()}b=v.G.Ts(a.Aa,e);if(v.j.isEnabled())for(v.j.T(!0),v.j.Y(new jd(d)),e=0;e<b.length;e++)v.j.Y(new nd(b[e]));a.ti?a.xa():a.Do();return d}
function zl(a,b,d,e){var f=b.ba();b.moveTo(d,e);b.show();a.gd.push(v.W(f,"mousedown",a,a.Fg));a.Ej.push(b)}function Al(a,b,d,e,f,h){d=v.i.C("rect",{"fill-opacity":0,x:d,y:e,height:f.height,width:f.width},null);d.vd=b;v.F.$g(d);a.m.Ra.insertBefore(d,b.X());b.fm=d;return a.Om[h]=d}function Bl(a,b,d){var e=d.Db();b.setAttribute("width",e.width);b.setAttribute("height",e.height);var f=d.Eq?15:0;f&&d.moveBy(0,f);f=d.N?G:0;d=d.ua();b.setAttribute("y",d.y);b.setAttribute("x",a.w?d.x-e.width+f:d.x-f)}
c.Do=function(){for(var a=Ld(this.m,!1),b=0,d;d=a[b];b++)if(-1==this.Rp.indexOf(d))for(var e=ge(this.Aa,v.i.Lo(d));d;)d.Ub(e),d=Zc(d)};c.aq=function(){this.Gg&&this.m.Kf(this.Gg);this.pu();this.Gg&&this.m.Xc(this.Gg)};function Of(a){return a.qc?a.qc.isVisible():!1};function Ag(a){a.rb=this.Ff.bind(this);a.Mf=this.kn.bind(this);Ag.v.constructor.call(this,a);this.Ve=!0}t(Ag,ul);c=Ag.prototype;c.Ff=function(){if(!this.isVisible())return null;try{var a=this.m.Ra.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.Xg,d=this.Xg;this.ld==v.Zf&&(b=0);var e=this.wa;this.ld==v.Wc&&(e-=this.Xg);return{Oa:e,Ja:this.ga-2*this.Xg,Hc:(a.height+2*this.Rd)*this.m.scale,Zc:(a.width+2*this.Rd)*this.m.scale,Ib:-this.m.scrollY,wb:-this.m.scrollX,qb:0,xb:0,Ab:b,zb:d}};
c.kn=function(a){var b=this.Ff();b&&("number"==typeof a.x&&(this.m.scrollX=-b.Zc*a.x),this.m.translate(this.m.scrollX+b.zb,this.m.scrollY+b.Ab))};c.position=function(){if(this.isVisible()){var a=this.Aa.rb();a&&(this.ga=a.Ja,this.mq(a.Ja-2*this.va,this.wa-this.va),vl(this,this.ga,this.wa,0,this.Aa.qa==this.ld?a.Pu?this.ld==v.Wc?a.Pu:a.Oa-this.wa:this.ld==v.Wc?0:a.Oa:this.ld==v.Wc?0:a.Oa+a.Ab-this.wa))}};
c.mq=function(a,b){var d=this.ld==v.Wc,e=["M 0,"+(d?0:this.va)];d?(e.push("h",a+2*this.va),e.push("v",b),e.push("a",this.va,this.va,0,0,1,-this.va,this.va),e.push("h",-1*a),e.push("a",this.va,this.va,0,0,1,-this.va,-this.va)):(e.push("a",this.va,this.va,0,0,1,this.va,-this.va),e.push("h",a),e.push("a",this.va,this.va,0,0,1,this.va,this.va),e.push("v",b),e.push("h",-a-2*this.va));e.push("z");this.Ld.setAttribute("d",e.join(" "))};c.iq=function(){this.qc.set(this.w?Infinity:0)};
c.av=function(a){var b=v.i.Ro(a),d=b.x||b.y;d&&(b=this.Ff(),d=b.wb+d,d=Math.min(d,b.Zc-b.Ja),d=Math.max(d,0),this.qc.set(d),v.O.xa());a.preventDefault();a.stopPropagation()};
c.yt=function(a,b){this.m.scale=this.Aa.scale;var d=this.Rd,e=this.w?d:d+G;this.w&&(a=a.reverse());for(var f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=Yc(h,!1),l=0,m;m=k[l];l++)m.yb=!0;h.ca();k=h.X();l=h.Db();m=h.N?G:0;m=this.w?e+l.width:e+m;h.moveBy(m,d);m=Al(this,h,m,d,l,f);e+=l.width+b[f];xl(this,k,h,m)}else"button"==h.type&&(zl(this,h.button,e,d),e+=h.button.width+b[f])};c.st=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.Gs;return a<90+b&&a>90-b||a>-90-b&&a<-90+b?!0:!1};
c.Di=function(){if(!this.A)return null;var a=this.A.getBoundingClientRect(),b=a.top;a=a.height;if(this.ld==v.Wc)return new yg(-1E9,b-1E9,2E9,1E9+a);if(this.ld==v.Zf)return new yg(-1E9,b,2E9,1E9+a)};c.pu=function(){this.m.scale=this.Aa.scale;for(var a=0,b=Ld(this.m,!1),d=0,e;e=b[d];d++)a=Math.max(a,e.Db().height);a+=1.5*this.Rd;a*=this.m.scale;a+=xe;if(this.wa!=a){for(d=0;e=b[d];d++)e.fm&&Bl(this,e.fm,e);this.wa=a;this.position()}};function Bg(a){a.rb=this.Ff.bind(this);a.Mf=this.kn.bind(this);Bg.v.constructor.call(this,a);this.Ve=!1}t(Bg,ul);c=Bg.prototype;c.Ff=function(){if(!this.isVisible())return null;try{var a=this.m.Ra.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.Xg,d=this.wa-2*this.Xg,e=this.ga;this.w||(e-=this.Xg);return{Oa:d,Ja:e,Hc:a.height*this.m.scale+2*this.Rd,Zc:a.width*this.m.scale+2*this.Rd,Ib:-this.m.scrollY+a.y,wb:-this.m.scrollX,qb:a.y,xb:a.x,Ab:b,zb:0}};
c.kn=function(a){var b=this.Ff();b&&("number"==typeof a.y&&(this.m.scrollY=-b.Hc*a.y),this.m.translate(this.m.scrollX+b.zb,this.m.scrollY+b.Ab))};c.position=function(){if(this.isVisible()){var a=this.Aa.rb();a&&(this.wa=a.Oa,this.mq(this.ga-this.va,a.Oa-2*this.va),vl(this,this.ga,this.wa,this.Aa.qa==this.ld?a.Qu?this.ld==v.od?a.Qu:a.Ja-this.ga:this.ld==v.od?0:a.Ja:this.ld==v.od?0:a.Ja+a.zb-this.ga,0))}};
c.mq=function(a,b){var d=this.ld==v.Be,e=a+this.va;e=["M "+(d?e:0)+",0"];e.push("h",d?-a:a);e.push("a",this.va,this.va,0,0,d?0:1,d?-this.va:this.va,this.va);e.push("v",Math.max(0,b));e.push("a",this.va,this.va,0,0,d?0:1,d?this.va:-this.va,this.va);e.push("h",d?a:-a);e.push("z");this.Ld.setAttribute("d",e.join(" "))};c.iq=function(){this.qc.set(0)};
c.av=function(a){var b=v.i.Ro(a);if(b.y){var d=this.Ff();b=d.Ib-d.qb+b.y;b=Math.min(b,d.Hc-d.Oa);b=Math.max(b,0);this.qc.set(b);v.O.xa()}a.preventDefault();a.stopPropagation()};
c.yt=function(a,b){this.m.scale=this.Aa.scale;for(var d=this.Rd,e=this.w?d:d+G,f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=Yc(h,!1),l=0,m;m=k[l];l++)m.yb=!0;h.ca();k=h.X();l=h.Db();h.moveBy(e,d);m=Al(this,h,this.w?e-l.width:e,d,l,f);xl(this,k,h,m);d+=l.height+b[f]}else"button"==h.type&&(zl(this,h.button,e,d),d+=h.button.height+b[f])};c.st=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.Gs;return a<b&&a>-b||a<-180+b||a>180-b?!0:!1};
c.Di=function(){if(!this.A)return null;var a=this.A.getBoundingClientRect(),b=a.left;a=a.width;if(this.ld==v.od)return new yg(b-1E9,-1E9,1E9+a,2E9);if(ic&&this.Aa&&this.Aa.Pi){var d=this.Aa.A.getBoundingClientRect().x;10>Math.abs(d-b)&&(b+=this.yB*this.Aa.options.Tb.scale)}return new yg(b,-1E9,1E9+a,2E9)};
c.pu=function(){this.m.scale=this.Aa.scale;for(var a=0,b=Ld(this.m,!1),d=0,e;e=b[d];d++){var f=e.Db().width;e.N&&(f-=G);a=Math.max(a,f)}for(d=0;e=this.Ej[d];d++)a=Math.max(a,e.width);a+=1.5*this.Rd+G;a*=this.m.scale;a+=xe;if(this.ga!=a){for(d=0;e=b[d];d++)this.w&&(f=e.ua().x,e.moveBy(a/this.m.scale-this.Rd-G-f,0)),e.fm&&Bl(this,e.fm,e);if(this.w)for(d=0;e=this.Ej[d];d++)b=e.Ws().y,e.moveTo(a/this.m.scale-e.width-this.Rd-G,b);this.ga=a;this.position()}};function Cl(a){Gi.call(this);this.aa=a;a=w?"focusout":"blur";this.Oy=qi(this.aa,w?"focusin":"focus",this,!w);this.Py=qi(this.aa,a,this,!w)}t(Cl,Gi);Cl.prototype.handleEvent=function(a){var b=new bi(a.Me);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};Cl.prototype.Zb=function(){Cl.v.Zb.call(this);zi(this.Oy);zi(this.Py);delete this.aa};function Dl(a,b){null!=a&&this.append.apply(this,arguments)}c=Dl.prototype;c.Yb="";c.set=function(a){this.Yb=""+a};c.append=function(a,b,d){this.Yb+=String(a);if(null!=b)for(var e=1;e<arguments.length;e++)this.Yb+=arguments[e];return this};c.clear=function(){this.Yb=""};c.toString=function(){return this.Yb};function El(a,b,d){Ji.call(this,d);this.hb=b||Fl;a instanceof Jb||(a=Mb(a),a=Nb(Lb(a).toString().replace(/(\r\n|\r|\n)/g,"<br>"),a.jh()));this.kk=a;this.Rj=this.jq=!1;this.kA=null;this.Bw=Ub;this.Si=!0;this.Zl=-1}t(El,Ji);var Gl={};c=El.prototype;c.Zb=function(){El.v.Zb.call(this);this.Sg&&(this.Sg.removeNode(this),this.Sg=null);this.aa=null};
c.Bm=function(){var a=this.L();if(a){var b=Hl(this);b&&!b.id&&(b.id=this.ea()+".label");Ui(a,"treeitem");Vi(a,"selected",!1);Vi(a,"level",this.Ei());b&&Vi(a,"labelledby",b.id);(b=this.om())&&Ui(b,"presentation");(b=this.nm())&&Ui(b,"presentation");if(b=Il(this))if(Ui(b,"group"),b.hasChildNodes())for(Vi(a,"expanded",!1),a=Pi(this),b=1;b<=a;b++){var d=P(this,b-1).L();Vi(d,"setsize",a);Vi(d,"posinset",b)}}};
c.ba=function(){var a=this.Re();var b=this.qn(),d=a.Je;a=d.createElement("DIV");w?(b=Sb(Vb,b),Xb(a,b),a.removeChild(a.firstChild)):Xb(a,b);if(1==a.childNodes.length)a=a.removeChild(a.firstChild);else{for(b=d.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a=b}this.aa=a};c.vc=function(){El.v.vc.call(this);Gl[this.ea()]=this;this.Bm()};c.Xd=function(){El.v.Xd.call(this);delete Gl[this.ea()]};
c.ri=function(a,b){var d=P(this,b-1),e=P(this,b);El.v.ri.call(this,a,b);a.ue=d;a.re=e;d?d.re=a:this.Eo=a;e?e.ue=a:this.wt=a;(b=this.Jc())&&Jl(a,b);Kl(a,this.Ei()+1);if(b=this.L())if(this.oj(),Vi(b,"expanded",this.wc()),this.wc()){b=Il(this);a.L()||a.ba();var f=a.L(),h=e&&e.L();b.insertBefore(f,h);this.Qa&&a.vc();e||(d?d.oj():(wh(b,!0),this.Hd(this.wc())))}};c.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.ri(a,b?Si(this,b):Pi(this));return a};
c.removeChild=function(a){var b=this.Jc(),d=b?b.Pc:null;if(d==a||a.contains(d))if(b.hasFocus()){this.select();d=this.zz;if(ua(d))this&&(d=Ba(d,this));else if(d&&"function"==typeof d.handleEvent)d=Ba(d.handleEvent,d);else throw Error("Invalid listener argument");2147483647<Number(10)||g.setTimeout(d,10)}else this.select();El.v.removeChild.call(this,a);this.wt==a&&(this.wt=a.ue);this.Eo==a&&(this.Eo=a.re);a.ue&&(a.ue.re=a.re);a.re&&(a.re.ue=a.ue);d=!a.re;a.Sg=null;a.Zl=-1;if(b&&(b.removeNode(a),this.Qa)){b=
Il(this);if(a.Qa){var e=a.L();b.removeChild(e);a.Xd()}d&&(d=P(this,Pi(this)-1))&&d.oj();Ri(this)||(b.style.display="none",this.oj(),this.om().className=this.jm(),(b=this.L())&&b.removeAttribute("aria-expanded"))}return a};c.remove=El.prototype.removeChild;c.zz=function(){this.select()};c.Ei=function(){var a=this.Zl;0>a&&(a=(a=this.getParent())?a.Ei()+1:0,Kl(this,a));return a};
function Kl(a,b){if(b!=a.Zl){a.Zl=b;var d=Ll(a);if(d){var e=Ml(a)+"px";Qi(a)?d.style.paddingRight=e:d.style.paddingLeft=e}Oi(a,function(f){Kl(f,b+1)})}}c.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};c.Ef=function(){var a=[];Oi(this,function(b){a.push(b)});return a};c.Gm=function(){return this.jq};c.select=function(){var a=this.Jc();a&&a.df(this)};
function Nl(a,b){if(a.jq!=b){a.jq=b;Ol(a);var d=a.L();d&&(Vi(d,"selected",b),b&&(b=a.Jc().L(),Vi(b,"activedescendant",a.ea())))}}c.wc=function(){return this.Rj};
c.Hd=function(a){var b=a!=this.Rj;if(!b||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){this.Rj=a;var d=this.Jc();var e=this.L();if(Ri(this)){if(!a&&d&&this.contains(d.Pc)&&this.select(),e){if(d=Il(this))if(wh(d,a),Vi(e,"expanded",a),a&&this.Qa&&!d.hasChildNodes()){var f=[];Oi(this,function(h){f.push(h.qn())});Yb(d,Sb(f));Oi(this,function(h){h.vc()})}this.oj()}}else(d=Il(this))&&wh(d,!1);e&&(this.om().className=this.jm());b&&this.dispatchEvent(a?"expand":"collapse")}};c.toggle=function(){this.Hd(!this.wc())};
c.expand=function(){this.Hd(!0)};c.collapse=function(){this.Hd(!1)};c.hq=function(){var a=this.getParent();a&&(a.Hd(!0),a.hq())};c.qn=function(){var a=this.Jc(),b=!a.Tk||a==this.getParent()&&!a.Aq?this.hb.gs:this.hb.fs;a=this.wc()&&Ri(this);b={"class":b,style:Pl(this)};var d=[];a&&Oi(this,function(e){d.push(e.qn())});a=Rb("div",b,d);return Rb("div",{"class":this.hb.rs,id:this.ea()},[Ql(this),a])};function Ml(a){return Math.max(0,(a.Ei()-1)*a.hb.fp)}
function Ql(a){var b={};b["padding-"+(Qi(a)?"right":"left")]=Ml(a)+"px";b={"class":a.$j(),style:b};var d=a.Oo(),e=Rb("span",{style:{display:"inline-block"},"class":a.jm()}),f=Rb("span",{"class":a.hb.ss,title:a.kA||null},a.kk);a=Sb(f,Rb("span",{},a.Bw));return Rb("div",b,[d,e,a])}c.$j=function(){return this.hb.lo+(this.Gm()?" "+this.hb.us:"")};c.Oo=function(){return Rb("span",{type:"expand",style:{display:"inline-block"},"class":Rl(this)})};
function Rl(a){var b=a.Jc(),d=!b.Tk||b==a.getParent()&&!b.Aq,e=a.hb,f=new Dl;f.append(e.bh," ",e.mx," ");if(Ri(a)){var h=0;b.yq&&a.Si&&(h=a.wc()?2:1);d||(h=a.re?h+8:h+4);switch(h){case 1:f.append(e.qx);break;case 2:f.append(e.px);break;case 4:f.append(e.ns);break;case 5:f.append(e.ox);break;case 6:f.append(e.nx);break;case 8:f.append(e.os);break;case 9:f.append(e.tx);break;case 10:f.append(e.sx);break;default:f.append(e.ls)}}else d?f.append(e.ls):a.re?f.append(e.os):f.append(e.ns);return f.toString()}
function Pl(a){var b=a.wc()&&Ri(a);return Ab({"background-position":Sl(a),display:b?null:"none"})}function Sl(a){return(a.re?(a.Ei()-1)*a.hb.fp:"-100")+"px 0"}c.L=function(){var a=El.v.L.call(this);a||(this.aa=a=this.Re().L(this.ea()));return a};function Ll(a){return(a=a.L())?a.firstChild:null}c.nm=function(){var a=Ll(this);return a?a.firstChild:null};c.om=function(){var a=Ll(this);return a?a.childNodes[1]:null};function Hl(a){return(a=Ll(a))&&a.lastChild?a.lastChild.previousSibling:null}
function Il(a){return(a=a.L())?a.lastChild:null}c.Gb=function(a){this.kk=a=Mb(a);var b=Hl(this);b&&Xb(b,a);(a=this.Jc())&&Tl(a,this)};c.Eb=function(){var a=Lb(this.kk).toString();return-1!=a.indexOf("&")?"document"in g?ac(a):cc(a):a};function Ol(a){var b=Ll(a);b&&(b.className=a.$j())}c.oj=function(){var a=this.nm();a&&(a.className=Rl(this));if(a=Il(this))a.style.backgroundPosition=Sl(this)};c.Ut=function(a){"expand"==a.target.getAttribute("type")&&Ri(this)?this.Si&&this.toggle():(this.select(),Ol(this))};
c.Fk=function(a){a.preventDefault()};c.Rt=function(a){"expand"==a.target.getAttribute("type")&&Ri(this)||this.Si&&this.toggle()};
c.Kp=function(a){var b=!0;switch(a.keyCode){case 39:if(a.altKey)break;Ri(this)&&(this.wc()?P(this,0).select():this.Hd(!0));break;case 37:if(a.altKey)break;if(Ri(this)&&this.wc()&&this.Si)this.Hd(!1);else{var d=this.getParent(),e=this.Jc();d&&(e.Qg||d!=e)&&d.select()}break;case 40:(d=pl(this))&&d.select();break;case 38:(d=ql(this))&&d.select();break;default:b=!1}b&&(a.preventDefault(),(e=this.Jc())&&e.hl.clear());return b};function Ul(a){return a.wc()&&Ri(a)?Ul(P(a,Pi(a)-1)):a}
function pl(a){if(Ri(a)&&a.wc())return P(a,0);for(var b=a,d;b!=a.Jc();){d=b.re;if(null!=d)return d;b=b.getParent()}return null}function ql(a){var b=a.ue;if(null!=b)return Ul(b);b=a.getParent();var d=a.Jc();return!d.Qg&&b==d||a==d?null:b}function Jl(a,b){a.Sg!=b&&(a.Sg=b,Tl(b,a),Oi(a,function(d){Jl(d,b)}))}
var Fl={fp:19,ts:"goog-tree-root goog-tree-item",qs:"goog-tree-hide-root",rs:"goog-tree-item",fs:"goog-tree-children",gs:"goog-tree-children-nolines",lo:"goog-tree-row",ss:"goog-tree-item-label",bh:"goog-tree-icon",mx:"goog-tree-expand-icon",qx:"goog-tree-expand-icon-plus",px:"goog-tree-expand-icon-minus",tx:"goog-tree-expand-icon-tplus",sx:"goog-tree-expand-icon-tminus",ox:"goog-tree-expand-icon-lplus",nx:"goog-tree-expand-icon-lminus",os:"goog-tree-expand-icon-t",ns:"goog-tree-expand-icon-l",ls:"goog-tree-expand-icon-blank",
io:"goog-tree-expanded-folder-icon",js:"goog-tree-collapsed-folder-icon",jo:"goog-tree-file-icon",ps:"goog-tree-expanded-folder-icon",ks:"goog-tree-collapsed-folder-icon",us:"selected"};function Vl(a,b,d){El.call(this,a,b,d)}t(Vl,El);Vl.prototype.Jc=function(){if(this.Sg)return this.Sg;var a=this.getParent();return a&&(a=a.Jc())?(Jl(this,a),a):null};Vl.prototype.jm=function(){var a=this.wc(),b=this.Lx;if(a&&b)return b;b=this.zy;if(!a&&b)return b;b=this.hb;if(Ri(this)){if(a&&b.io)return b.bh+" "+b.io;if(!a&&b.js)return b.bh+" "+b.js}else if(b.jo)return b.bh+" "+b.jo;return""};function Wl(a){if(a.bk&&"function"==typeof a.bk)return a.bk();if(p(a))return a.split("");if(ta(a)){for(var b=[],d=a.length,e=0;e<d;e++)b.push(a[e]);return b}b=[];d=0;for(e in a)b[d++]=a[e];return b};function Xl(a){this.vb=void 0;this.Fc={};if(a){if(a.qm&&"function"==typeof a.qm)var b=a.qm();else if(a.bk&&"function"==typeof a.bk)b=void 0;else if(ta(a)||p(a)){b=[];for(var d=a.length,e=0;e<d;e++)b.push(e)}else for(e in b=[],d=0,a)b[d++]=e;a=Wl(a);for(d=0;d<b.length;d++)this.set(b[d],a[d])}}c=Xl.prototype;c.set=function(a,b){Yl(this,a,b,!1)};c.add=function(a,b){Yl(this,a,b,!0)};
function Yl(a,b,d,e){for(var f=0;f<b.length;f++){var h=b.charAt(f);a.Fc[h]||(a.Fc[h]=new Xl);a=a.Fc[h]}if(e&&void 0!==a.vb)throw Error('The collection already contains the key "'+b+'"');a.vb=d}c.get=function(a){a:{for(var b=this,d=0;d<a.length;d++)if(b=b.Fc[a.charAt(d)],!b){a=void 0;break a}a=b}return a?a.vb:void 0};c.bk=function(){var a=[];Zl(this,a);return a};function Zl(a,b){void 0!==a.vb&&b.push(a.vb);for(var d in a.Fc)Zl(a.Fc[d],b)}
c.qm=function(a){var b=[];if(a){for(var d=this,e=0;e<a.length;e++){var f=a.charAt(e);if(!d.Fc[f])return[];d=d.Fc[f]}$l(d,a,b)}else $l(this,"",b);return b};function $l(a,b,d){void 0!==a.vb&&d.push(b);for(var e in a.Fc)$l(a.Fc[e],b+e,d)}c.clear=function(){this.Fc={};this.vb=void 0};
c.remove=function(a){for(var b=this,d=[],e=0;e<a.length;e++){var f=a.charAt(e);if(!b.Fc[f])throw Error('The collection does not have the key "'+a+'"');d.push([b,f]);b=b.Fc[f]}a=b.vb;for(delete b.vb;0<d.length;)if(f=d.pop(),b=f[0],f=f[1],b.Fc[f].tt())delete b.Fc[f];else break;return a};c.clone=function(){return new Xl(this)};c.tt=function(){var a;if(a=void 0===this.vb)a:{for(var b in this.Fc){a=!1;break a}a=!0}return a};function am(){this.Bh=new Xl;this.Yb="";this.Nm=this.xp=null;this.Xi=this.zk=0}function bm(a,b){var d=b.Eb();if(d&&!/^[\s\xa0]*$/.test(null==d?"":String(d))){d=d.toLowerCase();var e=a.Bh.get(d);if(e){for(var f=Pi(b),h=0;h<f;h++)bm(a,P(b,h));Ma(e,b);e.length||a.Bh.remove(d)}}}function cm(a,b){var d=!1;(b=a.Bh.qm(b))&&b.length&&(a.Xi=0,a.zk=0,d=a.Bh.get(b[0]),d=dm(a,d))&&(a.xp=b);return d}function dm(a,b){if(b){if(a.Xi<b.length){var d=b[a.Xi];a.Nm=b}d&&(d.hq(),d.select())}return!!d}
am.prototype.clear=function(){this.Yb=""};function em(a,b,d){El.call(this,a,b,d);this.Rj=!0;Nl(this,!0);this.Pc=this;this.hl=new am;this.Ho=this.Nc=null;this.Tj=!1;this.Tx=null;this.Aq=this.Qg=this.yq=this.Tk=!0;if(w)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}}t(em,El);c=em.prototype;c.Jc=function(){return this};c.Ei=function(){return 0};c.hq=function(){};c.iy=function(){this.Tj=!0;ij(this.L(),"focused");this.Pc&&this.Pc.select()};c.Zx=function(){this.Tj=!1;kj(this.L(),"focused")};c.hasFocus=function(){return this.Tj};
c.wc=function(){return!this.Qg||em.v.wc.call(this)};c.Hd=function(a){this.Qg?em.v.Hd.call(this,a):this.Rj=a};c.Oo=function(){return Ub};c.om=function(){var a=Ll(this);return a?a.firstChild:null};c.nm=function(){return null};c.oj=function(){};c.$j=function(){return em.v.$j.call(this)+(this.Qg?"":" "+this.hb.qs)};c.jm=function(){var a=this.wc(),b=this.Lx;if(a&&b)return b;b=this.zy;if(!a&&b)return b;b=this.hb;return a&&b.ps?b.bh+" "+b.ps:!a&&b.ks?b.bh+" "+b.ks:""};
c.df=function(a){if(this.Pc!=a){var b=!1;this.Pc&&(b=this.Pc==this.Tx,Nl(this.Pc,!1));if(this.Pc=a)Nl(a,!0),b&&a.select();this.dispatchEvent("change")}};function fm(a){0!=a.Tk&&(a.Tk=!1,a.Qa&&gm(a))}function gm(a){function b(h){var k=Il(h);if(k){var l=!e||d==h.getParent()&&!f?h.hb.gs:h.hb.fs;k.className=l;if(k=h.nm())k.className=Rl(h)}Oi(h,b)}var d=a,e=d.Tk,f=d.Aq;b(a)}function hm(a){0!=a.yq&&(a.yq=!1,a.Qa&&gm(a))}
function im(a){if(0!=a.Qg){a.Qg=!1;if(a.Qa){var b=Ll(a);b&&(b.className=a.$j())}a.Pc==a&&P(a,0)&&a.df(P(a,0))}}c.Bm=function(){em.v.Bm.call(this);var a=this.L();Ui(a,"tree");Vi(a,"labelledby",Hl(this).id)};
c.vc=function(){em.v.vc.call(this);var a=this.L();a.className=this.hb.ts;a.setAttribute("hideFocus","true");a=this.L();a.tabIndex=0;var b=this.Nc=new $i(a),d=this.Ho=new Cl(a);Mi(this).Ia(d,"focusout",this.Zx).Ia(d,"focusin",this.iy).Ia(b,"key",this.ne).Ia(a,"mousedown",this.Wo).Ia(a,"click",this.Wo).Ia(a,"dblclick",this.Wo);this.Bm()};c.Xd=function(){em.v.Xd.call(this);this.Nc.D();this.Nc=null;this.Ho.D();this.Ho=null};
c.Wo=function(a){var b=jm(this,a);if(b)switch(a.type){case "mousedown":b.Ut(a);break;case "click":b.Fk(a);break;case "dblclick":b.Rt(a)}};
c.ne=function(a){var b=this.hl;var d=!1;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){d=40==a.keyCode?1:-1;var e=b.xp;if(e){var f=null,h=!1;if(b.Nm){var k=b.Xi+d;0<=k&&k<b.Nm.length?(b.Xi=k,f=b.Nm):h=!0}f||(k=b.zk+d,0<=k&&k<e.length&&(b.zk=k),e.length>b.zk&&(f=b.Bh.get(e[b.zk])),f&&f.length&&h&&(b.Xi=-1==d?f.length-1:0));dm(b,f)&&(b.xp=e)}d=!0}break;case 8:e=b.Yb.length-1;d=!0;0<e?(b.Yb=b.Yb.substring(0,e),cm(b,b.Yb)):0==e?b.Yb="":d=!1;break;case 27:b.Yb="",d=!0}(b=d||this.Pc&&this.Pc.Kp(a))||(b=
this.hl,d=!1,a.ctrlKey||a.altKey||(e=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),(1==e.length&&" "<=e&&"~">=e||"\u0080"<=e&&"\ufffd">=e)&&(" "!=e||b.Yb)&&(b.Yb+=e,d=cm(b,b.Yb))),b=d);b&&a.preventDefault();return b};function jm(a,b){for(var d=b.target;null!=d;){if(b=Gl[d.id])return b;if(d==a.L())break;d=d.parentNode}return null}c.createNode=function(a){return new Vl(a||Ub,this.hb,this.Re())};
function Tl(a,b){a=a.hl;var d=b.Eb();if(d&&!/^[\s\xa0]*$/.test(null==d?"":String(d))){d=d.toLowerCase();var e=a.Bh.get(d);e?e.push(b):a.Bh.set(d,[b])}}c.removeNode=function(a){bm(this.hl,a)};function Vg(a){this.m=a;this.w=a.options.w;this.Ve=a.options.sd;this.qa=a.options.qa;this.hb={fp:19,ts:"blocklyTreeRoot",qs:"blocklyHidden",rs:"",lo:"blocklyTreeRow",ss:"blocklyTreeLabel",bh:"blocklyTreeIcon",io:"blocklyTreeIconOpen",jo:"blocklyTreeIconNone",us:"blocklyTreeSelected"};this.Ru={lo:"blocklyTreeSeparator"};this.Ve&&(this.hb.cssTreeRow+=a.w?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.Ru.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.w?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),
this.hb.cssTreeIcon="")}c=Vg.prototype;c.width=0;c.height=0;c.tk=null;
c.J=function(){var a=this.m,b=H(this.m);this.Tc=document.createElement("div");this.Tc.className="blocklyToolboxDiv";this.Tc.setAttribute("dir",a.w?"RTL":"LTR");b.parentNode.insertBefore(this.Tc,b);v.W(this.Tc,"mousedown",this,function(d){v.i.Ag(d)||d.target==this.Tc?v.ic(!1):v.ic(!0);v.Touch.xf()},!1,!0);b={Af:a.options.Af,Tb:a,w:a.w,jd:a.options.jd,sd:a.sd,qa:a.options.qa};this.I=null;this.I=a.sd?new Ag(b):new Bg(b);v.i.sh(this.I.ba("svg"),H(this.m));this.I.J(a);this.hb.cleardotPath=a.options.te+
"1x1.gif";this.hb.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.w?"Rtl":"Ltr");this.Bc=b=new km(this,this.hb);im(b);fm(b);hm(b);b.df(null);a=this.Xm(a.options.Ze);b.ca(this.Tc);a&&b.df(a);gh(this);this.position()};c.D=function(){this.I.D();this.Bc.D();v.i.removeNode(this.Tc);this.tk=this.m=null};c.Lc=function(){return this.width};c.Fi=function(){return this.height};
c.position=function(){var a=this.Tc;if(a){var b=H(this.m);b=v.Mu(b);this.Ve?(a.style.left="0",a.style.height="auto",a.style.width=b.width+"px",this.height=a.offsetHeight,this.qa==v.Wc?a.style.top="0":a.style.bottom="0"):(this.qa==v.Be?a.style.right="0":a.style.left="0",a.style.height=b.height+"px",this.width=a.offsetWidth);this.I.position()}};
c.Xm=function(a){this.Bc.qu();this.Bc.Ee=[];this.$o=!1;a=lm(this,a,this.Bc,this.m.options.te);if(this.Bc.Ee.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");Xd(this.m);return a};
function lm(a,b,d,e){for(var f=null,h=null,k=0,l;l=b.childNodes[k];k++)if(l.tagName)switch(l.tagName.toUpperCase()){case "CATEGORY":h=v.i.pc(l.getAttribute("name"));var m=a.Bc.createNode(h);m.Ee=[];d.add(m);var n=l.getAttribute("custom");n?m.Ee=n:(n=lm(a,l,m,e))&&(f=n);n=l.getAttribute("categorystyle");var u=l.getAttribute("colour");u&&n?(m.oh="",console.warn('Toolbox category "'+h+'" can not have both a style and a colour')):n?mm(a,n,m,h):nm(a,u,m,h);"true"==l.getAttribute("expanded")?(m.Ee.length&&
(f=m),m.Hd(!0)):m.Hd(!1);h=l;break;case "SEP":if(h&&"CATEGORY"==h.tagName.toUpperCase()){d.add(new om(a.Ru));break}case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":d.Ee.push(l),h=l}return f}function nm(a,b,d,e){b=v.i.pc(b);null===b||""===b?d.oh="":/^#[0-9a-fA-F]{6}$/.test(b)?(d.oh=b,a.$o=!0):"number"===typeof b||"string"===typeof b&&!isNaN(Number(b))?(d.oh=v.ht(Number(b)),a.$o=!0):(d.oh="",console.warn('Toolbox category "'+e+'" has unrecognized colour attribute: '+b))}
function mm(a,b,d,e){if((d.Ku=b)&&v.al){var f;(f=v.al.Sw[b])&&f.Ql?nm(a,f.Ql,d,e):console.warn('Style "'+b+'" must exist and contain a colour value')}}function pm(a,b){if(b=b||a.Bc){b=b.Ef(!1);for(var d=0,e;e=b[d];d++)e.Ku&&(mm(a,e.Ku,e,""),gh(a)),pm(a,e)}}function qm(a){var b=a.Bc;if(b&&(pm(a,b),a=b.Pc)){var d=a.oh||"#57e";Ll(a).style.backgroundColor=d;gh(b.$,a)}}
function gh(a,b){b=(b||a.Bc).Ef(!1);for(var d=0,e;e=b[d];d++){var f=Ll(e);if(f){var h=a.$o?"8px solid "+(e.oh||"#ddd"):"none";a.m.w?f.style.borderRight=h:f.style.borderLeft=h}gh(a,e)}}c.Di=function(){if(!this.Tc)return null;var a=this.Tc.getBoundingClientRect(),b=a.left,d=a.top,e=a.width;a=a.height;return this.qa==v.od?new yg(-1E7,-1E7,1E7+b+e,2E7):this.qa==v.Be?new yg(b,-1E7,1E7+e,2E7):this.qa==v.Wc?new yg(-1E7,-1E7,2E7,1E7+d+a):new yg(0,d,2E7,1E7+e)};
function km(a,b){this.$=a;em.call(this,Ub,b)}t(km,em);km.prototype.vc=function(){km.v.vc.call(this);if(dd){var a=this.L();v.W(a,"touchend",this,this.sy)}};km.prototype.sy=function(a){var b=jm(this,a);b&&"touchend"===a.type&&setTimeout(function(){b.Fk(a)},1)};km.prototype.createNode=function(a){a=a?Mb(a):Ub;return new rm(this.$,a,this.hb)};
km.prototype.df=function(a){var b=this.$;if(a!=this.Pc&&a!=b.Bc){b.tk&&(Ll(b.tk).style.backgroundColor="");if(a){var d=a.oh||"#57e";Ll(a).style.backgroundColor=d;gh(b,a)}d=this.Pc;em.prototype.df.call(this,a);a&&a.Ee&&a.Ee.length?(b.I.show(a.Ee),b.tk!=a&&b.I.iq()):b.I.xa();d!=a&&d!=this&&(d=new qd(null,"category",d&&Lb(d.kk).toString(),a&&Lb(a.kk).toString()),d.Jb=b.m.id,v.j.Y(d));a&&(b.tk=a)}};
function rm(a,b,d){El.call(this,b,d,void 0);a&&(b=function(){v.Uh(a.m)},qi(a.Bc,"expand",b),qi(a.Bc,"collapse",b))}t(rm,Vl);c=rm.prototype;c.Oo=function(){return Rb("span")};c.Fk=function(){Ri(this)&&this.Si?(this.toggle(),this.select()):this.Gm()?this.Jc().df(null):this.select();Ol(this)};c.Ut=function(){};c.Rt=function(){};c.Kp=function(a){if(this.Sg.$.Ve){var b={};b[39]=this.gj?38:40;b[37]=this.gj?40:38;b[38]=37;b[40]=39;a.keyCode=b[a.keyCode]||a.keyCode}return rm.v.Kp.call(this,a)};
function om(a){rm.call(this,null,Ub,a)}t(om,rm);v.Qd={};v.Qd.oB="";v.Qd.Lu=null;v.Qd.Ft="";v.Qd.tg=function(a,b){if(!v.Qd.Lu){var d=".blocklyDraggable {}\n";a&&(d+=v.Qd.jv.join("\n"),v.Dv&&(d+=v.Dv.CSS.join("\n")));v.Qd.Ft=b.replace(/[\\\/]$/,"");d=d.replace(/<<<PATH>>>/g,v.Qd.Ft);a=document.createElement("style");document.head.insertBefore(a,document.head.firstChild);a.appendChild(document.createTextNode(d));v.Qd.Lu=a.sheet}};v.Qd.Au=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")};
v.Qd.jv=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;",
"top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: fixed;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-radius: 2px;","padding: 4px;","-webkit-user-select: none;","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;",
"width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".arrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".arrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;",
"border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",
".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',
"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {",
"display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyReplaceable .blocklyPath {","fill-opacity: 0.5;","}",".blocklyReplaceable .blocklyPathLight,",".blocklyReplaceable .blocklyPathDark {",
"display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;",
"z-index: 20;","}",".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklyFlyoutLabel {","cursor: default;","}",".blocklyFlyoutLabelBackground {","opacity: 0;","}",".blocklyFlyoutLabelText {","fill: #000;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {",
"display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentForeignObject {","position: relative;","z-index: 0;","}",".blocklyCommentRect {","fill: #E7DE8E;",
"stroke: #bcA903;","stroke-width: 1px","}",".blocklyCommentTarget {","fill: transparent;","stroke: #bcA903;","}",".blocklyCommentTargetFocused {","fill: none;","}",".blocklyCommentHandleTarget {","fill: none;","}",".blocklyCommentHandleTargetFocused {","fill: transparent;","}",".blocklyFocused>.blocklyCommentRect {","fill: #B9B272;","stroke: #B9B272;","}",".blocklySelected>.blocklyCommentTarget {","stroke: #fc3;","stroke-width: 3px;","}",".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;",
"outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyCommentDeleteIcon {","cursor: pointer;","fill: #000;","display: none","}",".blocklySelected > .blocklyCommentDeleteIcon {","display: block","}",".blocklyDeleteIconShape {","fill: #000;","stroke: #000;","stroke-width: 1px;","}",".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {","stroke: #fc3;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;",
"height: 100%;","margin: 0;","outline: none;","padding: 0 1px;","width: 100%","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyTransparentBackground {","opacity: 0;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {",
"position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}",".blocklyFlyout .blocklyScrollbarHandle {",
"fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;",
"pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyVerticalCursor {","stroke-width: 3px;","fill: rgba(255,255,255,0.5);","}",".blocklyDropdownMenu {","padding: 0 !important;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;",
"overflow-y: auto;","position: absolute;","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {",
"float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;",
"vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;",
"}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}",".blocklyColourTable {","border-collapse: collapse;","}",".blocklyColourTable>tr>td {","border: 1px solid #666;",
"padding: 0;","}",".blocklyColourTable>tr>td>div {","border: 1px solid #666;","height: 13px;","width: 15px;","}",".blocklyColourTable>tr>td>div:hover {","border: 1px solid #fff;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border: 1px solid #000 !important;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;",
"padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem, ",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","padding: 5px 5px 5px 28px;","white-space: nowrap;",
"}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl, ",".blocklyDropDownDiv .goog-menuitem.goog-menuitem-rtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem { ","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noaccel .goog-menuitem {",
"padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-content {","color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon, ",
".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight, ",".blocklyWidgetDiv .goog-menuitem-hover {","background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 4px;","padding-top: 4px;","}",".blocklyDropDownDiv .goog-menuitem-highlight, ",".blocklyDropDownDiv .goog-menuitem-hover {","background-color: rgba(0, 0, 0, 0.2);","}",".blocklyWidgetDiv .goog-menuitem-checkbox, ",
".blocklyWidgetDiv .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {",
"left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","background: url(//ssl.gstatic.com/editor/editortoolbar.png) no-repeat -512px 0;","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",
".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}",".blocklyWidgetDiv .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel, ",
".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;","text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint, ",".blocklyDropDownDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator, ",".blocklyDropDownDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator, ",".blocklyDropDownDiv .goog-menuseparator {",
"border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""];v.O={};v.O.ra=null;v.O.Ik=null;v.O.yi=null;v.O.ba=function(){v.O.ra||(v.O.ra=document.createElement("div"),v.O.ra.className="blocklyWidgetDiv",document.body.appendChild(v.O.ra))};v.O.show=function(a,b,d){v.O.xa();v.O.Ik=a;v.O.yi=d;v.O.ra.style.top=Xc().y+"px";v.O.ra.style.direction=b?"rtl":"ltr";v.O.ra.style.display="block"};v.O.xa=function(){v.O.Ik&&(v.O.Ik=null,v.O.ra.style.display="none",v.O.ra.style.left="",v.O.ra.style.top="",v.O.yi&&v.O.yi(),v.O.yi=null,v.O.ra.innerHTML="")};v.O.isVisible=function(){return!!v.O.Ik};
v.O.ik=function(a){v.O.Ik==a&&v.O.xa()};v.O.cu=function(a,b,d){v.O.ra.style.left=a+"px";v.O.ra.style.top=b+"px";v.O.ra.style.height=d+"px"};v.O.du=function(a,b,d,e){var f=v.O.Rw(a,b,d);a=v.O.Qw(a,b,d,e);0>f?v.O.cu(a,0,d.height+f):v.O.cu(a,f,d.height)};v.O.Qw=function(a,b,d,e){if(e)return b=Math.max(b.right-d.width,a.left),Math.min(b,a.right-d.width);b=Math.min(b.left,a.right-d.width);return Math.max(b,a.left)};v.O.Rw=function(a,b,d){return b.bottom+d.height>=a.bottom?b.top-d.height:b.bottom};function sm(a){this.Ij=a;this.ba()}c=sm.prototype;c.Fa=null;c.Wd=null;c.Ij=null;c.Lg=1;c.Yk=null;c.ba=function(){this.Fa||(this.Fa=v.i.C("svg",{xmlns:v.Mn,"xmlns:html":v.Yf,"xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyBlockDragSurface"},this.Ij),this.Wd=v.i.C("g",{},this.Fa))};function Ff(a,b){if(a.Wd.childNodes.length)throw Error("Already dragging a block.");a.Wd.appendChild(b);a.Fa.style.display="block";a.Yk=new A(0,0)}
c.Qf=function(a,b){this.Yk=new A(a*this.Lg,b*this.Lg);a=this.Yk.x;b=this.Yk.y;a=a.toFixed(0);b=b.toFixed(0);this.Fa.style.display="block";v.i.Rk(this.Fa,"translate3d("+a+"px, "+b+"px, 0px)")};c.um=function(){var a=v.i.dd(this.Fa);return new A(a.x/this.Lg,a.y/this.Lg)};c.Qb=function(){return this.Wd};
c.Fj=function(a){a?a.appendChild(this.Wd.firstChild):this.Wd.removeChild(this.Wd.firstChild);this.Fa.style.display="none";if(this.Wd.childNodes.length)throw Error("Drag group was not cleared.");this.Yk=null};v.tg=function(a,b){v.Uw();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!v.i.containsNode(document,a))throw Error("Error: container is not in current document.");b=new dg(b||{});var d=document.createElement("div");d.className="injectionDiv";a.appendChild(d);a=v.Kj(d,b);var e=new sm(d);d=new Jg(d);d=v.kx(a,b,e,d);v.Uz(b.gA);v.Fy(d);v.xk=d;v.Uh(d);return d};
v.Kj=function(a,b){a.setAttribute("dir","LTR");Ki=b.w;v.Qd.tg(b.uy,b.te);a=v.i.C("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg"},a);var d=v.i.C("defs",{},a),e=String(Math.random()).substring(2),f=v.i.C("filter",{id:"blocklyEmbossFilter"+e},d);v.i.C("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},f);var h=v.i.C("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,
specularExponent:10,"lighting-color":"white",result:"specOut"},f);v.i.C("fePointLight",{x:-5E3,y:-1E4,z:2E4},h);v.i.C("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},f);v.i.C("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},f);b.Ks=f.id;f=v.i.C("pattern",{id:"blocklyDisabledPattern"+e,patternUnits:"userSpaceOnUse",width:10,height:10},d);v.i.C("rect",{width:10,height:10,fill:"#aaa"},f);v.i.C("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",
stroke:"#cc0"},f);b.Af=f.id;f=b.Ys;d=v.i.C("pattern",{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},d);0<f.length&&0<f.spacing?(v.i.C("line",{stroke:f.colour},d),1<f.length&&v.i.C("line",{stroke:f.colour},d)):v.i.C("line",{},d);b.Zs=d;return a};
v.kx=function(a,b,d,e){b.Tb=null;var f=new Rg(b,d,e);f.scale=b.eb.Iu;a.appendChild(f.ba("blocklyMainBackground"));!b.bt&&b.Ze&&(d=Zg(f,"svg"),v.i.sh(d,a));b.dt&&Xg(f);b.eb&&b.eb.controls&&Yg(f);v.s.Au(f.cursor);v.s.Tz(f.Dt);f.translate(0,0);v.xk=f;b.readOnly||f.Sb()||f.Xc(function(h){if(!f.Rb()&&!f.Sb()&&-1!=v.j.fv.indexOf(h.type)){var k=Object.create(null),l=f.rb(),m=f.scale;k.wb=l.wb/m;k.Ib=l.Ib/m;k.Yu=(l.wb+l.Ja)/m;k.Xu=(l.Ib+l.Oa)/m;eh(f)?(l=Ud(f),k.xb=l.x,k.qb=l.y,k.Zr=l.x+l.width,k.Xr=l.y+l.height):
(k.xb=l.xb/m,k.qb=l.qb/m,k.Zr=(l.xb+l.Zc)/m,k.Xr=(l.qb+l.Hc)/m);if(k.qb<k.Ib||k.Xr>k.Xu||k.xb<k.wb||k.Zr>k.Yu){l=null;h&&(l=v.j.Qb(),v.j.T(h.group));switch(h.type){case v.j.tj:case v.j.Pq:var n=vd(f,h.Mb);break;case v.j.wl:case v.j.xl:n=Zd(f,h.Fe)}if(n){m=n.im();var u=k.Ib-m.md.y;0<u&&n.moveBy(0,u);u=k.Xu-m.zd.y;0>u&&n.moveBy(0,u);u=k.wb-m.md.x;0<u&&n.moveBy(u,0);k=k.Yu-m.zd.x;0>k&&n.moveBy(k,0)}h&&(h.group||console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),
v.j.T(l))}}});v.Uh(f);v.O.ba();Dk();v.F.ba();return f};v.Fy=function(a){var b=a.options,d=H(a);v.W(d.parentNode,"contextmenu",null,function(e){v.i.Hm(e)||e.preventDefault()});d=v.W(window,"resize",null,function(){v.ic(!0);v.Uh(a)});a.hn=d;v.tg.Jw();b.Ze&&(a.$?a.$.J(a):a.I&&(a.I.J(a),a.I.show(b.Ze.childNodes),a.I.iq()));d=xe;b.dt&&(d=a.Ac.J(d));b.eb&&b.eb.controls&&a.ci.J(d);b.lc&&b.lc.scrollbars?(a.tb=new fg(a),a.tb.resize()):a.Mf({x:.5,y:.5});b.vy&&v.tg.Ry(b.te,a)};
v.tg.Jw=function(){v.Hx||(v.W(document,"scroll",null,function(){for(var a=ie(),b=0,d;d=a[b];b++)d.kl&&d.kl()}),v.W(document,"keydown",null,v.mz),v.uc(document,"touchend",null,v.Dg),v.uc(document,"touchcancel",null,v.Dg),nc&&v.W(window,"orientationchange",document,function(){v.Uh(v.qd())}));v.Hx=!0};
v.tg.Ry=function(a,b){function d(){for(;f.length;)v.Sa(f.pop());e.preload()}var e=b.De;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(v.W(document,"mousemove",null,d,!0));f.push(v.W(document,"touchstart",null,d,!0))};
v.Uu=function(a){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead.");v.qd().Uu(a)};v.xk=null;v.selected=null;v.cursor=null;v.Ti=!1;v.Pj=[];v.Gj=null;v.Pl=null;v.bo=null;v.lB=null;v.al=null;v.ht=function(a){var b=v.Iv,d=255*v.Jv,e=0,f=0,h=0;if(0==b)h=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-b);var m=d*(1-b*l);b=d*(1-b*(1-l));switch(k){case 1:e=m;f=d;h=a;break;case 2:e=a;f=d;h=b;break;case 3:e=a;f=m;h=d;break;case 4:e=b;f=a;h=d;break;case 5:e=d;f=a;h=m;break;case 6:case 0:e=d,f=b,h=a}}return gk([Math.round(e),Math.round(f),Math.round(h)])};
v.Mu=function(a){return{width:a.Dr,height:a.Br}};v.BB=function(a){Xd(a)};v.Uh=function(a){for(;a.options.Tb;)a=a.options.Tb;var b=H(a),d=b.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;b.Dr!=e&&(b.setAttribute("width",e+"px"),b.Dr=e);b.Br!=d&&(b.setAttribute("height",d+"px"),b.Br=d);a.resize()}};
v.mz=function(a){var b=v.xk;if(!(b.options.readOnly||v.i.Hm(a)||b.U&&!b.isVisible())){var d=!1;if(27==a.keyCode)v.ic(),v.Ti&&v.s.navigate(a);else if(8==a.keyCode||46==a.keyCode){a.preventDefault();if(ag())return;v.selected&&v.selected.xc()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(ag())return;v.selected&&v.selected.xc()&&v.selected.Sb()&&(67==a.keyCode?(v.ic(),v.ho(v.selected)):88!=a.keyCode||v.selected.o.ae||(v.ho(v.selected),d=!0));86==a.keyCode?v.Gj&&(b=v.Pl,b.ae&&(b=b.Vh),v.bo&&ge(b,
v.bo)&&(v.j.T(!0),ch(b),v.j.T(!1))):90==a.keyCode&&(v.ic(),b.Kq(a.shiftKey))}else if(v.Ti&&v.s.navigate(a))return;d&&!v.selected.o.ae&&(v.j.T(!0),v.ic(),v.selected.D(!0,!0),v.j.T(!1))}};v.ho=function(a){if(a.kp)var b=a.dl();else{b=v.B.ag(a);v.B.Ax(b);var d=a.ua();b.setAttribute("x",a.w?-d.x:d.x);b.setAttribute("y",d.y)}v.Gj=b;v.Pl=a.o;v.bo=a.kp?null:v.i.Lo(a,!0)};v.Is=function(a){var b=v.Gj,d=v.Pl;v.ho(a);ch(a.o);v.Gj=b;v.Pl=d};v.AB=function(a){v.i.Hm(a)||a.preventDefault()};
v.ic=function(a){v.F.xa();v.O.xa();Ik();var b=v.qd();b.Ac&&b.Ac.I&&b.Ac.I.xa();a||b.$&&b.$.I&&b.$.I.ti&&b.$.Bc.df(null)};v.Xc=function(a){console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead.");return v.qd().Xc(a)};v.qd=function(){return v.xk};v.alert=function(a,b){window.alert(a);b&&b()};v.confirm=function(a,b){b(window.confirm(a))};v.prompt=function(a,b,d){d(window.prompt(a,b))};v.My=function(a){return function(){Rh(this,a)}};
v.gg=function(a){for(var b=0;b<a.length;b++){var d=a[b];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(v.H[e]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+e+'".'),v.H[e]={J:v.My(d)})}else console.warn("Block definition #"+b+" in JSON array is "+d+". Skipping.")}};
v.W=function(a,b,d,e,f,h){function k(r){var q=!f;r=v.Touch.Xz(r);for(var y=0,K;K=r[y];y++)if(!q||v.Touch.xq(K))v.Touch.Sz(K),d?e.call(d,K):e(K),l=!0}var l=!1,m=[];if(g.PointerEvent&&b in v.Touch.Ce)for(var n=0,u;u=v.Touch.Ce[b][n];n++)a.addEventListener(u,k,!1),m.push([a,u,k]);else if(a.addEventListener(b,k,!1),m.push([a,b,k]),b in v.Touch.Ce){var x=function(r){k(r);var q=!h;l&&q&&r.preventDefault()};for(n=0;u=v.Touch.Ce[b][n];n++)a.addEventListener(u,x,!1),m.push([a,u,x])}return m};
v.uc=function(a,b,d,e){function f(n){d?e.call(d,n):e(n)}var h=[],k=g.window;if(k&&k.PointerEvent&&b in v.Touch.Ce){k=0;for(var l;l=v.Touch.Ce[b][k];k++)a.addEventListener(l,f,!1),h.push([a,l,f])}else if(a.addEventListener(b,f,!1),h.push([a,b,f]),b in v.Touch.Ce){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var u=n.changedTouches[0];n.clientX=u.clientX;n.clientY=u.clientY}f(n);n.preventDefault()};for(k=0;l=v.Touch.Ce[b][k];k++)a.addEventListener(l,m,!1),h.push([a,l,m])}return h};
v.Sa=function(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};v.zg=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};
v.Uw=function(){v.Ec("LOGIC_HUE",["Blocks","logic","HUE"],void 0);v.Ec("LOGIC_HUE",["Constants","Logic","HUE"],210);v.Ec("LOOPS_HUE",["Blocks","loops","HUE"],void 0);v.Ec("LOOPS_HUE",["Constants","Loops","HUE"],120);v.Ec("MATH_HUE",["Blocks","math","HUE"],void 0);v.Ec("MATH_HUE",["Constants","Math","HUE"],230);v.Ec("TEXTS_HUE",["Blocks","texts","HUE"],void 0);v.Ec("TEXTS_HUE",["Constants","Text","HUE"],160);v.Ec("LISTS_HUE",["Blocks","lists","HUE"],void 0);v.Ec("LISTS_HUE",["Constants","Lists","HUE"],
260);v.Ec("COLOUR_HUE",["Blocks","colour","HUE"],void 0);v.Ec("COLOUR_HUE",["Constants","Colour","HUE"],20);v.Ec("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);v.Ec("VARIABLES_HUE",["Constants","Variables","HUE"],330);v.Ec("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);v.Ec("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
v.Ec=function(a,b,d){for(var e="Blockly",f=v,h=0;h<b.length;++h)e+="."+b[h],f&&(f=f[b[h]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};v.Uz=function(a){this.al=a;(a=v.qd())&&this.Jz(a)};v.Jz=function(a){this.Su(B(a).filter(function(d){return void 0!==d.Xk}));!a.$&&a.I&&a.I.m?this.Su(B(a.I.m)):dh(a);a.$&&qm(a.$);var b=new qd(null,"theme");b.Jb=a.id;v.j.Y(b)};
v.Su=function(a){for(var b=0,d;d=a[b];b++)if(L(d,d.Xk),d.hd){var e=d.hd.m;if(e&&B(e)){var f=B(e);for(d=0;d<f.length;d++){var h=f[d];L(h,h.Xk)}e=B(e.I.m);for(d=0;d<e.length;d++)h=e[d],L(h,h.Xk)}}};v.vB=function(){return this.al};g.Blockly||(g.Blockly={});g.Blockly.getMainWorkspace=v.qd;g.Blockly.addChangeListener=v.Xc;function tm(a,b){var d=a.className;d=p(d)&&d.match(/\S+/g)||[];for(var e=Qa(arguments,1),f=0;f<e.length;f++)La(d,e[f])||d.push(e[f]);d=d.join(" ");a.className=d};var um={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",
he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas",
"pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587",
"zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},vm="ace ar fa he mzn ps ur".split(" "),wm=window.BlocklyGamesLang,xm=window.BlocklyGamesLanguages,ym=!!window.location.pathname.match(/\.html$/),bh=null,R,zm=Number,Am,Bm=window.location.search.match(/[?&]level=([^&]+)/);Am=Bm?decodeURIComponent(Bm[1].replace(/\+/g,"%20")):"NaN";var Cm=zm(Am);R=isNaN(Cm)?1:Math.min(Math.max(1,Cm),10);
function Dm(){document.title=document.getElementById("title").textContent;document.dir=-1!=vm.indexOf(wm)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",wm);var a=document.getElementById("languageMenu");if(a){for(var b=[],d=0;d<xm.length;d++){var e=xm[d];b.push([um[e],e])}b.sort(function(h,k){return h[0]>k[0]?1:h[0]<k[0]?-1:0});for(d=a.options.length=0;d<b.length;d++){var f=b[d];e=f[1];f=new Option(f[0],e);e==wm&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display=
"none")}for(d=1;10>=d;d++)a=document.getElementById("level"+d),b=!!Em(d),a&&b&&tm(a,"level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(Fm,1)}function Em(a){var b=Gm;try{var d=window.localStorage[b+a]}catch(e){}return d}function T(a){var b;(b=document.getElementById(a))?(b=b.textContent,b=b.replace(/\\n/g,"\n")):b=null;return null===b?"[Unknown message: "+a+"]":b}
function Hm(a,b){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",b,!0)}
function Fm(){if(!ym){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")}};v.g.rB={};v.g.ADD_COMMENT="Add Comment";v.g.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";v.g.CHANGE_VALUE_TITLE="Change value:";v.g.CLEAN_UP="Clean up Blocks";v.g.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.";v.g.COLLAPSE_ALL="Collapse Blocks";v.g.COLLAPSE_BLOCK="Collapse Block";v.g.COLOUR_BLEND_COLOUR1="colour 1";v.g.COLOUR_BLEND_COLOUR2="colour 2";v.g.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp";
v.g.COLOUR_BLEND_RATIO="ratio";v.g.COLOUR_BLEND_TITLE="blend";v.g.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).";v.g.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color";v.g.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.";v.g.COLOUR_RANDOM_HELPURL="http://randomcolour.com";v.g.COLOUR_RANDOM_TITLE="random colour";v.g.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.";v.g.COLOUR_RGB_BLUE="blue";v.g.COLOUR_RGB_GREEN="green";
v.g.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html";v.g.COLOUR_RGB_RED="red";v.g.COLOUR_RGB_TITLE="colour with";v.g.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.";v.g.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";v.g.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop";v.g.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop";
v.g.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.";v.g.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.";v.g.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.";v.g.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each";v.g.CONTROLS_FOREACH_TITLE="for each item %1 in list %2";v.g.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.";
v.g.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with";v.g.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4";v.g.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";v.g.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.";v.g.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.";v.g.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse";
v.g.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.";v.g.CONTROLS_IF_MSG_ELSE="else";v.g.CONTROLS_IF_MSG_ELSEIF="else if";v.g.CONTROLS_IF_MSG_IF="if";v.g.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.";v.g.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";v.g.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";
v.g.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";v.g.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop";v.g.CONTROLS_REPEAT_INPUT_DO="do";v.g.CONTROLS_REPEAT_TITLE="repeat %1 times";v.g.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.";v.g.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat";
v.g.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until";v.g.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while";v.g.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.";v.g.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.";v.g.DELETE_ALL_BLOCKS="Delete all %1 blocks?";v.g.DELETE_BLOCK="Delete Block";v.g.DELETE_VARIABLE="Delete the '%1' variable";v.g.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";
v.g.DELETE_X_BLOCKS="Delete %1 Blocks";v.g.DISABLE_BLOCK="Disable Block";v.g.DUPLICATE_BLOCK="Duplicate";v.g.DUPLICATE_COMMENT="Duplicate Comment";v.g.ENABLE_BLOCK="Enable Block";v.g.EXPAND_ALL="Expand Blocks";v.g.EXPAND_BLOCK="Expand Block";v.g.EXTERNAL_INPUTS="External Inputs";v.g.HELP="Help";v.g.INLINE_INPUTS="Inline Inputs";v.g.IOS_CANCEL="Cancel";v.g.IOS_ERROR="Error";v.g.IOS_OK="OK";v.g.IOS_PROCEDURES_ADD_INPUT="+ Add Input";v.g.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements";
v.g.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.";v.g.IOS_PROCEDURES_INPUTS="INPUTS";v.g.IOS_VARIABLES_ADD_BUTTON="Add";v.g.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable";v.g.IOS_VARIABLES_DELETE_BUTTON="Delete";v.g.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.";v.g.IOS_VARIABLES_RENAME_BUTTON="Rename";v.g.IOS_VARIABLES_VARIABLE_NAME="Variable name";v.g.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list";
v.g.LISTS_CREATE_EMPTY_TITLE="create empty list";v.g.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records";v.g.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list";v.g.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.";v.g.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";v.g.LISTS_CREATE_WITH_INPUT_WITH="create list with";v.g.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.";
v.g.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.";v.g.LISTS_GET_INDEX_FIRST="first";v.g.LISTS_GET_INDEX_FROM_END="# from end";v.g.LISTS_GET_INDEX_FROM_START="#";v.g.LISTS_GET_INDEX_GET="get";v.g.LISTS_GET_INDEX_GET_REMOVE="get and remove";v.g.LISTS_GET_INDEX_LAST="last";v.g.LISTS_GET_INDEX_RANDOM="random";v.g.LISTS_GET_INDEX_REMOVE="remove";v.g.LISTS_GET_INDEX_TAIL="";v.g.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.";
v.g.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.";
v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.";v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.";v.g.LISTS_GET_SUBLIST_END_FROM_END="to # from end";
v.g.LISTS_GET_SUBLIST_END_FROM_START="to #";v.g.LISTS_GET_SUBLIST_END_LAST="to last";v.g.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist";v.g.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first";v.g.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end";v.g.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #";v.g.LISTS_GET_SUBLIST_TAIL="";v.g.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.";
v.g.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.";v.g.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.";v.g.LISTS_INDEX_OF_FIRST="find first occurrence of item";v.g.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list";v.g.LISTS_INDEX_OF_LAST="find last occurrence of item";v.g.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.";v.g.LISTS_INLIST="in list";
v.g.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty";v.g.LISTS_ISEMPTY_TITLE="%1 is empty";v.g.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.";v.g.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of";v.g.LISTS_LENGTH_TITLE="length of %1";v.g.LISTS_LENGTH_TOOLTIP="Returns the length of a list.";v.g.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";v.g.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times";
v.g.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.";v.g.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list";v.g.LISTS_REVERSE_MESSAGE0="reverse %1";v.g.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.";v.g.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set";v.g.LISTS_SET_INDEX_INPUT_TO="as";v.g.LISTS_SET_INDEX_INSERT="insert at";v.g.LISTS_SET_INDEX_SET="set";
v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.";v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.";v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.";v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.";v.g.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.";v.g.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.";
v.g.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.";v.g.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.";v.g.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list";v.g.LISTS_SORT_ORDER_ASCENDING="ascending";v.g.LISTS_SORT_ORDER_DESCENDING="descending";v.g.LISTS_SORT_TITLE="sort %1 %2 %3";v.g.LISTS_SORT_TOOLTIP="Sort a copy of a list.";v.g.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case";v.g.LISTS_SORT_TYPE_NUMERIC="numeric";
v.g.LISTS_SORT_TYPE_TEXT="alphabetic";v.g.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists";v.g.LISTS_SPLIT_LIST_FROM_TEXT="make list from text";v.g.LISTS_SPLIT_TEXT_FROM_LIST="make text from list";v.g.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.";v.g.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.";v.g.LISTS_SPLIT_WITH_DELIMITER="with delimiter";
v.g.LOGIC_BOOLEAN_FALSE="false";v.g.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values";v.g.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.";v.g.LOGIC_BOOLEAN_TRUE="true";v.g.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)";v.g.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.";v.g.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.";v.g.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.";
v.g.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.";v.g.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.";v.g.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.";v.g.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not";v.g.LOGIC_NEGATE_TITLE="not %1";v.g.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.";
v.g.LOGIC_NULL="null";v.g.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type";v.g.LOGIC_NULL_TOOLTIP="Returns null.";v.g.LOGIC_OPERATION_AND="and";v.g.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations";v.g.LOGIC_OPERATION_OR="or";v.g.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.";v.g.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.";v.g.LOGIC_TERNARY_CONDITION="test";v.g.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:";
v.g.LOGIC_TERNARY_IF_FALSE="if false";v.g.LOGIC_TERNARY_IF_TRUE="if true";v.g.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";v.g.MATH_ADDITION_SYMBOL="+";v.g.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic";v.g.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.";v.g.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.";
v.g.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.";v.g.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.";v.g.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.";v.g.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2";v.g.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2";v.g.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.";v.g.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";
v.g.MATH_CHANGE_TITLE="change %1 by %2";v.g.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.";v.g.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant";v.g.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";v.g.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)";v.g.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3";
v.g.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).";v.g.MATH_DIVISION_SYMBOL="\u00f7";v.g.MATH_IS_DIVISIBLE_BY="is divisible by";v.g.MATH_IS_EVEN="is even";v.g.MATH_IS_NEGATIVE="is negative";v.g.MATH_IS_ODD="is odd";v.g.MATH_IS_POSITIVE="is positive";v.g.MATH_IS_PRIME="is prime";v.g.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";v.g.MATH_IS_WHOLE="is whole";
v.g.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation";v.g.MATH_MODULO_TITLE="remainder of %1 \u00f7 %2";v.g.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.";v.g.MATH_MULTIPLICATION_SYMBOL="\u00d7";v.g.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number";v.g.MATH_NUMBER_TOOLTIP="A number.";v.g.MATH_ONLIST_HELPURL="";v.g.MATH_ONLIST_OPERATOR_AVERAGE="average of list";v.g.MATH_ONLIST_OPERATOR_MAX="max of list";v.g.MATH_ONLIST_OPERATOR_MEDIAN="median of list";
v.g.MATH_ONLIST_OPERATOR_MIN="min of list";v.g.MATH_ONLIST_OPERATOR_MODE="modes of list";v.g.MATH_ONLIST_OPERATOR_RANDOM="random item of list";v.g.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list";v.g.MATH_ONLIST_OPERATOR_SUM="sum of list";v.g.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.";v.g.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.";v.g.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.";
v.g.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.";v.g.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.";v.g.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.";v.g.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.";v.g.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.";v.g.MATH_POWER_SYMBOL="^";v.g.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";
v.g.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction";v.g.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";v.g.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";v.g.MATH_RANDOM_INT_TITLE="random integer from %1 to %2";v.g.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.";v.g.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding";v.g.MATH_ROUND_OPERATOR_ROUND="round";
v.g.MATH_ROUND_OPERATOR_ROUNDDOWN="round down";v.g.MATH_ROUND_OPERATOR_ROUNDUP="round up";v.g.MATH_ROUND_TOOLTIP="Round a number up or down.";v.g.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root";v.g.MATH_SINGLE_OP_ABSOLUTE="absolute";v.g.MATH_SINGLE_OP_ROOT="square root";v.g.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.";v.g.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.";v.g.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.";
v.g.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.";v.g.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.";v.g.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.";v.g.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.";v.g.MATH_SUBTRACTION_SYMBOL="-";v.g.MATH_TRIG_ACOS="acos";v.g.MATH_TRIG_ASIN="asin";v.g.MATH_TRIG_ATAN="atan";v.g.MATH_TRIG_COS="cos";v.g.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions";
v.g.MATH_TRIG_SIN="sin";v.g.MATH_TRIG_TAN="tan";v.g.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.";v.g.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.";v.g.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.";v.g.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).";v.g.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).";v.g.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).";v.g.NEW_COLOUR_VARIABLE="Create colour variable...";
v.g.NEW_NUMBER_VARIABLE="Create number variable...";v.g.NEW_STRING_VARIABLE="Create string variable...";v.g.NEW_VARIABLE="Create variable...";v.g.NEW_VARIABLE_TITLE="New variable name:";v.g.NEW_VARIABLE_TYPE_TITLE="New variable type:";v.g.ORDINAL_NUMBER_SUFFIX="";v.g.PROCEDURES_ALLOW_STATEMENTS="allow statements";v.g.PROCEDURES_BEFORE_PARAMS="with:";v.g.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";v.g.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.";
v.g.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";v.g.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.";v.g.PROCEDURES_CALL_BEFORE_PARAMS="with:";v.g.PROCEDURES_CREATE_DO="Create '%1'";v.g.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...";v.g.PROCEDURES_DEFNORETURN_DO="";v.g.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";v.g.PROCEDURES_DEFNORETURN_PROCEDURE="do something";
v.g.PROCEDURES_DEFNORETURN_TITLE="to";v.g.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.";v.g.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";v.g.PROCEDURES_DEFRETURN_RETURN="return";v.g.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.";v.g.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.";v.g.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition";v.g.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause";
v.g.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.";v.g.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.";v.g.PROCEDURES_MUTATORARG_TITLE="input name:";v.g.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.";v.g.PROCEDURES_MUTATORCONTAINER_TITLE="inputs";v.g.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.";v.g.REDO="Redo";v.g.REMOVE_COMMENT="Remove Comment";
v.g.RENAME_VARIABLE="Rename variable...";v.g.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";v.g.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";v.g.TEXT_APPEND_TITLE="to %1 append text %2";v.g.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.";v.g.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case";v.g.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case";v.g.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case";
v.g.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE";v.g.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.";v.g.TEXT_CHARAT_FIRST="get first letter";v.g.TEXT_CHARAT_FROM_END="get letter # from end";v.g.TEXT_CHARAT_FROM_START="get letter #";v.g.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text";v.g.TEXT_CHARAT_LAST="get last letter";v.g.TEXT_CHARAT_RANDOM="get random letter";v.g.TEXT_CHARAT_TAIL="";v.g.TEXT_CHARAT_TITLE="in text %1 %2";
v.g.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.";v.g.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings";v.g.TEXT_COUNT_MESSAGE0="count %1 in %2";v.g.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.";v.g.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.";v.g.TEXT_CREATE_JOIN_TITLE_JOIN="join";v.g.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.";
v.g.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end";v.g.TEXT_GET_SUBSTRING_END_FROM_START="to letter #";v.g.TEXT_GET_SUBSTRING_END_LAST="to last letter";v.g.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text";v.g.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text";v.g.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter";v.g.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end";v.g.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #";
v.g.TEXT_GET_SUBSTRING_TAIL="";v.g.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.";v.g.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text";v.g.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text";v.g.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text";v.g.TEXT_INDEXOF_TITLE="in text %1 %2 %3";v.g.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.";
v.g.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text";v.g.TEXT_ISEMPTY_TITLE="%1 is empty";v.g.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.";v.g.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation";v.g.TEXT_JOIN_TITLE_CREATEWITH="create text with";v.g.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.";v.g.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";
v.g.TEXT_LENGTH_TITLE="length of %1";v.g.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.";v.g.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text";v.g.TEXT_PRINT_TITLE="print %1";v.g.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.";v.g.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user";v.g.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.";
v.g.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.";v.g.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message";v.g.TEXT_PROMPT_TYPE_TEXT="prompt for text with message";v.g.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings";v.g.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3";v.g.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.";v.g.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text";
v.g.TEXT_REVERSE_MESSAGE0="reverse %1";v.g.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.";v.g.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)";v.g.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.";v.g.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces";v.g.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of";v.g.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of";v.g.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of";
v.g.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.";v.g.TODAY="Today";v.g.UNDO="Undo";v.g.VARIABLES_DEFAULT_NAME="item";v.g.VARIABLES_GET_CREATE_SET="Create 'set %1'";v.g.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get";v.g.VARIABLES_GET_TOOLTIP="Returns the value of this variable.";v.g.VARIABLES_SET="set %1 to %2";v.g.VARIABLES_SET_CREATE_GET="Create 'get %1'";v.g.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set";
v.g.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.";v.g.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";v.g.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";v.g.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";v.g.CONTROLS_FOREACH_INPUT_DO=v.g.CONTROLS_REPEAT_INPUT_DO;v.g.CONTROLS_FOR_INPUT_DO=v.g.CONTROLS_REPEAT_INPUT_DO;v.g.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=v.g.CONTROLS_IF_MSG_ELSEIF;
v.g.CONTROLS_IF_ELSE_TITLE_ELSE=v.g.CONTROLS_IF_MSG_ELSE;v.g.CONTROLS_IF_IF_TITLE_IF=v.g.CONTROLS_IF_MSG_IF;v.g.CONTROLS_IF_MSG_THEN=v.g.CONTROLS_REPEAT_INPUT_DO;v.g.CONTROLS_WHILEUNTIL_INPUT_DO=v.g.CONTROLS_REPEAT_INPUT_DO;v.g.LISTS_CREATE_WITH_ITEM_TITLE=v.g.VARIABLES_DEFAULT_NAME;v.g.LISTS_GET_INDEX_HELPURL=v.g.LISTS_INDEX_OF_HELPURL;v.g.LISTS_GET_INDEX_INPUT_IN_LIST=v.g.LISTS_INLIST;v.g.LISTS_GET_SUBLIST_INPUT_IN_LIST=v.g.LISTS_INLIST;v.g.LISTS_INDEX_OF_INPUT_IN_LIST=v.g.LISTS_INLIST;
v.g.LISTS_SET_INDEX_INPUT_IN_LIST=v.g.LISTS_INLIST;v.g.MATH_CHANGE_TITLE_ITEM=v.g.VARIABLES_DEFAULT_NAME;v.g.PROCEDURES_DEFRETURN_COMMENT=v.g.PROCEDURES_DEFNORETURN_COMMENT;v.g.PROCEDURES_DEFRETURN_DO=v.g.PROCEDURES_DEFNORETURN_DO;v.g.PROCEDURES_DEFRETURN_PROCEDURE=v.g.PROCEDURES_DEFNORETURN_PROCEDURE;v.g.PROCEDURES_DEFRETURN_TITLE=v.g.PROCEDURES_DEFNORETURN_TITLE;v.g.TEXT_APPEND_VARIABLE=v.g.VARIABLES_DEFAULT_NAME;v.g.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=v.g.VARIABLES_DEFAULT_NAME;v.g.LOGIC_HUE="210";
v.g.LOOPS_HUE="120";v.g.MATH_HUE="230";v.g.TEXTS_HUE="160";v.g.LISTS_HUE="260";v.g.COLOUR_HUE="20";v.g.VARIABLES_HUE="330";v.g.VARIABLES_DYNAMIC_HUE="310";v.g.PROCEDURES_HUE="290";var V={Ai:null,J:function(){Dm();var a=document.getElementById("linkButton");"BlocklyStorage"in window?(BlocklyStorage.HTTPREQUEST_ERROR=T("Games_httpRequestError"),BlocklyStorage.LINK_ALERT=T("Games_linkAlert"),BlocklyStorage.HASH_ERROR=T("Games_hashError"),BlocklyStorage.XML_ERROR=T("Games_xmlError"),BlocklyStorage.alert=U.Ju.bind(U,a),a&&Hm(a,BlocklyStorage.link)):a&&(a.style.display="none");(a=document.getElementById("languageMenu"))&&a.addEventListener("change",V.Tw,!0);v.H&&(v.H.bw=!1);v.h&&
(v.h.bw=!1)},Qy:function(a,b){if("BlocklyStorage"in window&&1<window.location.hash.length)BlocklyStorage.retrieveXml(window.location.hash.substring(1));else{var d=null;try{d=window.sessionStorage.Ct}catch(h){}d&&delete window.sessionStorage.Ct;var e=Em(R),f=b&&Em(R-1);f&&"function"==typeof b&&(f=b(f));(a=d||e||f||a)&&V.zu(a)}},zu:function(a){V.Ai?V.Ai.setValue(a,-1):(a=v.B.kd(a),bh.clear(),v.B.Cf(a,bh),bh.Or())},No:function(){if(V.Ai)var a=V.Ai.getValue();else{a=v.B.Lq(bh,!0);if(1==Ld(bh,!1).length&&
a.querySelector){var b=a.querySelector("block");b&&(b.removeAttribute("x"),b.removeAttribute("y"))}a=v.B.cd(a)}return a},mg:function(){return bh},Nz:function(){window.localStorage&&(window.localStorage[Gm+R]=V.No())},Am:function(){window.location=(ym?"index.html":"./")+"?lang="+wm},Tw:function(){if(window.sessionStorage){if(V.Ai)var a=V.Ai.getValue();else a=v.B.Lq(bh),a=v.B.cd(a);window.sessionStorage.Ct=a}a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);
var b=window.location.search;b=1>=b.length?"?lang="+a:b.match(/[?&]lang=[^&]*/)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b},Fp:function(){10>R?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+wm+"&level="+(R+1):V.Am()},ap:function(a,b){if(a){var d=a.match(/^block_id_([^']+)$/);d&&(a=d[1])}ah(a,b)},jt:function(a,b){a=document.getElementById(a);
a.firstChild||(a=v.tg(a,{rtl:-1!=vm.indexOf(wm),readOnly:!0}),"string"!=typeof b&&(b=b.join("")),v.B.Cf(v.B.kd(b),a))},aA:function(a){return a.replace(/(,\s*)?'block_id_[^']+'\)/g,")").replace(/[\s\xa0]+$/,"")},Le:function(a){if("click"==a.type&&"touchend"==V.Le.Xp&&V.Le.Vp+2E3>Date.now()||V.Le.Xp==a.type&&V.Le.Vp+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;V.Le.Xp=a.type;V.Le.Vp=Date.now();return!1}};V.Le.Xp=null;V.Le.Vp=0;
V.Cy=function(){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","third-party/JS-Interpreter/compressed.js");document.head.appendChild(a)};
V.Dy=function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href","common/prettify.css");document.head.appendChild(a);a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","common/prettify.js");document.head.appendChild(a)};window.BlocklyInterface=V;V.setCode=V.zu;V.getCode=V.No;V.getWorkspace=V.mg;var U={wg:!1,As:null,$l:null,Oh:function(a,b,d,e,f,h){function k(){U.wg&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);U.wg&&U.rd(!1);v.qd()&&v.ic(!0);U.wg=!0;U.As=b;U.$l=h;var l=document.getElementById("dialog");h=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(h.style.visibility="visible",h.style.opacity=.3,h.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),U.oo=v.uc(e,"mousedown",null,U.Bx));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&b?(U.Mm(b,!1,.2),U.Mm(l,!0,.8),setTimeout(k,175)):k()},Bs:0,Cs:0,Bx:function(a){U.so();if(!v.i.Ag(a)){var b=document.getElementById("dialog");U.Bs=b.offsetLeft-a.clientX;U.Cs=b.offsetTop-a.clientY;U.qo=v.uc(document,"mouseup",null,U.so);U.po=v.uc(document,"mousemove",null,U.Cx);a.stopPropagation()}},Cx:function(a){var b=document.getElementById("dialog"),
d=U.Bs+a.clientX;a=U.Cs+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-b.offsetWidth);b.style.left=d+"px";b.style.top=a+"px"},so:function(){U.qo&&(v.Sa(U.qo),U.qo=null);U.po&&(v.Sa(U.po),U.po=null)},rd:function(a){function b(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(U.wg){U.so();U.oo&&(v.Sa(U.oo),U.oo=null);U.wg=!1;U.$l&&U.$l();U.$l=null;var d=!1===a?
null:U.As;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(U.Mm(a,!1,.8),U.Mm(d,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},Mm:function(a,b,d){function e(){f.style.width=h.width+"px";f.style.height=h.height+"px";f.style.left=h.x+"px";f.style.top=
h.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),h=U.Ux(a);b?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},Ux:function(a){var b=sh(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},Ju:function(a,b){var d=document.getElementById("containerStorage");d.textContent="";b=b.split("\n");for(var e=0;e<b.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(b[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");U.Oh(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},U.Fq);U.Dq()},vr:function(){if(!Em(R))if(U.wg||bh.Rb())setTimeout(U.vr,15E3);else{var a=document.getElementById("dialogAbort"),b=document.getElementById("abortCancel");b.addEventListener("click",U.rd,!0);b.addEventListener("touchend",U.rd,!0);b=document.getElementById("abortOk");b.addEventListener("click",V.Am,!0);b.addEventListener("touchend",
V.Am,!0);U.Oh(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",U.rr,!0)});document.body.addEventListener("keydown",U.rr,!0)}},zq:function(){document.getElementById("galleryXml").value=V.No();var a=document.getElementById("galleryDialog");if(!U.zq.Mz){var b=document.getElementById("galleryCancel");b.addEventListener("click",U.rd,!0);b.addEventListener("touchend",U.rd,!0);b=document.getElementById("galleryOk");b.addEventListener("click",U.Ko,!0);
b.addEventListener("touchend",U.Ko,!0);U.zq.Mz=!0}b=document.getElementById("submitButton");U.Oh(a,b,!0,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",U.Qs,!0)});document.body.addEventListener("keydown",U.Qs,!0);setTimeout(function(){document.getElementById("galleryTitle").focus()},250)},ix:function(){var a=document.getElementById("dialogDone");if(bh){var b=document.getElementById("dialogLinesText");b.textContent="";var d=bl();d=V.aA(d);var e=d.replace(/\/\/[^\n]*/g,
"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?T("Games_linesOfCode1"):T("Games_linesOfCode2").replace("%1",String(e));b.appendChild(document.createTextNode(d))}d=10>R?T("Games_nextLevel").replace("%1",String(R+1)):T("Games_finalLevel");b=document.getElementById("doneCancel");
b.addEventListener("click",U.rd,!0);b.addEventListener("touchend",U.rd,!0);b=document.getElementById("doneOk");b.addEventListener("click",V.Fp,!0);b.addEventListener("touchend",V.Fp,!0);U.Oh(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",U.Vr,!0)});document.body.addEventListener("keydown",U.Vr,!0);document.getElementById("dialogDoneText").textContent=d},zs:function(a){!U.wg||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(U.rd(!0),a.stopPropagation(),
a.preventDefault())},Dq:function(){document.body.addEventListener("keydown",U.zs,!0)},Fq:function(){document.body.removeEventListener("keydown",U.zs,!0)},Vr:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)U.rd(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&V.Fp()},rr:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)U.rd(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&V.Am()},Qs:function(a){27==a.keyCode?U.rd(!0):13==a.keyCode&&U.Ko()},Ko:function(){var a=
document.getElementById("galleryTitle");if(a.value.trim()){a=document.getElementById("galleryForm");for(var b=[],d=0,e;e=a.elements[d];d++)e.name&&(b[d]=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value));var f=new XMLHttpRequest;f.open("POST",a.action);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.onload=function(){if(4==f.readyState){var h=200==f.status?T("Games_submitted"):T("Games_httpRequestError")+"\nStatus: "+f.status;U.Ju(null,h)}};f.send(b.join("&"));U.rd(!0)}else a.value=
"",a.focus()}};window.BlocklyDialogs=U;U.hideDialog=U.rd;function Im(a){this.Nv=23;this.ii=18;this.An=132;this.Yg=20;this.vb=.5;this.Hr=void 0;this.Sn=[];var b=document.createElementNS(Jm,"line");b.setAttribute("class","sliderTrack");b.setAttribute("x1",10);b.setAttribute("y1",35);b.setAttribute("x2",140);b.setAttribute("y2",35);a.appendChild(b);b=document.createElementNS(Jm,"rect");b.setAttribute("style","opacity: 0");b.setAttribute("x",10-this.Yg);b.setAttribute("y",35-this.Yg);b.setAttribute("width",130+2*this.Yg);b.setAttribute("height",2*this.Yg);
b.setAttribute("rx",this.Yg);b.setAttribute("ry",this.Yg);a.appendChild(b);this.nA=b;b=document.createElementNS(Jm,"path");b.setAttribute("class","sliderKnob");b.setAttribute("d","m 0,0 l -8,8 v 12 h 16 v -12 z");a.appendChild(b);this.vt=b;b=document.createElementNS(Jm,"circle");b.setAttribute("style","opacity: 0");b.setAttribute("r",this.Yg);b.setAttribute("cy",35);a.appendChild(b);this.op=b;for(this.setValue(.5);a&&"svg"!=a.nodeName.toLowerCase();)a=a.parentNode;this.Fa=a;Km(this.op,"mousedown",
this,this.ut);Km(this.op,"touchstart",this,this.ut);Km(this.nA,"mousedown",this,this.Iz);Km(this.Fa,"mouseup",null,Lm);Km(this.Fa,"touchend",null,Lm);Km(this.Fa,"mousemove",null,Mm);Km(this.Fa,"touchmove",null,Mm);Km(document,"mouseover",null,Nm)}var Jm="http://www.w3.org/2000/svg",Om=null,Pm=0,Qm=0;
Im.prototype.ut=function(a){if("touchstart"==a.type){if(1!=a.changedTouches.length)return;Rm(a)}Om=this;Pm=Sm(this,a).x;Qm=0;var b=this.vt.getAttribute("transform");b&&(b=b.match(/translate\(\s*([-\d.]+)/))&&(Qm=Number(b[1]));a.preventDefault()};function Lm(){Om=null}function Nm(a){if(Om){a=a.target;do if(a==Om.Fa)return;while(a=a.parentNode);Om=null}}
function Mm(a){var b=Om;if(b){if("touchmove"==a.type){if(1!=a.changedTouches.length)return;Rm(a)}a=Sm(b,a).x-Pm+Qm;b.setValue((a-b.ii)/(b.An-b.ii))}}Im.prototype.Iz=function(a){if("touchstart"==a.type){if(1!=a.changedTouches.length)return;Rm(a)}a=Sm(this,a).x;Tm(this,(a-this.ii)/(this.An-this.ii))};Im.prototype.getValue=function(){return this.vb};
function Tm(a,b){function d(h){return function(){a.setValue(h*(b-e)/9+e)}}for(;a.Sn.length;)clearTimeout(a.Sn.pop());for(var e=a.getValue(),f=0;10>f;f++)a.Sn.push(setTimeout(d(f),200*f/10))}Im.prototype.setValue=function(a){this.vb=Math.min(Math.max(a,0),1);a=this.ii+(this.An-this.ii)*this.vb;this.vt.setAttribute("transform","translate("+a+","+this.Nv+")");this.op.setAttribute("cx",a);this.Hr&&this.Hr(this.vb)};
function Sm(a,b){var d=a.Fa.createSVGPoint();d.x=b.clientX;d.y=b.clientY;a=a.Fa.getScreenCTM().inverse();return d.matrixTransform(a)}function Km(a,b,d,e){a.addEventListener(b,function(f){e.apply(d,arguments)},!1)}function Rm(a){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY};var Um,W,Vm,X,Wm,Xm,Ym,Zm;
function $m(){function a(d){for(var e=0;5>e;e++)Y(d),an(144)}switch(R){case 1:for(var b=0;4>b;b++)Y(100),an(90);break;case 2:for(b=0;5>b;b++)Y(100),an(72);break;case 3:bn("#ffff00");a(100);break;case 4:bn("#ffff00");a(50);Z(!1);Y(150);Z(!0);Y(20);break;case 5:bn("#ffff00");for(b=0;4>b;b++)Z(!1),Y(150),an(90),Z(!0),a(50);break;case 6:bn("#ffff00");for(b=0;3>b;b++)Z(!1),Y(150),an(120),Z(!0),a(50);Z(!1);an(-90);Y(100);Z(!0);bn("#ffffff");Y(50);break;case 7:bn("#ffff00");for(b=0;3>b;b++)Z(!1),Y(150),
an(120),Z(!0),a(50);Z(!1);an(-90);Y(100);Z(!0);bn("#ffffff");for(b=0;4>b;b++)Y(50),Y(-50),an(45);break;case 8:bn("#ffff00");for(b=0;3>b;b++)Z(!1),Y(150),an(120),Z(!0),a(50);Z(!1);an(-90);Y(100);Z(!0);bn("#ffffff");for(b=0;360>b;b++)Y(50),Y(-50),an(1);break;case 9:bn("#ffff00");for(b=0;3>b;b++)Z(!1),Y(150),an(120),Z(!0),a(50);Z(!1);an(-90);Y(100);Z(!0);bn("#ffffff");for(b=0;360>b;b++)Y(50),Y(-50),an(1);an(120);Y(20);bn("#000000");for(b=0;360>b;b++)Y(50),Y(-50),an(1)}}
function cn(a){if(10==R)return 1<B(bh).length;console.log("Pixel errors: "+a);if(100<a)return!1;a=B(bh).length;return 2>=R&&3<a||3==R&&4<a?(a=document.getElementById("helpUseLoop"),U.Oh(a,null,!1,!0,{width:"30%",left:"35%",top:"12em"},U.Fq),U.Dq(),!1):!0};v.H.Ql={};v.P={};v.P.tv={};v.P.tv.gi=20;
v.gg([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",
name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",
name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]);v.H.vp={};v.P.Wv={};v.P.Wv.gi=260;
v.gg([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",
args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",
name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]);
v.H.lists_create_with={J:function(){this.kb=v.g.LISTS_CREATE_WITH_HELPURL;L(this,"list_blocks");this.lb=3;this.Cc();this.Rc(!0,"Array");this.ij(new kh(["lists_create_with_item"]));this.pa(v.g.LISTS_CREATE_WITH_TOOLTIP)},ya:function(){var a=document.createElement("mutation");a.setAttribute("items",this.lb);return a},Pa:function(a){this.lb=parseInt(a.getAttribute("items"),10);this.Cc()},He:function(a){var b=a.ce("lists_create_with_container");b.jc();for(var d=F(b,"STACK").connection,e=0;e<this.lb;e++){var f=
a.ce("lists_create_with_item");f.jc();d.connect(f.R);d=f.K}return b},Ge:function(a){var b=Th(a,"STACK");for(a=[];b;)a.push(b.ml),b=b.K&&E(b.K);for(b=0;b<this.lb;b++){var d=F(this,"ADD"+b).connection.V;d&&-1==a.indexOf(d)&&d.disconnect()}this.lb=a.length;this.Cc();for(b=0;b<this.lb;b++)lh(a[b],this,"ADD"+b)},Qk:function(a){a=Th(a,"STACK");for(var b=0;a;){var d=F(this,"ADD"+b);a.ml=d&&d.connection.V;b++;a=a.K&&E(a.K)}},Cc:function(){this.lb&&F(this,"EMPTY")?this.Ua("EMPTY"):this.lb||F(this,"EMPTY")||
J(O(this,"EMPTY"),v.g.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.lb;a++)if(!F(this,"ADD"+a)){var b=N(this,"ADD"+a);0==a&&J(b,v.g.LISTS_CREATE_WITH_INPUT_WITH)}for(;F(this,"ADD"+a);)this.Ua("ADD"+a),a++}};v.H.lists_create_with_container={J:function(){L(this,"list_blocks");J(O(this),v.g.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);this.ie(v.Ea,"STACK");this.pa(v.g.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);this.contextMenu=!1}};
v.H.lists_create_with_item={J:function(){L(this,"list_blocks");J(O(this),v.g.LISTS_CREATE_WITH_ITEM_TITLE);this.dc(!0);this.cc(!0);this.pa(v.g.LISTS_CREATE_WITH_ITEM_TOOLTIP);this.contextMenu=!1}};
v.H.lists_indexOf={J:function(){var a=[[v.g.LISTS_INDEX_OF_FIRST,"FIRST"],[v.g.LISTS_INDEX_OF_LAST,"LAST"]];this.kb=v.g.LISTS_INDEX_OF_HELPURL;L(this,"list_blocks");this.Rc(!0,"Number");J(N(this,"VALUE").Ga("Array"),v.g.LISTS_INDEX_OF_INPUT_IN_LIST);J(N(this,"FIND"),new M(a),"END");this.Id(!0);var b=this;this.pa(function(){return v.g.LISTS_INDEX_OF_TOOLTIP.replace("%1",b.o.options.jd?"0":"-1")})}};
v.H.lists_getIndex={J:function(){var a=[[v.g.LISTS_GET_INDEX_GET,"GET"],[v.g.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[v.g.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.On=[[v.g.LISTS_GET_INDEX_FROM_START,"FROM_START"],[v.g.LISTS_GET_INDEX_FROM_END,"FROM_END"],[v.g.LISTS_GET_INDEX_FIRST,"FIRST"],[v.g.LISTS_GET_INDEX_LAST,"LAST"],[v.g.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.kb=v.g.LISTS_GET_INDEX_HELPURL;L(this,"list_blocks");a=new M(a,function(d){this.u.Tu("REMOVE"==d)});J(N(this,"VALUE").Ga("Array"),v.g.LISTS_GET_INDEX_INPUT_IN_LIST);
J(J(O(this),a,"MODE"),"","SPACE");O(this,"AT");v.g.LISTS_GET_INDEX_TAIL&&J(O(this,"TAIL"),v.g.LISTS_GET_INDEX_TAIL);this.Id(!0);this.Rc(!0);this.ub(!0);var b=this;this.pa(function(){var d=C(b,"MODE"),e=C(b,"WHERE"),f="";switch(d+" "+e){case "GET FROM_START":case "GET FROM_END":f=v.g.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case "GET FIRST":f=v.g.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case "GET LAST":f=v.g.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case "GET RANDOM":f=v.g.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;
break;case "GET_REMOVE FROM_START":case "GET_REMOVE FROM_END":f=v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case "GET_REMOVE FIRST":f=v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case "GET_REMOVE LAST":f=v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case "GET_REMOVE RANDOM":f=v.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case "REMOVE FROM_START":case "REMOVE FROM_END":f=v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case "REMOVE FIRST":f=v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;
break;case "REMOVE LAST":f=v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case "REMOVE RANDOM":f=v.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if("FROM_START"==e||"FROM_END"==e)f+="  "+("FROM_START"==e?v.g.LISTS_INDEX_FROM_START_TOOLTIP:v.g.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",b.o.options.jd?"#1":"#0");return f})},ya:function(){var a=document.createElement("mutation");a.setAttribute("statement",!this.N);a.setAttribute("at",F(this,"AT").type==v.Da);return a},Pa:function(a){var b="true"==a.getAttribute("statement");
this.Tu(b);a="false"!=a.getAttribute("at");this.ub(a)},Tu:function(a){a!=!this.N&&(Id(this,!0),a?(this.Rc(!1),this.dc(!0),this.cc(!0)):(this.dc(!1),this.cc(!1),this.Rc(!0)))},ub:function(a){this.Ua("AT");this.Ua("ORDINAL",!0);a?(N(this,"AT").Ga("Number"),v.g.ORDINAL_NUMBER_SUFFIX&&J(O(this,"ORDINAL"),v.g.ORDINAL_NUMBER_SUFFIX)):O(this,"AT");var b=new M(this.On,function(d){var e="FROM_START"==d||"FROM_END"==d;if(e!=a){var f=this.u;f.ub(e);Ed(f,d,"WHERE");return null}});J(F(this,"AT"),b,"WHERE");v.g.LISTS_GET_INDEX_TAIL&&
Sh(this,"TAIL",null)}};
v.H.lists_setIndex={J:function(){var a=[[v.g.LISTS_SET_INDEX_SET,"SET"],[v.g.LISTS_SET_INDEX_INSERT,"INSERT"]];this.On=[[v.g.LISTS_GET_INDEX_FROM_START,"FROM_START"],[v.g.LISTS_GET_INDEX_FROM_END,"FROM_END"],[v.g.LISTS_GET_INDEX_FIRST,"FIRST"],[v.g.LISTS_GET_INDEX_LAST,"LAST"],[v.g.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.kb=v.g.LISTS_SET_INDEX_HELPURL;L(this,"list_blocks");J(N(this,"LIST").Ga("Array"),v.g.LISTS_SET_INDEX_INPUT_IN_LIST);J(J(O(this),new M(a),"MODE"),"","SPACE");O(this,"AT");J(N(this,
"TO"),v.g.LISTS_SET_INDEX_INPUT_TO);this.Id(!0);this.dc(!0);this.cc(!0);this.pa(v.g.LISTS_SET_INDEX_TOOLTIP);this.ub(!0);var b=this;this.pa(function(){var d=C(b,"MODE"),e=C(b,"WHERE"),f="";switch(d+" "+e){case "SET FROM_START":case "SET FROM_END":f=v.g.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case "SET FIRST":f=v.g.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case "SET LAST":f=v.g.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case "SET RANDOM":f=v.g.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case "INSERT FROM_START":case "INSERT FROM_END":f=
v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case "INSERT FIRST":f=v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case "INSERT LAST":f=v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case "INSERT RANDOM":f=v.g.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}if("FROM_START"==e||"FROM_END"==e)f+="  "+v.g.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",b.o.options.jd?"#1":"#0");return f})},ya:function(){var a=document.createElement("mutation");a.setAttribute("at",F(this,"AT").type==v.Da);return a},Pa:function(a){a=
"false"!=a.getAttribute("at");this.ub(a)},ub:function(a){this.Ua("AT");this.Ua("ORDINAL",!0);a?(N(this,"AT").Ga("Number"),v.g.ORDINAL_NUMBER_SUFFIX&&J(O(this,"ORDINAL"),v.g.ORDINAL_NUMBER_SUFFIX)):O(this,"AT");var b=new M(this.On,function(d){var e="FROM_START"==d||"FROM_END"==d;if(e!=a){var f=this.u;f.ub(e);Ed(f,d,"WHERE");return null}});Sh(this,"AT","TO");F(this,"ORDINAL")&&Sh(this,"ORDINAL","TO");J(F(this,"AT"),b,"WHERE")}};
v.H.lists_getSublist={J:function(){this.WHERE_OPTIONS_1=[[v.g.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[v.g.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[v.g.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[v.g.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[v.g.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[v.g.LISTS_GET_SUBLIST_END_LAST,"LAST"]];this.kb=v.g.LISTS_GET_SUBLIST_HELPURL;L(this,"list_blocks");J(N(this,"LIST").Ga("Array"),v.g.LISTS_GET_SUBLIST_INPUT_IN_LIST);O(this,
"AT1");O(this,"AT2");v.g.LISTS_GET_SUBLIST_TAIL&&J(O(this,"TAIL"),v.g.LISTS_GET_SUBLIST_TAIL);this.Id(!0);this.Rc(!0,"Array");this.ub(1,!0);this.ub(2,!0);this.pa(v.g.LISTS_GET_SUBLIST_TOOLTIP)},ya:function(){var a=document.createElement("mutation");a.setAttribute("at1",F(this,"AT1").type==v.Da);a.setAttribute("at2",F(this,"AT2").type==v.Da);return a},Pa:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.ub(1,b);this.ub(2,a)},ub:function(a,b){this.Ua("AT"+a);this.Ua("ORDINAL"+
a,!0);b?(N(this,"AT"+a).Ga("Number"),v.g.ORDINAL_NUMBER_SUFFIX&&J(O(this,"ORDINAL"+a),v.g.ORDINAL_NUMBER_SUFFIX)):O(this,"AT"+a);var d=new M(this["WHERE_OPTIONS_"+a],function(e){var f="FROM_START"==e||"FROM_END"==e;if(f!=b){var h=this.u;h.ub(a,f);Ed(h,e,"WHERE"+a);return null}});J(F(this,"AT"+a),d,"WHERE"+a);1==a&&(Sh(this,"AT1","AT2"),F(this,"ORDINAL1")&&Sh(this,"ORDINAL1","AT2"));v.g.LISTS_GET_SUBLIST_TAIL&&Sh(this,"TAIL",null)}};
v.H.lists_sort={J:function(){Rh(this,{message0:v.g.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[v.g.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[v.g.LISTS_SORT_TYPE_TEXT,"TEXT"],[v.g.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[v.g.LISTS_SORT_ORDER_ASCENDING,"1"],[v.g.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:v.g.LISTS_SORT_TOOLTIP,helpUrl:v.g.LISTS_SORT_HELPURL})}};
v.H.lists_split={J:function(){var a=this,b=new M([[v.g.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[v.g.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(d){a.ze(d)});this.kb=v.g.LISTS_SPLIT_HELPURL;L(this,"list_blocks");J(N(this,"INPUT").Ga("String"),b,"MODE");J(N(this,"DELIM").Ga("String"),v.g.LISTS_SPLIT_WITH_DELIMITER);this.Id(!0);this.Rc(!0,"Array");this.pa(function(){var d=C(a,"MODE");if("SPLIT"==d)return v.g.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==d)return v.g.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+
d);})},ze:function(a){if(C(this,"MODE")!=a){Ed(this,a,"MODE");var b=F(this,"INPUT").connection;b.we=null;var d=E(b);d&&(b.disconnect(),d.Na?d.D():this.pb())}"SPLIT"==a?(this.N.Ga("Array"),F(this,"INPUT").Ga("String")):(this.N.Ga("String"),F(this,"INPUT").Ga("Array"))},ya:function(){var a=document.createElement("mutation");a.setAttribute("mode",C(this,"MODE"));return a},Pa:function(a){this.ze(a.getAttribute("mode"))}};v.H.Sy={};v.P.yd={};v.P.yd.gi=210;
v.gg([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",
helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",
message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",
tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",
name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
v.gg([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",
tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);v.P.yd.Nn={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};v.S.register("logic_op_tooltip",v.S.Hl("OP",v.P.yd.Nn));
v.P.yd.kv={Bd:0,ke:0,ya:function(){if(!this.Bd&&!this.ke)return null;var a=document.createElement("mutation");this.Bd&&a.setAttribute("elseif",this.Bd);this.ke&&a.setAttribute("else",1);return a},Pa:function(a){this.Bd=parseInt(a.getAttribute("elseif"),10)||0;this.ke=parseInt(a.getAttribute("else"),10)||0;this.Hz()},He:function(a){var b=a.ce("controls_if_if");b.jc();for(var d=b.K,e=1;e<=this.Bd;e++){var f=a.ce("controls_if_elseif");f.jc();d.connect(f.R);d=f.K}this.ke&&(a=a.ce("controls_if_else"),
a.jc(),d.connect(a.R));return b},Ge:function(a){a=E(a.K);this.ke=this.Bd=0;for(var b=[null],d=[null],e=null;a;){switch(a.type){case "controls_if_elseif":this.Bd++;b.push(a.ml);d.push(a.Pf);break;case "controls_if_else":this.ke++;e=a.Pf;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.K&&E(a.K)}this.Cc();this.ou(b,d,e)},Qk:function(a){a=E(a.K);for(var b=1;a;){switch(a.type){case "controls_if_elseif":var d=F(this,"IF"+b),e=F(this,"DO"+b);a.ml=d&&d.connection.V;a.Pf=e&&e.connection.V;
b++;break;case "controls_if_else":e=F(this,"ELSE");a.Pf=e&&e.connection.V;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.K&&E(a.K)}},Hz:function(){var a=[null],b=[null],d=null;F(this,"ELSE")&&(d=F(this,"ELSE").connection.V);for(var e=1;F(this,"IF"+e);){var f=F(this,"DO"+e);a.push(F(this,"IF"+e).connection.V);b.push(f.connection.V);e++}this.Cc();this.ou(a,b,d)},Cc:function(){F(this,"ELSE")&&this.Ua("ELSE");for(var a=1;F(this,"IF"+a);)this.Ua("IF"+a),this.Ua("DO"+a),a++;for(a=1;a<=
this.Bd;a++)J(N(this,"IF"+a).Ga("Boolean"),v.g.CONTROLS_IF_MSG_ELSEIF),J(this.ie(v.Ea,"DO"+a),v.g.CONTROLS_IF_MSG_THEN);this.ke&&J(this.ie(v.Ea,"ELSE"),v.g.CONTROLS_IF_MSG_ELSE)},ou:function(a,b,d){for(var e=1;e<=this.Bd;e++)lh(a[e],this,"IF"+e),lh(b[e],this,"DO"+e);lh(d,this,"ELSE")}};v.S.Nk("controls_if_mutator",v.P.yd.kv,null,["controls_if_elseif","controls_if_else"]);
v.P.yd.mv=function(){this.pa(function(){if(this.Bd||this.ke){if(!this.Bd&&this.ke)return v.g.CONTROLS_IF_TOOLTIP_2;if(this.Bd&&!this.ke)return v.g.CONTROLS_IF_TOOLTIP_3;if(this.Bd&&this.ke)return v.g.CONTROLS_IF_TOOLTIP_4}else return v.g.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))};v.S.register("controls_if_tooltip",v.P.yd.mv);
v.P.yd.Sv={onchange:function(a){this.Jk||(this.Jk=[null,null]);var b=Th(this,"A"),d=Th(this,"B");b&&d&&!Fe(b.N,d.N)&&(v.j.T(a.group),a=this.Jk[0],a!==b&&(Id(b),a&&!a.Na&&F(this,"A").connection.connect(a.N)),b=this.Jk[1],b!==d&&(Id(d),b&&!b.Na&&F(this,"B").connection.connect(b.N)),this.pb(),v.j.T(!1));this.Jk[0]=Th(this,"A");this.Jk[1]=Th(this,"B")}};v.P.yd.Rv=function(){nh(this,v.P.yd.Sv)};v.S.register("logic_compare",v.P.yd.Rv);
v.P.yd.Tv={fu:null,onchange:function(a){var b=Th(this,"THEN"),d=Th(this,"ELSE"),e=this.N.V;if((b||d)&&e)for(var f=0;2>f;f++){var h=1==f?b:d;h&&!Fe(h.N,e)&&(v.j.T(a.group),e===this.fu?(Id(this),e.u.pb()):(Id(h),h.pb()),v.j.T(!1))}this.fu=e}};v.S.an("logic_ternary",v.P.yd.Tv);v.H.Uy={};v.P.pf={};v.P.pf.gi=120;
v.gg([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",
name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,
nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip",
"controls_flow_in_loop_check"]}]);v.P.pf.ww={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};v.S.register("controls_whileUntil_tooltip",v.S.Hl("MODE",v.P.pf.ww));v.P.pf.ev={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};v.S.register("controls_flow_tooltip",v.S.Hl("FLOW",v.P.pf.ev));
v.P.pf.pv={zf:function(a){if(!this.yb){var b=D(this,"VAR").Kc(),d=b.name;if(!this.isCollapsed()&&null!=d){var e={enabled:!0};e.text=v.g.VARIABLES_SET_CREATE_GET.replace("%1",d);b=v.G.Ss(b);d=document.createElement("block");d.setAttribute("type","variables_get");d.appendChild(b);e.bb=v.ka.Kl(this,d);a.push(e)}}}};v.S.an("contextMenu_newGetVariableBlock",v.P.pf.pv);v.S.register("controls_for_tooltip",v.S.Il("%{BKY_CONTROLS_FOR_TOOLTIP}"));v.S.register("controls_forEach_tooltip",v.S.Il("%{BKY_CONTROLS_FOREACH_TOOLTIP}"));
v.P.pf.nv={Vv:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],onchange:function(){if(this.o.Rb&&!this.o.Rb()){var a=!1,b=this;do{if(-1!=this.Vv.indexOf(b.type)){a=!0;break}b=Ph(b)}while(b);a?(this.Of(null),this.yb||this.Ub(!0)):(this.Of(v.g.CONTROLS_FLOW_STATEMENTS_WARNING),this.yb||Qh(this)||this.Ub(!1))}}};v.S.an("controls_flow_in_loop_check",v.P.pf.nv);v.H.Vy={};v.P.Math={};v.P.Math.gi=230;
v.gg([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],
["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",
extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",
options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},
{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",
helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}",
"RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",
message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,
output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",
style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
v.P.Math.Nn={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};
v.S.register("math_op_tooltip",v.S.Hl("OP",v.P.Math.Nn));v.P.Math.Lv={ya:function(){var a=document.createElement("mutation"),b="DIVISIBLE_BY"==C(this,"PROPERTY");a.setAttribute("divisor_input",b);return a},Pa:function(a){a="true"==a.getAttribute("divisor_input");this.Cc(a)},Cc:function(a){var b=F(this,"DIVISOR");a?b||N(this,"DIVISOR").Ga("Number"):b&&this.Ua("DIVISOR")}};v.P.Math.Mv=function(){Gh(D(this,"PROPERTY"),function(a){this.u.Cc("DIVISIBLE_BY"==a)})};
v.S.Nk("math_is_divisibleby_mutator",v.P.Math.Lv,v.P.Math.Mv);v.S.register("math_change_tooltip",v.S.Il("%{BKY_MATH_CHANGE_TOOLTIP}"));v.P.Math.Qv={ze:function(a){"MODE"==a?this.N.Ga("Array"):this.N.Ga("Number")},ya:function(){var a=document.createElement("mutation");a.setAttribute("op",C(this,"OP"));return a},Pa:function(a){this.ze(a.getAttribute("op"))}};v.P.Math.Pv=function(){Gh(D(this,"OP"),function(a){this.ze(a)}.bind(this))};v.S.Nk("math_modes_of_list_mutator",v.P.Math.Qv,v.P.Math.Pv);v.H.Fz={};
v.H.procedures_defnoreturn={J:function(){var a=new lk("",v.sa.su);a.mn=!1;J(J(J(O(this),v.g.PROCEDURES_DEFNORETURN_TITLE),a,"NAME"),"","PARAMS");this.ij(new kh(["procedures_mutatorarg"]));(this.o.options.Hj||this.o.options.Tb&&this.o.options.Tb.options.Hj)&&v.g.PROCEDURES_DEFNORETURN_COMMENT&&this.Jh(v.g.PROCEDURES_DEFNORETURN_COMMENT);L(this,"procedure_blocks");this.pa(v.g.PROCEDURES_DEFNORETURN_TOOLTIP);this.kb=v.g.PROCEDURES_DEFNORETURN_HELPURL;this.ta=[];this.Xb=[];this.Nh(!0);this.Pf=null},Nh:function(a){this.zm!==
a&&(a?(J(this.ie(v.Ea,"STACK"),v.g.PROCEDURES_DEFNORETURN_DO),F(this,"RETURN")&&Sh(this,"STACK","RETURN")):this.Ua("STACK",!0),this.zm=a)},ll:function(){var a="";this.ta.length&&(a=v.g.PROCEDURES_BEFORE_PARAMS+" "+this.ta.join(", "));v.j.disable();try{Ed(this,a,"PARAMS")}finally{v.j.enable()}},ya:function(a){var b=document.createElement("mutation");a&&b.setAttribute("name",C(this,"NAME"));for(var d=0;d<this.Xb.length;d++){var e=document.createElement("arg"),f=this.Xb[d];e.setAttribute("name",f.name);
e.setAttribute("varid",f.ea());a&&this.Op&&e.setAttribute("paramId",this.Op[d]);b.appendChild(e)}this.zm||b.setAttribute("statements","false");return b},Pa:function(a){this.ta=[];this.Xb=[];for(var b=0,d;d=a.childNodes[b];b++)if("arg"==d.nodeName.toLowerCase()){var e=d.getAttribute("name");d=d.getAttribute("varid")||d.getAttribute("varId");this.ta.push(e);d=v.G.rm(this.o,d,e,"");null!=d?this.Xb.push(d):console.log("Failed to create a variable with name "+e+", ignoring.")}this.ll();v.sa.Ek(this);this.Nh("false"!==
a.getAttribute("statements"))},He:function(a){var b=a.ce("procedures_mutatorcontainer");b.jc();F(this,"RETURN")?Ed(b,this.zm?"TRUE":"FALSE","STATEMENTS"):b.Ua("STATEMENT_INPUT");for(var d=F(b,"STACK").connection,e=0;e<this.ta.length;e++){var f=a.ce("procedures_mutatorarg");f.jc();Ed(f,this.ta[e],"NAME");f.zB=e;d.connect(f.R);d=f.K}v.sa.Ek(this);return b},Ge:function(a){this.ta=[];this.Op=[];this.Xb=[];for(var b=Th(a,"STACK");b;){var d=C(b,"NAME");this.ta.push(d);var e=this.o.Kc(d,"");null!=e?this.Xb.push(e):
console.log("Failed to get variable named "+d+", ignoring.");this.Op.push(b.id);b=b.K&&E(b.K)}this.ll();v.sa.Ek(this);a=C(a,"STATEMENTS");if(null!==a&&(a="TRUE"==a,this.zm!=a))if(a)this.Nh(!0),lh(this.Pf,this,"STACK"),this.Pf=null;else{a=F(this,"STACK").connection;if(this.Pf=a.V)a=E(a),Id(a),a.pb();this.Nh(!1)}},Gf:function(){return[C(this,"NAME"),this.ta,!1]},Uo:function(){return this.ta},Hf:function(){return this.Xb},Pk:function(a,b){var d=this.o.me(a);if(""==d.type){d=d.name;b=this.o.me(b);for(var e=
!1,f=0;f<this.Xb.length;f++)this.Xb[f].ea()==a&&(this.ta[f]=b.name,this.Xb[f]=b,e=!0);e&&(this.bm(d,b.name),v.sa.Ek(this))}},rn:function(a){for(var b=a.name,d=!1,e=0;e<this.Xb.length;e++)if(this.Xb[e].ea()==a.ea()){var f=this.ta[e];this.ta[e]=b;d=!0}d&&(this.bm(f,b),v.sa.Ek(this))},bm:function(a,b){this.ll();if(this.hd.isVisible())for(var d=B(this.hd.m,!1),e=0,f;f=d[e];e++)"procedures_mutatorarg"==f.type&&Cd(a,C(f,"NAME"))&&Ed(f,b,"NAME")},zf:function(a){if(!this.yb){var b={enabled:!0},d=C(this,"NAME");
b.text=v.g.PROCEDURES_CREATE_DO.replace("%1",d);var e=document.createElement("mutation");e.setAttribute("name",d);for(var f=0;f<this.ta.length;f++)d=document.createElement("arg"),d.setAttribute("name",this.ta[f]),e.appendChild(d);d=document.createElement("block");d.setAttribute("type",this.Er);d.appendChild(e);b.bb=v.ka.Kl(this,d);a.push(b);if(!this.isCollapsed())for(f=0;f<this.Xb.length;f++)b={enabled:!0},e=this.Xb[f],d=e.name,b.text=v.g.VARIABLES_SET_CREATE_GET.replace("%1",d),e=v.G.Ss(e),d=document.createElement("block"),
d.setAttribute("type","variables_get"),d.appendChild(e),b.bb=v.ka.Kl(this,d),a.push(b)}},Er:"procedures_callnoreturn"};
v.H.procedures_defreturn={J:function(){var a=new lk("",v.sa.su);a.mn=!1;J(J(J(O(this),v.g.PROCEDURES_DEFRETURN_TITLE),a,"NAME"),"","PARAMS");J(Nh(N(this,"RETURN"),v.di),v.g.PROCEDURES_DEFRETURN_RETURN);this.ij(new kh(["procedures_mutatorarg"]));(this.o.options.Hj||this.o.options.Tb&&this.o.options.Tb.options.Hj)&&v.g.PROCEDURES_DEFRETURN_COMMENT&&this.Jh(v.g.PROCEDURES_DEFRETURN_COMMENT);L(this,"procedure_blocks");this.pa(v.g.PROCEDURES_DEFRETURN_TOOLTIP);this.kb=v.g.PROCEDURES_DEFRETURN_HELPURL;
this.ta=[];this.Xb=[];this.Nh(!0);this.Pf=null},Nh:v.H.procedures_defnoreturn.Nh,ll:v.H.procedures_defnoreturn.ll,ya:v.H.procedures_defnoreturn.ya,Pa:v.H.procedures_defnoreturn.Pa,He:v.H.procedures_defnoreturn.He,Ge:v.H.procedures_defnoreturn.Ge,Gf:function(){return[C(this,"NAME"),this.ta,!0]},Uo:v.H.procedures_defnoreturn.Uo,Hf:v.H.procedures_defnoreturn.Hf,Pk:v.H.procedures_defnoreturn.Pk,rn:v.H.procedures_defnoreturn.rn,bm:v.H.procedures_defnoreturn.bm,zf:v.H.procedures_defnoreturn.zf,Er:"procedures_callreturn"};
v.H.procedures_mutatorcontainer={J:function(){J(O(this),v.g.PROCEDURES_MUTATORCONTAINER_TITLE);this.ie(v.Ea,"STACK");J(J(O(this,"STATEMENT_INPUT"),v.g.PROCEDURES_ALLOW_STATEMENTS),new Pk("TRUE"),"STATEMENTS");L(this,"procedure_blocks");this.pa(v.g.PROCEDURES_MUTATORCONTAINER_TOOLTIP);this.contextMenu=!1},onchange:function(a){if(this.o&&!this.o.ae&&(a.type==v.j.rl||a.type==v.j.tj)){var b=B(this.o),d=this.o.Qe();if(a.type==v.j.rl){a=[];for(var e=0;e<b.length;e+=1)C(b[e],"NAME")&&a.push(C(b[e],"NAME"));
for(b=0;b<d.length;b+=1)-1==a.indexOf(d[b].name)&&this.o.Ie(d[b].ea())}else if(a.type==v.j.tj&&(d=vd(this.o,a.Mb),D(d,"NAME")&&(e=C(d,"NAME"),(a=this.o.Kc(e))||(a=this.o.$c(e)),!d.R.isConnected()&&!d.K.isConnected())))for(e=0;e<b.length;e+=1)if(d.id!=b[e].id&&C(b[e],"NAME")==a.name){e=v.G.Rs(this.o);a=this.o.$c(e);Ed(d,a.name,"NAME");break}}}};
v.H.procedures_mutatorarg={J:function(){var a=new lk("x",this.Yh);a.gz=a.xe;a.xe=function(){this.Nj=[];this.gz()};J(J(O(this),v.g.PROCEDURES_MUTATORARG_TITLE),a,"NAME");this.dc(!0);this.cc(!0);L(this,"procedure_blocks");this.pa(v.g.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1;a.Jp=this.wx;a.Nj=[];a.Jp("x")},Yh:function(a){var b=mh(this.u.o);a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"");if(!a)return null;for(var d=B(this.u.o),e=0;e<d.length;e+=1)if(d[e].id!=this.u.id&&C(d[e],"NAME")==a)return null;
(d=b.Kc(a,""))&&d.name!=a&&b.Pk(d.ea(),a);d||(d=b.$c(a,""))&&this.Nj&&this.Nj.push(d);return a},wx:function(a){var b=mh(this.u.o);if(b)for(var d=0;d<this.Nj.length;d++){var e=this.Nj[d];e.name!=a&&b.Ie(e.ea())}}};
v.H.procedures_callnoreturn={J:function(){J(O(this,"TOPROW"),this.id,"NAME");this.dc(!0);this.cc(!0);L(this,"procedure_blocks");this.kb=v.g.PROCEDURES_CALLNORETURN_HELPURL;this.ta=[];this.Xb=[];this.Gh={};this.af=null;this.Wp=!0},Ed:function(){return C(this,"NAME")},Ok:function(a,b){Cd(a,this.Ed())&&(Ed(this,b,"NAME"),this.pa((this.N?v.g.PROCEDURES_CALLRETURN_TOOLTIP:v.g.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",b)))},tq:function(a,b){var d=v.sa.Xj(this.Ed(),this.o),e=d&&d.hd&&d.hd.isVisible();
e||(this.Gh={},this.af=null);if(b)if(a.join("\n")==this.ta.join("\n"))this.af=b;else{if(b.length!=a.length)throw RangeError("paramNames and paramIds must be the same length.");this.Ng(!1);this.af||(this.Gh={},this.af=[]);d=this.U;this.U=!1;for(var f=0;f<this.ta.length;f++){var h=F(this,"ARG"+f);h&&(h=h.connection.V,this.Gh[this.af[f]]=h,e&&h&&-1==b.indexOf(this.af[f])&&(h.disconnect(),h.u.pb()))}this.ta=[].concat(a);this.Xb=[];for(f=0;f<this.ta.length;f++)a=v.G.rm(this.o,null,this.ta[f],""),this.Xb.push(a);
this.Cc();if(this.af=b)for(f=0;f<this.ta.length;f++)b=this.af[f],b in this.Gh&&(h=this.Gh[b],lh(h,this,"ARG"+f)||delete this.Gh[b]);(this.U=d)&&this.ca()}},Cc:function(){for(var a=0;a<this.ta.length;a++){var b=D(this,"ARGNAME"+a);if(b){v.j.disable();try{b.setValue(this.ta[a])}finally{v.j.enable()}}else b=new Kh(this.ta[a]),J(Nh(N(this,"ARG"+a),v.di),b,"ARGNAME"+a).J()}for(;F(this,"ARG"+a);)this.Ua("ARG"+a),a++;if(a=F(this,"TOPROW"))if(this.ta.length)D(this,"WITH")||(J(a,v.g.PROCEDURES_CALL_BEFORE_PARAMS,
"WITH"),a.J());else if(D(this,"WITH"))a:{b=0;for(var d;d=a.na[b];b++)if("WITH"===d.name){d.D();a.na.splice(b,1);a.u.U&&(a.u.ca(),a.u.pb());break a}throw Error('Field "%s" not found.',"WITH");}},ya:function(){var a=document.createElement("mutation");a.setAttribute("name",this.Ed());for(var b=0;b<this.ta.length;b++){var d=document.createElement("arg");d.setAttribute("name",this.ta[b]);a.appendChild(d)}return a},Pa:function(a){var b=a.getAttribute("name");this.Ok(this.Ed(),b);b=[];for(var d=[],e=0,f;f=
a.childNodes[e];e++)"arg"==f.nodeName.toLowerCase()&&(b.push(f.getAttribute("name")),d.push(f.getAttribute("paramId")));this.tq(b,d)},Hf:function(){return this.Xb},onchange:function(a){if(this.o&&!this.o.ae&&a.nc)if(a.type==v.j.tj&&-1!=a.qg.indexOf(this.id)){var b=this.Ed();b=v.sa.Xj(b,this.o);!b||b.type==this.no&&JSON.stringify(b.ta)==JSON.stringify(this.ta)||(b=null);if(!b){v.j.T(a.group);a=document.createElement("xml");b=document.createElement("block");b.setAttribute("type",this.no);var d=this.ua(),
e=d.y+2*v.Uc;b.setAttribute("x",d.x+v.Uc*(this.w?-1:1));b.setAttribute("y",e);d=this.ya();b.appendChild(d);d=document.createElement("field");d.setAttribute("name","NAME");d.appendChild(document.createTextNode(this.Ed()));b.appendChild(d);a.appendChild(b);v.B.Cf(a,this.o);v.j.T(!1)}}else a.type==v.j.rl?(b=this.Ed(),b=v.sa.Xj(b,this.o),b||(v.j.T(a.group),this.D(!0,!1),v.j.T(!1))):a.type==v.j.Vg&&"disabled"==a.element&&(b=this.Ed(),(b=v.sa.Xj(b,this.o))&&b.id==a.Mb&&((b=v.j.Qb())&&console.log("Saw an existing group while responding to a definition change"),
v.j.T(a.group),a.newValue?(this.Wp=this.isEnabled(),this.Ub(!1)):this.Ub(this.Wp),v.j.T(b)))},zf:function(a){if(this.o.Sb()){var b={enabled:!0};b.text=v.g.PROCEDURES_HIGHLIGHT_DEF;var d=this.Ed(),e=this.o;b.bb=function(){var f=v.sa.Xj(d,e);if(f){if(e.Sb()){var h=vd(e,f.id);if(h){var k=h.ua(),l=h.Db(),m=e.scale;h=(k.x+(e.w?-1:1)*l.width/2)*m;k=(k.y+l.height/2)*m;l=e.rb();h=-(h-l.xb-l.Ja/2)-l.xb;k=-(k-l.qb-l.Oa/2)-l.qb;v.ic();e.scroll(h,k)}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");
f.select()}};a.push(b)}},no:"procedures_defnoreturn"};
v.H.procedures_callreturn={J:function(){J(O(this,"TOPROW"),"","NAME");this.Rc(!0);L(this,"procedure_blocks");this.kb=v.g.PROCEDURES_CALLRETURN_HELPURL;this.ta=[];this.Gh={};this.af=null;this.Wp=!0},Ed:v.H.procedures_callnoreturn.Ed,Ok:v.H.procedures_callnoreturn.Ok,tq:v.H.procedures_callnoreturn.tq,Cc:v.H.procedures_callnoreturn.Cc,ya:v.H.procedures_callnoreturn.ya,Pa:v.H.procedures_callnoreturn.Pa,Hf:v.H.procedures_callnoreturn.Hf,onchange:v.H.procedures_callnoreturn.onchange,zf:v.H.procedures_callnoreturn.zf,
no:"procedures_defreturn"};
v.H.procedures_ifreturn={J:function(){J(N(this,"CONDITION").Ga("Boolean"),v.g.CONTROLS_IF_MSG_IF);J(N(this,"VALUE"),v.g.PROCEDURES_DEFRETURN_RETURN);this.Id(!0);this.dc(!0);this.cc(!0);L(this,"procedure_blocks");this.pa(v.g.PROCEDURES_IFRETURN_TOOLTIP);this.kb=v.g.PROCEDURES_IFRETURN_HELPURL;this.pg=!0},ya:function(){var a=document.createElement("mutation");a.setAttribute("value",Number(this.pg));return a},Pa:function(a){this.pg=1==a.getAttribute("value");this.pg||(this.Ua("VALUE"),J(O(this,"VALUE"),
v.g.PROCEDURES_DEFRETURN_RETURN))},onchange:function(){if(this.o.Rb&&!this.o.Rb()){var a=!1,b=this;do{if(-1!=this.Cv.indexOf(b.type)){a=!0;break}b=Ph(b)}while(b);a?("procedures_defnoreturn"==b.type&&this.pg?(this.Ua("VALUE"),J(O(this,"VALUE"),v.g.PROCEDURES_DEFRETURN_RETURN),this.pg=!1):"procedures_defreturn"!=b.type||this.pg||(this.Ua("VALUE"),J(N(this,"VALUE"),v.g.PROCEDURES_DEFRETURN_RETURN),this.pg=!0),this.Of(null),this.yb||this.Ub(!0)):(this.Of(v.g.PROCEDURES_IFRETURN_WARNING),this.yb||Qh(this)||
this.Ub(!1))}},Cv:["procedures_defnoreturn","procedures_defreturn"]};v.H.fA={};v.P.Text={};v.P.Text.gi=160;
v.gg([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},
{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],
previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",
helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",
args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]);
v.H.text_getSubstring={J:function(){this.WHERE_OPTIONS_1=[[v.g.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[v.g.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[v.g.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[v.g.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[v.g.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[v.g.TEXT_GET_SUBSTRING_END_LAST,"LAST"]];this.kb=v.g.TEXT_GET_SUBSTRING_HELPURL;L(this,"text_blocks");J(N(this,"STRING").Ga("String"),v.g.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);
O(this,"AT1");O(this,"AT2");v.g.TEXT_GET_SUBSTRING_TAIL&&J(O(this,"TAIL"),v.g.TEXT_GET_SUBSTRING_TAIL);this.Id(!0);this.Rc(!0,"String");this.ub(1,!0);this.ub(2,!0);this.pa(v.g.TEXT_GET_SUBSTRING_TOOLTIP)},ya:function(){var a=document.createElement("mutation");a.setAttribute("at1",F(this,"AT1").type==v.Da);a.setAttribute("at2",F(this,"AT2").type==v.Da);return a},Pa:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.ub(1,b);this.ub(2,a)},ub:function(a,b){this.Ua("AT"+
a);this.Ua("ORDINAL"+a,!0);b?(N(this,"AT"+a).Ga("Number"),v.g.ORDINAL_NUMBER_SUFFIX&&J(O(this,"ORDINAL"+a),v.g.ORDINAL_NUMBER_SUFFIX)):O(this,"AT"+a);2==a&&v.g.TEXT_GET_SUBSTRING_TAIL&&(this.Ua("TAIL",!0),J(O(this,"TAIL"),v.g.TEXT_GET_SUBSTRING_TAIL));var d=new M(this["WHERE_OPTIONS_"+a],function(e){var f="FROM_START"==e||"FROM_END"==e;if(f!=b){var h=this.u;h.ub(a,f);Ed(h,e,"WHERE"+a);return null}});J(F(this,"AT"+a),d,"WHERE"+a);1==a&&(Sh(this,"AT1","AT2"),F(this,"ORDINAL1")&&Sh(this,"ORDINAL1","AT2"))}};
v.H.text_changeCase={J:function(){var a=[[v.g.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[v.g.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[v.g.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.kb=v.g.TEXT_CHANGECASE_HELPURL;L(this,"text_blocks");J(N(this,"TEXT").Ga("String"),new M(a),"CASE");this.Rc(!0,"String");this.pa(v.g.TEXT_CHANGECASE_TOOLTIP)}};
v.H.text_trim={J:function(){var a=[[v.g.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[v.g.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[v.g.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.kb=v.g.TEXT_TRIM_HELPURL;L(this,"text_blocks");J(N(this,"TEXT").Ga("String"),new M(a),"MODE");this.Rc(!0,"String");this.pa(v.g.TEXT_TRIM_TOOLTIP)}};
v.H.text_print={J:function(){Rh(this,{message0:v.g.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:v.g.TEXT_PRINT_TOOLTIP,helpUrl:v.g.TEXT_PRINT_HELPURL})}};
v.H.text_prompt_ext={J:function(){var a=[[v.g.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[v.g.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.kb=v.g.TEXT_PROMPT_HELPURL;L(this,"text_blocks");var b=this;a=new M(a,function(d){b.ze(d)});J(N(this,"TEXT"),a,"TYPE");this.Rc(!0,"String");this.pa(function(){return"TEXT"==C(b,"TYPE")?v.g.TEXT_PROMPT_TOOLTIP_TEXT:v.g.TEXT_PROMPT_TOOLTIP_NUMBER})},ze:function(a){this.N.Ga("NUMBER"==a?"Number":"String")},ya:function(){var a=document.createElement("mutation");a.setAttribute("type",
C(this,"TYPE"));return a},Pa:function(a){this.ze(a.getAttribute("type"))}};
v.H.text_prompt={J:function(){nh(this,v.P.Text.Gn);var a=[[v.g.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[v.g.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],b=this;this.kb=v.g.TEXT_PROMPT_HELPURL;L(this,"text_blocks");a=new M(a,function(d){b.ze(d)});J(J(J(J(O(this),a,"TYPE"),this.$i(!0)),new lk(""),"TEXT"),this.$i(!1));this.Rc(!0,"String");this.pa(function(){return"TEXT"==C(b,"TYPE")?v.g.TEXT_PROMPT_TOOLTIP_TEXT:v.g.TEXT_PROMPT_TOOLTIP_NUMBER})},ze:v.H.text_prompt_ext.ze,ya:v.H.text_prompt_ext.ya,Pa:v.H.text_prompt_ext.Pa};
v.H.text_count={J:function(){Rh(this,{message0:v.g.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:v.g.TEXT_COUNT_TOOLTIP,helpUrl:v.g.TEXT_COUNT_HELPURL})}};
v.H.text_replace={J:function(){Rh(this,{message0:v.g.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:v.g.TEXT_REPLACE_TOOLTIP,helpUrl:v.g.TEXT_REPLACE_HELPURL})}};
v.H.text_reverse={J:function(){Rh(this,{message0:v.g.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:v.g.TEXT_REVERSE_TOOLTIP,helpUrl:v.g.TEXT_REVERSE_HELPURL})}};
v.P.Text.Gn={ew:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",fw:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",
gw:12,dw:12,Gz:function(a){for(var b=0,d;d=this.M[b];b++)for(var e=0,f;f=d.na[e];e++)if(a==f.name){Mh(d,e,this.$i(!0));Mh(d,e+2,this.$i(!1));return}console.warn('field named "'+a+'" not found in '+Me(this))},$i:function(a){a=this.w?!a:a;return new uk(a?this.ew:this.fw,this.gw,this.dw,a?"\u201c":"\u201d")}};v.P.Text.tw=function(){nh(this,v.P.Text.Gn);this.Gz("TEXT")};
v.P.Text.sw={ya:function(){var a=document.createElement("mutation");a.setAttribute("items",this.lb);return a},Pa:function(a){this.lb=parseInt(a.getAttribute("items"),10);this.Cc()},He:function(a){var b=a.ce("text_create_join_container");b.jc();for(var d=F(b,"STACK").connection,e=0;e<this.lb;e++){var f=a.ce("text_create_join_item");f.jc();d.connect(f.R);d=f.K}return b},Ge:function(a){var b=Th(a,"STACK");for(a=[];b;)a.push(b.ml),b=b.K&&E(b.K);for(b=0;b<this.lb;b++){var d=F(this,"ADD"+b).connection.V;
d&&-1==a.indexOf(d)&&d.disconnect()}this.lb=a.length;this.Cc();for(b=0;b<this.lb;b++)lh(a[b],this,"ADD"+b)},Qk:function(a){a=Th(a,"STACK");for(var b=0;a;){var d=F(this,"ADD"+b);a.ml=d&&d.connection.V;b++;a=a.K&&E(a.K)}},Cc:function(){this.lb&&F(this,"EMPTY")?this.Ua("EMPTY"):this.lb||F(this,"EMPTY")||J(J(O(this,"EMPTY"),this.$i(!0)),this.$i(!1));for(var a=0;a<this.lb;a++)if(!F(this,"ADD"+a)){var b=N(this,"ADD"+a);0==a&&J(b,v.g.TEXT_JOIN_TITLE_CREATEWITH)}for(;F(this,"ADD"+a);)this.Ua("ADD"+a),a++}};
v.P.Text.rw=function(){nh(this,v.P.Text.Gn);this.lb=2;this.Cc();this.ij(new kh(["text_create_join_item"]))};v.S.register("text_append_tooltip",v.S.Il("%{BKY_TEXT_APPEND_TOOLTIP}"));v.P.Text.qw=function(){var a=this;this.pa(function(){return v.g.TEXT_INDEXOF_TOOLTIP.replace("%1",a.o.options.jd?"0":"-1")})};
v.P.Text.pw={ya:function(){var a=document.createElement("mutation");a.setAttribute("at",!!this.qt);return a},Pa:function(a){a="false"!=a.getAttribute("at");this.ub(a)},ub:function(a){this.Ua("AT",!0);this.Ua("ORDINAL",!0);a&&(N(this,"AT").Ga("Number"),v.g.ORDINAL_NUMBER_SUFFIX&&J(O(this,"ORDINAL"),v.g.ORDINAL_NUMBER_SUFFIX));v.g.TEXT_CHARAT_TAIL&&(this.Ua("TAIL",!0),J(O(this,"TAIL"),v.g.TEXT_CHARAT_TAIL));this.qt=a}};
v.P.Text.ow=function(){Gh(D(this,"WHERE"),function(b){var d="FROM_START"==b||"FROM_END"==b;if(d!=this.qt){var e=this.u;e.ub(d);Ed(e,b,"WHERE");return null}});this.ub(!0);var a=this;this.pa(function(){var b=C(a,"WHERE"),d=v.g.TEXT_CHARAT_TOOLTIP;("FROM_START"==b||"FROM_END"==b)&&(b="FROM_START"==b?v.g.LISTS_INDEX_FROM_START_TOOLTIP:v.g.LISTS_INDEX_FROM_END_TOOLTIP)&&(d+="  "+b.replace("%1",a.o.options.jd?"#1":"#0"));return d})};v.S.register("text_indexOf_tooltip",v.P.Text.qw);
v.S.register("text_quotes",v.P.Text.tw);v.S.Nk("text_join_mutator",v.P.Text.sw,v.P.Text.rw);v.S.Nk("text_charAt_mutator",v.P.Text.pw,v.P.Text.ow);v.H.sA={};v.P.G={};v.P.G.gi=330;
v.gg([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,
style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);
v.P.G.qv={zf:function(a){if(!this.yb){if("variables_get"==this.type)var b="variables_set",d=v.g.VARIABLES_GET_CREATE_SET;else b="variables_get",d=v.g.VARIABLES_SET_CREATE_GET;var e={enabled:0<fe(this.o)},f=D(this,"VAR").Eb();e.text=d.replace("%1",f);d=document.createElement("field");d.setAttribute("name","VAR");d.appendChild(document.createTextNode(f));f=document.createElement("block");f.setAttribute("type",b);f.appendChild(d);e.bb=v.ka.Kl(this,f);a.push(e)}else if("variables_get"==this.type||"variables_get_reporter"==
this.type)b={text:v.g.eB,enabled:!0,bb:v.P.G.iw(this)},f=D(this,"VAR").Eb(),e={text:v.g.CA.replace("%1",f),enabled:!0,bb:v.P.G.uv(this)},a.unshift(b),a.unshift(e)}};v.P.G.iw=function(a){return function(){var b=a.o,d=D(a,"VAR").Kc();v.G.cn(b,d)}};v.P.G.uv=function(a){return function(){var b=a.o,d=D(a,"VAR").Kc();b.Ie(d.ea());dh(b)}};v.S.an("contextMenu_variableSetterGetter",v.P.G.qv);
v.h=new Oh;gl("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan");
v.h.Ae=0;v.h.XA=1.1;v.h.Ha=1.2;v.h.ma=2;v.h.VA=3;v.h.RA=3;v.h.NA=4.1;v.h.ZA=4.2;v.h.zj=4.3;v.h.oi=4.4;v.h.YA=4.5;v.h.$A=4.6;v.h.SA=4.7;v.h.LA=4.8;v.h.TA=5;v.h.Fn=5.1;v.h.xj=5.2;v.h.yj=5.3;v.h.rf=6.1;v.h.qf=6.2;v.h.PA=7;v.h.cw=8;v.h.UA=8;v.h.WA=8;v.h.dr=9;v.h.MA=10;v.h.QA=11;v.h.OA=12;v.h.Dn=13;v.h.En=14;v.h.Cl=15;v.h.Wg=16;v.h.aB=17;v.h.Wa=18;v.h.Xa=99;v.h.Dl=[[v.h.ma,v.h.Ha],[v.h.ma,v.h.ma],[v.h.Ha,v.h.Ha],[v.h.Ha,v.h.ma],[v.h.oi,v.h.oi],[v.h.Fn,v.h.Fn],[v.h.qf,v.h.qf],[v.h.Dn,v.h.Dn],[v.h.En,v.h.En]];
v.h.J=function(a){v.h.dh=Object.create(null);v.h.Jo=Object.create(null);v.h.$a?v.h.$a.reset():v.h.$a=new rl;v.h.$a.Ca=a.Ca;for(var b=[],d=v.G.Cw(a),e=0;e<d.length;e++)b.push(v.h.$a.getName(d[e],"DEVELOPER_VARIABLE"));a=v.G.xr(a);for(e=0;e<a.length;e++)b.push(v.h.$a.getName(a[e].ea(),v.G.ab));b.length&&(v.h.dh.variables="var "+b.join(", ")+";")};v.h.finish=function(a){var b=[],d;for(d in v.h.dh)b.push(v.h.dh[d]);delete v.h.dh;delete v.h.Jo;v.h.$a.reset();return b.join("\n\n")+"\n\n\n"+a};
v.h.xu=function(a){return a+";\n"};v.h.nu=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};
v.h.jn=function(a,b,d){var e="";if(!a.N||!a.N.V){var f=a.mm();(f=v.i.bv(f,v.h.hv-3))&&(e=a.Gf?e+("/**\n"+dl(f+"\n"," * ")+" */\n"):e+dl(f+"\n","// "));for(var h=0;h<a.M.length;h++)if(a.M[h].type==v.Da){var k=E(a.M[h].connection);if(k){f=[];k=Yc(k,!0);for(var l=0;l<k.length;l++){var m=k[l].mm();m&&f.push(m)}f.length&&f.push("");(f=f.join("\n"))&&(e+=dl(f,"// "))}}}a=a.K&&E(a.K);d=d?"":cl(v.h,a);return e+b+d};
v.h.gc=function(a,b,d,e,f){d=d||0;f=f||v.h.Xa;a.o.options.jd&&d--;var h=a.o.options.jd?"1":"0";a=0<d?Q(a,b,v.h.qf)||h:0>d?Q(a,b,v.h.rf)||h:e?Q(a,b,v.h.zj)||h:Q(a,b,f)||h;if(v.zg(a))a=parseFloat(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=v.h.qf}else 0>d&&(a=a+" - "+-d,k=v.h.rf);e&&(a=d?"-("+a+")":"-"+a,k=v.h.zj);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};v.h.Ql={};v.h.colour_picker=function(a){return["'"+C(a,"COLOUR")+"'",v.h.Ae]};v.h.colour_random=function(){return[hl("colourRandom",["function "+v.h.Kb+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",v.h.ma]};
v.h.colour_rgb=function(a){var b=Q(a,"RED",v.h.Wa)||0,d=Q(a,"GREEN",v.h.Wa)||0;a=Q(a,"BLUE",v.h.Wa)||0;return[hl("colourRgb",["function "+v.h.Kb+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);",
"  return '#' + r + g + b;","}"])+"("+b+", "+d+", "+a+")",v.h.ma]};
v.h.colour_blend=function(a){var b=Q(a,"COLOUR1",v.h.Wa)||"'#000000'",d=Q(a,"COLOUR2",v.h.Wa)||"'#000000'";a=Q(a,"RATIO",v.h.Wa)||.5;return[hl("colourBlend",["function "+v.h.Kb+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);",
"  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+b+", "+d+", "+a+")",v.h.ma]};v.h.vp={};v.h.lists_create_empty=function(){return["[]",v.h.Ae]};v.h.lists_create_with=function(a){for(var b=Array(a.lb),d=0;d<a.lb;d++)b[d]=Q(a,"ADD"+d,v.h.Wa)||"null";return["["+b.join(", ")+"]",v.h.Ae]};v.h.lists_repeat=function(a){var b=hl("listsRepeat",["function "+v.h.Kb+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),d=Q(a,"ITEM",v.h.Wa)||"null";a=Q(a,"NUM",v.h.Wa)||"0";return[b+"("+d+", "+a+")",v.h.ma]};
v.h.lists_length=function(a){return[(Q(a,"VALUE",v.h.Ha)||"[]")+".length",v.h.Ha]};v.h.lists_isEmpty=function(a){return["!"+(Q(a,"VALUE",v.h.Ha)||"[]")+".length",v.h.oi]};v.h.lists_indexOf=function(a){var b="FIRST"==C(a,"END")?"indexOf":"lastIndexOf",d=Q(a,"FIND",v.h.Xa)||"''";b=(Q(a,"VALUE",v.h.Ha)||"[]")+"."+b+"("+d+")";return a.o.options.jd?[b+" + 1",v.h.qf]:[b,v.h.ma]};
v.h.lists_getIndex=function(a){var b=C(a,"MODE")||"GET",d=C(a,"WHERE")||"FROM_START",e=Q(a,"VALUE","RANDOM"==d?v.h.Wa:v.h.Ha)||"[]";switch(d){case "FIRST":if("GET"==b)return[e+"[0]",v.h.Ha];if("GET_REMOVE"==b)return[e+".shift()",v.h.Ha];if("REMOVE"==b)return e+".shift();\n";break;case "LAST":if("GET"==b)return[e+".slice(-1)[0]",v.h.Ha];if("GET_REMOVE"==b)return[e+".pop()",v.h.Ha];if("REMOVE"==b)return e+".pop();\n";break;case "FROM_START":a=v.h.gc(a,"AT");if("GET"==b)return[e+"["+a+"]",v.h.Ha];if("GET_REMOVE"==
b)return[e+".splice("+a+", 1)[0]",v.h.ma];if("REMOVE"==b)return e+".splice("+a+", 1);\n";break;case "FROM_END":a=v.h.gc(a,"AT",1,!0);if("GET"==b)return[e+".slice("+a+")[0]",v.h.ma];if("GET_REMOVE"==b)return[e+".splice("+a+", 1)[0]",v.h.ma];if("REMOVE"==b)return e+".splice("+a+", 1);";break;case "RANDOM":e=hl("listsGetRandomItem",["function "+v.h.Kb+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];",
"  }","}"])+"("+e+", "+("GET"!=b)+")";if("GET"==b||"GET_REMOVE"==b)return[e,v.h.ma];if("REMOVE"==b)return e+";\n"}throw Error("Unhandled combination (lists_getIndex).");};
v.h.lists_setIndex=function(a){function b(){if(d.match(/^\w+$/))return"";var k=il(v.h.$a,"tmpList",v.G.ab),l="var "+k+" = "+d+";\n";d=k;return l}var d=Q(a,"LIST",v.h.Ha)||"[]",e=C(a,"MODE")||"GET",f=C(a,"WHERE")||"FROM_START",h=Q(a,"TO",v.h.Wg)||"null";switch(f){case "FIRST":if("SET"==e)return d+"[0] = "+h+";\n";if("INSERT"==e)return d+".unshift("+h+");\n";break;case "LAST":if("SET"==e)return a=b(),a+(d+"["+d+".length - 1] = "+h+";\n");if("INSERT"==e)return d+".push("+h+");\n";break;case "FROM_START":f=
v.h.gc(a,"AT");if("SET"==e)return d+"["+f+"] = "+h+";\n";if("INSERT"==e)return d+".splice("+f+", 0, "+h+");\n";break;case "FROM_END":f=v.h.gc(a,"AT",1,!1,v.h.rf);a=b();if("SET"==e)return a+(d+"["+d+".length - "+f+"] = "+h+";\n");if("INSERT"==e)return a+(d+".splice("+d+".length - "+f+", 0, "+h+");\n");break;case "RANDOM":a=b();f=il(v.h.$a,"tmpX",v.G.ab);a+="var "+f+" = Math.floor(Math.random() * "+d+".length);\n";if("SET"==e)return a+(d+"["+f+"] = "+h+";\n");if("INSERT"==e)return a+(d+".splice("+f+
", 0, "+h+");\n")}throw Error("Unhandled combination (lists_setIndex).");};v.h.vp.Po=function(a,b,d){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+d:"LAST"==b?a+".length - 1":d};
v.h.lists_getSublist=function(a){var b=Q(a,"LIST",v.h.Ha)||"[]",d=C(a,"WHERE1"),e=C(a,"WHERE2");if("FIRST"==d&&"LAST"==e)b+=".slice(0)";else if(b.match(/^\w+$/)||"FROM_END"!=d&&"FROM_START"==e){switch(d){case "FROM_START":var f=v.h.gc(a,"AT1");break;case "FROM_END":f=v.h.gc(a,"AT1",1,!1,v.h.rf);f=b+".length - "+f;break;case "FIRST":f="0";break;default:throw Error("Unhandled option (lists_getSublist).");}switch(e){case "FROM_START":a=v.h.gc(a,"AT2",1);break;case "FROM_END":a=v.h.gc(a,"AT2",0,!1,v.h.rf);
a=b+".length - "+a;break;case "LAST":a=b+".length";break;default:throw Error("Unhandled option (lists_getSublist).");}b=b+".slice("+f+", "+a+")"}else{f=v.h.gc(a,"AT1");a=v.h.gc(a,"AT2");var h=v.h.vp.Po,k={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};b=hl("subsequence"+k[d]+k[e],["function "+v.h.Kb+"(sequence"+("FROM_END"==d||"FROM_START"==d?", at1":"")+("FROM_END"==e||"FROM_START"==e?", at2":"")+") {","  var start = "+h("sequence",d,"at1")+";","  var end = "+h("sequence",e,
"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+b+("FROM_END"==d||"FROM_START"==d?", "+f:"")+("FROM_END"==e||"FROM_START"==e?", "+a:"")+")"}return[b,v.h.ma]};
v.h.lists_sort=function(a){var b=Q(a,"LIST",v.h.ma)||"[]",d="1"===C(a,"DIRECTION")?1:-1;a=C(a,"TYPE");var e=hl("listsGetSortCompare",["function "+v.h.Kb+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return parseFloat(a) - parseFloat(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };",
"  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"]);return[b+".slice().sort("+e+'("'+a+'", '+d+"))",v.h.ma]};v.h.lists_split=function(a){var b=Q(a,"INPUT",v.h.Ha),d=Q(a,"DELIM",v.h.Xa)||"''";a=C(a,"MODE");if("SPLIT"==a)b||(b="''"),a="split";else if("JOIN"==a)b||(b="[]"),a="join";else throw Error("Unknown mode: "+a);return[b+"."+a+"("+d+")",v.h.ma]};v.h.lists_reverse=function(a){return[(Q(a,"LIST",v.h.ma)||"[]")+".slice().reverse()",v.h.ma]};v.h.Sy={};v.h.controls_if=function(a){var b=0,d="";do{var e=Q(a,"IF"+b,v.h.Xa)||"false";var f=el(a,"DO"+b);d+=(0<b?" else ":"")+"if ("+e+") {\n"+f+"}";++b}while(F(a,"IF"+b));F(a,"ELSE")&&(f=el(a,"ELSE"),d+=" else {\n"+f+"}");return d+"\n"};v.h.controls_ifelse=v.h.controls_if;v.h.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[C(a,"OP")],d="=="==b||"!="==b?v.h.dr:v.h.cw,e=Q(a,"A",d)||"0";a=Q(a,"B",d)||"0";return[e+" "+b+" "+a,d]};
v.h.logic_operation=function(a){var b="AND"==C(a,"OP")?"&&":"||",d="&&"==b?v.h.Dn:v.h.En,e=Q(a,"A",d);a=Q(a,"B",d);if(e||a){var f="&&"==b?"true":"false";e||(e=f);a||(a=f)}else a=e="false";return[e+" "+b+" "+a,d]};v.h.logic_negate=function(a){var b=v.h.oi;return["!"+(Q(a,"BOOL",b)||"true"),b]};v.h.logic_boolean=function(a){return["TRUE"==C(a,"BOOL")?"true":"false",v.h.Ae]};v.h.logic_null=function(){return["null",v.h.Ae]};
v.h.logic_ternary=function(a){var b=Q(a,"IF",v.h.Cl)||"false",d=Q(a,"THEN",v.h.Cl)||"null";a=Q(a,"ELSE",v.h.Cl)||"null";return[b+" ? "+d+" : "+a,v.h.Cl]};v.h.Uy={};v.h.controls_repeat_ext=function(a){var b=D(a,"TIMES")?String(Number(C(a,"TIMES"))):Q(a,"TIMES",v.h.Wg)||"0",d=el(a,"DO");d=fl(d,a.id);a="";var e=il(v.h.$a,"count",v.G.ab),f=b;b.match(/^\w+$/)||v.zg(b)||(f=il(v.h.$a,"repeat_end",v.G.ab),a+="var "+f+" = "+b+";\n");return a+("for (var "+e+" = 0; "+e+" < "+f+"; "+e+"++) {\n"+d+"}\n")};v.h.controls_repeat=v.h.controls_repeat_ext;
v.h.controls_whileUntil=function(a){var b="UNTIL"==C(a,"MODE"),d=Q(a,"BOOL",b?v.h.oi:v.h.Xa)||"false",e=el(a,"DO");e=fl(e,a.id);b&&(d="!"+d);return"while ("+d+") {\n"+e+"}\n"};
v.h.controls_for=function(a){var b=v.h.$a.getName(C(a,"VAR"),v.G.ab),d=Q(a,"FROM",v.h.Wg)||"0",e=Q(a,"TO",v.h.Wg)||"0",f=Q(a,"BY",v.h.Wg)||"1",h=el(a,"DO");h=fl(h,a.id);if(v.zg(d)&&v.zg(e)&&v.zg(f)){var k=parseFloat(d)<=parseFloat(e);a="for ("+b+" = "+d+"; "+b+(k?" <= ":" >= ")+e+"; "+b;b=Math.abs(parseFloat(f));a=(1==b?a+(k?"++":"--"):a+((k?" += ":" -= ")+b))+(") {\n"+h+"}\n")}else a="",k=d,d.match(/^\w+$/)||v.zg(d)||(k=il(v.h.$a,b+"_start",v.G.ab),a+="var "+k+" = "+d+";\n"),d=e,e.match(/^\w+$/)||
v.zg(e)||(d=il(v.h.$a,b+"_end",v.G.ab),a+="var "+d+" = "+e+";\n"),e=il(v.h.$a,b+"_inc",v.G.ab),a+="var "+e+" = ",a=v.zg(f)?a+(Math.abs(f)+";\n"):a+("Math.abs("+f+");\n"),a=a+("if ("+k+" > "+d+") {\n")+(v.h.nf+e+" = -"+e+";\n"),a+="}\n",a+="for ("+b+" = "+k+"; "+e+" >= 0 ? "+b+" <= "+d+" : "+b+" >= "+d+"; "+b+" += "+e+") {\n"+h+"}\n";return a};
v.h.controls_forEach=function(a){var b=v.h.$a.getName(C(a,"VAR"),v.G.ab),d=Q(a,"LIST",v.h.Wg)||"[]",e=el(a,"DO");e=fl(e,a.id);a="";var f=d;d.match(/^\w+$/)||(f=il(v.h.$a,b+"_list",v.G.ab),a+="var "+f+" = "+d+";\n");d=il(v.h.$a,b+"_index",v.G.ab);e=v.h.nf+b+" = "+f+"["+d+"];\n"+e;return a+("for (var "+d+" in "+f+") {\n"+e+"}\n")};v.h.controls_flow_statements=function(a){switch(C(a,"FLOW")){case "BREAK":return"break;\n";case "CONTINUE":return"continue;\n"}throw Error("Unknown flow statement.");};v.h.Vy={};v.h.math_number=function(a){a=parseFloat(C(a,"NUM"));return[a,0<=a?v.h.Ae:v.h.zj]};v.h.math_arithmetic=function(a){var b={ADD:[" + ",v.h.qf],MINUS:[" - ",v.h.rf],MULTIPLY:[" * ",v.h.Fn],DIVIDE:[" / ",v.h.xj],POWER:[null,v.h.Wa]}[C(a,"OP")],d=b[0];b=b[1];var e=Q(a,"A",b)||"0";a=Q(a,"B",b)||"0";return d?[e+d+a,b]:["Math.pow("+e+", "+a+")",v.h.ma]};
v.h.math_single=function(a){var b=C(a,"OP");if("NEG"==b)return a=Q(a,"NUM",v.h.zj)||"0","-"==a[0]&&(a=" "+a),["-"+a,v.h.zj];a="SIN"==b||"COS"==b||"TAN"==b?Q(a,"NUM",v.h.xj)||"0":Q(a,"NUM",v.h.Xa)||"0";switch(b){case "ABS":var d="Math.abs("+a+")";break;case "ROOT":d="Math.sqrt("+a+")";break;case "LN":d="Math.log("+a+")";break;case "EXP":d="Math.exp("+a+")";break;case "POW10":d="Math.pow(10,"+a+")";break;case "ROUND":d="Math.round("+a+")";break;case "ROUNDUP":d="Math.ceil("+a+")";break;case "ROUNDDOWN":d=
"Math.floor("+a+")";break;case "SIN":d="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":d="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":d="Math.tan("+a+" / 180 * Math.PI)"}if(d)return[d,v.h.ma];switch(b){case "LOG10":d="Math.log("+a+") / Math.log(10)";break;case "ASIN":d="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":d="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":d="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+b);}return[d,v.h.xj]};
v.h.math_constant=function(a){return{PI:["Math.PI",v.h.Ha],E:["Math.E",v.h.Ha],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",v.h.xj],SQRT2:["Math.SQRT2",v.h.Ha],SQRT1_2:["Math.SQRT1_2",v.h.Ha],INFINITY:["Infinity",v.h.Ae]}[C(a,"CONSTANT")]};
v.h.math_number_property=function(a){var b=Q(a,"NUMBER_TO_CHECK",v.h.yj)||"0",d=C(a,"PROPERTY");if("PRIME"==d){var e=hl("mathIsPrime",["function "+v.h.Kb+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")";return[e,v.h.ma]}switch(d){case "EVEN":e=b+" % 2 == 0";break;case "ODD":e=b+" % 2 == 1";break;case "WHOLE":e=b+" % 1 == 0";break;case "POSITIVE":e=b+" > 0";break;case "NEGATIVE":e=b+" < 0";break;case "DIVISIBLE_BY":a=Q(a,"DIVISOR",v.h.yj)||"0",e=b+" % "+a+" == 0"}return[e,v.h.dr]};
v.h.math_change=function(a){var b=Q(a,"DELTA",v.h.qf)||"0";a=v.h.$a.getName(C(a,"VAR"),v.G.ab);return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+b+";\n"};v.h.math_round=v.h.math_single;v.h.math_trig=v.h.math_single;
v.h.math_on_list=function(a){var b=C(a,"OP");switch(b){case "SUM":a=Q(a,"LIST",v.h.Ha)||"[]";a+=".reduce(function(x, y) {return x + y;})";break;case "MIN":a=Q(a,"LIST",v.h.Wa)||"[]";a="Math.min.apply(null, "+a+")";break;case "MAX":a=Q(a,"LIST",v.h.Wa)||"[]";a="Math.max.apply(null, "+a+")";break;case "AVERAGE":b=hl("mathMean",["function "+v.h.Kb+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);a=Q(a,"LIST",v.h.Xa)||"[]";a=b+"("+a+")";break;case "MEDIAN":b=
hl("mathMedian",["function "+v.h.Kb+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);a=Q(a,"LIST",v.h.Xa)||"[]";a=b+"("+a+")";break;case "MODE":b=hl("mathModes",
["function "+v.h.Kb+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);",
"  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);a=Q(a,"LIST",v.h.Xa)||"[]";a=b+"("+a+")";break;case "STD_DEV":b=hl("mathStandardDeviation",["function "+v.h.Kb+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);",
"  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]);a=Q(a,"LIST",v.h.Xa)||"[]";a=b+"("+a+")";break;case "RANDOM":b=hl("mathRandomList",["function "+v.h.Kb+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]);a=Q(a,"LIST",v.h.Xa)||"[]";a=b+"("+a+")";break;default:throw Error("Unknown operator: "+b);}return[a,v.h.ma]};v.h.math_modulo=function(a){var b=Q(a,"DIVIDEND",v.h.yj)||"0";a=Q(a,"DIVISOR",v.h.yj)||"0";return[b+" % "+a,v.h.yj]};
v.h.math_constrain=function(a){var b=Q(a,"VALUE",v.h.Wa)||"0",d=Q(a,"LOW",v.h.Wa)||"0";a=Q(a,"HIGH",v.h.Wa)||"Infinity";return["Math.min(Math.max("+b+", "+d+"), "+a+")",v.h.ma]};
v.h.math_random_int=function(a){var b=Q(a,"FROM",v.h.Wa)||"0";a=Q(a,"TO",v.h.Wa)||"0";return[hl("mathRandomInt",["function "+v.h.Kb+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+b+", "+a+")",v.h.ma]};v.h.math_random_float=function(){return["Math.random()",v.h.ma]};
v.h.math_atan2=function(a){var b=Q(a,"X",v.h.Wa)||"0";return["Math.atan2("+(Q(a,"Y",v.h.Wa)||"0")+", "+b+") / Math.PI * 180",v.h.xj]};v.h.Fz={};v.h.procedures_defreturn=function(a){var b=v.h.$a.getName(C(a,"NAME"),v.sa.ab),d=el(a,"STACK");if(v.h.pi){var e=a.id.replace(/\$/g,"$$$$");d=dl(v.h.pi.replace(/%1/g,"'"+e+"'"),v.h.nf)+d}v.h.Al&&(d=v.h.Al.replace(/%1/g,"'"+a.id+"'")+d);(e=Q(a,"RETURN",v.h.Xa)||"")&&(e=v.h.nf+"return "+e+";\n");for(var f=[],h=0;h<a.ta.length;h++)f[h]=v.h.$a.getName(a.ta[h],v.G.ab);d="function "+b+"("+f.join(", ")+") {\n"+d+e+"}";d=v.h.jn(a,d);v.h.dh["%"+b]=d;return null};v.h.procedures_defnoreturn=v.h.procedures_defreturn;
v.h.procedures_callreturn=function(a){for(var b=v.h.$a.getName(C(a,"NAME"),v.sa.ab),d=[],e=0;e<a.ta.length;e++)d[e]=Q(a,"ARG"+e,v.h.Wa)||"null";return[b+"("+d.join(", ")+")",v.h.ma]};v.h.procedures_callnoreturn=function(a){for(var b=v.h.$a.getName(C(a,"NAME"),v.sa.ab),d=[],e=0;e<a.ta.length;e++)d[e]=Q(a,"ARG"+e,v.h.Wa)||"null";return b+"("+d.join(", ")+");\n"};
v.h.procedures_ifreturn=function(a){var b="if ("+(Q(a,"CONDITION",v.h.Xa)||"false")+") {\n";a.pg?(a=Q(a,"VALUE",v.h.Xa)||"null",b+=v.h.nf+"return "+a+";\n"):b+=v.h.nf+"return;\n";return b+"}\n"};v.h.fA={};v.h.text=function(a){return[v.h.nu(C(a,"TEXT")),v.h.Ae]};v.h.text.Ci=function(a){return v.h.text.Ci.$z.test(a)?a:"String("+a+")"};v.h.text.Ci.$z=/^\s*'([^']|\\')*'\s*$/;
v.h.text_join=function(a){switch(a.lb){case 0:return["''",v.h.Ae];case 1:return a=Q(a,"ADD0",v.h.Xa)||"''",a=v.h.text.Ci(a),[a,v.h.ma];case 2:var b=Q(a,"ADD0",v.h.Xa)||"''";a=Q(a,"ADD1",v.h.Xa)||"''";a=v.h.text.Ci(b)+" + "+v.h.text.Ci(a);return[a,v.h.qf];default:b=Array(a.lb);for(var d=0;d<a.lb;d++)b[d]=Q(a,"ADD"+d,v.h.Wa)||"''";a="["+b.join(",")+"].join('')";return[a,v.h.ma]}};
v.h.text_append=function(a){var b=v.h.$a.getName(C(a,"VAR"),v.G.ab);a=Q(a,"TEXT",v.h.Xa)||"''";return b+" += "+v.h.text.Ci(a)+";\n"};v.h.text_length=function(a){return[(Q(a,"VALUE",v.h.ma)||"''")+".length",v.h.Ha]};v.h.text_isEmpty=function(a){return["!"+(Q(a,"VALUE",v.h.Ha)||"''")+".length",v.h.oi]};v.h.text_indexOf=function(a){var b="FIRST"==C(a,"END")?"indexOf":"lastIndexOf",d=Q(a,"FIND",v.h.Xa)||"''";b=(Q(a,"VALUE",v.h.Ha)||"''")+"."+b+"("+d+")";return a.o.options.jd?[b+" + 1",v.h.qf]:[b,v.h.ma]};
v.h.text_charAt=function(a){var b=C(a,"WHERE")||"FROM_START",d=Q(a,"VALUE","RANDOM"==b?v.h.Xa:v.h.Ha)||"''";switch(b){case "FIRST":return[d+".charAt(0)",v.h.ma];case "LAST":return[d+".slice(-1)",v.h.ma];case "FROM_START":return a=v.h.gc(a,"AT"),[d+".charAt("+a+")",v.h.ma];case "FROM_END":return a=v.h.gc(a,"AT",1,!0),[d+".slice("+a+").charAt(0)",v.h.ma];case "RANDOM":return d=hl("textRandomLetter",["function "+v.h.Kb+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];",
"}"])+"("+d+")",[d,v.h.ma]}throw Error("Unhandled option (text_charAt).");};v.h.text.Po=function(a,b,d){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+d:"LAST"==b?a+".length - 1":d};
v.h.text_getSubstring=function(a){var b=Q(a,"STRING",v.h.ma)||"''",d=C(a,"WHERE1"),e=C(a,"WHERE2");if("FIRST"!=d||"LAST"!=e)if(b.match(/^'?\w+'?$/)||"FROM_END"!=d&&"LAST"!=d&&"FROM_END"!=e&&"LAST"!=e){switch(d){case "FROM_START":var f=v.h.gc(a,"AT1");break;case "FROM_END":f=v.h.gc(a,"AT1",1,!1,v.h.rf);f=b+".length - "+f;break;case "FIRST":f="0";break;default:throw Error("Unhandled option (text_getSubstring).");}switch(e){case "FROM_START":a=v.h.gc(a,"AT2",1);break;case "FROM_END":a=v.h.gc(a,"AT2",
0,!1,v.h.rf);a=b+".length - "+a;break;case "LAST":a=b+".length";break;default:throw Error("Unhandled option (text_getSubstring).");}b=b+".slice("+f+", "+a+")"}else{f=v.h.gc(a,"AT1");a=v.h.gc(a,"AT2");var h=v.h.text.Po,k={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};b=hl("subsequence"+k[d]+k[e],["function "+v.h.Kb+"(sequence"+("FROM_END"==d||"FROM_START"==d?", at1":"")+("FROM_END"==e||"FROM_START"==e?", at2":"")+") {","  var start = "+h("sequence",d,"at1")+";","  var end = "+
h("sequence",e,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+b+("FROM_END"==d||"FROM_START"==d?", "+f:"")+("FROM_END"==e||"FROM_START"==e?", "+a:"")+")"}return[b,v.h.ma]};
v.h.text_changeCase=function(a){var b={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[C(a,"CASE")];a=Q(a,"TEXT",b?v.h.Ha:v.h.Xa)||"''";return[b?a+b:hl("textToTitleCase",["function "+v.h.Kb+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+a+")",v.h.ma]};
v.h.text_trim=function(a){var b={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[C(a,"MODE")];return[(Q(a,"TEXT",v.h.Ha)||"''")+b,v.h.ma]};v.h.text_print=function(a){return"window.alert("+(Q(a,"TEXT",v.h.Xa)||"''")+");\n"};v.h.text_prompt_ext=function(a){var b="window.prompt("+(D(a,"TEXT")?v.h.nu(C(a,"TEXT")):Q(a,"TEXT",v.h.Xa)||"''")+")";"NUMBER"==C(a,"TYPE")&&(b="parseFloat("+b+")");return[b,v.h.ma]};v.h.text_prompt=v.h.text_prompt_ext;
v.h.text_count=function(a){var b=Q(a,"TEXT",v.h.Ha)||"''";a=Q(a,"SUB",v.h.Xa)||"''";return[hl("textCount",["function "+v.h.Kb+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+b+", "+a+")",v.h.rf]};
v.h.text_replace=function(a){var b=Q(a,"TEXT",v.h.Ha)||"''",d=Q(a,"FROM",v.h.Xa)||"''";a=Q(a,"TO",v.h.Xa)||"''";return[hl("textReplace",["function "+v.h.Kb+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")','                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+b+", "+d+", "+a+")",v.h.Ha]};
v.h.text_reverse=function(a){return[(Q(a,"TEXT",v.h.Ha)||"''")+".split('').reverse().join('')",v.h.Ha]};v.h.sA={};v.h.variables_get=function(a){return[v.h.$a.getName(C(a,"VAR"),v.G.ab),v.h.Ae]};v.h.variables_set=function(a){var b=Q(a,"VALUE",v.h.Wg)||"0";return v.h.$a.getName(C(a,"VAR"),v.G.ab)+" = "+b+";\n"};v.H.turtle_move={J:function(){var a=[[T("Turtle_moveForward"),"moveForward"],[T("Turtle_moveBackward"),"moveBackward"]];this.Qc(160);J(N(this,"VALUE").Ga("Number"),new M(a),"DIR");this.dc(!0);this.cc(!0);this.pa(T("Turtle_moveTooltip"))}};v.h.turtle_move=function(a){var b=Q(a,"VALUE",v.h.Wa)||"0";return C(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};
v.H.turtle_move_internal={J:function(){var a=[[T("Turtle_moveForward"),"moveForward"],[T("Turtle_moveBackward"),"moveBackward"]];this.Qc(160);J(J(O(this),new M(a),"DIR"),new M([["20","20"],["50","50"],["100","100"],["150","150"]]),"VALUE");this.dc(!0);this.cc(!0);this.pa(T("Turtle_moveTooltip"))}};v.h.turtle_move_internal=function(a){var b=C(a,"VALUE");return C(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};
v.H.turtle_turn={J:function(){var a=[[T("Turtle_turnRight"),"turnRight"],[T("Turtle_turnLeft"),"turnLeft"]];a[0][0]+=" \u21bb";a[1][0]+=" \u21ba";this.Qc(160);J(N(this,"VALUE").Ga("Number"),new M(a),"DIR");this.dc(!0);this.cc(!0);this.pa(T("Turtle_turnTooltip"))}};v.h.turtle_turn=function(a){var b=Q(a,"VALUE",v.h.Wa)||"0";return C(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};
v.H.turtle_turn_internal={J:function(){var a=[[T("Turtle_turnRight"),"turnRight"],[T("Turtle_turnLeft"),"turnLeft"]];a[0][0]+=" \u21bb";a[1][0]+=" \u21ba";this.Qc(160);J(J(O(this),new M(a),"DIR"),new M([["1\u00b0","1"],["45\u00b0","45"],["72\u00b0","72"],["90\u00b0","90"],["120\u00b0","120"],["144\u00b0","144"]]),"VALUE");this.dc(!0);this.cc(!0);this.pa(T("Turtle_turnTooltip"))}};v.h.turtle_turn_internal=function(a){var b=C(a,"VALUE");return C(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};
v.H.turtle_width={J:function(){this.Qc(160);J(N(this,"WIDTH").Ga("Number"),T("Turtle_setWidth"));this.dc(!0);this.cc(!0);this.pa(T("Turtle_widthTooltip"))}};v.h.turtle_width=function(a){return"penWidth("+(Q(a,"WIDTH",v.h.Wa)||"1")+", 'block_id_"+a.id+"');\n"};v.H.turtle_pen={J:function(){Rh(this,{message0:"%1",args0:[{type:"field_dropdown",name:"PEN",options:[[T("Turtle_penUp"),"penUp"],[T("Turtle_penDown"),"penDown"]]}],previousStatement:null,nextStatement:null,colour:160,tooltip:T("Turtle_penTooltip")})}};
v.h.turtle_pen=function(a){return C(a,"PEN")+"('block_id_"+a.id+"');\n"};v.H.turtle_colour={J:function(){this.Qc(v.g.COLOUR_HUE);J(N(this,"COLOUR").Ga("Colour"),T("Turtle_setColour"));this.dc(!0);this.cc(!0);this.pa(T("Turtle_colourTooltip"))}};v.h.turtle_colour=function(a){return"penColour("+(Q(a,"COLOUR",v.h.Wa)||"'#000000'")+", 'block_id_"+a.id+"');\n"};
v.H.turtle_colour_internal={J:function(){this.Qc(v.g.COLOUR_HUE);J(J(O(this),T("Turtle_setColour")),new Qk("#ff0000"),"COLOUR");this.dc(!0);this.cc(!0);this.pa(T("Turtle_colourTooltip"))}};v.h.turtle_colour_internal=function(a){return"penColour("+("'"+C(a,"COLOUR")+"'")+", 'block_id_"+a.id+"');\n"};
v.H.turtle_visibility={J:function(){Rh(this,{message0:"%1",args0:[{type:"field_dropdown",name:"VISIBILITY",options:[[T("Turtle_hideTurtle"),"hideTurtle"],[T("Turtle_showTurtle"),"showTurtle"]]}],previousStatement:null,nextStatement:null,colour:160,tooltip:T("Turtle_turtleVisibilityTooltip")})}};v.h.turtle_visibility=function(a){return C(a,"VISIBILITY")+"('block_id_"+a.id+"');\n"};
v.H.turtle_print={J:function(){this.kb=T("Turtle_printHelpUrl");this.Qc(160);J(N(this,"TEXT"),T("Turtle_print"));this.dc(!0);this.cc(!0);this.pa(T("Turtle_printTooltip"))}};v.h.turtle_print=function(a){return"print("+String(Q(a,"TEXT",v.h.Wa)||"''")+", 'block_id_"+a.id+"');\n"};
v.H.turtle_font={J:function(){var a=[[T("Turtle_fontNormal"),"normal"],[T("Turtle_fontItalic"),"italic"],[T("Turtle_fontBold"),"bold"]];this.kb=T("Turtle_fontHelpUrl");this.Qc(160);J(J(O(this),T("Turtle_font")),new M([["Arial","Arial"],["Courier New","Courier New"],["Georgia","Georgia"],["Impact","Impact"],["Times New Roman","Times New Roman"],["Trebuchet MS","Trebuchet MS"],["Verdana","Verdana"]]),"FONT");J(J(O(this),T("Turtle_fontSize")),new Yk(18,1,1E3),"FONTSIZE");J(O(this),new M(a),"FONTSTYLE");
this.dc(!0);this.cc(!0);this.pa(T("Turtle_fontTooltip"))}};v.h.turtle_font=function(a){return"font('"+C(a,"FONT")+"',"+Number(C(a,"FONTSIZE"))+",'"+C(a,"FONTSTYLE")+"', 'block_id_"+a.id+"');\n"};
v.H.turtle_repeat_internal={J:function(){Rh(this,{message0:v.g.CONTROLS_REPEAT_TITLE,args0:[{type:"field_dropdown",name:"TIMES",options:[["3","3"],["4","4"],["5","5"],["360","360"]]}],previousStatement:null,nextStatement:null,colour:v.g.LOOPS_HUE,tooltip:v.g.CONTROLS_REPEAT_TOOLTIP,helpUrl:v.g.CONTROLS_REPEAT_HELPURL});J(this.ie(v.Ea,"DO"),v.g.CONTROLS_REPEAT_INPUT_DO)}};v.h.turtle_repeat_internal=v.h.controls_repeat;var dn={};function en(){throw Error("Do not instantiate directly");}en.prototype.fo=null;en.prototype.kg=function(){return this.content};en.prototype.toString=function(){return this.content};en.prototype.qn=function(){if(this.Yr!==dn)throw Error("Sanitized content was not of kind HTML.");return Nb(this.toString(),this.fo||null)};function fn(a){if(null!=a)switch(a.fo){case 1:return 1;case -1:return-1;case 0:return 0}return null}function gn(){en.call(this)}t(gn,en);gn.prototype.Yr=dn;function hn(a){return null!=a&&a.Yr===dn?a:jn(String(String(a)).replace(kn,ln),fn(a))}
var jn=function(a){function b(){}b.prototype=a.prototype;return function(d,e){var f=new b;f.content=String(d);void 0!==e&&(f.fo=e);return f}}(gn),mn={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function ln(a){return mn[a]}var kn=/[\x00\x22\x26\x27\x3c\x3e]/g;function nn(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};function on(){for(var a='<div style="display: none"><span id="Games_name">Blockly Games</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">Movie</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Turtle_moveTooltip">Moves the turtle forward or backward by the specified amount.</span><span id="Turtle_moveForward">move forward by</span><span id="Turtle_moveBackward">move backward by</span><span id="Turtle_turnTooltip">Turns the turtle left or right by the specified number of degrees.</span><span id="Turtle_turnRight">turn right by</span><span id="Turtle_turnLeft">turn left by</span><span id="Turtle_widthTooltip">Changes the width of the pen.</span><span id="Turtle_setWidth">set width to</span><span id="Turtle_colourTooltip">Changes the colour of the pen.</span><span id="Turtle_setColour">set colour to</span><span id="Turtle_penTooltip">Lifts or lowers the pen, to stop or start drawing.</span><span id="Turtle_penUp">pen up</span><span id="Turtle_penDown">pen down</span><span id="Turtle_turtleVisibilityTooltip">Makes the turtle (circle and arrow) visible or invisible.</span><span id="Turtle_hideTurtle">hide turtle</span><span id="Turtle_showTurtle">show turtle</span><span id="Turtle_printHelpUrl">https://en.wikipedia.org/wiki/Printing</span><span id="Turtle_printTooltip">Draws text in the turtle\'s direction at its location.</span><span id="Turtle_print">print</span><span id="Turtle_fontHelpUrl">https://en.wikipedia.org/wiki/Font</span><span id="Turtle_fontTooltip">Sets the font used by the print block.</span><span id="Turtle_font">font</span><span id="Turtle_fontSize">font size</span><span id="Turtle_fontNormal">normal</span><span id="Turtle_fontBold">bold</span><span id="Turtle_fontItalic">italic</span><span id="Turtle_submitDisabled">Run your program until it stops. Then you may submit your drawing to the gallery.</span></div><table width="100%"><tr><td><h1>'+
('<span id="title">'+(ym?'<a href="index.html?lang='+hn(wm)+'">':'<a href="./?lang='+hn(wm)+'">')+"Blockly Games</a> : "+hn({appName:"Turtle"}.appName)+"</span>"),b=" &nbsp; ",d=1;11>d;d++)b+=" "+(d==R?'<span class="level_number level_done" id="level'+hn(d)+'">'+hn(d)+"</span>":10==d?'<a class="level_number" id="level'+hn(d)+'" href="?lang='+hn(wm)+"&level="+hn(d)+hn("")+'">'+hn(d)+"</a>":'<a class="level_dot" id="level'+hn(d)+'" href="?lang='+hn(wm)+"&level="+hn(d)+hn("")+'"></a>');return a+b+'</h1></td><td class="farSide"><select id="languageMenu"></select>&nbsp;<button id="linkButton" title="Save and link to blocks."><img src="common/1x1.gif" class="link icon21"></button>&nbsp;<button id="helpButton">Help</button></td></tr></table><div id="visualization"><canvas id="scratch" width="400" height="400" style="display: none"></canvas><canvas id="answer" width="400" height="400" style="display: none"></canvas><canvas id="display" width="400" height="400"></canvas></div><table style="padding-top: 1em;"><tr><td style="width: 190px; text-align: center; vertical-align: top;"><svg id="slider" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="150" height="50">\x3c!-- Slow icon. --\x3e<clipPath id="slowClipPath"><rect width=26 height=12 x=5 y=14 /></clipPath><image xlink:href="turtle/icons.png" height=42 width=84 x=-21 y=-10 clip-path="url(#slowClipPath)" />\x3c!-- Fast icon. --\x3e<clipPath id="fastClipPath"><rect width=26 height=16 x=120 y=10 /></clipPath><image xlink:href="turtle/icons.png" height=42 width=84 x=120 y=-11 clip-path="url(#fastClipPath)" /></svg></td><td style="width: 15px;"><img id="spinner" style="visibility: hidden;" src="common/loading.gif" height=15 width=15></td><td style="width: 190px; text-align: center"><button id="runButton" class="primary" title="Run the program you wrote."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton" class="primary" style="display: none" title="Stop the program and reset the level."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table>'+
(10!=R||ym?"":'<table style="padding-top: 1em; width: 400px;"><tr><td style="text-align: center;"><form action="/gallery" target="turtle-gallery"><input type="hidden" name="app" value="turtle"><input type="hidden" name="lang" value="'+hn(wm)+'"><button type="submit" title="Open the gallery of drawings."><img src="common/1x1.gif" class="gallery icon21"> See Gallery</button></form></td><td style="text-align: center;"><button id="submitButton" title="Submit your drawing to the gallery."><img src="common/1x1.gif" class="camera icon21"> Submit to Gallery</button></td></tr></table><div id="galleryDialog" class="dialogHiddenContent"><form id="galleryForm" action="/gallery-api/submit" method="post" onsubmit="return false"><header>Submit your drawing to the gallery.</header><canvas id="thumbnail" width="200" height="200"></canvas><input type="hidden" name="app" value="turtle"><input id="galleryThumb" type="hidden" name="thumb"><input id="galleryXml" type="hidden" name="xml"><div>Title: <input id="galleryTitle" type="text" name="title" required></div><footer>\x3c!--Legal disclaimer goes here if needed.--\x3e</footer><div class="farSide"><button id="galleryCancel" type="button">Cancel</button><button id="galleryOk" class="secondary" type="submit">OK</button></div></form></div>')+
('<xml id="toolbox" style="display: none">'+(10==R?'<category name="Turtle"><block type="turtle_move"><value name="VALUE"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block><block type="turtle_turn"><value name="VALUE"><shadow type="math_number"><field name="NUM">90</field></shadow></value></block><block type="turtle_width"><value name="WIDTH"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block><block type="turtle_pen"></block><block type="turtle_visibility"></block><block type="turtle_print"><value name="TEXT"><shadow type="text"></shadow></value></block><block type="turtle_font"></block></category><category name="Colour"><block type="turtle_colour"><value name="COLOUR"><shadow type="colour_picker"></shadow></value></block><block type="colour_picker"></block><block type="colour_random"></block><block type="colour_rgb"><value name="RED"><shadow type="math_number"><field name="NUM">100</field></shadow></value><value name="GREEN"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="BLUE"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block><block type="colour_blend"><value name="COLOUR1"><shadow type="colour_picker"><field name="COLOUR">#ff0000</field></shadow></value><value name="COLOUR2"><shadow type="colour_picker"><field name="COLOUR">#3333ff</field></shadow></value><value name="RATIO"><shadow type="math_number"><field name="NUM">0.5</field></shadow></value></block></category><category name="Logic"><block type="controls_if"></block><block type="logic_compare"></block><block type="logic_operation"></block><block type="logic_negate"></block><block type="logic_boolean"></block><block type="logic_ternary"></block></category><category name="Loops"><block type="controls_repeat_ext"><value name="TIMES"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block><block type="controls_whileUntil"></block><block type="controls_for"><value name="FROM"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="TO"><shadow type="math_number"><field name="NUM">10</field></shadow></value><value name="BY"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block><block type="controls_flow_statements"></block></category><category name="Math"><block type="math_number"></block><block type="math_arithmetic"><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block><block type="math_single"><value name="NUM"><shadow type="math_number"><field name="NUM">9</field></shadow></value></block><block type="math_trig"><value name="NUM"><shadow type="math_number"><field name="NUM">45</field></shadow></value></block><block type="math_constant"></block><block type="math_number_property"><value name="NUMBER_TO_CHECK"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block><block type="math_round"><value name="NUM"><shadow type="math_number"><field name="NUM">3.1</field></shadow></value></block><block type="math_modulo"><value name="DIVIDEND"><shadow type="math_number"><field name="NUM">64</field></shadow></value><value name="DIVISOR"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block><block type="math_constrain"><value name="VALUE"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="LOW"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="HIGH"><shadow type="math_number"><field name="NUM">100</field></shadow></value></block><block type="math_random_int"><value name="FROM"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="TO"><shadow type="math_number"><field name="NUM">100</field></shadow></value></block><block type="math_random_float"></block></category><category name="Lists"><block type="lists_create_with"><mutation items="0"></mutation></block><block type="lists_create_with"></block><block type="lists_repeat"><value name="NUM"><shadow type="math_number"><field name="NUM">5</field></shadow></value></block><block type="lists_length"></block><block type="lists_isEmpty"></block><block type="lists_indexOf"><value name="VALUE"><block type="variables_get"><field name="VAR">list</field></block></value></block><block type="lists_getIndex"><value name="VALUE"><block type="variables_get"><field name="VAR">list</field></block></value></block><block type="lists_setIndex"><value name="LIST"><block type="variables_get"><field name="VAR">list</field></block></value></block><block type="lists_getSublist"><value name="LIST"><block type="variables_get"><field name="VAR">list</field></block></value></block><block type="lists_sort"></block><block type="lists_reverse"></block></category><sep></sep><category name="Variables" custom="VARIABLE"></category><category name="Functions" custom="PROCEDURE"></category>':
'<category name="Turtle"><block type="turtle_move_internal"><field name="VALUE">100</field></block><block type="turtle_turn_internal"><field name="VALUE">90</field></block>'+(3<R?'<block type="turtle_pen"></block>':"")+"</category>"+(2<R?'<category name="Colour"><block type="turtle_colour_internal"></block></category>':"")+'<category name="Loops"><block type="turtle_repeat_internal"><field name="TIMES">4</field></block></category>')+"</xml>")+'<div id="blockly"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneCancel">Cancel</button><button id="doneOk" class="secondary">OK</button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel">Cancel</button><button id="abortOk" class="secondary">OK</button></div></div>'+
('<div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>'+nn()+"</div>")+(4>R?'<div id="helpUseLoop" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">Your solution works, but you can do better. '+(3>R?"Draw the shape with just three blocks.":"Draw the star with just four blocks.")+"</div>"+nn()+"</div>":"")+'<div id="help" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">'+(1==R?'Create a program that draws a square.<br><img src="turtle/square.gif" height=146 width=146 style="margin-bottom: -50px">':
2==R?"Change your program to draw a pentagon instead of a square.":3==R?'There\'s a new block that allows you to change the colour:<div id="sampleHelp3" class="readonly"></div>Draw a yellow star.':4==R?'There\'s a new block that allows you to lift your pen off the paper when you move:<div id="sampleHelp4" class="readonly"></div>Draw a small yellow star, then draw a line above it.':5==R?"Instead of one star, can you draw four stars arranged in a square?":6==R?"Draw three yellow stars, and one white line.":
7==R?"Draw the stars, then draw four white lines.":8==R?"Drawing 360 white lines will look like the full moon.":9==R?"Can you add a black circle so that the moon becomes a crescent?":10==R?"Draw anything you want. You've got a huge number of new blocks you can explore. Have fun!"+(ym?"":'<br><br>Use the "See Gallery" button to see what other people have drawn. If you draw something interesting, use the "Submit to Gallery" button to publish it.'):"")+"</div>"+nn()+"</div>"+(1==R?'<div id="helpToolbox" class="dialogHiddenContent"><div><img src="turtle/help_left.png" class="mirrorImg" height=23 width=64></div>Choose a category to see the blocks.</div>':
"")};var Gm="turtle",pn=[],qn=0,rn=null,sn=!0,tn=!1;
window.addEventListener("load",function(){function a(){d.style.top=Math.max(10,e.offsetTop-window.pageYOffset)+"px";d.style.left=b?"10px":"420px";d.style.width=window.innerWidth-440+"px"}document.body.innerHTML=on();V.J();var b=-1!=vm.indexOf(wm),d=document.getElementById("blockly"),e=document.getElementById("visualization");window.addEventListener("scroll",function(){a(null);v.Uh(bh)});window.addEventListener("resize",a);a(null);10>R&&(Tk=3,Rk="#ff0000 #ffcc33 #ffff00 #009900 #3333ff #cc33cc #ffffff #999999 #000000".split(" "));var f=
document.getElementById("toolbox");bh=v.tg("blockly",{media:"third-party/blockly/media/",rtl:b,toolbox:f,trashcan:!0,zoom:10==R?{controls:!0,wheel:!0}:null});gl("moveForward,moveBackward,turnRight,turnLeft,penUp,penDown,penWidth,penColour,hideTurtle,showTurtle,print,font");document.getElementById("submitButton")&&Hm("submitButton",un);f=document.getElementById("slider");Um=new Im(f);V.Qy(10==R?'<xml>  <block type="turtle_move" x="70" y="70">    <value name="VALUE">      <shadow type="math_number">        <field name="NUM">10</field>      </shadow>    </value>  </block></xml>':
'<xml>  <block type="turtle_move_internal" x="70" y="70">    <field name="VALUE">100</field>  </block></xml>',10!=R||vn);W=document.getElementById("display").getContext("2d");Vm=document.getElementById("answer").getContext("2d");X=document.getElementById("scratch").getContext("2d");wn();$m();Vm.globalCompositeOperation="copy";Vm.drawImage(X.canvas,0,0);Vm.globalCompositeOperation="source-over";wn();Hm("runButton",xn);Hm("resetButton",yn);bh.De.load(["turtle/win.mp3","turtle/win.ogg"],"win");setTimeout(V.Cy,
1);setTimeout(V.Dy,1);Hm("helpButton",zn);2>location.hash.length&&!Em(R)&&(setTimeout(zn,1E3),9==R&&setTimeout(U.vr,3E5));1==R&&bh.Xc(An)});
function vn(a){for(var b=a=v.B.kd(a);b;){if("block"==b.nodeName.toLowerCase()){for(var d=b.getAttribute("type"),e=b.lastChild;e&&"field"!=e.nodeName.toLowerCase();)e=e.previousSibling;var f=e&&e.getAttribute("name");if("turtle_colour_internal"==d&&"COLOUR"==f){b.setAttribute("type","turtle_colour");b.removeChild(e);var h=document.createElement("value");h.setAttribute("name","COLOUR");b.appendChild(h);var k=document.createElement("shadow");k.setAttribute("type","colour_picker");h.appendChild(k);k.appendChild(e)}"turtle_repeat_internal"==
d&&"TIMES"==f&&(b.setAttribute("type","controls_repeat_ext"),b.removeChild(e),h=document.createElement("value"),h.setAttribute("name","TIMES"),b.appendChild(h),k=document.createElement("shadow"),k.setAttribute("type","math_number"),h.appendChild(k),e.setAttribute("name","NUM"),k.appendChild(e));"turtle_move_internal"==d&&"VALUE"==f&&(b.setAttribute("type","turtle_move"),b.removeChild(e),h=document.createElement("value"),h.setAttribute("name","VALUE"),b.appendChild(h),k=document.createElement("shadow"),
k.setAttribute("type","math_number"),h.appendChild(k),e.setAttribute("name","NUM"),k.appendChild(e));"turtle_turn_internal"==d&&"VALUE"==f&&(b.setAttribute("type","turtle_turn"),b.removeChild(e),h=document.createElement("value"),h.setAttribute("name","VALUE"),b.appendChild(h),k=document.createElement("shadow"),k.setAttribute("type","math_number"),h.appendChild(k),e.setAttribute("name","NUM"),k.appendChild(e))}b=Bn(b)}return v.B.cd(a)}
function Bn(a){if(a.firstChild)return a.firstChild;do if(a.nextSibling)return a.nextSibling;while(a=a.parentNode);return a}function zn(){var a=document.getElementById("help"),b=document.getElementById("helpButton");3==R?V.jt("sampleHelp3",'<xml><block type="turtle_colour_internal" x="5" y="10"><field name="COLOUR">#ffff00</field></block></xml>'):4==R&&V.jt("sampleHelp4",'<xml><block type="turtle_pen" x="5" y="10"></block></xml>');U.Oh(a,b,!0,!0,{width:"50%",left:"25%",top:"5em"},Cn);U.Dq()}
function Cn(){U.Fq();1==R&&setTimeout(Dn,5E3)}function Dn(){if(!En&&!U.wg){var a=document.getElementById("helpToolbox"),b={width:"25%",top:"3.3em"};-1!=vm.indexOf(wm)?b.right="525px":b.left="525px";var d=document.getElementById(":0");U.Oh(a,d,!0,!1,b,null)}}var En=!1;function An(a){a.type==v.j.Bj&&"category"==a.element&&(En=!0,U.rd(!1),bh.Kf(An))}
function wn(){Xm=Wm=200;Ym=0;sn=Zm=!0;X.canvas.width=X.canvas.width;X.strokeStyle="#ffffff";X.fillStyle="#ffffff";X.lineWidth=5;X.lineCap="round";X.font="normal 18pt Arial";Fn();for(var a=0;a<pn.length;a++)window.clearTimeout(pn[a]);pn.length=0;rn=null}
function Fn(){W.beginPath();W.rect(0,0,W.canvas.width,W.canvas.height);W.fillStyle="#000000";W.fill();W.globalCompositeOperation="source-over";W.globalAlpha=.2;W.drawImage(Vm.canvas,0,0);W.globalAlpha=1;W.globalCompositeOperation="source-over";W.drawImage(X.canvas,0,0);if(sn){W.strokeStyle=X.strokeStyle;W.fillStyle=X.fillStyle;var a=X.lineWidth/2+10;W.beginPath();W.arc(Wm,Xm,a,0,2*Math.PI,!1);W.lineWidth=3;W.stroke();var b=2*Math.PI*Ym/360,d=Wm+(a+10)*Math.sin(b),e=Xm-(a+10)*Math.cos(b);b-=.3;var f=
Wm+(a+4)*Math.sin(b),h=Xm-(a+4)*Math.cos(b);b+=.15;var k=Wm+(a+6)*Math.sin(b),l=Xm-(a+6)*Math.cos(b);b+=.3;var m=Wm+(a+6)*Math.sin(b),n=Xm-(a+6)*Math.cos(b);b+=.15;var u=Wm+(a+4)*Math.sin(b);a=Xm-(a+4)*Math.cos(b);W.beginPath();W.moveTo(d,e);W.lineTo(f,h);W.bezierCurveTo(k,l,m,n,u,a);W.closePath();W.fill()}}
function xn(a){if(!V.Le(a)){a=document.getElementById("runButton");var b=document.getElementById("resetButton");b.style.minWidth||(b.style.minWidth=a.offsetWidth+"px");a.style.display="none";b.style.display="inline";document.getElementById("spinner").style.visibility="visible";Gn()}}
function yn(a){V.Le(a)||(document.getElementById("runButton").style.display="inline",document.getElementById("resetButton").style.display="none",document.getElementById("spinner").style.visibility="hidden",ah(null),wn(),tn=!1)}
function Hn(a,b){var d=function(e,f){Y(e,f)};a.setProperty(b,"moveForward",a.createNativeFunction(d));d=function(e,f){Y(-e,f)};a.setProperty(b,"moveBackward",a.createNativeFunction(d));d=function(e,f){an(e,f)};a.setProperty(b,"turnRight",a.createNativeFunction(d));d=function(e,f){an(-e,f)};a.setProperty(b,"turnLeft",a.createNativeFunction(d));d=function(e){Z(!1,e)};a.setProperty(b,"penUp",a.createNativeFunction(d));d=function(e){Z(!0,e)};a.setProperty(b,"penDown",a.createNativeFunction(d));d=function(e,
f){X.lineWidth=e;In(f)};a.setProperty(b,"penWidth",a.createNativeFunction(d));d=function(e,f){bn(e,f)};a.setProperty(b,"penColour",a.createNativeFunction(d));d=function(e){sn=!1;In(e)};a.setProperty(b,"hideTurtle",a.createNativeFunction(d));d=function(e){sn=!0;In(e)};a.setProperty(b,"showTurtle",a.createNativeFunction(d));d=function(e,f){X.save();X.translate(Wm,Xm);X.rotate(2*Math.PI*(Ym-90)/360);X.fillText(e,0,0);X.restore();In(f)};a.setProperty(b,"print",a.createNativeFunction(d));d=function(e,
f,h,k){X.font=h+" "+f+"pt "+e;In(k)};a.setProperty(b,"font",a.createNativeFunction(d))}function Gn(){if("Interpreter"in window){wn();v.selected&&v.selected.Tf();var a=bl();rn=new Interpreter(a,Hn);pn.push(setTimeout(Jn,100))}else setTimeout(Gn,250)}
function Jn(){qn=pn.length=0;do{try{var a=rn.step()}catch(h){alert(h),a=!1}a&&qn&&(a=!1,pn.push(setTimeout(Jn,qn)))}while(a);if(!qn){document.getElementById("spinner").style.visibility="hidden";ah(null);a=X.getImageData(0,0,400,400);for(var b=Vm.getImageData(0,0,400,400),d=Math.min(a.data.length,b.data.length),e=0,f=3;f<d;f+=4)64<Math.abs(a.data[f]-b.data[f])&&e++;cn(e)?(V.Nz(),10>R&&(bh.De.play("win",.5),U.ix())):bn("#ff0000");tn=!0}}
function In(a){Fn();a&&(V.ap(a),a=1E3*Math.pow(1-Um.getValue(),2),qn=Math.max(1,a))}function Y(a,b){Zm&&(X.beginPath(),X.moveTo(Wm,Xm));a?(Wm+=a*Math.sin(2*Math.PI*Ym/360),Xm-=a*Math.cos(2*Math.PI*Ym/360),a=0):a=.1;Zm&&(X.lineTo(Wm,Xm+a),X.stroke());In(b)}function an(a,b){Ym+=a;Ym%=360;0>Ym&&(Ym+=360);In(b)}function Z(a,b){Zm=a;In(b)}function bn(a,b){X.strokeStyle=a;X.fillStyle=a;In(b)}
function un(){if(tn){var a=document.getElementById("thumbnail"),b=a.getContext("2d");b.globalCompositeOperation="copy";b.drawImage(W.canvas,0,0,200,200);a=a.toDataURL("image/png");document.getElementById("galleryThumb").value=a;U.zq()}else alert(T("Turtle_submitDisabled"))};
