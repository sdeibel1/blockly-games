// Automatically generated file.  Do not edit!
'use strict';var d;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ba(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var ca="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},da="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
function ea(a,b){if(b){var c=da;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];f in c||(c[f]={});c=c[f]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&ca(c,a,{configurable:!0,writable:!0,value:b})}}
ea("String.prototype.startsWith",function(a){return a?a:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.startsWith must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.startsWith must not be a regular expression");var e=this+"";b+="";var f=e.length,h=b.length;c=Math.max(0,Math.min(c|0,e.length));for(var k=0;k<h&&c<f;)if(e[c++]!=b[k++])return!1;return k>=h}});
function fa(){fa=function(){};da.Symbol||(da.Symbol=ha)}function ia(a,b){this.au=a;ca(this,"description",{configurable:!0,writable:!0,value:b})}ia.prototype.toString=function(){return this.au};var ha=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new ia("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}();
function ja(){fa();var a=da.Symbol.iterator;a||(a=da.Symbol.iterator=da.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&ca(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ka(aa(this))}});ja=function(){}}function ka(a){ja();a={next:a};a[da.Symbol.iterator]=function(){return this};return a}
function la(a,b){ja();a instanceof String&&(a+="");var c=0,e={next:function(){if(c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e}ea("Array.prototype.keys",function(a){return a?a:function(){return la(this,function(b){return b})}});var g=this||self;function q(a){return"string"==typeof a}function ma(a){return"number"==typeof a}
function na(a,b){a=a.split(".");var c=g;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===b?c=c[e]&&c[e]!==Object.prototype[e]?c[e]:c[e]={}:c[e]=b}function oa(){}function pa(a){a.jo=void 0;a.Jf=function(){return a.jo?a.jo:a.jo=new a}}
function qa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ra(a){return"array"==qa(a)}function sa(a){var b=qa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ta(a){return"function"==qa(a)}function ua(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function va(a){return a[wa]||(a[wa]=++xa)}var wa="closure_uid_"+(1E9*Math.random()>>>0),xa=0;function ya(a,b,c){return a.call.apply(a.bind,arguments)}
function za(a,b,c){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,e);return a.apply(b,f)}}return function(){return a.apply(b,arguments)}}function Aa(a,b,c){Aa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ya:za;return Aa.apply(null,arguments)}
function Ba(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var e=c.slice();e.push.apply(e,arguments);return a.apply(this,e)}}function v(a,b){function c(){}c.prototype=b.prototype;a.u=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Rz=function(e,f,h){for(var k=Array(arguments.length-2),l=2;l<arguments.length;l++)k[l-2]=arguments[l];return b.prototype[f].apply(e,k)}};
var x={};x.Ka=Object(null);function Ca(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ca);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}v(Ca,Error);Ca.prototype.name="CustomError";var Da;function Ea(a,b){a=a.split("%s");for(var c="",e=a.length-1,f=0;f<e;f++)c+=a[f]+(f<b.length?b[f]:"%s");Ca.call(this,c+a[e])}v(Ea,Ca);Ea.prototype.name="AssertionError";var Fa=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(q(a))return q(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ga=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var e=a.length,f=q(a)?a.split(""):a,h=0;h<e;h++)h in f&&b.call(c,f[h],h,a)},Ha=Array.prototype.filter?function(a,b){return Array.prototype.filter.call(a,b,void 0)}:function(a,b){for(var c=
a.length,e=[],f=0,h=q(a)?a.split(""):a,k=0;k<c;k++)if(k in h){var l=h[k];b.call(void 0,l,k,a)&&(e[f++]=l)}return e},Ia=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var c=a.length,e=Array(c),f=q(a)?a.split(""):a,h=0;h<c;h++)h in f&&(e[h]=b.call(void 0,f[h],h,a));return e},Ja=Array.prototype.every?function(a,b){return Array.prototype.every.call(a,b,void 0)}:function(a,b){for(var c=a.length,e=q(a)?a.split(""):a,f=0;f<c;f++)if(f in e&&!b.call(void 0,
e[f],f,a))return!1;return!0};function Ka(a,b){return 0<=Fa(a,b)}function La(a,b){b=Fa(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Ma(a){return Array.prototype.concat.apply([],arguments)}function Na(a){var b=a.length;if(0<b){for(var c=Array(b),e=0;e<b;e++)c[e]=a[e];return c}return[]}function Oa(a,b,c,e){Array.prototype.splice.apply(a,Pa(arguments,1))}function Pa(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};var Qa=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};
function Ra(a,b){if(b)a=a.replace(Sa,"&amp;").replace(Ta,"&lt;").replace(Ua,"&gt;").replace(Va,"&quot;").replace(Wa,"&#39;").replace(Xa,"&#0;");else{if(!Ya.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Sa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ta,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ua,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Va,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Wa,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Xa,"&#0;"))}return a}
var Sa=/&/g,Ta=/</g,Ua=/>/g,Va=/"/g,Wa=/'/g,Xa=/\x00/g,Ya=/[\x00&<>"']/;function Za(a,b){return a<b?-1:a>b?1:0};var $a;a:{var ab=g.navigator;if(ab){var bb=ab.userAgent;if(bb){$a=bb;break a}}$a=""}function y(a){return-1!=$a.indexOf(a)};function db(a,b,c){for(var e in a)b.call(c,a[e],e,a)}var eb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fb(a,b){for(var c,e,f=1;f<arguments.length;f++){e=arguments[f];for(c in e)a[c]=e[c];for(var h=0;h<eb.length;h++)c=eb[h],Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}}
function gb(a){var b=arguments.length;if(1==b&&ra(arguments[0]))return gb.apply(null,arguments[0]);for(var c={},e=0;e<b;e++)c[arguments[e]]=!0;return c};var hb={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function ib(a,b){this.Cp=a===jb&&b||"";this.Yu=kb}ib.prototype.ze=!0;ib.prototype.Id=function(){return this.Cp};ib.prototype.toString=function(){return"Const{"+this.Cp+"}"};function lb(a){return a instanceof ib&&a.constructor===ib&&a.Yu===kb?a.Cp:"type_error:Const"}var kb={},jb={};function mb(){this.bt=""}mb.prototype.ze=!0;mb.prototype.Id=function(){return this.bt.toString()};mb.prototype.Of=function(a){this.bt=a;return this};(new mb).Of("");function nb(){this.dt="";this.Zu=ob}nb.prototype.ze=!0;nb.prototype.Id=function(){return this.dt.toString()};nb.prototype.fo=!0;nb.prototype.Fg=function(){return 1};var ob={};function pb(){this.Xo="";this.Wu=qb}pb.prototype.ze=!0;pb.prototype.Id=function(){return this.Xo.toString()};pb.prototype.fo=!0;pb.prototype.Fg=function(){return 1};function rb(a){if(a instanceof pb&&a.constructor===pb&&a.Wu===qb)return a.Xo;qa(a);return"type_error:SafeUrl"}var sb=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function tb(a){if(a instanceof pb)return a;a="object"==typeof a&&a.ze?a.Id():String(a);sb.test(a)||(a="about:invalid#zClosurez");return ub(a)}var qb={};
function ub(a){var b=new pb;b.Xo=a;return b}ub("about:blank");function vb(){this.Wo="";this.Vu=wb}vb.prototype.ze=!0;var wb={};vb.prototype.Id=function(){return this.Wo};vb.prototype.Of=function(a){this.Wo=a;return this};var xb=(new vb).Of("");function yb(a){var b="",c;for(c in a){if(!/^[-_a-zA-Z0-9]+$/.test(c))throw Error("Name allows only [-_a-zA-Z0-9], got: "+c);var e=a[c];null!=e&&(e=ra(e)?Ia(e,zb).join(" "):zb(e),b+=c+":"+e+";")}return b?(new vb).Of(b):xb}
function zb(a){if(a instanceof pb)return'url("'+rb(a).toString().replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(a instanceof ib)a=lb(a);else{a=String(a);var b=a.replace(Ab,"$1").replace(Ab,"$1").replace(Bb,"url");if(Cb.test(b)){if(b=!Db.test(a)){for(var c=b=!0,e=0;e<a.length;e++){var f=a.charAt(e);"'"==f&&c?b=!b:'"'==f&&b&&(c=!c)}b=b&&c&&Eb(a)}a=b?Fb(a):"zClosurez"}else a="zClosurez"}if(/[{;}]/.test(a))throw new Ea("Value does not allow [{;}], got: %s.",[a]);return a}
function Eb(a){for(var b=!0,c=/^[-_a-zA-Z0-9]$/,e=0;e<a.length;e++){var f=a.charAt(e);if("]"==f){if(b)return!1;b=!0}else if("["==f){if(!b)return!1;b=!1}else if(!b&&!c.test(f))return!1}return b}var Cb=/^[-,."'%_!# a-zA-Z0-9\[\]]+$/,Bb=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,Ab=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,Db=/\/\*/;
function Fb(a){return a.replace(Bb,function(b,c,e,f){var h="";e=e.replace(/^(['"])(.*)\1$/,function(k,l,m){h=l;return m});b=tb(e).Id();return c+h+b+h+f})};function Gb(){this.ct=""}Gb.prototype.ze=!0;Gb.prototype.Id=function(){return this.ct};Gb.prototype.Of=function(a){this.ct=a;return this};(new Gb).Of("");function Hb(){this.Vo="";this.Uu=Ib;this.Br=null}Hb.prototype.fo=!0;Hb.prototype.Fg=function(){return this.Br};Hb.prototype.ze=!0;Hb.prototype.Id=function(){return this.Vo.toString()};function Jb(a){if(a instanceof Hb&&a.constructor===Hb&&a.Uu===Ib)return a.Vo;qa(a);return"type_error:SafeHtml"}function Kb(a){if(a instanceof Hb)return a;var b="object"==typeof a,c=null;b&&a.fo&&(c=a.Fg());return Lb(Ra(b&&a.ze?a.Id():String(a)),c)}
var Mb=/^[a-zA-Z0-9-]+$/,Nb={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},Ob={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};
function Pb(a,b,c){var e=String(a);if(!Mb.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in Ob)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.");a=String(a);e=null;var f="<"+a,h="";if(b)for(n in b){if(!Mb.test(n))throw Error('Invalid attribute name "'+n+'".');var k=b[n];if(null!=k){var l=a;var m=n;if(k instanceof ib)k=lb(k);else if("style"==m.toLowerCase()){if(!ua(k))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof k+
" given: "+k);k instanceof vb||(k=yb(k));k instanceof vb&&k.constructor===vb&&k.Vu===wb?k=k.Wo:(qa(k),k="type_error:SafeStyle")}else{if(/^on/i.test(m))throw Error('Attribute "'+m+'" requires goog.string.Const value, "'+k+'" given.');if(m.toLowerCase()in Nb)if(k instanceof nb)k instanceof nb&&k.constructor===nb&&k.Zu===ob?k=k.dt:(qa(k),k="type_error:TrustedResourceUrl"),k=k.toString();else if(k instanceof pb)k=rb(k).toString();else if(q(k))k=tb(k).Id();else throw Error('Attribute "'+m+'" on tag "'+
l+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+k+'" given.');}k.ze&&(k=k.Id());m=m+'="'+Ra(String(k))+'"';h+=" "+m}}var n=f+h;null!=c?ra(c)||(c=[c]):c=[];!0===hb[a.toLowerCase()]?n+=">":(c=Qb(c),n+=">"+Jb(c).toString()+"</"+a+">",e=c.Fg());(b=b&&b.dir)&&(e=/^(ltr|rtl|auto)$/i.test(b)?0:null);return Lb(n,e)}
function Rb(a){function b(h){ra(h)?Ga(h,b):(h=Kb(h),f.push(Jb(h).toString()),h=h.Fg(),0==e?e=h:0!=h&&e!=h&&(e=null))}var c=Kb(Sb),e=c.Fg(),f=[];Ga(a,b);return Lb(f.join(Jb(c).toString()),e)}function Qb(a){return Rb(Array.prototype.slice.call(arguments))}var Ib={};function Lb(a,b){return(new Hb).Of(a,b)}Hb.prototype.Of=function(a,b){this.Vo=a;this.Br=b;return this};Lb("<!DOCTYPE html>",0);var Sb=Lb("",0),Tb=Lb("<br>",0);var Ub=function(a){var b=!1,c;return function(){b||(c=a(),b=!0);return c}}(function(){var a=document.createElement("div"),b=document.createElement("div");b.appendChild(document.createElement("div"));a.appendChild(b);b=a.firstChild.firstChild;a.innerHTML=Jb(Sb);return!b.parentElement});function Vb(a,b){if(Ub())for(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=Jb(b)}function Wb(a,b){Vb(a,b)};function Xb(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}function Yb(a){return a=Ra(a,void 0)}function Zb(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var c=g.document.createElement("div");return a.replace($b,function(e,f){var h=b[e];if(h)return h;"#"==f.charAt(0)&&(f=Number("0"+f.substr(1)),isNaN(f)||(h=String.fromCharCode(f)));h||(h=Lb(e+" ",null),Vb(c,h),h=c.firstChild.nodeValue.slice(0,-1));return b[e]=h})}
function ac(a){return a.replace(/&([^;]+);/g,function(b,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=c.charAt(0)||(c=Number("0"+c.substr(1)),isNaN(c))?b:String.fromCharCode(c)}})}var $b=/&([^;\s<&]+);?/g;function bc(a){bc[" "](a);return a}bc[" "]=oa;function cc(a,b){var c=dc;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var ec=y("Opera"),z=y("Trident")||y("MSIE"),fc=y("Edge"),gc=y("Gecko")&&!(-1!=$a.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),A=-1!=$a.toLowerCase().indexOf("webkit")&&!y("Edge"),hc=A&&y("Mobile"),ic=y("Macintosh"),jc=y("Android"),kc=y("iPhone")&&!y("iPod")&&!y("iPad"),lc=y("iPad");function mc(){var a=g.document;return a?a.documentMode:void 0}var nc;
a:{var oc="",pc=function(){var a=$a;if(gc)return/rv:([^\);]+)(\)|;)/.exec(a);if(fc)return/Edge\/([\d\.]+)/.exec(a);if(z)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(A)return/WebKit\/(\S+)/.exec(a);if(ec)return/(?:Version)[ \/]?(\S+)/.exec(a)}();pc&&(oc=pc?pc[1]:"");if(z){var qc=mc();if(null!=qc&&qc>parseFloat(oc)){nc=String(qc);break a}}nc=oc}var dc={};
function rc(a){return cc(a,function(){for(var b=0,c=Qa(String(nc)).split("."),e=Qa(String(a)).split("."),f=Math.max(c.length,e.length),h=0;0==b&&h<f;h++){var k=c[h]||"",l=e[h]||"";do{k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==k[0].length&&0==l[0].length)break;b=Za(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||Za(0==k[2].length,0==l[2].length)||Za(k[2],l[2]);k=k[3];l=l[3]}while(0==b)}return 0<=b})}var sc;
sc=g.document&&z?mc():void 0;var tc=!z||9<=Number(sc),uc=!gc&&!z||z&&9<=Number(sc)||gc&&rc("1.9.1"),vc=z&&!rc("9");function wc(a){a%=360;return 0>360*a?a+360:a};function B(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}d=B.prototype;d.clone=function(){return new B(this.x,this.y)};function xc(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function yc(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}function zc(a,b){return new B(a.x-b.x,a.y-b.y)}function Ac(a,b){return new B(a.x+b.x,a.y+b.y)}d.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};d.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};
d.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};d.translate=function(a,b){a instanceof B?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),ma(b)&&(this.y+=b));return this};d.scale=function(a,b){b=ma(b)?b:a;this.x*=a;this.y*=b;return this};function Bc(a,b){this.width=a;this.height=b}d=Bc.prototype;d.clone=function(){return new Bc(this.width,this.height)};d.aspectRatio=function(){return this.width/this.height};d.rs=function(){return!(this.width*this.height)};d.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};d.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
d.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};d.scale=function(a,b){b=ma(b)?b:a;this.width*=a;this.height*=b;return this};function Cc(a){return a?new Dc(Ec(a)):Da||(Da=new Dc)}function Fc(a,b){db(b,function(c,e){c&&"object"==typeof c&&c.ze&&(c=c.Id());"style"==e?a.style.cssText=c:"class"==e?a.className=c:"for"==e?a.htmlFor=c:Gc.hasOwnProperty(e)?a.setAttribute(Gc[e],c):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,c):a[e]=c})}
var Gc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Hc(){var a=window.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Bc(a.clientWidth,a.clientHeight)}
function Ic(a){var b=Jc(a);a=a.parentWindow||a.defaultView;return z&&rc("10")&&a.pageYOffset!=b.scrollTop?new B(b.scrollLeft,b.scrollTop):new B(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}function Jc(a){return a.scrollingElement?a.scrollingElement:A||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function Kc(a,b,c,e){function f(k){k&&b.appendChild(q(k)?a.createTextNode(k):k)}for(;e<c.length;e++){var h=c[e];!sa(h)||ua(h)&&0<h.nodeType?f(h):Ga(Lc(h)?Na(h):h,f)}}
function Mc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Nc(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Oc(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Ec(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Pc(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=String(b);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(b)}else Mc(a),a.appendChild(Ec(a).createTextNode(String(b)))}var Qc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Rc={IMG:" ",BR:"\n"};function Sc(a){return z&&!rc("9")?(a=a.getAttributeNode("tabindex"),null!=a&&a.specified):a.hasAttribute("tabindex")}
function Tc(a){a=a.tabIndex;return ma(a)&&0<=a&&32768>a}function Uc(a){var b=[];Vc(a,b,!1);return b.join("")}function Vc(a,b,c){if(!(a.nodeName in Qc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Rc)b.push(Rc[a.nodeName]);else for(a=a.firstChild;a;)Vc(a,b,c),a=a.nextSibling}
function Lc(a){if(a&&"number"==typeof a.length){if(ua(a))return"function"==typeof a.item||"string"==typeof a.item;if(ta(a))return"function"==typeof a.item}return!1}function Dc(a){this.le=a||g.document||document}d=Dc.prototype;d.se=Cc;d.H=function(a){return q(a)?this.le.getElementById(a):a};d.getElementsByTagName=function(a,b){return(b||this.le).getElementsByTagName(String(a))};d.setProperties=Fc;
d.Z=function(a,b,c){var e=this.le,f=arguments,h=String(f[0]),k=f[1];if(!tc&&k&&(k.name||k.type)){h=["<",h];k.name&&h.push(' name="',Yb(k.name),'"');if(k.type){h.push(' type="',Yb(k.type),'"');var l={};fb(l,k);delete l.type;k=l}h.push(">");h=h.join("")}h=e.createElement(h);k&&(q(k)?h.className=k:ra(k)?h.className=k.join(" "):Fc(h,k));2<f.length&&Kc(e,h,f,2);return h};d.createElement=function(a){return this.le.createElement(String(a))};d.createTextNode=function(a){return this.le.createTextNode(String(a))};
d.appendChild=function(a,b){a.appendChild(b)};d.append=function(a,b){Kc(Ec(a),a,arguments,1)};d.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
d.kt=Mc;d.removeNode=Nc;d.bf=function(a){return uc&&void 0!=a.children?a.children:Ha(a.childNodes,function(b){return 1==b.nodeType})};d.contains=Oc;
d.Sf=function(a){var b;(b="A"==a.tagName&&a.hasAttribute("href")||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!Sc(a)||Tc(a)):Sc(a)&&Tc(a))&&z?(a=!ta(a.getBoundingClientRect)||z&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect(),a=null!=a&&0<a.height&&0<a.width):a=b;return a};
x.h={};x.h.removeAttribute=function(a,b){z&&rc("10.0")?a.setAttribute(b,null):a.removeAttribute(b)};x.h.Na=function(a,b){var c=a.getAttribute("class")||"";if(-1!=(" "+c+" ").indexOf(" "+b+" "))return!1;c&&(c+=" ");a.setAttribute("class",c+b);return!0};
x.h.ib=function(a,b){var c=a.getAttribute("class");if(-1==(" "+c+" ").indexOf(" "+b+" "))return!1;c=c.split(/\s+/);for(var e=0;e<c.length;e++)c[e]&&c[e]!=b||(c.splice(e,1),e--);c.length?a.setAttribute("class",c.join(" ")):x.h.removeAttribute(a,"class");return!0};x.h.bs=function(a,b){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")};x.h.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};x.h.Ix=function(a){a.preventDefault();a.stopPropagation()};
x.h.Xl=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
x.h.Dc=function(a){var b=new B(0,0),c=a.getAttribute("x");c&&(b.x=parseInt(c,10));if(c=a.getAttribute("y"))b.y=parseInt(c,10);if(c=(c=a.getAttribute("transform"))&&c.match(x.h.Dc.cv))b.x+=parseFloat(c[1]),c[3]&&(b.y+=parseFloat(c[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&((c=a.match(x.h.Dc.av))||(c=a.match(x.h.Dc.bv)),c&&(b.x+=parseFloat(c[1]),c[3]&&(b.y+=parseFloat(c[3]))));return b};
x.h.nj=function(a){for(var b=0,c=0;a;){var e=x.h.Dc(a);b+=e.x;c+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new B(b,c)};x.h.Dc.cv=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*\))?/;x.h.Dc.bv=/transform:\s*translate3d\(\s*([-+\d.e]+)px([ ,]\s*([-+\d.e]+)\s*)px([ ,]\s*([-+\d.e]+)\s*)px\)?/;x.h.Dc.av=/transform:\s*translate\(\s*([-+\d.e]+)px([ ,]\s*([-+\d.e]+)\s*)px\)?/;
x.h.C=function(a,b,c){a=document.createElementNS(x.Mc,a);for(var e in b)a.setAttribute(e,b[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);c&&c.appendChild(a);return a};x.h.Uf=function(a){return a.ctrlKey&&ic?!0:2==a.button};x.h.Rj=function(a,b,c){var e=b.createSVGPoint();e.x=a.clientX;e.y=a.clientY;c||(c=b.getScreenCTM().inverse());return e.matrixTransform(c)};
x.h.Un=function(a){switch(a.deltaMode){case 0:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*x.Wp,y:a.deltaY*x.Wp};case 2:return{x:a.deltaX*x.bq,y:a.deltaY*x.bq}}};x.h.up=function(a){return a.length?a.reduce(function(b,c){return b.length<c.length?b:c}).length:0};
x.h.Lv=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||x.h.up(a);for(var e=0;e<b;e++){for(var f=a[0][e],h=1;h<a.length;h++)if(f!=a[h][e])return c;" "==f&&(c=e+1)}for(h=1;h<a.length;h++)if((f=a[h][e])&&" "!=f)return c;return b};
x.h.Mv=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||x.h.up(a);for(var e=0;e<b;e++){for(var f=a[0].substr(-e-1,1),h=1;h<a.length;h++)if(f!=a[h].substr(-e-1,1))return c;" "==f&&(c=e+1)}for(h=1;h<a.length;h++)if((f=a[h].charAt(a[h].length-e-1))&&" "!=f)return c;return b};x.h.Ry=function(a){return x.h.Ep(a,!0)};x.h.Ob=function(a){if("string"!=typeof a)return a;a=x.h.Ep(a,!1);return a.length?a[0]:""};
x.h.Dq=function(a){for(var b=x.g,c=/%{(BKY_[A-Z][A-Z0-9_]*)}/gi,e=c.exec(a);e;){var f=e[1];f=f.toUpperCase();"BKY_"!=f.substr(0,4)?console.log("WARNING: Unsupported message table prefix in %{"+e[1]+"}."):void 0==b[f.substr(4)]&&console.log("WARNING: No message string for %{"+e[1]+"}.");a=a.substring(e.index+f.length+1);e=c.exec(a)}};
x.h.Ep=function(a,b){var c=[],e=a.split("");e.push("");var f=0;a=[];for(var h=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&c.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):b&&"0"<=l&&"9">=l?(f=2,h=l,(l=a.join(""))&&c.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?h+=l:(c.push(parseInt(h,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[a-zA-Z][a-zA-Z0-9_]*/.test(f)?(l=f.toUpperCase(),(l=x.h.startsWith(l,
"BKY_")?l.substring(4):null)&&l in x.g?(f=x.g[l],"string"==typeof f?Array.prototype.push.apply(c,x.h.Ep(f,b)):b?c.push(String(f)):c.push(f)):c.push("%{"+f+"}")):c.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&c.push(l);b=[];for(k=a.length=0;k<c.length;++k)"string"==typeof c[k]?a.push(c[k]):((l=a.join(""))&&b.push(l),a.length=0,b.push(c[k]));(l=a.join(""))&&b.push(l);a.length=0;return b};x.h.re=function(){for(var a=x.h.re.At.length,b=[],c=0;20>c;c++)b[c]=x.h.re.At.charAt(Math.random()*a);return b.join("")};
x.h.re.At="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";x.h.Zt=function(a,b){a=a.split("\n");for(var c=0;c<a.length;c++)a[c]=x.h.dz(a[c],b);return a.join("\n")};
x.h.dz=function(a,b){if(a.length<=b)return a;for(var c=a.trim().split(/\s+/),e=0;e<c.length;e++)c[e].length>b&&(b=c[e].length);e=-Infinity;var f=1;do{var h=e;var k=a;a=[];var l=c.length/f,m=1;for(e=0;e<c.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=x.h.$t(c,a,b);e=x.h.Hp(c,a,b);a=x.h.ez(c,a);f++}while(e>h);return k};
x.h.Hp=function(a,b,c){for(var e=[0],f=[],h=0;h<a.length;h++)e[e.length-1]+=a[h].length,!0===b[h]?(e.push(0),f.push(a[h].charAt(a[h].length-1))):!1===b[h]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(h=b=0;h<e.length;h++)b-=2*Math.pow(Math.abs(c-e[h]),1.5),b-=Math.pow(a-e[h],1.5),-1!=".?!".indexOf(f[h])?b+=c/3:-1!=",;)]}".indexOf(f[h])&&(b+=c/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(b+=.5);return b};
x.h.$t=function(a,b,c){for(var e=x.h.Hp(a,b,c),f,h=0;h<b.length-1;h++)if(b[h]!=b[h+1]){var k=[].concat(b);k[h]=!k[h];k[h+1]=!k[h+1];var l=x.h.Hp(a,k,c);l>e&&(e=l,f=k)}return f?x.h.$t(a,f,c):b};x.h.ez=function(a,b){for(var c=[],e=0;e<a.length;e++)c.push(a[e]),void 0!==b[e]&&c.push(b[e]?"\n":" ");return c.join("")};
x.h.Rf=function(){if(void 0!==x.h.Rf.dn)return x.h.Rf.dn;if(!g.getComputedStyle)return!1;var a=document.createElement("p"),b="none",c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in c)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";b=g.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(c[e])}document.body.removeChild(a);
x.h.Rf.dn="none"!==b;return x.h.Rf.dn};x.h.Qg=function(a,b){var c=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");c?b.insertBefore(a,c):b.appendChild(a)};x.h.qt=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)};
x.h.ak=function(a,b){a.style.transform=b;a.style["-webkit-transform"]=b};x.h.Vr=function(){var a=Hc(),b=Wc();return{right:a.width+b.x,bottom:a.height+b.y,top:b.y,left:b.x}};x.h.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};x.h.Ti=function(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0};x.h.rk=function(a){return a*Math.PI/180};x.h.Qy=function(a){return 180*a/Math.PI};x.h.containsNode=function(a,b){return!!(a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)};
x.h.Pn=function(a,b){var c=Object.create(null),e=Xc(a,!0);b&&(a=Yc(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;b=e[a];a++)c[b.type]?c[b.type]++:c[b.type]=1;return c};x.h.fn=function(a,b,c){if(c<a){var e=c;c=a;a=e}return Math.max(a,Math.min(b,c))};x.h.wy=function(a,b){var c=b.x;b=b.y;var e=Zc(a).getBoundingClientRect();c=new B(c-e.left,b-e.top);b=x.h.nj(a.Ea);return zc(c,b).scale(1/a.scale)};var $c=!z||9<=Number(sc),ad=!z||9<=Number(sc),bd=z&&!rc("9"),cd="ontouchstart"in g||!!(g.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!g.navigator||!g.navigator.maxTouchPoints&&!g.navigator.msMaxTouchPoints),dd="PointerEvent"in g,ed="MSPointerEvent"in g&&!(!g.navigator||!g.navigator.msPointerEnabled),fd=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{g.addEventListener("test",
oa,b),g.removeEventListener("test",oa,b)}catch(c){}return a}();
x.Touch={};x.Touch.wk=null;x.Touch.ie={};g.PointerEvent?x.Touch.ie={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:cd&&(x.Touch.ie={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});x.am=0;
x.wx=function(a,b){x.Xf();a.changedTouches&&1!=a.changedTouches.length||(x.am=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&gd(b,a)},x.Mu))};x.Xf=function(){x.am&&(clearTimeout(x.am),x.am=0)};x.Touch.We=function(){x.Touch.wk=null};x.Touch.vp=function(a){return!x.Touch.lx(a)||x.Touch.Ev(a)};
x.Touch.Ll=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};x.Touch.Ev=function(a){var b=x.Touch.Ll(a);return void 0!==x.Touch.wk&&null!==x.Touch.wk?x.Touch.wk==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(x.Touch.wk=b,!0):!1};
x.Touch.zy=function(a){if(x.h.startsWith(a.type,"touch")){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}};x.Touch.lx=function(a){return x.h.startsWith(a.type,"touch")||x.h.startsWith(a.type,"mouse")||x.h.startsWith(a.type,"pointer")};x.Touch.Yl=function(a){return x.h.startsWith(a.type,"touch")||x.h.startsWith(a.type,"pointer")};
x.Touch.Ey=function(a){var b=[];if(a.changedTouches)for(var c=0;c<a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};x.i={};x.i.tj="";x.i.$b=!0;x.i.yn=0;x.i.Nk="create";x.i.Kp=x.i.Nk;x.i.Im="delete";x.i.bu=x.i.Im;x.i.Bh="change";x.i.hz=x.i.Bh;x.i.Oi="move";x.i.Lp=x.i.Oi;x.i.kq="var_create";x.i.lq="var_delete";x.i.mq="var_rename";x.i.Uk="ui";x.i.Lk="comment_create";x.i.Op="comment_delete";x.i.Np="comment_change";x.i.Mk="comment_move";x.i.su="finished_loading";x.i.cu=[x.i.Kp,x.i.Lp,x.i.Lk,x.i.Mk];x.i.Mi=[];x.i.T=function(a){x.i.isEnabled()&&(x.i.Mi.length||setTimeout(x.i.sw,0),x.i.Mi.push(a))};
x.i.sw=function(){for(var a=x.i.filter(x.i.Mi,!0),b=x.i.Mi.length=0,c;c=a[b];b++){var e=hd[c.mb]||null;if(e){var f=c;if(f.$b)for(e.uh.push(f),e.Zj.length=0;e.uh.length>e.Xp&&0<=e.Xp;)e.uh.shift();for(var h=0;c=e.Hc[h];h++)c(f)}}};
x.i.filter=function(a,b){a=a.slice();b||a.reverse();for(var c=[],e=Object.create(null),f=0,h;h=a[f];f++)if(!h.gi()){var k=[h.type,h.Fb,h.mb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:h,index:f},c.push(h);else if(h.type==x.i.Oi&&l.index==f-1)m.Yg=h.Yg,m.Xg=h.Xg,m.Yf=h.Yf,l.index=f;else if(h.type==x.i.Bh&&h.element==m.element&&h.name==m.name)m.newValue=h.newValue;else if(h.type!=x.i.Uk||"click"!=h.element||"commentOpen"!=m.element&&"mutatorOpen"!=m.element&&"warningOpen"!=m.element)e[k]={event:h,
index:1},c.push(h)}a=c.filter(function(n){return!n.gi()});b||a.reverse();for(f=1;h=a[f];f++)h.type==x.i.Bh&&"mutation"==h.element&&a.unshift(a.splice(f,1)[0]);return a};x.i.Gv=function(){for(var a=0,b;b=x.i.Mi[a];a++)b.$b=!1};x.i.disable=function(){x.i.yn++};x.i.enable=function(){x.i.yn--};x.i.isEnabled=function(){return 0==x.i.yn};x.i.zb=function(){return x.i.tj};x.i.P=function(a){x.i.tj="boolean"==typeof a?a?x.h.re():"":a};
x.i.Rr=function(a){var b=[];a=Xc(a,!1);for(var c=0,e;e=a[c];c++)b[c]=e.id;return b};
x.i.ba=function(a){switch(a.type){case x.i.Nk:var b=new id(null);break;case x.i.Im:b=new jd(null);break;case x.i.Bh:b=new kd(null,"","","","");break;case x.i.Oi:b=new ld(null);break;case x.i.kq:b=new md(null);break;case x.i.lq:b=new nd(null);break;case x.i.mq:b=new od(null,"");break;case x.i.Uk:b=new C(null);break;case x.i.Lk:b=new pd(null);break;case x.i.Np:b=new qd(null);break;case x.i.Mk:b=new rd(null);break;case x.i.Op:b=new sd(null);break;default:throw Error("Unknown event type.");}b.ba(a);b.mb=
(void 0).id;return b};x.i.Cr=function(a){if(a.type==x.i.Oi||a.type==x.i.Nk){var b=hd[a.mb]||null;if(a=td(b,a.Fb))if(a.getParent()&&!a.getParent().disabled){b=Xc(a,!1);a=0;for(var c;c=b[a];a++)c.Uc(!0)}else if((a.K||a.N)&&!b.Yb()){do a.Uc(!1),a=Yc(a);while(a)}}};
function ud(){this.mb=void 0;this.group=x.i.tj;this.$b=x.i.$b}ud.prototype.Aa=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};ud.prototype.ba=function(a){this.group=a.group};ud.prototype.gi=function(){return!1};ud.prototype.run=function(){};function vd(a){a=hd[a.mb]||null;if(!a)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return a};function wd(a){wd.u.constructor.call(this);this.qg=a.sa();this.mb=a.s.id}v(wd,ud);wd.prototype.Aa=function(){var a=wd.u.Aa.call(this);a.varId=this.qg;return a};wd.prototype.ba=function(a){wd.u.Aa.call(this);this.qg=a.varId};function md(a){a&&(md.u.constructor.call(this,a),this.wh=a.type,this.vh=a.name)}v(md,wd);md.prototype.type=x.i.kq;md.prototype.Aa=function(){var a=md.u.Aa.call(this);a.varType=this.wh;a.varName=this.vh;return a};
md.prototype.ba=function(a){md.u.ba.call(this,a);this.wh=a.varType;this.vh=a.varName};md.prototype.run=function(a){var b=vd(this);a?b.Cd(this.vh,this.wh,this.qg):b.Ag(this.qg)};function nd(a){a&&(nd.u.constructor.call(this,a),this.wh=a.type,this.vh=a.name)}v(nd,wd);nd.prototype.type=x.i.lq;nd.prototype.Aa=function(){var a=nd.u.Aa.call(this);a.varType=this.wh;a.varName=this.vh;return a};nd.prototype.ba=function(a){nd.u.ba.call(this,a);this.wh=a.varType;this.vh=a.varName};
nd.prototype.run=function(a){var b=vd(this);a?b.Ag(this.qg):b.Cd(this.vh,this.wh,this.qg)};function od(a,b){a&&(od.u.constructor.call(this,a),this.Jo=a.name,this.Fo=b)}v(od,wd);od.prototype.type=x.i.mq;od.prototype.Aa=function(){var a=od.u.Aa.call(this);a.oldName=this.Jo;a.newName=this.Fo;return a};od.prototype.ba=function(a){od.u.ba.call(this,a);this.Jo=a.oldName;this.Fo=a.newName};od.prototype.run=function(a){var b=vd(this);a?b.gh(this.qg,this.Fo):b.gh(this.qg,this.Jo)};
function xd(a){this.va={};this.s=a}d=xd.prototype;d.clear=function(){this.va=Object(null)};d.$o=function(a,b){var c=this.ve(b,a.type),e=D(this.s,!1);x.i.P(!0);try{if(c&&c.sa()!=a.sa()){var f=a.type;b!=c.name&&yd(c,b,e);for(b=0;b<e.length;b++)for(var h=void 0,k=e[b],l=a.sa(),m=c.sa(),n=0;h=k.L[n];n++)for(var t=0,u;u=h.na[t];t++)u.pm()&&l==u.getValue()&&u.setValue(m);x.i.T(new nd(a));this.va[f].splice(this.sj(f).indexOf(a),1)}else yd(a,b,e)}finally{x.i.P(!1)}};
d.gh=function(a,b){var c=this.df(a);if(!c)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.$o(c,b)};function yd(a,b,c){x.i.T(new od(a,b));a.name=b;for(b=0;b<c.length;b++)for(var e,f=c[b],h=a,k=0;e=f.L[k];k++)for(var l=0,m;m=e.na[l];l++)m.pm()&&h.sa()==m.getValue()&&m.jb(h.name)}
d.Cd=function(a,b,c){var e=this.ve(a,b);if(e){if(c&&e.sa()!=c)throw Error('Variable "'+a+'" is already in use and its id is "'+e.sa()+'" which conflicts with the passed in id, "'+c+'".');return e}if(c&&this.df(c))throw Error('Variable id, "'+c+'", is already in use.');c=c||x.h.re();b=b||"";e=new zd(this.s,a,b,c);this.va[b]?this.va[b].push(e):this.va[b]=[e];return e};
d.Ag=function(a){var b=this.df(a);if(b){var c=b.name,e=this.Wn(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=F(f,"NAME");c=x.g.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",c).replace("%2",a);x.alert(c);return}var h=this;1<e.length?(c=x.g.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",c),x.confirm(c,function(k){k&&h.ml(b,e)})):h.ml(b,e)}else console.warn("Can't delete non-existent variable: "+a)};
d.ml=function(a,b){var c=x.i.zb();c||x.i.P(!0);try{for(var e=0;e<b.length;e++)b[e].D(!0,!1);var f=this.va[a.type];b=0;for(var h;h=f[b];b++)if(h.sa()==a.sa()){f.splice(b,1);x.i.T(new nd(a));break}}finally{c||x.i.P(!1)}};d.ve=function(a,b){if(b=this.va[b||""])for(var c=0,e;e=b[c];c++)if(e.name.toLowerCase()==a.toLowerCase())return e;return null};d.df=function(a){for(var b=Object.keys(this.va),c=0;c<b.length;c++)for(var e=b[c],f=0,h;h=this.va[e][f];f++)if(h.sa()==a)return h;return null};
d.sj=function(a){return(a=this.va[a||""])?a.slice():[]};d.Vn=function(){for(var a=Object.keys(this.va),b=!1,c=0;c<a.length;c++)""==a[c]&&(b=!0);b||a.push("");return a};d.af=function(){for(var a=[],b=Object.keys(this.va),c=0;c<b.length;c++)a=a.concat(this.va[b[c]]);return a};d.Wn=function(a){for(var b=[],c=D(this.s,!1),e=0;e<c.length;e++){var f=Ad(c[e]);if(f)for(var h=0;h<f.length;h++)f[h].sa()==a&&b.push(c[e])}return b};x.B={};x.B.h={};x.B.h.createElement=function(a){return document.createElement(a)};x.B.h.createTextNode=function(a){return document.createTextNode(a)};x.B.h.My=function(a){return(new DOMParser).parseFromString(a,"text/xml")};x.B.h.Cc=function(a){return(new XMLSerializer).serializeToString(a)};function Bd(a){Bd.u.constructor.call(this);this.Fb=a.id;this.mb=a.s.id}v(Bd,ud);Bd.prototype.Aa=function(){var a=Bd.u.Aa.call(this);a.blockId=this.Fb;return a};Bd.prototype.ba=function(a){Bd.u.Aa.call(this);this.Fb=a.blockId};function kd(a,b,c,e,f){a&&(kd.u.constructor.call(this,a),this.element=b,this.name=c,this.oldValue=e,this.newValue=f,"field"===this.element&&(x.i.disable(),Cd(a,this.newValue,this.name),x.i.enable()),Dd(a))}v(kd,Bd);x.i.Lc=kd;d=kd.prototype;d.type=x.i.Bh;
d.Aa=function(){var a=kd.u.Aa.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};d.ba=function(a){kd.u.ba.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};d.gi=function(){return this.oldValue==this.newValue};
d.run=function(a){var b=td(vd(this),this.Fb);if(b)switch(b.kd&&b.kd.qa(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=Ed(b,this.name))?(Fd(b,a),b.setValue(a)):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.$j(a||null);break;case "collapsed":b.hh(a);break;case "disabled":b.Uc(!a);break;case "inline":b.mg(a);break;case "mutation":var c="";b.Zb&&(c=(c=b.Zb())&&x.B.Cc(c));if(b.Ed){a=a||"<mutation></mutation>";var e=x.B.Wc("<xml>"+a+"</xml>");b.Ed(e.firstChild)}x.i.T(new kd(b,
"mutation",null,c,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.Fb)};function id(a){a&&(id.u.constructor.call(this,a),this.xml=a.s.S?x.B.an(a):x.B.Af(a),this.Og=x.i.Rr(a))}v(id,Bd);x.i.Kk=id;id.prototype.type=x.i.Nk;id.prototype.Aa=function(){var a=id.u.Aa.call(this);a.xml=x.B.Cc(this.xml);a.ids=this.Og;return a};
id.prototype.ba=function(a){id.u.ba.call(this,a);this.xml=x.B.Wc("<xml>"+a.xml+"</xml>").firstChild;this.Og=a.ids};id.prototype.run=function(a){var b=vd(this);if(a)a=x.B.h.createElement("xml"),a.appendChild(this.xml),x.B.Gf(a,b);else{a=0;for(var c;c=this.Og[a];a++){var e=td(b,c);e?e.D(!1,!1):c==this.Fb&&console.warn("Can't uncreate non-existent block: "+c)}}};
function jd(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");jd.u.constructor.call(this,a);this.Ls=a.s.S?x.B.an(a):x.B.Af(a);this.Og=x.i.Rr(a)}}v(jd,Bd);x.i.Mp=jd;jd.prototype.type=x.i.Im;jd.prototype.Aa=function(){var a=jd.u.Aa.call(this);a.ids=this.Og;return a};jd.prototype.ba=function(a){jd.u.ba.call(this,a);this.Og=a.ids};
jd.prototype.run=function(a){var b=vd(this);if(a){a=0;for(var c;c=this.Og[a];a++){var e=td(b,c);e?e.D(!1,!1):c==this.Fb&&console.warn("Can't delete non-existent block: "+c)}}else a=x.B.h.createElement("xml"),a.appendChild(this.Ls),x.B.Gf(a,b)};function ld(a){a&&(ld.u.constructor.call(this,a),a=Gd(this),this.Js=a.Ws,this.Is=a.ls,this.Ho=a.Vq)}v(ld,Bd);x.i.Ah=ld;d=ld.prototype;d.type=x.i.Oi;
d.Aa=function(){var a=ld.u.Aa.call(this);this.Yg&&(a.newParentId=this.Yg);this.Xg&&(a.newInputName=this.Xg);this.Yf&&(a.newCoordinate=Math.round(this.Yf.x)+","+Math.round(this.Yf.y));return a};d.ba=function(a){ld.u.ba.call(this,a);this.Yg=a.newParentId;this.Xg=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.Yf=new B(parseFloat(a[0]),parseFloat(a[1])))};d.De=function(){var a=Gd(this);this.Yg=a.Ws;this.Xg=a.ls;this.Yf=a.Vq;Dd(td(hd[this.mb]||null,this.Fb))};
function Gd(a){var b=td(hd[a.mb]||null,a.Fb);a={};var c=b.getParent();if(c){a.Ws=c.id;a:{for(var e=0,f;f=c.L[e];e++)if(f.connection&&G(f.connection)==b){b=f;break a}b=null}b&&(a.ls=b.name)}else a.Vq=b.ta();return a}d.gi=function(){return this.Js==this.Yg&&this.Is==this.Xg&&xc(this.Ho,this.Yf)};
d.run=function(a){var b=vd(this),c=td(b,this.Fb);if(c){var e=a?this.Yg:this.Js,f=a?this.Xg:this.Is;a=a?this.Yf:this.Ho;var h=null;if(e&&(h=td(b,e),!h)){console.warn("Can't connect to non-existent block: "+e);return}c.getParent()&&Hd(c);if(a)f=c.ta(),c.moveBy(a.x-f.x,a.y-f.y);else{c=c.K||c.N;if(f){if(b=H(h,f))var k=b.connection}else c.type==x.Od&&(k=h.M);k?c.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.Fb)};
function Id(a){this.mb=a.id;this.group=x.i.tj;this.$b=!1}v(Id,ud);Id.prototype.type=x.i.su;Id.prototype.Aa=function(){var a={type:this.type};this.group&&(a.group=this.group);this.mb&&(a.workspaceId=this.mb);return a};Id.prototype.ba=function(a){this.mb=a.workspaceId;this.group=a.group};x.B.Cm=function(a,b){var c=x.B.h.createElement("xml"),e=x.B.$y(x.O.rq(a));e.hasChildNodes()&&c.appendChild(e);var f=Jd(a,!0);e=0;for(var h;h=f[e];e++)c.appendChild(h.vk(b));a=I(a,!0);for(e=0;f=a[e];e++)c.appendChild(x.B.an(f,b));return c};x.B.$y=function(a){for(var b=x.B.h.createElement("variables"),c=0,e;e=a[c];c++){var f=x.B.h.createElement("variable");f.appendChild(x.B.h.createTextNode(e.name));f.setAttribute("type",e.type);f.setAttribute("id",e.sa());b.appendChild(f)}return b};
x.B.an=function(a,b){var c;a.s.w&&(c=a.s.mc());b=x.B.Af(a,b);var e=a.ta();b.setAttribute("x",Math.round(a.s.w?c-e.x:e.x));b.setAttribute("y",Math.round(e.y));return b};x.B.pw=function(a){var b=!1;a.name&&(a.Re?b=!0:a.vf&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),b=!0));return b?a.tk(x.B.h.createElement("field")):null};
x.B.gv=function(a,b){for(var c=0,e;e=a.L[c];c++)for(var f=0,h;h=e.na[f];f++)(h=x.B.pw(h))&&b.appendChild(h)};
x.B.Af=function(a,b){var c=x.B.h.createElement(a.Da?"shadow":"block");c.setAttribute("type",a.type);b||c.setAttribute("id",a.id);if(a.Zb){var e=a.Zb();e&&(e.hasChildNodes()||e.hasAttributes())&&c.appendChild(e)}x.B.gv(a,c);var f=a.Dl();f&&(e=x.B.h.createElement("comment"),e.appendChild(x.B.h.createTextNode(f)),"object"==typeof a.Pa&&(e.setAttribute("pinned",a.Pa.isVisible()),f=a.Pa.Eg(),e.setAttribute("h",f.height),e.setAttribute("w",f.width)),c.appendChild(e));a.data&&(e=x.B.h.createElement("data"),
e.appendChild(x.B.h.createTextNode(a.data)),c.appendChild(e));f=0;for(var h;h=a.L[f];f++){var k,l=!0;if(h.type!=x.Md){var m=G(h.connection);h.type==x.Ja?k=x.B.h.createElement("value"):h.type==x.xa&&(k=x.B.h.createElement("statement"));e=h.connection.Ge;!e||m&&m.Da||k.appendChild(x.B.Jq(e));m&&(k.appendChild(x.B.Af(m,b)),l=!1);k.setAttribute("name",h.name);l||c.appendChild(k)}}a.hx!=a.Qf&&c.setAttribute("inline",a.Qf);a.isCollapsed()&&c.setAttribute("collapsed",!0);a.disabled&&c.setAttribute("disabled",
!0);a.Xb()||a.Da||c.setAttribute("deletable",!1);a.Jb()||a.Da||c.setAttribute("movable",!1);Kd(a)||c.setAttribute("editable",!1);if(f=Yc(a))k=x.B.h.createElement("next"),k.appendChild(x.B.Af(f,b)),c.appendChild(k);e=a.M&&a.M.Ge;!e||f&&f.Da||k.appendChild(x.B.Jq(e));return c};
x.B.Jq=function(a){for(var b=a=a.cloneNode(!0),c;b;)if(b.firstChild)b=b.firstChild;else{for(;b&&!b.nextSibling;)c=b,b=b.parentNode,3==c.nodeType&&""==c.data.trim()&&b.firstChild!=c&&x.h.removeNode(c);b&&(c=b,b=b.nextSibling,3==c.nodeType&&""==c.data.trim()&&x.h.removeNode(c))}return a};x.B.Cc=function(a){return x.B.h.Cc(a)};
x.B.Yz=function(a){a=x.B.Cc(a).split("<");for(var b="",c=1;c<a.length;c++){var e=a[c];"/"==e[0]&&(b=b.substring(2));a[c]=b+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(b+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};x.B.Wc=function(a){a=x.B.h.My(a);if(!a||!a.documentElement||"xml"!=a.documentElement.nodeName.toLowerCase())throw TypeError("Blockly.Xml.textToDom expected an <xml> document.");return a.documentElement};
x.B.Uz=function(a,b){b.Qb(!1);b.clear();a=x.B.Gf(a,b);b.Qb(!0);return a};
x.B.Gf=function(a,b){if(a instanceof Ld){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;b.w&&(e=b.mc());c=[];Md();var f=a.childNodes.length,h=x.i.zb();h||x.i.P(!0);b.Qb&&b.Qb(!1);var k=!0;try{for(var l=0;l<f;l++){var m=a.childNodes[l],n=m.nodeName.toLowerCase();if("block"==n||"shadow"==n&&!x.i.$b){var t=x.B.Qh(m,b);c.push(t.id);var u=m.hasAttribute("x")?parseInt(m.getAttribute("x"),10):10,r=m.hasAttribute("y")?parseInt(m.getAttribute("y"),
10):10;isNaN(u)||isNaN(r)||t.moveBy(b.w?e-u:u,r);k=!1}else{if("shadow"==n)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==n)if(b.S)Nd(m,b,e);else{var p=m,w=b,E=Od(p),K=new Pd(w,E.content,E.Yr,E.Wt,E.id),T=parseInt(p.getAttribute("x"),10),cb=parseInt(p.getAttribute("y"),10);isNaN(T)||isNaN(cb)||K.moveBy(T,cb);Qd(K)}else if("variables"==n){if(k)x.B.lw(m,b);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
k=!1}}}}finally{h||x.i.P(!1),Rd()}b.Qb&&b.Qb(!0);x.i.T(new Id(b));return c};x.B.Qz=function(a,b){if(b.hasOwnProperty("scale")){var c=J;try{J=0;var e=Sd(b)}finally{J=c}}a=x.B.Gf(a,b);if(e&&e.height){c=e.y+e.height;var f=e.x;var h=Infinity,k=Infinity;for(e=0;e<a.length;e++){var l=td(b,a[e]).ta();l.y<k&&(k=l.y);l.x<h&&(h=l.x)}c=c-k+10;f-=h;var m;b.w&&(m=b.mc());for(e=0;e<a.length;e++)td(b,a[e]).moveBy(b.w?m-f:f,c)}return a};
x.B.Qh=function(a,b){if(a instanceof Ld){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}x.i.disable();c=b.af();try{var e=x.B.Dn(a,b),f=Xc(e,!1);if(b.S){Td(e,!0);for(var h=f.length-1;0<=h;h--)f[h].Kd();for(h=f.length-1;0<=h;h--)f[h].ca(!1);setTimeout(function(){e.s&&Td(e,!1)},1);Ud(e);Vd(b)}else for(h=f.length-1;0<=h;h--)f[h].Pg()}finally{x.i.enable()}if(x.i.isEnabled()){a=x.O.Qr(b,c);for(h=0;h<a.length;h++)x.i.T(new md(a[h]));x.i.T(new x.i.Kk(e))}return e};
x.B.lw=function(a,b){for(var c=0,e;e=a.childNodes[c];c++)if(e.nodeType==Element.ELEMENT_NODE){var f=e.getAttribute("type"),h=e.getAttribute("id");e=e.textContent;if(null==f)throw Error("Variable with id, "+h+" is without a type");b.Cd(e,f,h)}};
x.B.Dn=function(a,b){var c=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");c=b.si(e,f);var h=null;f=0;for(var k;k=a.childNodes[f];f++)if(3!=k.nodeType){for(var l=h=null,m=0,n;n=k.childNodes[m];m++)1==n.nodeType&&("block"==n.nodeName.toLowerCase()?h=n:"shadow"==n.nodeName.toLowerCase()&&(l=n));!h&&l&&(h=l);m=k.getAttribute("name");switch(k.nodeName.toLowerCase()){case "mutation":c.Ed&&(c.Ed(k),c.Kd&&c.Kd());break;case "comment":c.$j(k.textContent);
var t=k.getAttribute("pinned");t&&!c.Fc&&setTimeout(function(){c.Pa&&c.Pa.qa&&c.Pa.qa("true"==t)},1);h=parseInt(k.getAttribute("w"),10);k=parseInt(k.getAttribute("h"),10);!isNaN(h)&&!isNaN(k)&&c.Pa&&c.Pa.qa&&c.Pa.jg(h,k);break;case "data":c.data=k.textContent;break;case "title":case "field":x.B.kw(c,m,k);break;case "value":case "statement":k=H(c,m);if(!k){console.warn("Ignoring non-existent input "+m+" in block "+e);break}l&&(k.connection.Ge=l);if(h)if(h=x.B.Dn(h,b),h.K)k.connection.connect(h.K);
else if(h.N)k.connection.connect(h.N);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&c.M&&(c.M.Ge=l);if(h){if(!c.M)throw TypeError("Next statement does not exist.");if(c.M.isConnected())throw TypeError("Next statement is already connected.");h=x.B.Dn(h,b);if(!h.N)throw TypeError("Next block does not have previous statement.");c.M.connect(h.N)}break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(f=a.getAttribute("inline"))&&c.mg("true"==
f);(f=a.getAttribute("disabled"))&&c.Uc("true"!=f&&"disabled"!=f);(f=a.getAttribute("deletable"))&&c.bk("true"==f);(f=a.getAttribute("movable"))&&c.jh("true"==f);(f=a.getAttribute("editable"))&&c.pp("true"==f);(f=a.getAttribute("collapsed"))&&c.hh("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=c.bf(!1);for(f=0;b=a[f];f++)if(!b.Da)throw TypeError("Shadow block not allowed non-shadow child.");if(Ad(c).length)throw TypeError("Shadow blocks cannot have variable references.");c.sp(!0)}return c};
x.B.kw=function(a,b,c){var e=Ed(a,b);e?e.Or(c):console.warn("Ignoring non-existent field "+b+" in block "+a.type)};x.B.dw=function(a){for(var b=0,c;c=a.childNodes[b];b++)if("next"==c.nodeName.toLowerCase()){a.removeChild(c);break}};g.Blockly||(g.Blockly={});g.Blockly.Xml||(g.Blockly.Xml={});g.Blockly.Xml.domToText=x.B.Cc;g.Blockly.Xml.domToWorkspace=x.B.Gf;g.Blockly.Xml.textToDom=x.B.Wc;g.Blockly.Xml.workspaceToDom=x.B.Cm;function Wd(a){this.ke=a.id;this.mb=a.s.id;this.group=x.i.tj;this.$b=x.i.$b}v(Wd,ud);Wd.prototype.Aa=function(){var a={type:this.type};this.group&&(a.group=this.group);this.ke&&(a.commentId=this.ke);return a};Wd.prototype.ba=function(a){this.ke=a.commentId;this.group=a.group};function qd(a,b,c){a&&(qd.u.constructor.call(this,a),this.Hs=b,this.hm=c)}v(qd,Wd);d=qd.prototype;d.type=x.i.Np;d.Aa=function(){var a=qd.u.Aa.call(this);a.newContents=this.hm;return a};
d.ba=function(a){qd.u.ba.call(this,a);this.hm=a.newValue};d.gi=function(){return this.Hs==this.hm};d.run=function(a){var b=Xd(vd(this),this.ke);b?b.Ee(a?this.hm:this.Hs):console.warn("Can't change non-existent comment: "+this.ke)};function pd(a){a&&(pd.u.constructor.call(this,a),this.xml=a.vk())}v(pd,Wd);pd.prototype.type=x.i.Lk;pd.prototype.Aa=function(){var a=pd.u.Aa.call(this);a.xml=x.B.Cc(this.xml);return a};pd.prototype.ba=function(a){pd.u.ba.call(this,a);this.xml=x.B.Wc("<xml>"+a.xml+"</xml>").firstChild};
pd.prototype.run=function(a){x.i.Pp(this,a)};x.i.Pp=function(a,b){var c=vd(a);b?(b=x.B.h.createElement("xml"),b.appendChild(a.xml),x.B.Gf(b,c)):(c=Xd(c,a.ke))?c.D(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.ke)};function sd(a){a&&(sd.u.constructor.call(this,a),this.xml=a.vk())}v(sd,Wd);sd.prototype.type=x.i.Op;sd.prototype.Aa=function(){return sd.u.Aa.call(this)};sd.prototype.ba=function(a){sd.u.ba.call(this,a)};sd.prototype.run=function(a){x.i.Pp(this,!a)};
function rd(a){a&&(rd.u.constructor.call(this,a),this.ln=a,this.Io=a.vd.clone(),this.Wg=null)}v(rd,Wd);d=rd.prototype;d.De=function(){if(!this.ln)throw Error("Tried to record the new position of a comment on the same event twice.");this.Wg=this.ln.vd.clone();this.ln=null};d.type=x.i.Mk;d.Aa=function(){var a=rd.u.Aa.call(this);this.Wg&&(a.newCoordinate=Math.round(this.Wg.x)+","+Math.round(this.Wg.y));return a};
d.ba=function(a){rd.u.ba.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.Wg=new B(parseFloat(a[0]),parseFloat(a[1])))};d.gi=function(){return xc(this.Io,this.Wg)};d.run=function(a){var b=Xd(vd(this),this.ke);if(b){a=a?this.Wg:this.Io;var c=b.vd.clone();b.moveBy(a.x-c.x,a.y-c.y)}else console.warn("Can't move non-existent comment: "+this.ke)};function Pd(a,b,c,e,f){this.id=f&&!Xd(a,f)?f:x.h.re();a.Ei.push(this);a.dl[this.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+this.id+'"');a.dl[this.id]=this;this.vd=new B(0,0);this.oa=c;this.aa=e;this.s=a;this.w=a.w;this.Sj=this.ej=!0;this.Oc=b;this.no=!0;Qd(this)}d=Pd.prototype;
d.D=function(){if(this.s){x.i.isEnabled()&&x.i.T(new sd(this));var a=this.s;if(!x.h.Ti(a.Ei,this))throw Error("Comment not present in workspace's list of top-most comments.");delete a.dl[this.id];this.s=null}};d.Vh=function(){return this.oa};d.mc=function(){return this.aa};d.moveBy=function(a,b){var c=new rd(this);this.vd.translate(a,b);c.De();x.i.T(c)};d.Xb=function(){return this.ej&&!(this.s&&this.s.options.readOnly)};d.bk=function(a){this.ej=a};d.Jb=function(){return this.Sj&&!(this.s&&this.s.options.readOnly)};
d.jh=function(a){this.Sj=a};d.If=function(){return this.Oc};d.Ee=function(a){this.Oc!=a&&(x.i.T(new qd(this,this.Oc,a)),this.Oc=a)};d.vk=function(a){a=this.tk(a);a.setAttribute("x",Math.round(this.vd.x));a.setAttribute("y",Math.round(this.vd.y));a.setAttribute("h",this.oa);a.setAttribute("w",this.aa);return a};d.tk=function(a){var b=x.B.h.createElement("comment");a||b.setAttribute("id",this.id);b.textContent=this.If();return b};
function Qd(a){if(x.i.isEnabled()){var b=x.i.zb();b||x.i.P(!0);try{x.i.T(new pd(a))}finally{b||x.i.P(!1)}}}function Od(a){var b=a.getAttribute("h"),c=a.getAttribute("w");return{id:a.getAttribute("id"),Yr:b?parseInt(b,10):100,Wt:c?parseInt(c,10):100,x:parseInt(a.getAttribute("x"),10),y:parseInt(a.getAttribute("y"),10),content:a.textContent}};function Yd(){this.hb=null}d=Yd.prototype;d.types={nz:"field",gz:"block",oz:"input",Jz:"output",pz:"next",Kz:"previous",Mz:"stack",Nz:"workspace"};function Zd(a,b){a.hb=b;a.St()}d.St=function(){};d.next=function(){var a=this.hb;if(!a)return null;(a=a.next())&&a.rc===$d&&(a=a.next()||a);a&&Zd(this,a);return a};d.Cj=function(){var a=this.hb;if(!a)return null;(a=a.Cj())&&a.rc===ae&&(a=a.next()||a);a&&Zd(this,a);return a};
d.yi=function(){var a=this.hb;if(!a)return null;(a=a.yi())&&a.rc===$d&&(a=a.yi()||a);a&&Zd(this,a);return a};d.Vj=function(){var a=this.hb;if(!a)return null;(a=a.Vj())&&Zd(this,a);return a};function Ld(a){this.id=x.h.re();hd[this.id]=this;this.options=a||{};this.w=!!this.options.w;this.Rc=!!this.options.Rc;this.ga=this.options.ga;this.Di=[];this.Ei=[];this.dl=Object.create(null);this.Hc=[];this.uh=[];this.Zj=[];this.$m=Object.create(null);this.qf=Object.create(null);this.va=new xd(this);this.xi=null;this.cursor=this.Wq()}d=Ld.prototype;d.S=!1;d.mo=!1;d.Xp=1024;d.Wq=function(){return new Yd};d.D=function(){this.Hc.length=0;this.clear();delete hd[this.id]};
d.He=function(a,b){a=a.ta();b=b.ta();return a.y+Ld.prototype.He.offset*a.x-(b.y+Ld.prototype.He.offset*b.x)};function be(a,b){if(!x.h.Ti(a.Di,b))throw Error("Block not present in workspace's list of top-most blocks.");}function I(a,b){var c=[].concat(a.Di);b&&1<c.length&&(a.He.offset=Math.sin(x.h.rk(3)),a.w&&(a.He.offset*=-1),c.sort(a.He));return c}function Jd(a,b){var c=[].concat(a.Ei);b&&1<c.length&&(a.He.offset=Math.sin(x.h.rk(3)),a.w&&(a.He.offset*=-1),c.sort(a.He));return c}
function D(a,b){if(b){a=I(a,!0);b=[];for(var c=0;c<a.length;c++)b.push.apply(b,Xc(a[c],!0))}else for(b=I(a,!1),c=0;c<b.length;c++)b.push.apply(b,b[c].bf(!1));return b.filter(function(e){return!e.Vd})}d.clear=function(){this.mo=!0;try{var a=x.i.zb();for(a||x.i.P(!0);this.Di.length;)this.Di[0].D();for(;this.Ei.length;)this.Ei[this.Ei.length-1].D();a||x.i.P(!1);this.va.clear();this.xi&&this.xi.clear()}finally{this.mo=!1}};d.gh=function(a,b){this.va.gh(a,b)};
d.Cd=function(a,b,c){return this.va.Cd(a,b,c)};d.Wn=function(a){return this.va.Wn(a)};d.Ag=function(a){this.va.Ag(a)};d.ml=function(a,b){this.va.ml(a,b)};d.ve=function(a,b){return this.va.ve(a,b)};d.df=function(a){return this.va.df(a)};d.sj=function(a){return this.va.sj(a)};d.Vn=function(){return this.va.Vn()};d.af=function(){return this.va.af()};d.mc=function(){return 0};d.si=function(a,b){return new ce(this,a,b)};
function de(a,b){if(!ee(a))return!0;var c=0,e;for(e in b){var f=b[e];if(a.options.Bo){var h=a.options.Bo[e]||Infinity;var k=a.qf[e]?a.qf[e].slice(0):[];h-=k.length}else h=Infinity;if(f>h)return!1;c+=b[e]}return c>(isNaN(a.options.Oj)?Infinity:a.options.Oj-D(a).length)?!1:!0}function ee(a){return Infinity!=a.options.Oj||!!a.options.Bo}
d.Gp=function(a){var b=a?this.Zj:this.uh,c=a?this.uh:this.Zj,e=b.pop();if(e){for(var f=[e];b.length&&e.group&&e.group==b[b.length-1].group;)f.push(b.pop());for(b=0;e=f[b];b++)c.push(e);f=x.i.filter(f,a);x.i.$b=!1;try{for(b=0;e=f[b];b++)e.run(a)}finally{x.i.$b=!0}}};d.Iq=function(){this.uh.length=0;this.Zj.length=0;x.i.Gv()};d.fc=function(a){this.Hc.push(a);return a};d.dg=function(a){x.h.Ti(this.Hc,a)};function td(a,b){return a.$m[b]||null}function Xd(a,b){return a.dl[b]||null}var hd=Object.create(null);
function fe(){var a=[],b;for(b in hd)a.push(hd[b]);return a}Ld.prototype.clear=Ld.prototype.clear;Ld.prototype.clearUndo=Ld.prototype.Iq;Ld.prototype.addChangeListener=Ld.prototype.fc;Ld.prototype.removeChangeListener=Ld.prototype.dg;function ge(a,b,c,e,f,h){this.j=a;this.Oc=b;this.yt=c;c=he;this.j.w&&(c=-c);this.kv=x.h.rk(c);a.sd.appendChild(this.aj(b,!(!f||!h)));this.fb=e;this.gg&&ie(this);f&&h||(b=this.Oc.getBBox(),f=b.width+2*je,h=b.height+2*je);this.jg(f,h);ie(this);ke(this);this.gg=!0;a.options.readOnly||(x.R(this.Ui,"mousedown",this,this.uv),this.Cb&&x.R(this.Cb,"mousedown",this,this.bp))}var je=6,he=20,le=null,me=null;d=ge.prototype;d.ap=null;function ne(){le&&(x.Fa(le),le=null);me&&(x.Fa(me),me=null)}
function oe(){x.Touch.We();ne()}d.gg=!1;d.fb=null;d.hf=0;d.cg=0;d.aa=0;d.oa=0;d.Xk=!0;
d.aj=function(a,b){this.dd=x.h.C("g",{},null);var c={filter:"url(#"+this.j.options.Jr+")"};-1!=$a.indexOf("JavaFX")&&(c={});c=x.h.C("g",c,this.dd);this.cn=x.h.C("path",{},c);this.Ui=x.h.C("rect",{"class":"blocklyDraggable",x:0,y:0,rx:je,ry:je},c);b?(this.Cb=x.h.C("g",{"class":this.j.w?"blocklyResizeSW":"blocklyResizeSE"},this.dd),b=2*je,x.h.C("polygon",{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.Cb),x.h.C("line",{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.Cb),x.h.C("line",
{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.Cb)):this.Cb=null;this.dd.appendChild(a);return this.dd};d.J=function(){return this.dd};function pe(a,b){a.dd.dataset&&(a.dd.dataset.Fb=b)}d.uv=function(a){var b=this.j.te(a);b&&qe(b,a,this)};d.Ci=function(){};d.Xb=function(){return!1};d.bp=function(a){re(this);ne();x.h.Uf(a)||(this.j.xm(a,new B(this.j.w?-this.aa:this.aa,this.oa)),le=x.R(document,"mouseup",this,oe),me=x.R(document,"mousemove",this,this.cp),x.Wb());a.stopPropagation()};
d.cp=function(a){this.Xk=!1;a=se(this.j,a);this.jg(this.j.w?-a.x:a.x,a.y);this.j.w&&ie(this)};function re(a){var b=a.dd.parentNode;return b.lastChild!==a.dd?(b.appendChild(a.dd),!0):!1}function te(a,b,c){var e=a.j.w?a.fb.x-b.x-a.aa:b.x+a.fb.x;b=b.y+a.fb.y;return Math.max(0,Math.min(1,(Math.min(e+a.aa,c.$a+c.Ba)-Math.max(e,c.$a))*(Math.min(b+a.oa,c.lb+c.Ga)-Math.max(b,c.lb))/(a.aa*a.oa)))}function ie(a){var b=a.fb.x;b=a.j.w?b-(a.hf+a.aa):b+a.hf;a.moveTo(b,a.cg+a.fb.y)}
d.moveTo=function(a,b){this.dd.setAttribute("transform","translate("+a+","+b+")")};d.Eg=function(){return{width:this.aa,height:this.oa}};
d.jg=function(a,b){var c=2*je;a=Math.max(a,c+45);b=Math.max(b,c+20);this.aa=a;this.oa=b;this.Ui.setAttribute("width",a);this.Ui.setAttribute("height",b);this.Cb&&(this.j.w?this.Cb.setAttribute("transform","translate("+2*je+","+(b-c)+") scale(-1 1)"):this.Cb.setAttribute("transform","translate("+(a-c)+","+(b-c)+")"));if(this.gg){if(this.Xk){a=this.j.bb();a.$a/=this.j.scale;a.Ba/=this.j.scale;a.lb/=this.j.scale;a.Ga/=this.j.scale;b=-this.aa/4;if(!(this.aa>a.Ba)){if(this.j.w){c=this.fb.x-b;var e=c-this.aa;
var f=a.$a+a.Ba,h=a.$a+L/this.j.scale}else e=b+this.fb.x,c=e+this.aa,h=a.$a,f=a.$a+a.Ba-L/this.j.scale;this.j.w?e<h?b=-(h-this.fb.x+this.aa):c>f&&(b=-(f-this.fb.x)):e<h?b=h-this.fb.x:c>f&&(b=f-this.fb.x-this.aa)}e=b;b=-this.oa/4;if(!(this.oa>a.Ga)){c=this.fb.y+b;f=c+this.oa;h=a.lb;var k=a.lb+a.Ga-L/this.j.scale,l=this.fb.y;c<h?b=h-l:f>k&&(b=k-l-this.oa)}h=b;f=this.yt.getBBox();b={x:e,y:-this.oa-25};c={x:-this.aa-30,y:h};h={x:f.width,y:h};k={x:e,y:f.height};e=f.width<f.height?h:k;f=f.width<f.height?
k:h;h=te(this,b,a);k=te(this,c,a);l=te(this,e,a);a=Math.max(h,k,l,te(this,f,a));h==a?(this.hf=b.x,this.cg=b.y):k==a?(this.hf=c.x,this.cg=c.y):l==a?(this.hf=e.x,this.cg=e.y):(this.hf=f.x,this.cg=f.y)}ie(this);ke(this)}this.ap&&this.ap()};
function ke(a){var b=[],c=a.aa/2,e=a.oa/2,f=-a.hf,h=-a.cg;if(c==f&&e==h)b.push("M "+c+","+e);else{h-=e;f-=c;a.j.w&&(f*=-1);var k=Math.sqrt(h*h+f*f),l=Math.acos(f/k);0>h&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),t=Math.cos(m),u=a.Eg();m=(u.width+u.height)/5;m=Math.min(m,u.width,u.height)/4;u=1-8/k;f=c+u*f;h=e+u*h;u=c+m*t;var r=e+m*n;c-=m*t;e-=m*n;n=l+a.kv;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/4;k=Math.cos(n)*k/4;b.push("M"+u+","+r);b.push("C"+(u+k)+","+
(r+l)+" "+f+","+h+" "+f+","+h);b.push("C"+f+","+h+" "+(c+k)+","+(e+l)+" "+c+","+e)}b.push("z");a.cn.setAttribute("d",b.join(" "))}d.ae=function(a){this.Ui.setAttribute("fill",a);this.cn.setAttribute("fill",a)};d.D=function(){ne();x.h.removeNode(this.dd);this.yt=this.Oc=this.j=this.Cb=this.Ui=this.cn=this.dd=null};d.fm=function(a,b){a?a.nf(b.x,b.y):this.moveTo(b.x,b.y);this.hf=this.j.w?this.fb.x-b.x-this.aa:b.x-this.fb.x;this.cg=b.y-this.fb.y;ke(this)};
d.ta=function(){return new B(this.fb.x+this.hf,this.fb.y+this.cg)};d.st=function(a){this.Xk=a};function C(a,b,c,e){C.u.constructor.call(this);this.Fb=a?a.id:null;this.mb=a?a.s.id:null;this.element=b;this.oldValue=c;this.newValue=e;this.$b=!1}v(C,ud);C.prototype.type=x.i.Uk;C.prototype.Aa=function(){var a=C.u.Aa.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.Fb&&(a.blockId=this.Fb);return a};C.prototype.ba=function(a){C.u.ba.call(this,a);this.element=a.element;this.newValue=a.newValue;this.Fb=a.blockId};function ue(a){this.V=a}d=ue.prototype;d.Kq=!0;d.Rm=17;d.Ra=null;d.Ng=null;function ve(a){a.Ec||(a.Ec=x.h.C("g",{"class":"blocklyIconGroup"},null),a.V.Fc&&x.h.Na(a.Ec,"blocklyIconGroupReadonly"),a.En(a.Ec),a.V.J().appendChild(a.Ec),x.R(a.Ec,"mouseup",a,a.eo),a.tf())}d.D=function(){x.h.removeNode(this.Ec);this.Ec=null;this.qa(!1);this.V=null};d.tf=function(){};d.isVisible=function(){return!!this.Ra};d.eo=function(a){this.V.s.Yb()||this.V.Fc||x.h.Uf(a)||this.qa(!this.isVisible())};
d.sf=function(){this.isVisible()&&this.Ra.ae(this.V.Bd)};function we(a){var b=a.V.ta(),c=x.h.Dc(a.Ec);b=new B(b.x+c.x+a.Rm/2,b.y+c.y+a.Rm/2);xc(a.Ng,b)||(a.Ng=b,a.isVisible()&&(a=a.Ra,a.fb=b,a.gg&&ie(a)))};
function xe(a){xe.u.constructor.call(this,a);ve(this)}v(xe,ue);d=xe.prototype;d.ua="";d.aa=160;d.oa=80;d.En=function(a){x.h.C("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);x.h.C("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);x.h.C("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
d.bj=function(){this.gd=x.h.C("foreignObject",{x:je,y:je},null);var a=document.createElementNS(x.xf,"body");a.setAttribute("xmlns",x.xf);a.className="blocklyMinimalBody";var b=document.createElementNS(x.xf,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.V.w?"RTL":"LTR");a.appendChild(b);this.kb=b;this.gd.appendChild(a);x.R(b,"mouseup",this,this.Ny,!0,!0);x.R(b,"wheel",this,function(c){c.stopPropagation()});x.R(b,"change",this,function(){this.ua!=b.value&&(x.i.T(new x.i.Lc(this.V,
"comment",null,this.ua,b.value)),this.ua=b.value)});setTimeout(function(){b.focus()},0);return this.gd};d.tf=function(){this.isVisible()&&(this.qa(!1),this.qa(!0));ue.prototype.tf.call(this)};d.rm=function(){if(this.isVisible()){var a=this.Ra.Eg(),b=2*je;this.gd.setAttribute("width",a.width-b);this.gd.setAttribute("height",a.height-b);this.kb.style.width=a.width-b-4+"px";this.kb.style.height=a.height-b-4+"px"}};
d.qa=function(a){if(a!=this.isVisible())if(x.i.T(new C(this.V,"commentOpen",!a,a)),!Kd(this.V)&&!this.kb||z)ye.prototype.qa.call(this,a);else{var b=this.Ab(),c=this.Eg();a?(this.Ra=new ge(this.V.s,this.bj(),this.V.bc,this.Ng,this.aa,this.oa),pe(this.Ra,this.V.id),a=this.rm.bind(this),this.Ra.ap=a,this.sf()):(this.Ra.D(),this.gd=this.kb=this.Ra=null);this.jb(b);this.jg(c.width,c.height)}};d.Ny=function(){re(this.Ra)&&this.kb.focus()};
d.Eg=function(){return this.isVisible()?this.Ra.Eg():{width:this.aa,height:this.oa}};d.jg=function(a,b){this.kb?this.Ra.jg(a,b):(this.aa=a,this.oa=b)};d.Ab=function(){return this.kb?this.kb.value:this.ua};d.jb=function(a){this.ua!=a&&(x.i.T(new x.i.Lc(this.V,"comment",null,this.ua,a)),this.ua=a);this.kb&&(this.kb.value=a)};d.D=function(){x.i.isEnabled()&&this.jb("");this.V.Pa=null;ue.prototype.D.call(this)};function ze(a,b){this.v=a;this.type=b;a.s.mn&&(this.Dd=a.s.mn[b],this.ll=a.s.mn[x.Gh[b]],this.we=!this.Dd)}d=ze.prototype;d.U=null;d.Te=null;d.Ge=null;d.vb=0;d.Ha=0;d.Nf=!1;d.Dd=null;d.ll=null;d.we=null;
d.fl=function(a){var b=this,c=b.v,e=a.v;a.isConnected()&&a.disconnect();if(b.isConnected()){var f=G(b),h=b.Ge;b.Ge=null;if(f.Da)h=x.B.Af(f),f.D(),f=null;else if(b.type==x.Ja){if(!f.K)throw Error("Orphan block does not have an output connection.");var k=Ae(e,f);k&&(f.K.connect(k),f=null)}else if(b.type==x.xa){if(!f.N)throw Error("Orphan block does not have a previous connection.");for(k=e;k.M;){var l=Yc(k);if(l&&!l.Da)k=l;else{Be(f.N,k.M)&&(k.M.connect(f.N),f=null);break}}}if(f&&(b.disconnect(),x.i.$b)){var m=
x.i.zb();setTimeout(function(){f.s&&!f.getParent()&&(x.i.P(m),f.K?Ce(f.K,b):f.N&&Ce(f.N,b),x.i.P(!1))},x.Jk)}b.Ge=h}var n;x.i.isEnabled()&&(n=new x.i.Ah(e));De(b,a);e.kh(c);n&&(n.De(),x.i.T(n))};d.D=function(){if(this.isConnected())throw Error("Disconnect connection before disposing of it.");this.Nf&&Ee(this.Dd,this);this.ll=this.Dd=null};function Fe(a){return a.type==x.Ja||a.type==x.xa}d.isConnected=function(){return!!this.U};
function Ge(a,b){if(!b)return 3;if(Fe(a))var c=a.v,e=b.v;else e=a.v,c=b.v;return c&&c==e?1:b.type!=x.Gh[a.type]?2:c&&e&&c.s!==e.s?5:Be(a,b)?c.Da&&!e.Da?6:0:4}
d.Sl=function(a){if(a.v.Vd||0!=Ge(this,a))return!1;switch(a.type){case x.Od:return this.U||-1!=x.fj.indexOf(a)?a=!1:a.U?(a=G(a),a=a.Vd?!(a.N&&G(a.N)):!1):a=!0,a;case x.Nd:if(a.isConnected()&&!G(a).Vd||this.isConnected())return!1;break;case x.Ja:if(a.isConnected()&&!G(a).Jb()&&!G(a).Da)return!1;break;case x.xa:if(a.isConnected()&&!this.v.M&&!G(a).Da&&G(a).M)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=x.fj.indexOf(a)?!1:!0};
d.connect=function(a){if(this.U!=a){switch(Ge(this,a)){case 0:break;case 1:throw Error("Attempted to connect a block to itself.");case 5:throw Error("Blocks not on same workspace.");case 2:throw Error("Attempt to connect incompatible types.");case 3:throw Error("Target connection is null.");case 4:throw Error("Connection checks failed. "+(this+" expected "+this.Te+", found "+a.Te));case 6:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}var b=x.i.zb();b||x.i.P(!0);Fe(this)?this.fl(a):a.fl(this);b||x.i.P(!1)}};function De(a,b){if(!a||!b)throw Error("Cannot connect null connections.");a.U=b;b.U=a}function He(a,b){for(var c=!1,e=0;e<a.L.length;e++){var f=a.L[e].connection;if(f&&f.type==x.Ja&&Be(b.K,f)){if(c)return null;c=f}}return c}function Ae(a,b){for(var c;c=He(a,b);)if(a=G(c),!a||a.Da)return c;return null}
d.disconnect=function(){var a=this.U;if(!a)throw Error("Source connection not connected.");if(a.U!=this)throw Error("Target connection not connected to source connection.");if(Fe(this)){var b=this.v;var c=a.v;a=this}else b=a.v,c=this.v;var e=x.i.zb();e||x.i.P(!0);this.zn(b,c);a.fp();e||x.i.P(!1)};d.zn=function(a,b){var c;x.i.isEnabled()&&(c=new x.i.Ah(b));this.U=this.U.U=null;b.kh(null);c&&(c.De(),x.i.T(c))};
d.fp=function(){var a=this.v,b=this.Ge;if(a.s&&b&&x.i.$b)if(a=x.B.Qh(b,a.s),a.K)this.connect(a.K);else if(a.N)this.connect(a.N);else throw Error("Child block does not have output or previous statement.");};function G(a){return a.isConnected()?a.U.v:null}function Be(a,b){if(!a.Te||!b.Te)return!0;for(var c=0;c<a.Te.length;c++)if(-1!=b.Te.indexOf(a.Te[c]))return!0;return!1}d.Ms=function(){this.isConnected()&&!Be(this,this.U)&&Hd(Fe(this)?G(this):this.v)};
d.Ic=function(a){a?(Array.isArray(a)||(a=[a]),this.Te=a,this.Ms()):this.Te=null;return this};d.Gs=function(){return[]};d.ue=function(){for(var a=null,b=this.v,c=b.L,e=0;e<b.L.length;e++)if(c[e].connection===this){a=c[e];break}return a};
d.toString=function(){var a=this.v;if(a)if(a.K==this)var b="Output Connection of ";else if(a.N==this)b="Previous Connection of ";else if(a.M==this)b="Next Connection of ";else{b=null;for(var c=0,e;e=a.L[c];c++)if(e.connection==this){b=e;break}if(b)b='Input "'+b.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";c=a.type?'"'+a.type+'" block':"Block";a.id&&(c+=' (id="'+a.id+'")');return b+c};function Ie(){this.pb=[]}function Je(a,b){if(b.Nf)throw Error("Connection already in database.");b.v.Fc||(a.pb.splice(Ke(a,b),0,b),b.Nf=!0)}function Le(a,b){if(!a.pb.length)return-1;var c=Ke(a,b);if(c>=a.pb.length)return-1;for(var e=b.Ha,f=c;0<=f&&a.pb[f].Ha==e;){if(a.pb[f]==b)return f;f--}for(;c<a.pb.length&&a.pb[c].Ha==e;){if(a.pb[c]==b)return c;c++}return-1}
function Ke(a,b){if(!a.pb.length)return 0;for(var c=0,e=a.pb.length;c<e;){var f=Math.floor((c+e)/2);if(a.pb[f].Ha<b.Ha)c=f+1;else if(a.pb[f].Ha>b.Ha)e=f;else{c=f;break}}return c}function Ee(a,b){if(!b.Nf)throw Error("Connection not in database.");var c=Le(a,b);if(-1==c)throw Error("Unable to find connection in connectionDB.");b.Nf=!1;a.pb.splice(c,1)}
function Me(a,b,c){function e(n){var t=h-f[n].vb,u=k-f[n].Ha;Math.sqrt(t*t+u*u)<=c&&m.push(f[n]);return u<c}var f=a.pb,h=b.vb,k=b.Ha;a=0;for(var l=b=f.length-2;a<l;)f[l].Ha<k?a=l:b=l,l=Math.floor((a+b)/2);var m=[];b=a=l;if(f.length){for(;0<=a&&e(a);)a--;do b++;while(b<f.length&&e(b))}return m};x.Vz={};x.Wp=40;x.bq=125;x.nu=5;x.tu=10;x.bd=28;x.gu=x.bd;x.lu=8;x.Du="#000000";x.Jk=250;x.Hm=10;x.du=30;x.Mu=750;x.Xu=100;x.ou=!0;x.Au=.45;x.Bu=.65;x.wc={width:96,height:124,url:"sprites.png"};x.Mc="http://www.w3.org/2000/svg";x.xf="http://www.w3.org/1999/xhtml";x.Ja=1;x.Nd=2;x.xa=3;x.Od=4;x.Md=5;x.Li=-1;x.Gk=0;x.Hk=1;x.kz=0;x.lz=1;x.iz=1;x.jz=2;x.Gh=[];x.Gh[x.Ja]=x.Nd;x.Gh[x.Nd]=x.Ja;x.Gh[x.xa]=x.Od;x.Gh[x.Od]=x.xa;x.xc=0;x.yf=1;x.Nc=2;x.ge=3;x.Qp=null;x.Jm=1;x.Rp=2;x.jq="VARIABLE";x.$u="VARIABLE_DYNAMIC";
x.cq="PROCEDURE";x.eq="RENAME_VARIABLE_ID";x.Sp="DELETE_VARIABLE_ID";function Ne(a,b){Ne.u.constructor.call(this);this.j=a;this.di=b||!1}v(Ne,Yd);d=Ne.prototype;d.md=null;d.Cf=null;d.J=function(){return this.A};
d.Z=function(){this.A=x.h.C("g",{"class":"blocklyCursor"},null);var a=this.di?"#4286f4":"#cc0a0a";this.sn=x.h.C("g",{width:100,height:5},this.A);this.Df=x.h.C("rect",{x:"0",y:"0",fill:a,width:100,height:5,style:"display: none;"},this.sn);this.Ef=x.h.C("rect",{"class":"blocklyVerticalCursor",x:"0",y:"0",rx:"10",ry:"10",style:"display: none;",stroke:a},this.sn);this.kl=x.h.C("path",{width:100,height:5,d:"m 0,0 "+Oe+" v 5",transform:"",style:"display: none;",fill:a},this.sn);this.di||(x.h.C("animate",
{attributeType:"XML",attributeName:"fill",dur:"1s",values:"#cc0a0a;transparent;transparent;",repeatCount:"indefinite"},this.Df),x.h.C("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:"#cc0a0a;transparent;transparent;",repeatCount:"indefinite"},this.kl));return this.A};function Pe(a,b){var c=a.md;if(b!=c){var e=a.J();b?b.appendChild(e):c&&a.j.Ea.appendChild(e);a.md=b}}function Qe(a,b,c,e){a.Df.setAttribute("x",b);a.Df.setAttribute("y",c);a.Df.setAttribute("width",e)}
function Re(a,b,c,e,f){a.Ef.setAttribute("x",b);a.Ef.setAttribute("y",c);a.Ef.setAttribute("width",e);a.Ef.setAttribute("height",f)}function Se(a){a.pa();a.Cf.style.display=""}d.pa=function(){this.Df.style.display="none";this.Ef.style.display="none";this.kl.style.display="none"};
d.St=function(){if(this.hb){var a=this.hb;if(a.rc===Te)a=this.hb.ea,this.Cf=this.Ef,Pe(this,a.J()),Re(this,0,0,a.width,a.height),Se(this);else if(a.ea.type===x.Ja||a.rc===ae)a=this.hb.ea,this.Cf=this.kl,Pe(this,a.v.J()),this.kl.setAttribute("transform","translate("+a.$g.x+","+a.$g.y+")"+(a.v.w?" scale(-1 1)":"")),Se(this);else if(a.ea.type===x.xa){a=this.hb.ea;var b=a.$g.y,c=a.v.tb().width;this.Cf=this.Df;Pe(this,a.v.J());Qe(this,0,b,c);Se(this)}else if(a.rc===Ue)a=this.hb.ea,b=a.v.tb().width,this.Cf=
this.Df,Pe(this,a.v.J()),Qe(this,0,0,b),Se(this);else if(a.rc===Ve)a=this.hb.ea,b=a.yc.width.baseVal.value,c=a.yc.height.baseVal.value,this.Cf=this.Ef,Pe(this,a.J()),Re(this,0,0,b,c),Se(this);else if(a.rc===We)a=this.hb.Ki,this.Cf=this.Df,Pe(this,this.j.Ea),Qe(this,a.x,a.y,100),Se(this);else if(a.rc===Xe){a=this.hb.ea;c=a.tb();b=c.width+10;c=c.height+10;var e=-5;a.K&&(e-=J);this.Cf=this.Ef;Pe(this,a.J());Re(this,e,-5,b,c);Se(this)}}};d.next=function(){return this.di?null:Ne.u.next.call(this)};
d.Cj=function(){return this.di?null:Ne.u.Cj.call(this)};d.yi=function(){return this.di?null:Ne.u.yi.call(this)};d.Vj=function(){return this.di?null:Ne.u.Vj.call(this)};x.Ia={};x.Ia.An=0;x.Ia.rl=null;x.Ia.iw=function(a){var b=a.s,c=a.J();b.zd.play("delete");a=Ye(b,c);c=c.cloneNode(!0);c.Vy=a.x;c.Wy=a.y;c.setAttribute("transform","translate("+a.x+","+a.y+")");M(b).appendChild(c);c.vq=c.getBBox();x.Ia.Er(c,b.w,new Date,b.scale)};x.Ia.Er=function(a,b,c,e){var f=(new Date-c)/150;1<f?x.h.removeNode(a):(a.setAttribute("transform","translate("+(a.Vy+(b?-1:1)*a.vq.width*e/2*f)+","+(a.Wy+a.vq.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(x.Ia.Er,10,a,b,c,e))};
x.Ia.Ov=function(a){var b=a.s,c=b.scale;b.zd.play("click");if(!(1>c)){var e=Ye(b,a.J());a.K?(e.x+=(a.w?3:-3)*c,e.y+=13*c):a.N&&(e.x+=(a.w?-23:23)*c,e.y+=3*c);a=x.h.C("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},M(b));x.Ia.Rq(a,new Date,c)}};x.Ia.Rq=function(a,b,c){var e=(new Date-b)/150;1<e?x.h.removeNode(a):(a.setAttribute("r",25*e*c),a.style.opacity=1-e,x.Ia.An=setTimeout(x.Ia.Rq,10,a,b,c))};
x.Ia.hw=function(a){a.s.zd.play("disconnect");if(!(1>a.s.scale)){var b=a.tb().height;b=Math.atan(10/b)/Math.PI*180;a.w||(b*=-1);x.Ia.Dr(a.J(),b,new Date)}};x.Ia.Dr=function(a,b,c){var e=(new Date-c)/200;1<e?a.lh="":(a.lh="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*b)+")",x.Ia.rl=a,x.Ia.An=setTimeout(x.Ia.Dr,10,a,b,c));a.setAttribute("transform",a.pf+a.lh)};x.Ia.Bn=function(){if(x.Ia.rl){clearTimeout(x.Ia.An);var a=x.Ia.rl;a.lh="";a.setAttribute("transform",a.pf);x.Ia.rl=null}};function Ze(a,b){Ze.u.constructor.call(this,a,b);this.$g=new B(0,0)}v(Ze,ze);function $e(a,b){var c=a.vb-b.vb;a=a.Ha-b.Ha;return Math.sqrt(c*c+a*a)}function Ce(a,b){if(!a.v.s.Yb()){var c=af(a.v);if(!c.Fc){var e=!1;if(!c.Jb()){c=af(b.v);if(!c.Jb())return;b=a;e=!0}var f=x.selected==c;f||c.Jh();var h=b.vb+x.bd+Math.floor(Math.random()*x.Hm)-a.vb,k=b.Ha+x.bd+Math.floor(Math.random()*x.Hm)-a.Ha;e&&(k=-k);c.w&&(h=b.vb-x.bd-Math.floor(Math.random()*x.Hm)-a.vb);c.moveBy(h,k);f||c.fh()}}}d=Ze.prototype;
d.moveTo=function(a,b){this.Nf&&Ee(this.Dd,this);this.vb=a;this.Ha=b;this.we||Je(this.Dd,this)};d.moveBy=function(a,b){this.moveTo(this.vb+a,this.Ha+b)};function bf(a,b){a.moveTo(b.x+a.$g.x,b.y+a.$g.y)}function cf(a,b,c){a.$g.x=b;a.$g.y=c}function df(a){var b=a.U.vb-a.vb,c=a.U.Ha-a.Ha;if(0!=b||0!=c){a=G(a);var e=a.J();if(!e)throw Error("block is not rendered.");e=x.h.Dc(e);a.J().setAttribute("transform","translate("+(e.x-b)+","+(e.y-c)+")");ef(a,-b,-c)}}
d.closest=function(a,b){var c=this.ll;if(c.pb.length){var e=this.Ha,f=this.vb;this.vb=f+b.x;this.Ha=e+b.y;var h=Ke(c,this);b=null;for(var k=a,l,m=h-1;0<=m&&Math.abs(c.pb[m].Ha-this.Ha)<=a;)l=c.pb[m],this.Sl(l,k)&&(b=l,k=$e(l,this)),m--;for(;h<c.pb.length&&Math.abs(c.pb[h].Ha-this.Ha)<=a;)l=c.pb[h],this.Sl(l,k)&&(b=l,k=$e(l,this)),h++;this.vb=f;this.Ha=e;a={connection:b,om:k}}else a={connection:null,om:a};return a};
d.Pl=function(){var a=this.type==x.Ja||this.type==x.Nd?"m 0,0 "+Oe+" v 5":"m -20,0 h 5 l 6,4 3,0 6,-4 h 5";var b=this.v.ta();ze.hs=x.h.C("path",{"class":"blocklyHighlightedConnectionPath",d:a,transform:"translate("+(this.vb-b.x)+","+(this.Ha-b.y)+")"+(this.v.w?" scale(-1 1)":"")},this.v.J())};
function ff(a){gf(a,!1);var b=[];if(a.type!=x.Ja&&a.type!=x.xa)return b;if(a=G(a)){if(a.isCollapsed()){var c=[];a.K&&c.push(a.K);a.M&&c.push(a.M);a.N&&c.push(a.N)}else c=a.Hd(!0);for(var e=0;e<c.length;e++)b.push.apply(b,ff(c[e]));b.length||(b[0]=a)}return b}function gf(a,b){(a.we=b)&&a.Nf?Ee(a.Dd,a):b||a.Nf||Je(a.Dd,a)}function hf(a){gf(a,!0);if(a.U){a=Xc(G(a),!1);for(var b=0;b<a.length;b++){for(var c=a[b],e=c.Hd(!0),f=0;f<e.length;f++)gf(e[f],!0);c=jf(c);for(f=0;f<c.length;f++)c[f].qa(!1)}}}
d.Sl=function(a,b){return $e(this,a)>b?!1:Ze.u.Sl.call(this,a)};d.connect=function(a){Ze.u.connect.call(this,a);if(this.we||a.we){a=Fe(this)?this:a;a.we?hf(a):ff(a);var b=G(a);b.J().style.display=a.we?"none":"block";b.S=!a.we}};d.disconnect=function(){var a=Fe(this)?this:this.U;if(this.U&&a.we){ff(a);var b=G(a);b.J().style.display="block";b.S=!0;gf(a,!0)}Ze.u.disconnect.call(this)};d.zn=function(a,b){Ze.u.zn.call(this,a,b);a.S&&a.ca();b.S&&(Ud(b),b.ca())};
d.fp=function(){var a=this.v,b=this.Ge;if(a.s&&b&&x.i.$b){Ze.u.fp.call(this);b=G(this);if(!b)throw Error("Couldn't respawn the shadow block that should exist here.");b.Kd();b.ca(!1);a.S&&!this.we&&a.ca()}};d.Gs=function(a){return Me(this.ll,this,a)};d.fl=function(a){Ze.u.fl.call(this,a);var b=this.v;a=a.v;b.S&&Ud(b);a.S&&Ud(a);b.S&&a.S&&(this.type==x.xa||this.type==x.Od?a.ca():b.ca())};d.Ms=function(){this.isConnected()&&!Be(this,this.U)&&(Hd(Fe(this)?G(this):this.v),this.v.Gb())};function kf(a){this.ee=x.selected=a;this.j=a.s;this.Tg=this.so=null;this.Sh=lf(this,this.ee);this.Kb=this.Sa=null;this.Oe=!1;this.ni=null;this.co=!1;this.bi=null;a=this.ee.Hd(!1);var b;a:{for(b=this.ee.M;b;){var c=G(b);if(!c)break a;b=c.M}b=null}b&&b!=this.ee.M&&(a.push(b),this.so=b,this.Tg=lf(this,b.v));this.Zm=a}
kf.prototype.D=function(){this.j=this.ee=null;this.Zm.length=0;this.Kb=this.Sa=null;x.i.disable();try{this.Sh&&(this.Sh.D(),this.Sh=null),this.Tg&&(this.Tg.D(),this.Tg=null)}finally{x.i.enable()}this.bi=null};
kf.prototype.update=function(a,b){var c=this.Sa&&this.Kb?x.gu:x.bd;for(var e=null,f=null,h=0;h<this.Zm.length;h++){var k=this.Zm[h],l=k.closest(c,a);l.connection&&(e=l.connection,f=k,c=l.om)}e=(c={closest:e,local:f,om:c},!!c.closest)&&b!=x.Rp;if((this.Oe=!!b&&!this.ee.getParent()&&this.ee.Xb()&&!e)||mf(this,c,a)){x.i.disable();c.closest?(a=this.Sa!=c.closest,b=this.Kb!=c.local,this.Sa&&this.Kb&&(a||b||this.Oe)&&nf(this)):nf(this);this.Kb=this.Sa=this.ni=null;if(!this.Oe&&(a=c.closest,b=c.local,a))if(a==
this.Sa||a.v.Vd)console.log("trying to connect to an insertion marker");else{this.Sa=a;this.Kb=b;a=this.Sa;b=this.Kb;if(b.type==x.Nd)a=a.isConnected()&&!Ae(this.ee,a.U.v);else{a:{for(c=0;e=b.v.L[c];c++)if(e.connection&&e.connection.type==x.xa){c=e.connection;break a}c=null}a=b==c?0:!this.ee.M&&b.type==x.Od&&a.isConnected()}if(a)a=this.Sa,b=this.Kb,G(a)?(this.bi=G(a),of(G(a),!0)):b.type==x.Nd&&(this.bi=a.v,a.v.Xw(a,!0)),this.co=!0;else{c=this.Kb;a=this.Sa;b=this.so&&c==this.so?this.Tg:this.Sh;a:{f=
c.v;e=b.Hd(!0);f=f.Hd(!0);if(e.length!=f.length)throw Error("Connection lists did not match in length.");for(h=0;h<f.length;h++)if(f[h]==c){c=e[h];break a}c=null}b.ca();b.S=!0;b.J().setAttribute("visibility","visible");pf(b,c,a);c.connect(a);this.ni=c}this.Sa&&this.Sa.Pl()}x.i.enable()}};
function lf(a,b){var c=b.type;x.i.disable();try{var e=a.j.si(c);e.vt(!0);if(b.Zb){var f=b.Zb();f&&e.Ed(f)}for(a=0;a<b.L.length;a++){var h=b.L[a];for(c=0;c<h.na.length;c++){var k=h.na[c];Cd(e,k.getValue(),k.name)}}e.Kd();e.J().setAttribute("visibility","hidden")}finally{x.i.enable()}return e}
function mf(a,b,c){var e=b.local,f=b.closest;b=b.om;if(e&&f){if(a.Kb&&a.Sa){if(a.Sa==f&&a.Kb==e)return!1;e=a.Kb.vb+c.x-a.Sa.vb;a=a.Kb.Ha+c.y-a.Sa.Ha;a=Math.sqrt(e*e+a*a);return!(f&&b>a-x.lu)}if(a.Kb||a.Sa)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.Kb||!a.Sa);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function nf(a){a.Sa&&(x.h.removeNode(ze.hs),delete ze.hs);if(a.co){var b=a.Sa;b.type!=x.Ja||b.isConnected()?of(a.bi,!1):a.bi.Xw(b,!1);a.bi=null;a.co=!1}else if(a.ni)if(a.ni){b=a.ni;var c=b.v,e=c.M,f=c.N,h=c.K;h=b.type==x.Ja&&!(h&&h.U);!(b!=e||f&&f.U)||h?Hd(G(b),!1):b.type==x.xa&&b!=e?(e=b.U,Hd(e.v,!1),f=f?f.U:null,Hd(c,!0),f&&f.connect(e)):Hd(c,!0);if(b.U)throw"markerConnection_ still connected at the end of disconnectInsertionMarker";a.ni=null;c.J().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
kf.prototype.Wh=function(){var a=[];this.Sh&&a.push(this.Sh);this.Tg&&a.push(this.Tg);return a};function qf(a,b){this.Ua=a;this.j=b;this.me=new kf(this.Ua);this.zg=null;this.Oe=!1;this.Je=this.Ua.ta();b=[];a=Xc(a,!1);for(var c=0,e;e=a[c];c++){e=jf(e);for(var f=0;f<e.length;f++)b.push({location:e[f].Ng,icon:e[f]})}this.ul=b}qf.prototype.D=function(){this.Eb=this.j=this.Ua=null;this.ul.length=0;this.me&&(this.me.D(),this.me=null)};
function rf(a,b,c){c=a.ui(c);a.Ua.fm(Ac(a.Je,c));for(var e=0;e<a.ul.length;e++){var f=a.ul[e],h=f.icon;f=Ac(f.location,c);h.Ng=f;h.isVisible()&&(h=h.Ra,h.fb=f,h.gg&&ie(h))}a.zg=sf(a.j,b);a.me.update(c,a.zg);a.Oe=a.me.Oe;b=a.j.cc;a.Oe?(a.Ua.ck(!0),a.zg==x.Jm&&b&&tf(b,!0)):(a.Ua.ck(!1),b&&tf(b,!1))}
function uf(a,b,c){rf(a,b,c);a.ul=[];Rd();x.Ia.Bn();b=a.ui(c);a.Ua.Fs(Ac(a.Je,b));c=a.j.cc;a.Oe?(c&&setTimeout(c.close.bind(c),100),a.ij(),a.Ua.D(!1,!0)):c&&c.close();a.Oe||(ef(a.Ua,b.x,b.y),a.Ua.kg(!1),a.ij(),a.me.Sa?(b=a.me,b.Sa&&(x.i.disable(),nf(b),x.i.enable(),b.Kb.connect(b.Sa),b.ee.S&&(x.Ia.Ov((Fe(b.Kb)?b.Sa:b.Kb).v),vf(af(b.ee))))):a.Ua.ca(),wf(a.Ua));a.j.Qb(!0);(b=a.j.W)&&x.h.ib(b.vc,a.Ua.Xb()?"blocklyToolboxDelete":"blocklyToolboxGrab");x.i.P(!1)}
qf.prototype.ij=function(){var a=new x.i.Ah(this.Ua);a.Ho=this.Je;a.De();x.i.T(a)};qf.prototype.ui=function(a){a=new B(a.x/this.j.scale,a.y/this.j.scale);this.j.ei&&(a=a.scale(1/this.j.options.Tc.scale));return a};qf.prototype.Wh=function(){return this.me&&this.me.Wh?this.me.Wh():[]};function xf(a,b,c,e,f){this.A=x.h.C("g",{"class":"blocklyComment"},null);this.A.pf="";this.pk=x.h.C("rect",{"class":"blocklyCommentRect",x:0,y:0,rx:3,ry:3});this.A.appendChild(this.pk);this.gg=!1;this.Ne=x.h.Rf()&&!!a.ob;xf.u.constructor.call(this,a,b,c,e,f);this.ca()}v(xf,Pd);d=xf.prototype;
d.D=function(){if(this.s){if(x.selected==this){this.rf();var a=this.s;a.rb&&a.rb.cancel()}x.i.isEnabled()&&x.i.T(new sd(this));x.h.removeNode(this.A);this.oh=this.og=this.gd=this.kb=this.pk=this.A=null;this.Ze=!0;x.i.disable();xf.u.D.call(this);x.i.enable()}};d.Kd=function(){if(!this.s.S)throw TypeError("Workspace is headless.");this.s.options.readOnly||this.Gn||(x.R(this.og,"mousedown",this,this.Xs),x.R(this.oh,"mousedown",this,this.Xs));this.Gn=!0;yf(this);this.J().parentNode||this.s.sd.appendChild(this.J())};
d.Xs=function(a){var b=this.s.te(a);b&&qe(b,a,this)};d.Ci=function(a){if(!this.s.options.readOnly){var b=[];this.Xb()&&this.Jb()&&(b.push(x.la.Jv(this)),b.push(x.la.Iv(this)));x.la.show(a,b,this.w)}};d.select=function(){if(x.selected!=this){var a=null;if(x.selected){a=x.selected.id;x.i.disable();try{x.selected.rf()}finally{x.i.enable()}}a=new C(null,"selected",a,this.id);a.mb=this.s.id;x.i.T(a);x.selected=this;this.Jh()}};
d.rf=function(){if(x.selected==this){var a=new C(null,"selected",this.id,null);a.mb=this.s.id;x.i.T(a);x.selected=null;this.fh();zf(this)}};d.Jh=function(){x.h.Na(this.A,"blocklySelected");this.qp()};d.fh=function(){x.h.ib(this.A,"blocklySelected");zf(this)};
d.ta=function(){var a=0,b=0,c=this.Ne?this.s.ob.zb():null,e=this.J();if(e){do{var f=x.h.Dc(e);a+=f.x;b+=f.y;this.Ne&&this.s.ob.Fd.firstChild==e&&(f=this.s.ob.Kl(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.s.sd&&e!=c)}return this.vd=new B(a,b)};d.moveBy=function(a,b){var c=new rd(this),e=this.ta();this.translate(e.x+a,e.y+b);this.vd=new B(e.x+a,e.y+b);c.De();x.i.T(c);Vd(this.s)};d.translate=function(a,b){this.vd=new B(a,b);this.J().setAttribute("transform","translate("+a+","+b+")")};
d.gm=function(){if(this.Ne){var a=this.ta();x.h.removeAttribute(this.J(),"transform");this.s.ob.nf(a.x,a.y);Af(this.s.ob,this.J())}};d.Fs=function(a){this.Ne&&(this.translate(a.x,a.y),this.s.ob.Wi(this.s.Ea))};d.fm=function(a,b){a?a.nf(b.x,b.y):(this.A.pf="translate("+b.x+","+b.y+")",this.A.setAttribute("transform",this.A.pf+this.A.lh))};d.moveTo=function(a,b){this.translate(a,b)};
d.zl=function(){var a=this.ta(),b=this.tb();if(this.w){var c=new B(a.x-b.width,a.y);a=new B(a.x,a.y+b.height)}else c=new B(a.x,a.y),a=new B(a.x+b.width,a.y+b.height);return{Kc:c,cd:a}};function yf(a){a.Jb()?x.h.Na(a.A,"blocklyDraggable"):x.h.ib(a.A,"blocklyDraggable")}d.jh=function(a){xf.u.jh.call(this,a);yf(this)};d.kg=function(a){a?(a=this.J(),a.pf="",a.lh="",x.h.Na(this.A,"blocklyDragging")):x.h.ib(this.A,"blocklyDragging")};d.J=function(){return this.A};
d.If=function(){return this.kb?this.kb.value:this.Oc};d.Ee=function(a){xf.u.Ee.call(this,a);this.kb&&(this.kb.value=a)};d.ck=function(a){a?x.h.Na(this.A,"blocklyDraggingDelete"):x.h.ib(this.A,"blocklyDraggingDelete")};d.st=function(){};function Nd(a,b,c){x.i.disable();try{var e=Od(a),f=new xf(b,e.content,e.Yr,e.Wt,e.id);b.S&&(f.Kd(),f.ca(!1));if(!isNaN(e.x)&&!isNaN(e.y))if(b.w){var h=c||b.mc();f.moveBy(h-e.x,e.y)}else f.moveBy(e.x,e.y)}finally{x.i.enable()}Qd(f);return f}
d.vk=function(a){var b;this.s.w&&(b=this.s.mc());a=this.tk(a);var c=this.ta();a.setAttribute("x",Math.round(this.s.w?b-c.x:c.x));a.setAttribute("y",Math.round(c.y));a.setAttribute("h",this.Vh());a.setAttribute("w",this.mc());return a};function Bf(a,b){this.yb=a;this.j=b;this.zg=null;this.Dm=!1;this.Je=this.yb.ta();this.Cg=x.h.Rf()&&b.ob?b.ob:null}Bf.prototype.D=function(){this.Cg=this.j=this.yb=null};function Cf(a,b,c){c=a.ui(c);a.yb.fm(a.Cg,Ac(a.Je,c));a.yb.Xb()&&(a.zg=sf(a.j,b),a.Dm=a.zg!=x.Qp,b=a.j.cc,a.Dm?(a.yb.ck(!0),a.zg==x.Jm&&b&&tf(b,!0)):(a.yb.ck(!1),b&&tf(b,!1)))}
function Df(a,b,c){Cf(a,b,c);b=a.ui(c);b=Ac(a.Je,b);a.yb.moveTo(b.x,b.y);b=a.j.cc;a.Dm?(b&&setTimeout(b.close.bind(b),100),a.ij(),a.yb.D(!1,!0)):b&&b.close();a.Dm||(a.Cg&&a.Cg.Wi(a.j.sd),a.yb.kg&&a.yb.kg(!1),a.ij());a.j.Qb(!0);a.j.W&&x.h.ib(a.j.W.vc,a.yb.Xb()?"blocklyToolboxDelete":"blocklyToolboxGrab");x.i.P(!1)}Bf.prototype.ij=function(){if(this.yb.no){var a=new rd(this.yb);a.Io=this.Je;a.De();x.i.T(a)}};
Bf.prototype.ui=function(a){a=new B(a.x/this.j.scale,a.y/this.j.scale);this.j.ei&&(a=a.scale(1/this.j.options.Tc.scale));return a};Bf.prototype.gm=function(){this.yb.moveTo(0,0);this.Cg.nf(this.Je.x,this.Je.y);Af(this.Cg,this.yb.J())};function Ef(a){this.j=a;this.Hy=new B(a.scrollX,a.scrollY)}Ef.prototype.D=function(){this.j=null};Ef.prototype.xm=function(){x.selected&&x.selected.rf();Ff(this.j)};Ef.prototype.Bg=function(a){a=Ac(this.Hy,a);this.j.scroll(a.x,a.y)};function Gf(a){Gf.u.constructor.call(this,a.Kf());this.Pb=a.Pb;this.xe=a.xe}v(Gf,Ef);x.F={};x.F.visible=!1;x.F.Lh=!1;x.F.Gu=50;x.F.Es=0;x.F.ik=0;x.F.uo=0;x.F.vo=0;x.F.Y=null;x.F.km=null;x.F.Yp=0;x.F.Zp=10;x.F.Tu=10;x.F.zu=750;x.F.Km=5;x.F.ka=null;x.F.Z=function(){x.F.ka||(x.F.ka=document.createElement("div"),x.F.ka.className="blocklyTooltipDiv",document.body.appendChild(x.F.ka))};x.F.wg=function(a){x.Tb(a,"mouseover",null,x.F.Yx);x.Tb(a,"mouseout",null,x.F.Xx);a.addEventListener("mousemove",x.F.Wx,!1)};
x.F.Yx=function(a){if(!x.F.Lh){for(a=a.target;"string"!=typeof a.Xc&&"function"!=typeof a.Xc;)a=a.Xc;x.F.Y!=a&&(x.F.pa(),x.F.km=null,x.F.Y=a);clearTimeout(x.F.Es)}};x.F.Xx=function(){x.F.Lh||(x.F.Es=setTimeout(function(){x.F.Y=null;x.F.km=null;x.F.pa()},1),clearTimeout(x.F.ik))};
x.F.Wx=function(a){if(x.F.Y&&x.F.Y.Xc&&!x.I.isVisible()&&!x.F.Lh)if(x.F.visible){var b=x.F.uo-a.pageX;a=x.F.vo-a.pageY;Math.sqrt(b*b+a*a)>x.F.Tu&&x.F.pa()}else x.F.km!=x.F.Y&&(clearTimeout(x.F.ik),x.F.uo=a.pageX,x.F.vo=a.pageY,x.F.ik=setTimeout(x.F.Cy,x.F.zu))};x.F.pa=function(){x.F.visible&&(x.F.visible=!1,x.F.ka&&(x.F.ka.style.display="none"));x.F.ik&&clearTimeout(x.F.ik)};x.F.block=function(){x.F.pa();x.F.Lh=!0};x.F.Xy=function(){x.F.Lh=!1};
x.F.Cy=function(){if(!x.F.Lh&&(x.F.km=x.F.Y,x.F.ka)){x.F.ka.innerHTML="";for(var a=x.F.Y.Xc;"function"==typeof a;)a=a();a=x.h.Zt(a,x.F.Gu);a=a.split("\n");for(var b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b]));x.F.ka.appendChild(c)}a=x.F.Y.w;b=Hc();x.F.ka.style.direction=a?"rtl":"ltr";x.F.ka.style.display="block";x.F.visible=!0;c=x.F.uo;c=a?c-(x.F.Yp+x.F.ka.offsetWidth):c+x.F.Yp;var e=x.F.vo+x.F.Zp;e+x.F.ka.offsetHeight>b.height+window.scrollY&&
(e-=x.F.ka.offsetHeight+2*x.F.Zp);a?c=Math.max(x.F.Km-window.scrollX,c):c+x.F.ka.offsetWidth>b.width+window.scrollX-2*x.F.Km&&(c=b.width-x.F.ka.offsetWidth-2*x.F.Km);x.F.ka.style.top=e+"px";x.F.ka.style.left=c+"px"}};function Hf(a,b){this.Eb=this.Rb=this.mh=this.nh=this.qd=this.Bc=this.Ds=null;this.Xq=b;this.Fj=this.Sg=this.Gj=this.Ig=!1;this.Wd=a;this.G=this.sg=this.Qd=this.Se=this.jm=this.im=null;this.Ul=this.Jg=this.Aq=!1;this.fs=!x.ou}d=Hf.prototype;d.D=function(){x.Touch.We();x.F.Xy();this.Xq.rb=null;this.im&&x.Fa(this.im);this.jm&&x.Fa(this.jm);this.G=this.Eb=this.Rb=this.mh=this.nh=null;this.Qd&&(this.Qd.D(),this.Qd=null);this.sg&&(this.sg.D(),this.sg=null);this.Se&&(this.Se.D(),this.Se=null)};
function If(a,b){a.Bc=zc(new B(b.clientX,b.clientY),a.Ds);if(a.Ig)var c=!1;else c=a.Bc,a.Ig=Math.sqrt(c.x*c.x+c.y*c.y)>(a.G?x.tu:x.nu),c=a.Ig;if(c){if(a.Aq)throw Error("updateIsDragging_ should only be called once per gesture.");a.Aq=!0;if(a.qd){a.Fj=!0;a.Se=new Bf(a.qd,a.Eb);c=a.Se;x.i.zb()||x.i.P(!0);c.j.Qb(!1);c.yb.st(!1);c.Cg&&c.gm();c.yb.kg&&c.yb.kg(!0);var e=c.j.W;e&&x.h.Na(e.vc,c.yb.Xb()?"blocklyToolboxDelete":"blocklyToolboxGrab");Cf(a.Se,a.Wd,a.Bc);c=!0}else c=!1;if(!c){if(a.Rb)if(a.G?(a.G.ps(a.Rb)?
!Jf(a.G)||a.G.qs(a.Bc)?(a.Eb=a.G.ra,Kf(a.Eb),x.i.zb()||x.i.P(!0),a.mh=null,a.Rb=Lf(a.G,a.Rb),a.Rb.select(),c=!0):c=!1:c=!1,a.Sg=c):a.Rb.Jb()&&(a.Sg=!0),a.Sg){a.Qd=new qf(a.Rb,a.Eb);c=a.Qd;e=a.Bc;var f=a.fs;x.i.zb()||x.i.P(!0);c.j.ei&&vf(c.Ua);Md();c.j.Qb(!1);x.Ia.Bn();if(c.Ua.getParent()||f&&c.Ua.M&&G(c.Ua.M))Hd(c.Ua,f),e=c.ui(e),e=Ac(c.Je,e),c.Ua.translate(e.x,e.y),x.Ia.hw(c.Ua);c.Ua.kg(!0);c.Ua.gm();(e=c.j.W)&&x.h.Na(e.vc,c.Ua.Xb()?"blocklyToolboxDelete":"blocklyToolboxGrab");rf(a.Qd,a.Wd,a.Bc);
c=!0}else c=!1;else c=!1;if(c=!c)if(a.G)c=Jf(a.G);else if(c=a.Eb)c=a.Eb,c=c.options.Lb&&c.options.Lb.Bg;c&&(a.sg=a.G?new Gf(a.G):new Ef(a.Eb),a.Gj=!0,a.sg.xm())}x.Xf()}a.Wd=b}
d.Cn=function(a){x.h.Xl(a)?this.cancel():(this.Jg=!0,x.Ia.Bn(),Kf(this.Eb),this.Eb.ei&&this.Eb.resize(),Mf(this.Eb),this.Wd=a,x.Wb(!!this.G),x.F.block(),this.Rb&&(this.Rb.select(),!this.Rb.Fc&&a.shiftKey&&x.o.xl()),x.h.Uf(a)?gd(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||x.wx(a,this),this.Ds=new B(a.clientX,a.clientY),this.fs=a.altKey||a.ctrlKey||a.metaKey,this.wg(a)))};
d.wg=function(a){this.im=x.R(document,"mousemove",null,this.wj.bind(this));this.jm=x.R(document,"mouseup",null,this.Nl.bind(this));a.preventDefault();a.stopPropagation()};d.wj=function(a){If(this,a);this.Gj?this.sg.Bg(this.Bc):this.Sg?rf(this.Qd,this.Wd,this.Bc):this.Fj&&Cf(this.Se,this.Wd,this.Bc);a.preventDefault();a.stopPropagation()};
d.Nl=function(a){If(this,a);x.Xf();if(this.Ul)console.log("Trying to end a gesture recursively.");else{this.Ul=!0;if(this.Fj)Df(this.Se,a,this.Bc);else if(this.Sg)uf(this.Qd,a,this.Bc);else if(this.Gj){var b=this.sg;b.Bg(this.Bc);Nf(b.j)}else if(this.qd&&!this.Ig)this.qd.qp&&this.qd.qp(),this.qd.select&&this.qd.select();else if(Of(this))this.nh.mf(),Pf(this);else if(this.mh&&!this.Ig&&!Of(this))this.G&&this.G.Kh?this.Rb.disabled||(x.i.zb()||x.i.P(!0),wf(Lf(this.G,this.Rb))):x.i.T(new C(this.mh,"click",
void 0,void 0)),Pf(this),x.i.P(!1);else if(!(this.mh||this.qd||this.nh||this.Ig))if(x.ki=!1,b=this.Xq,b.cursor.pa(),a.shiftKey){var c=x.h.wy(b,new B(a.clientX,a.clientY));c=Qf(b,c);Zd(b.cursor,c);x.ki=!0}else x.selected&&x.selected.rf();a.preventDefault();a.stopPropagation();this.D()}};d.cancel=function(){if(!this.Ul){x.Xf();if(this.Fj)Df(this.Se,this.Wd,this.Bc);else if(this.Sg)uf(this.Qd,this.Wd,this.Bc);else if(this.Gj){var a=this.sg;a.Bg(this.Bc);Nf(a.j)}this.D()}};
function gd(a,b){a.Rb?(Pf(a),x.Wb(a.G),a.Rb.Ci(b)):a.qd?a.qd.Ci(b):a.Eb&&!a.G&&(x.Wb(),a.Eb.Ci(b));b.preventDefault();b.stopPropagation();a.D()}function Rf(a,b,c){if(a.Jg)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Eb||(a.Eb=c);a.Wd=b;a.Cn(b)}function Sf(a,b,c){if(a.Jg)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.G||(a.G=c);Rf(a,b,c.Kf())}
function qe(a,b,c){if(a.Jg)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");a.qd||(a.qd=c);a.Wd=b}function Pf(a){a.Rb&&!a.G&&vf(a.Rb)}function Tf(a,b){a.mh||a.qd||(a.mh=b,b.Fc&&b!=af(b)?Uf(a,af(b)):Uf(a,b))}function Uf(a,b){b.Da?Uf(a,b.getParent()):a.Rb=b}function Of(a){return(a.nh?Vf(a.nh):!1)&&!a.Ig&&(!a.G||!a.G.Kh)}d.Yb=function(){return this.Gj||this.Sg||this.Fj};d.Wh=function(){return this.Qd?this.Qd.Wh():[]};
function Wf(){for(var a=fe(),b=0,c;c=a[b];b++)if(c.rb)return!0;return!1};function Xf(a,b){this.Xh=a;this.yp=b.spacing;this.vs=b.length;this.px=(this.xo=a.firstChild)&&this.xo.nextSibling;this.Dy=b.snap}Xf.prototype.hg=1;Xf.prototype.D=function(){this.Xh=null};Xf.prototype.update=function(a){this.hg=a;var b=this.yp*a||100;this.Xh.setAttribute("width",b);this.Xh.setAttribute("height",b);b=Math.floor(this.yp/2)+.5;var c=b-this.vs/2,e=b+this.vs/2;b*=a;c*=a;e*=a;Yf(this.xo,a,c,e,b,b);Yf(this.px,a,b,b,c,e)};
function Yf(a,b,c,e,f,h){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",c),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",h))}Xf.prototype.moveTo=function(a,b){this.Xh.setAttribute("x",a);this.Xh.setAttribute("y",b);(z||fc)&&this.update(this.hg)};x.iq={};
x.iq.mu=new function(){this.tv={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};this.yv={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},
math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}}};function Zf(a){var b=!!a.readOnly;if(b)var c=null,e=!1,f=!1,h=!1,k=!1,l=!1,m=!1;else{c=$f(a.toolbox);e=!(!c||!c.getElementsByTagName("category").length);f=a.trashcan;void 0===f&&(f=e);var n=a.maxTrashcanContents;f?void 0===n&&(n=32):n=0;h=a.collapse;void 0===h&&(h=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var t=!!a.rtl,u=a.horizontalLayout;void 0===u&&(u=!1);var r=a.toolboxPosition;r="end"===r?!1:!0;r=u?r?x.xc:x.yf:r==t?x.ge:x.Nc;var p=a.css;void 0===
p&&(p=!0);var w="https://blockly-demo.appspot.com/static/media/";a.media?w=a.media:a.path&&(w=a.path+"media/");var E=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,K=a.theme||x.iq.mu;this.w=t;this.$f=E;this.collapse=h;this.Kv=k;this.disable=l;this.readOnly=b;this.Oj=a.maxBlocks||Infinity;this.Bo=a.maxInstances;this.Zd=w;this.$r=e;b=a.move||{};h={};h.scrollbars=void 0===b.scrollbars&&void 0===a.scrollbars?e:!!b.scrollbars||!!a.scrollbars;h.xh=h.scrollbars&&void 0!==b.wheel?!!b.wheel:!1;h.Bg=h.scrollbars?
void 0===b.drag?!0:!!b.drag:!1;this.Lb=h;this.ds=f;this.pi=n;this.Uw=m;this.Tw=p;this.Rc=u;this.Be=c;c=a.grid||{};e={};e.spacing=parseFloat(c.spacing)||0;e.Lq=c.colour||"#888";e.length=parseFloat(c.length)||1;e.pA=0<e.spacing&&!!c.snap;this.Wr=e;a=a.zoom||{};c={};c.controls=void 0===a.controls?!1:!!a.controls;c.xh=void 0===a.wheel?!1:!!a.wheel;c.Ft=void 0===a.startScale?1:parseFloat(a.startScale);c.Pj=void 0===a.maxScale?3:parseFloat(a.maxScale);c.Qj=void 0===a.minScale?.3:parseFloat(a.minScale);
c.vy=void 0===a.scaleSpeed?1.2:parseFloat(a.scaleSpeed);this.Qa=c;this.ga=r;this.Oy=K}Zf.prototype.Tc=null;Zf.prototype.kf=null;Zf.prototype.bb=null;function $f(a){a?("string"!=typeof a&&("undefined"==typeof XSLTProcessor&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=x.B.Wc(a))):a=null;return a};function ag(a){this.j=a;this.jd=new bg(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.ud=new bg(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.$i=x.h.C("rect",{height:L,width:L,"class":"blocklyScrollbarBackground"},null);x.h.Qg(this.$i,a.sd)}ag.prototype.Wa=null;ag.prototype.D=function(){x.h.removeNode(this.$i);this.Wa=this.j=this.$i=null;this.jd.D();this.jd=null;this.ud.D();this.ud=null};
ag.prototype.resize=function(){var a=this.j.bb();if(a){var b=!1,c=!1;this.Wa&&this.Wa.Ba==a.Ba&&this.Wa.Ga==a.Ga&&this.Wa.eb==a.eb&&this.Wa.cb==a.cb?(this.Wa&&this.Wa.zc==a.zc&&this.Wa.$a==a.$a&&this.Wa.qb==a.qb||(b=!0),this.Wa&&this.Wa.jc==a.jc&&this.Wa.lb==a.lb&&this.Wa.gb==a.gb||(c=!0)):c=b=!0;b&&this.jd.resize(a);c&&this.ud.resize(a);this.Wa&&this.Wa.Ba==a.Ba&&this.Wa.cb==a.cb||this.$i.setAttribute("x",this.ud.pc.x);this.Wa&&this.Wa.Ga==a.Ga&&this.Wa.eb==a.eb||this.$i.setAttribute("y",this.jd.pc.y);
this.Wa=a}};ag.prototype.set=function(a,b){var c={};a*=this.jd.Mb;b*=this.ud.Mb;var e=this.ud.Ld,f=a/this.jd.Ld;c.x=isNaN(f)?0:f;e=b/e;c.y=isNaN(e)?0:e;this.j.kf(c);cg(this.jd,a);cg(this.ud,b)};
function bg(a,b,c,e){this.j=a;this.ti=c||!1;this.Mg=b;this.Wa=null;this.aj(e);this.pc=new B(0,0);a=L;b?(this.rd.setAttribute("height",a),this.Ce.setAttribute("height",a),this.Le.setAttribute("height",a-5),this.Le.setAttribute("y",2.5),this.Jj="width",this.Ys="x"):(this.rd.setAttribute("width",a),this.Ce.setAttribute("width",a),this.Le.setAttribute("width",a-5),this.Le.setAttribute("x",2.5),this.Jj="height",this.Ys="y");this.Rs=x.R(this.rd,"mousedown",this,this.Tx);this.Ss=x.R(this.Le,"mousedown",
this,this.Ux)}var dg,eg;d=bg.prototype;d.No=new B(0,0);d.Et=0;d.Ld=0;d.Mf=0;d.xj=0;d.Vf=!0;d.xg=!0;var L=15;cd&&(L=25);bg.prototype.D=function(){fg();x.Fa(this.Rs);this.Rs=null;x.Fa(this.Ss);this.Ss=null;x.h.removeNode(this.Ce);this.j=this.Le=this.rd=this.A=this.Ce=null};function cg(a,b){a.xj=b;a.Le.setAttribute(a.Ys,a.xj)}function gg(a,b){a.Ld=b;a.Ce.setAttribute(a.Jj,a.Ld);a.rd.setAttribute(a.Jj,a.Ld)}ag.prototype.ih=function(a){this.jd.ih(a);this.ud.ih(a)};
function hg(a,b,c){a.pc.x=b;a.pc.y=c;x.h.ak(a.Ce,"translate("+(a.pc.x+a.No.x)+"px,"+(a.pc.y+a.No.y)+"px)")}d=bg.prototype;d.resize=function(a){if(!a&&(a=this.j.bb(),!a))return;var b=this.Wa;a&&b&&a.Ba==b.Ba&&a.Ga==b.Ga&&a.$a==b.$a&&a.lb==b.lb&&a.eb==b.eb&&a.cb==b.cb&&a.zc==b.zc&&a.jc==b.jc&&a.qb==b.qb&&a.gb==b.gb||(this.Wa=a,this.Mg?ig(this,a):jg(this,a),kg(this))};function ig(a,b){var c=b.Ba-1;a.ti&&(c-=L);gg(a,Math.max(0,c));c=b.cb+.5;a.ti&&a.j.w&&(c+=L);hg(a,c,b.eb+b.Ga-L-.5);lg(a,b)}
function lg(a,b){a.ti||a.qa(a.Ld<b.zc);a.Mb=a.Ld/b.zc;if(-Infinity==a.Mb||Infinity==a.Mb||isNaN(a.Mb))a.Mb=0;a.Mf=Math.max(0,b.Ba*a.Mb);a.Le.setAttribute(a.Jj,a.Mf);cg(a,mg(a,(b.$a-b.qb)*a.Mb))}function jg(a,b){var c=b.Ga-1;a.ti&&(c-=L);gg(a,Math.max(0,c));c=b.cb+.5;a.j.w||(c+=b.Ba-L-1);hg(a,c,b.eb+.5);ng(a,b)}
function ng(a,b){a.ti||a.qa(a.Ld<b.jc);a.Mb=a.Ld/b.jc;if(-Infinity==a.Mb||Infinity==a.Mb||isNaN(a.Mb))a.Mb=0;a.Mf=Math.max(0,b.Ga*a.Mb);a.Le.setAttribute(a.Jj,a.Mf);cg(a,mg(a,(b.lb-b.gb)*a.Mb))}
d.aj=function(a){var b="blocklyScrollbar"+(this.Mg?"Horizontal":"Vertical");a&&(b+=" "+a);this.Ce=x.h.C("svg",{"class":b},null);this.A=x.h.C("g",{},this.Ce);this.rd=x.h.C("rect",{"class":"blocklyScrollbarBackground"},this.A);a=Math.floor((L-5)/2);this.Le=x.h.C("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.A);x.h.Qg(this.Ce,M(this.j))};d.isVisible=function(){return this.Vf};d.ih=function(a){var b=a!=this.xg;this.xg=a;b&&this.zk()};
d.qa=function(a){var b=a!=this.isVisible();if(this.ti)throw Error("Unable to toggle visibility of paired scrollbars.");this.Vf=a;b&&this.zk()};d.zk=function(){this.xg&&this.isVisible()?this.Ce.setAttribute("display","block"):this.Ce.setAttribute("display","none")};
d.Tx=function(a){Mf(this.j);x.Touch.We();fg();if(x.h.Uf(a))a.stopPropagation();else{var b=x.h.Rj(a,M(this.j),og(this.j));b=this.Mg?b.x:b.y;var c=x.h.nj(this.Le);c=this.Mg?c.x:c.y;var e=this.xj,f=.95*this.Mf;b<=c?e-=f:b>=c+this.Mf&&(e+=f);cg(this,mg(this,e));kg(this);a.stopPropagation();a.preventDefault()}};
d.Ux=function(a){Mf(this.j);fg();x.h.Uf(a)?a.stopPropagation():(this.Gy=this.xj,Ff(this.j),this.Et=this.Mg?a.clientX:a.clientY,dg=x.R(document,"mouseup",this,this.Zx),eg=x.R(document,"mousemove",this,this.Vx),a.stopPropagation(),a.preventDefault())};d.Vx=function(a){cg(this,mg(this,this.Gy+((this.Mg?a.clientX:a.clientY)-this.Et)));kg(this)};d.Zx=function(){Nf(this.j);x.Touch.We();fg()};function fg(){x.Wb(!0);dg&&(x.Fa(dg),dg=null);eg&&(x.Fa(eg),eg=null)}
function mg(a,b){return b=0>=b||isNaN(b)||a.Ld<a.Mf?0:Math.min(b,a.Ld-a.Mf)}function kg(a){var b=a.xj/a.Ld;isNaN(b)&&(b=0);var c={};a.Mg?c.x=b:c.y=b;a.j.kf(c)}d.set=function(a){cg(this,mg(this,a*this.Mb));kg(this)};function pg(a,b){pg.u.constructor.call(this,a,b);this.Vl=!1;this.Ad={};this.Dt=this.Yj=0;this.Mo=null}v(pg,Hf);d=pg.prototype;d.Cn=function(a){pg.u.Cn.call(this,a);!this.Ul&&x.Touch.Yl(a)&&qg(this,a)};d.wg=function(a){this.Mo=x.R(document,"mousedown",null,this.Qw.bind(this),!0);this.im=x.R(document,"mousemove",null,this.wj.bind(this),!0);this.jm=x.R(document,"mouseup",null,this.Nl.bind(this),!0);a.preventDefault();a.stopPropagation()};
d.Qw=function(a){!this.Yb()&&x.Touch.Yl(a)&&(qg(this,a),this.Vl&&x.Xf())};d.wj=function(a){if(this.Yb())x.Touch.vp(a)&&pg.u.wj.call(this,a);else if(this.Vl){if(x.Touch.Yl(a)){this.Ad[x.Touch.Ll(a)]=rg(this,a);var b=Object.keys(this.Ad);if(2==b.length){b=yc(this.Ad[b[0]],this.Ad[b[1]])/this.Dt;if(0<this.Yj&&Infinity>this.Yj){var c=b-this.Yj;c=0<c?5*c:6*c;var e=this.Eb,f=x.h.Rj(a,M(e),og(e));e.zoom(f.x,f.y,c)}this.Yj=b;a.preventDefault()}}x.Xf()}else pg.u.wj.call(this,a)};
d.Nl=function(a){if(x.Touch.Yl(a)&&!this.Yb()){var b=x.Touch.Ll(a);this.Ad[b]&&delete this.Ad[b];2>Object.keys(this.Ad).length&&(this.Ad={},this.Yj=0)}!this.Vl||this.Yb()?x.Touch.vp(a)&&pg.u.Nl.call(this,a):(a.preventDefault(),a.stopPropagation(),this.D())};d.D=function(){pg.u.D.call(this);this.Mo&&x.Fa(this.Mo)};function qg(a,b){a.Ad[x.Touch.Ll(b)]=rg(a,b);var c=Object.keys(a.Ad);2==c.length&&(a.Dt=yc(a.Ad[c[0]],a.Ad[c[1]]),a.Vl=!0,b.preventDefault())}
function rg(a,b){return a.Eb?new B(b.pageX?b.pageX:b.changedTouches[0].pageX,b.pageY?b.pageY:b.changedTouches[0].pageY):null};function sg(a,b,c,e){this.top=a;this.right=b;this.bottom=c;this.left=e}d=sg.prototype;d.mc=function(){return this.right-this.left};d.Vh=function(){return this.bottom-this.top};d.clone=function(){return new sg(this.top,this.right,this.bottom,this.left)};d.contains=function(a){return this&&a?a instanceof sg?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
d.expand=function(a,b,c,e){ua(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(c),this.left-=Number(e));return this};d.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
d.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};d.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};d.translate=function(a,b){a instanceof B?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ma(b)&&(this.top+=b,this.bottom+=b));return this};
d.scale=function(a,b){b=ma(b)?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};function tg(a,b,c,e){this.left=a;this.top=b;this.width=c;this.height=e}d=tg.prototype;d.clone=function(){return new tg(this.left,this.top,this.width,this.height)};d.contains=function(a){return a instanceof B?a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height:this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height};d.qj=function(){return new Bc(this.width,this.height)};
d.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};d.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};d.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
d.translate=function(a,b){a instanceof B?(this.left+=a.x,this.top+=a.y):(this.left+=a,ma(b)&&(this.top+=b));return this};d.scale=function(a,b){b=ma(b)?b:a;this.left*=a;this.width*=a;this.top*=b;this.height*=b;return this};function ug(a){this.j=a;this.ao=!1;this.Mh=[];0>=this.j.options.pi||(a={scrollbars:!0,Ye:this.j.options.Ye,Tc:this.j,w:this.j.w,$f:this.j.options.$f},this.j.Rc?(a.ga=this.j.ga==x.xc?x.yf:x.xc,this.G=new vg(a)):(a.ga=this.j.ga==x.ge?x.Nc:x.ge,this.G=new wg(a)),this.j.fc(xg(this)))}d=ug.prototype;d.vg=47;d.Ik=44;d.Ch=16;d.Lm=20;d.Ni=20;d.Pk=10;d.Sm=0;d.Tm=32;d.yu=.1;d.ii=!1;d.dm=0;d.A=null;d.zm=null;d.wo=0;d.Wf=0;d.Ij=0;d.Fi=0;
d.Z=function(){this.A=x.h.C("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=x.h.C("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.A);x.h.C("rect",{width:this.vg,height:this.Ik,y:this.Ch},b);var c=x.h.C("image",{width:x.wc.width,x:-this.Sm,height:x.wc.height,y:-this.Tm,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.A);c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.j.options.Zd+x.wc.url);b=x.h.C("clipPath",{id:"blocklyTrashLidClipPath"+
a},this.A);x.h.C("rect",{width:this.vg,height:this.Ch},b);this.zm=x.h.C("image",{width:x.wc.width,x:-this.Sm,height:x.wc.height,y:-this.Tm,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.A);this.zm.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.j.options.Zd+x.wc.url);x.R(this.A,"mouseup",this,this.click);x.Tb(c,"mouseover",this,this.Bx);x.Tb(c,"mouseout",this,this.Ax);this.Ym();return this.A};
d.$=function(a){0<this.j.options.pi&&(x.h.Qg(this.G.Z("svg"),M(this.j)),this.G.$(this.j),this.G.ps=function(){return!0});this.uf=this.Lm+a;tf(this,!1);return this.uf+this.Ik+this.Ch};d.D=function(){this.A&&(x.h.removeNode(this.A),this.A=null);this.j=this.zm=null;clearTimeout(this.wo)};
d.position=function(){if(this.uf){var a=this.j.bb();a&&(this.Ij=a.ga==x.Nc||this.j.Rc&&!this.j.w?a.Ba+a.cb-this.vg-this.Ni-L:this.Ni+L,this.Fi=a.ga==x.yf?this.uf:a.Ga+a.eb-(this.Ik+this.Ch)-this.uf,this.A.setAttribute("transform","translate("+this.Ij+","+this.Fi+")"))}};d.Th=function(){if(!this.A)return null;var a=this.A.getBoundingClientRect();return new tg(a.left+this.Sm-this.Pk,a.top+this.Tm-this.Pk,this.vg+2*this.Pk,this.Ch+this.Ik+2*this.Pk)};
function tf(a,b){a.ii!=b&&(clearTimeout(a.wo),a.ii=b,a.Ym())}d.Ym=function(){this.Wf+=this.ii?.2:-.2;this.Wf=Math.min(Math.max(this.Wf,this.dm),1);yg(this,45*this.Wf);this.A.style.opacity=.4+.4*this.Wf;this.Wf>this.dm&&1>this.Wf&&(this.wo=setTimeout(this.Ym.bind(this),20))};function yg(a,b){var c=a.j.ga==x.ge||a.j.Rc&&a.j.w;a.zm.setAttribute("transform","rotate("+(c?-b:b)+","+(c?4:a.vg-4)+","+(a.Ch-2)+")")}d.close=function(){tf(this,!1)};
d.click=function(){if(this.ao){for(var a=[],b=0,c;c=this.Mh[b];b++)a[b]=x.B.Wc(c).firstChild;this.G.show(a)}};d.Bx=function(){this.ao&&tf(this,!0)};d.Ax=function(){tf(this,!1)};
function xg(a){return function(b){if(!(0>=a.j.options.pi)&&b.type==x.i.bu){for(var c=b=b.Ls.cloneNode(!0);c;){c.removeAttribute&&(c.removeAttribute("x"),c.removeAttribute("y"),c.removeAttribute("id"));var e=c.firstChild||c.nextSibling;if(!e)for(e=c.parentNode;e;){if(e.nextSibling){e=e.nextSibling;break}e=e.parentNode}c=e}b="<xml>"+x.B.Cc(b)+"</xml>";-1==a.Mh.indexOf(b)&&(a.Mh.unshift(b),a.Mh.length>a.j.options.pi&&a.Mh.splice(a.j.options.pi,a.Mh.length-a.j.options.pi),a.ao=!0,a.dm=a.yu,yg(a,45*a.dm))}}}
;function zd(a,b,c,e){this.s=a;this.name=b;this.type=c||"";this.ci=e||x.h.re();x.i.T(new md(this))}zd.prototype.sa=function(){return this.ci};function zg(a,b){a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a==b?0:1};x.O={};x.O.tg=x.jq;x.O.rq=function(a){var b=D(a,!1);a=Object.create(null);for(var c=0;c<b.length;c++){var e=Ad(b[c]);if(e)for(var f=0;f<e.length;f++){var h=e[f],k=h.sa();k&&(a[k]=h)}}b=[];for(k in a)b.push(a[k]);return b};x.O.Pz=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};x.O.Jp={};
x.O.fv=function(a){a=D(a,!1);for(var b=Object.create(null),c=0,e;e=a[c];c++){var f=e.eA;!f&&e.zw&&(f=e.zw,x.O.Jp[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),x.O.Jp[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)b[e[f]]=!0}return Object.keys(b)};
x.O.Hf=function(a){var b=[],c=document.createElement("button");c.setAttribute("text","%{BKY_NEW_VARIABLE}");c.setAttribute("callbackKey","CREATE_VARIABLE");Ag(a,"CREATE_VARIABLE",function(e){x.O.Nh(e.ra)});b.push(c);a=x.O.Kn(a);return b=b.concat(a)};
x.O.Kn=function(a){a=a.sj("");var b=[];if(0<a.length){var c=x.O.mj(a[a.length-1]);if(x.Ka.variables_set){var e=x.Ka.math_change?8:24;e=x.B.Wc('<xml><block type="variables_set" gap="'+e+'">'+c+"</block></xml>").firstChild;b.push(e)}x.Ka.math_change&&(e=x.Ka.variables_get?20:8,e=x.B.Wc('<xml><block type="math_change" gap="'+e+'">'+c+'<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></xml>').firstChild,b.push(e));if(x.Ka.variables_get)for(a.sort(zg),
c=0;e=a[c];c++)e='<xml><block type="variables_get" gap="8">'+x.O.mj(e)+"</block></xml>",e=x.B.Wc(e).firstChild,b.push(e)}return b};x.O.ww=function(a){a=a.af();var b="";if(a.length)for(var c=1,e=0,f="ijkmnopqrstuvwxyzabcdefgh".charAt(e);!b;){for(var h=!1,k=0;k<a.length;k++)if(a[k].name.toLowerCase()==f){h=!0;break}h?(e++,25==e&&(e=0,c++),f="ijkmnopqrstuvwxyzabcdefgh".charAt(e),1<c&&(f+=c)):b=f}else b="i";return b};
x.O.Nh=function(a,b,c){function e(h){x.O.ft(x.g.NEW_VARIABLE_TITLE,h,function(k){if(k){var l=x.O.Dx(k,a);if(l){var m=k.toLowerCase();if(l.type==f)var n=x.g.VARIABLE_ALREADY_EXISTS.replace("%1",m);else n=x.g.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,n=n.replace("%1",m).replace("%2",l.type);x.alert(n,function(){e(k)})}else a.Cd(k,f),b&&b(k)}else b&&b(null)})}var f=c||"";e("")};na("Blockly.Variables.createVariableButtonHandler",x.O.Nh);x.O.Cd=x.O.Nh;na("Blockly.Variables.createVariable",x.O.Cd);
x.O.$o=function(a,b){function c(e){var f=x.g.RENAME_VARIABLE_TITLE.replace("%1",b.name);x.O.ft(f,e,function(h){if(h){var k=x.O.Ex(h,b.type,a);k?(k=x.g.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",h.toLowerCase()).replace("%2",k.type),x.alert(k,function(){c(h)})):a.gh(b.sa(),h)}})}c("")};x.O.ft=function(a,b,c){x.prompt(a,b,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),e==x.g.RENAME_VARIABLE||e==x.g.NEW_VARIABLE)&&(e=null);c(e)})};
x.O.Ex=function(a,b,c){c=c.va.af();a=a.toLowerCase();for(var e=0,f;f=c[e];e++)if(f.name.toLowerCase()==a&&f.type!=b)return f;return null};x.O.Dx=function(a,b){b=b.va.af();a=a.toLowerCase();for(var c=0,e;e=b[c];c++)if(e.name.toLowerCase()==a)return e;return null};x.O.mj=function(a){var b=a.type;""==b&&(b="''");return'<field name="VAR" id="'+a.sa()+'" variabletype="'+Yb(b)+'">'+Yb(a.name)+"</field>"};x.O.bA=function(a){a="<xml>"+x.O.mj(a)+"</xml>";return x.B.Wc(a).firstChild};
x.O.Tr=function(a,b,c,e){var f=x.O.ve(a,b,c,e);f||(f=x.O.Qv(a,b,c,e));return f};x.O.ve=function(a,b,c,e){var f=a.xi;if(b){var h=a.df(b);!h&&f&&(h=f.df(b));if(h)return h}if(c){if(void 0==e)throw Error("Tried to look up a variable by name without a type");h=a.ve(c,e);!h&&f&&(h=f.ve(c,e))}return h};x.O.Qv=function(a,b,c,e){var f=a.xi;c||(c=x.O.ww(a.ff?a.rh:a));return f?f.Cd(c,e,b):a.Cd(c,e,b)};
x.O.Qr=function(a,b){a=a.af();var c=[];if(b.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==b.indexOf(f)&&c.push(f)}return c};x.yd={};x.yd.Mx=function(a){x.O.Nh(a.ra,null,"String")};x.yd.Lx=function(a){x.O.Nh(a.ra,null,"Number")};x.yd.Kx=function(a){x.O.Nh(a.ra,null,"Colour")};
x.yd.Hf=function(a){var b=[],c=document.createElement("button");c.setAttribute("text",x.g.NEW_STRING_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_STRING");b.push(c);c=document.createElement("button");c.setAttribute("text",x.g.NEW_NUMBER_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER");b.push(c);c=document.createElement("button");c.setAttribute("text",x.g.NEW_COLOUR_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR");b.push(c);Ag(a,"CREATE_VARIABLE_STRING",x.yd.Mx);
Ag(a,"CREATE_VARIABLE_NUMBER",x.yd.Lx);Ag(a,"CREATE_VARIABLE_COLOUR",x.yd.Kx);a=x.yd.Kn(a);return b=b.concat(a)};x.yd.Kn=function(a){a=a.af();var b=[];if(0<a.length){if(x.Ka.variables_set_dynamic){var c='<xml><block type="variables_set_dynamic" gap="24">'+x.O.mj(a[a.length-1])+"</block></xml>";c=x.B.Wc(c).firstChild;b.push(c)}if(x.Ka.variables_get_dynamic){a.sort(zg);for(var e=0;c=a[e];e++)c='<xml><block type="variables_get_dynamic" gap="8">'+x.O.mj(c)+"</block></xml>",c=x.B.Wc(c).firstChild,b.push(c)}}return b};function Bg(a){this.Po=a;this.Si=Object.create(null)}d=Bg.prototype;d.to=null;d.D=function(){this.Si=this.Po=null};d.load=function(a,b){if(a.length){try{var c=new window.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var h=a[f],k=h.match(/\.(\w+)$/);if(k&&c.canPlayType("audio/"+k[1])){e=new window.Audio(h);break}}e&&e.play&&(this.Si[b]=e)}};d.preload=function(){for(var a in this.Si){var b=this.Si[a];b.volume=.01;b.play().catch(function(){});b.pause();if(lc||kc)break}};
d.play=function(a,b){var c=this.Si[a];c?(a=new Date,null!=this.to&&a-this.to<x.Xu||(this.to=a,c=sc&&9===sc||lc||jc?c:c.cloneNode(),c.volume=void 0===b?1:b,c.play())):this.Po&&this.Po.zd.play(a,b)};d=xf.prototype;d.tb=function(){return{width:this.mc(),height:this.Vh()}};
d.ca=function(){if(!this.gg){var a=this.tb();this.bj();this.A.appendChild(this.gd);this.oh=x.h.C("rect",{"class":"blocklyCommentHandleTarget",x:0,y:0});this.A.appendChild(this.oh);this.og=x.h.C("rect",{"class":"blocklyCommentTarget",x:0,y:0,rx:3,ry:3});this.A.appendChild(this.og);this.Cb=x.h.C("g",{"class":this.w?"blocklyResizeSW":"blocklyResizeSE"},this.A);x.h.C("polygon",{points:"0,x x,x x,0".replace(/x/g,(8).toString())},this.Cb);x.h.C("line",{"class":"blocklyResizeLine",x1:8/3,y1:7,x2:7,y2:8/
3},this.Cb);x.h.C("line",{"class":"blocklyResizeLine",x1:16/3,y1:7,x2:7,y2:16/3},this.Cb);this.Xb()&&(this.Ff=x.h.C("g",{"class":"blocklyCommentDeleteIcon"},this.A),this.wr=x.h.C("circle",{"class":"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.Ff),x.h.C("line",{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.Ff),x.h.C("line",{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.Ff));Cg(this,a.width,a.height);this.kb.value=this.Oc;this.gg=!0;this.Cb&&x.R(this.Cb,
"mousedown",this,this.bp);this.Xb()&&(x.R(this.Ff,"mousedown",this,this.aw),x.R(this.Ff,"mouseout",this,this.bw),x.R(this.Ff,"mouseup",this,this.cw))}};
d.bj=function(){this.gd=x.h.C("foreignObject",{x:0,y:10,"class":"blocklyCommentForeignObject"},null);var a=document.createElementNS(x.xf,"body");a.setAttribute("xmlns",x.xf);a.className="blocklyMinimalBody";var b=document.createElementNS(x.xf,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.w?"RTL":"LTR");a.appendChild(b);this.kb=b;this.gd.appendChild(a);x.R(b,"wheel",this,function(c){c.stopPropagation()});x.R(b,"change",this,function(){this.Ee(b.value)});return this.gd};
d.bp=function(a){Dg(this);x.h.Uf(a)||(this.s.xm(a,new B(this.s.w?-this.aa:this.aa,this.oa)),this.ah=x.R(document,"mouseup",this,this.sy),this.Lo=x.R(document,"mousemove",this,this.cp),x.Wb());a.stopPropagation()};d.aw=function(a){x.h.Na(this.wr,"blocklyDeleteIconHighlighted");a.stopPropagation()};d.bw=function(){x.h.ib(this.wr,"blocklyDeleteIconHighlighted")};d.cw=function(a){this.D(!0,!0);a.stopPropagation()};function Dg(a){a.ah&&(x.Fa(a.ah),a.ah=null);a.Lo&&(x.Fa(a.Lo),a.Lo=null)}
d.sy=function(){x.Touch.We();Dg(this)};d.cp=function(a){this.Xk=!1;a=se(this.s,a);Cg(this,this.w?-a.x:a.x,a.y)};
function Cg(a,b,c){b=Math.max(b,45);c=Math.max(c,30);a.aa=b;a.oa=c;a.pk.setAttribute("width",b);a.pk.setAttribute("height",c);a.og.setAttribute("width",b);a.og.setAttribute("height",c);a.oh.setAttribute("width",b);a.oh.setAttribute("height",10);a.w&&(a.pk.setAttribute("transform","scale(-1 1)"),a.og.setAttribute("transform","scale(-1 1)"));a.Cb&&(a.w?(a.Cb.setAttribute("transform","translate("+(-b+8)+","+(c-8)+") scale(-1 1)"),a.Ff.setAttribute("transform","translate("+(-b+8)+",-8) scale(-1 1)")):
(a.Cb.setAttribute("transform","translate("+(b-8)+","+(c-8)+")"),a.Ff.setAttribute("transform","translate("+(b-8)+",-8)")));b=a.tb();a.gd.setAttribute("width",b.width);a.gd.setAttribute("height",b.height-10);a.w&&a.gd.setAttribute("x",-b.width);a.kb.style.width=b.width-4+"px";a.kb.style.height=b.height-4-10+"px"}
d.qp=function(){var a=this;this.jj=!0;setTimeout(function(){a.Ze||(a.kb.focus(),x.h.Na(a.A,"blocklyFocused"),x.h.Na(a.og,"blocklyCommentTargetFocused"),x.h.Na(a.oh,"blocklyCommentHandleTargetFocused"))},0)};function zf(a){a.jj=!1;setTimeout(function(){a.Ze||(a.kb.blur(),x.h.ib(a.A,"blocklyFocused"),x.h.ib(a.og,"blocklyCommentTargetFocused"),x.h.ib(a.oh,"blocklyCommentHandleTargetFocused"))},0)};function Eg(a){this.Zi=a;this.Z()}d=Eg.prototype;d.Ma=null;d.Fd=null;d.Zi=null;d.Z=function(){this.Ma||(this.Ma=x.h.C("svg",{xmlns:x.Mc,"xmlns:html":x.xf,"xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Zi.appendChild(this.Ma))};d.nf=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.Ma.style.display="block";x.h.ak(this.Ma,"translate3d("+a+"px, "+b+"px, 0px)")};d.Kl=function(){return x.h.Dc(this.Ma)};
d.Wi=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.Ma.childNodes[0],c=this.Ma.childNodes[1];if(!(b&&c&&x.h.bs(b,"blocklyBlockCanvas")&&x.h.bs(c,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.$d?x.h.Qg(b,this.$d):a.insertBefore(b,a.firstChild);x.h.Qg(c,b);this.Ma.style.display="none";if(this.Ma.childNodes.length)throw Error("Drag surface was not cleared.");x.h.ak(this.Ma,"");
this.$d=null};
function Fg(a){this.j=a}d=Fg.prototype;d.vg=32;d.Tp=110;d.Lm=20;d.Ni=20;d.A=null;d.Ij=0;d.Fi=0;d.Z=function(){this.A=x.h.C("g",{},null);var a=String(Math.random()).substring(2);Gg(this,a);Hg(this,a);this.j.Jb()&&Ig(this,a);return this.A};d.$=function(a){this.uf=this.Lm+a;return this.uf+this.Tp};d.D=function(){this.A&&(x.h.removeNode(this.A),this.A=null);this.j=null};
d.position=function(){if(this.uf){var a=this.j.bb();a&&(this.Ij=a.ga==x.Nc||this.j.Rc&&!this.j.w?a.Ba+a.cb-this.vg-this.Ni-L:this.Ni+L,a.ga==x.yf?(this.Fi=this.uf,this.Em.setAttribute("transform","translate(0, 34)"),this.Fm&&this.Fm.setAttribute("transform","translate(0, 77)")):(this.Fi=a.Ga+a.eb-this.Tp-this.uf,this.Em.setAttribute("transform","translate(0, 43)"),this.Ip.setAttribute("transform","translate(0, 77)")),this.A.setAttribute("transform","translate("+this.Ij+","+this.Fi+")"))}};
function Gg(a,b){var c=a.j;a.Ip=x.h.C("g",{"class":"blocklyZoom"},a.A);var e=x.h.C("clipPath",{id:"blocklyZoomoutClipPath"+b},a.Ip);x.h.C("rect",{width:32,height:32},e);a=x.h.C("image",{width:x.wc.width,height:x.wc.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+b+")"},a.Ip);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c.options.Zd+x.wc.url);x.R(a,"mousedown",null,function(f){Mf(c);Jg(c,-1);x.Touch.We();f.stopPropagation();f.preventDefault()})}
function Hg(a,b){var c=a.j;a.Em=x.h.C("g",{"class":"blocklyZoom"},a.A);var e=x.h.C("clipPath",{id:"blocklyZoominClipPath"+b},a.Em);x.h.C("rect",{width:32,height:32},e);a=x.h.C("image",{width:x.wc.width,height:x.wc.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+b+")"},a.Em);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c.options.Zd+x.wc.url);x.R(a,"mousedown",null,function(f){Mf(c);Jg(c,1);x.Touch.We();f.stopPropagation();f.preventDefault()})}
function Ig(a,b){var c=a.j;a.Fm=x.h.C("g",{"class":"blocklyZoom"},a.A);var e=x.h.C("clipPath",{id:"blocklyZoomresetClipPath"+b},a.Fm);x.h.C("rect",{width:32,height:32},e);a=x.h.C("image",{width:x.wc.width,height:x.wc.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+b+")"},a.Fm);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c.options.Zd+x.wc.url);x.R(a,"mousedown",null,function(f){Mf(c);c.setScale(c.options.Qa.Ft);Kg(c);Lg(c);setTimeout(function(){x.h.ib(c.Ea,"blocklyCanvasTransitioning");
x.h.ib(c.sd,"blocklyCanvasTransitioning")},500);x.Touch.We();f.stopPropagation();f.preventDefault()})};
function Mg(a,b,c){Mg.u.constructor.call(this,a);this.bb=a.bb||Ng;this.kf=a.kf||Og;var e=[];e[x.Ja]=new Ie;e[x.Nd]=new Ie;e[x.xa]=new Ie;e[x.Od]=new Ie;this.mn=e;b&&(this.ob=b);c&&(this.yh=c);this.Bm=this.yh&&x.h.Rf();this.zj=[];this.zd=new Bg(a.Tc);this.Jd=this.options.Xr?new Xf(a.Xr,a.Wr):null;x.O&&x.O.Hf&&Pg(this,x.jq,x.O.Hf);x.yd&&x.yd.Hf&&Pg(this,x.$u,x.yd.Hf);x.ab&&x.ab.Hf&&Pg(this,x.cq,x.ab.Hf);this.zs=new Ne(this,!0)}v(Mg,Ld);d=Mg.prototype;d.tm=null;d.S=!0;d.Vf=!0;d.ff=!1;d.ei=!1;d.ep=!0;
d.scrollX=0;d.scrollY=0;d.Gr=null;d.scale=1;d.cc=null;d.Za=null;d.rb=null;d.ob=null;d.yh=null;d.Bm=!1;d.Tl=!1;d.io=null;d.ts=null;d.Jn={};d.Fp={};d.Pq=null;d.rh=null;d.os=null;d.lo=!0;d.Wq=function(){return new Ne(this)};function og(a){if(a.lo){var b=M(a).getScreenCTM();b&&(a.os=b.inverse(),a.lo=!1)}return a.os}d.Ak=function(){this.lo=!0};d.isVisible=function(){return this.Vf};
function Ye(a,b){var c=0,e=0,f=1;if(x.h.containsNode(a.Ea,b)||x.h.containsNode(a.sd,b))f=a.scale;do{var h=x.h.Dc(b);if(b==a.Ea||b==a.sd)f=1;c+=h.x*f;e+=h.y*f;b=b.parentNode}while(b&&b!=M(a));return new B(c,e)}function Zc(a){if(!a.io)for(var b=a.A;b;){if(-1!=(" "+(b.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.io=b;break}b=b.parentNode}return a.io}
d.Z=function(a){this.A=x.h.C("g",{"class":"blocklyWorkspace"},null);a&&(this.rd=x.h.C("rect",{height:"100%",width:"100%","class":a},this.A),"blocklyMainBackground"==a&&this.Jd&&(this.rd.style.fill="url(#"+this.Jd.Xh.id+")"));this.Ea=x.h.C("g",{"class":"blocklyBlockCanvas"},this.A);this.sd=x.h.C("g",{"class":"blocklyBubbleCanvas"},this.A);this.ff||(x.R(this.A,"mousedown",this,this.Zf,!1,!0),x.R(this.A,"wheel",this,this.ay));this.options.$r&&(this.W=new Qg(this));this.Jd&&this.Jd.update(this.scale);
Rg(this);a=this.cursor.Z();this.A.appendChild(a);a=this.zs.Z();this.A.appendChild(a);return this.A};
d.D=function(){this.S=!1;this.rb&&this.rb.cancel();Mg.u.D.call(this);this.A&&(x.h.removeNode(this.A),this.A=null);this.sd=this.Ea=null;this.W&&(this.W.D(),this.W=null);this.G&&(this.G.D(),this.G=null);this.cc&&(this.cc.D(),this.cc=null);this.Za&&(this.Za.D(),this.Za=null);this.zh&&(this.zh.D(),this.zh=null);this.sb&&(this.sb.D(),this.sb=null);this.zd&&(this.zd.D(),this.zd=null);this.Jd&&(this.Jd.D(),this.Jd=null);this.Jn=this.Fp=null;if(!this.options.Tc){var a=M(this).parentNode;a&&x.h.removeNode(a)}this.tm&&
(x.Fa(this.tm),this.tm=null)};d.si=function(a,b){return new N(this,a,b)};function Sg(a){a.cc=new ug(a);var b=a.cc.Z();a.A.insertBefore(b,a.Ea)}function Tg(a){a.zh=new Fg(a);var b=a.zh.Z();a.A.appendChild(b)}function Ug(a,b){var c={Ye:a.options.Ye,Tc:a,w:a.w,$f:a.options.$f,Rc:a.Rc,ga:a.options.ga};a.G=null;a.G=a.Rc?new vg(c):new wg(c);a.G.Kh=!1;return a.G.Z(b)}function Vg(a){return a.G?a.G:a.W?a.W.G:null}function Vd(a){if(a.ep&&a.S){if(a.Za){var b=a.bb();lg(a.Za.jd,b);ng(a.Za.ud,b)}a.Ak()}}
d.resize=function(){this.W&&this.W.position();this.G&&this.G.position();this.cc&&this.cc.position();this.zh&&this.zh.position();this.Za&&this.Za.resize();this.Ak();Rg(this)};function Kf(a){var b=Ic(document);xc(a.ts,b)||(a.ts=b,a.Ak(),Rg(a))}function M(a){if(a.yq)return a.yq;for(var b=a.A;b;){if("svg"==b.tagName)return a.yq=b;b=b.parentNode}return null}
d.translate=function(a,b){if(this.Bm&&this.Tl)this.yh.nf(a,b);else{var c="translate("+a+","+b+") scale("+this.scale+")";this.Ea.setAttribute("transform",c);this.sd.setAttribute("transform",c)}if(this.ob){c=this.ob;var e=this.scale;c.hg=e;c.Fd.setAttribute("transform","translate("+a.toFixed(0)+","+b.toFixed(0)+") scale("+e+")")}this.Jd&&this.Jd.moveTo(a,b)};
function Nf(a){if(a.Bm){a.Tl=!1;var b=a.yh.Kl();a.yh.Wi(a.A);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.Ea.setAttribute("transform",b);a.sd.setAttribute("transform",b)}}
function Ff(a){if(a.Bm&&!a.Tl){a.Tl=!0;var b=a.Ea.previousSibling,c=parseInt(M(a).getAttribute("width"),10),e=parseInt(M(a).getAttribute("height"),10),f=x.h.Dc(a.Ea),h=a.yh,k=a.Ea,l=a.sd,m=a.scale;if(h.Ma.childNodes.length)throw Error("Already dragging a block.");h.$d=b;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");h.Ma.setAttribute("width",c);h.Ma.setAttribute("height",e);h.Ma.appendChild(k);h.Ma.appendChild(l);h.Ma.style.display=
"block";a.yh.nf(f.x,f.y)}}d.mc=function(){var a=this.bb();return a?a.Ba/this.scale:0};d.qa=function(a){this.Za&&this.Za.ih(a);Vg(this)&&Vg(this).ih(a);M(this).style.display=a?"block":"none";this.W&&(this.W.vc.style.display=a?"block":"none");a?(this.ca(),this.W&&this.W.position()):x.Wb(!0);this.Vf=a};d.ca=function(){for(var a=D(this,!1),b=a.length-1;0<=b;b--)a[b].ca(!1);if(this.rb)for(a=this.rb.Wh(),b=0;b<a.length;b++)a[b].ca(!1)};
function Wg(a,b){var c=O;if(void 0===b){for(var e=0,f;f=c.zj[e];e++)f.Vc(!1);c.zj.length=0}if(f=a?td(c,a):null)(a=void 0===b||b)?-1==c.zj.indexOf(f)&&c.zj.push(f):x.h.Ti(c.zj,f),f.Vc(a)}
function Xg(a){var b=x.Xi;if(a.S&&!(b.getElementsByTagName("block").length>=(isNaN(a.options.Oj)?Infinity:a.options.Oj-D(a).length)))if(a.rb&&a.rb.cancel(),"comment"==b.tagName.toLowerCase()){x.i.disable();try{var c=Nd(b,a),e=parseInt(b.getAttribute("x"),10),f=parseInt(b.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.w&&(e=-e),c.moveBy(e+50,f+50))}finally{x.i.enable()}c.select()}else a:{x.i.disable();try{var h=x.B.Qh(b,a);if(x.o.jx){x.o.ns(h,x.o.jx);break a}var k=parseInt(b.getAttribute("x"),10),l=
parseInt(b.getAttribute("y"),10);if(!isNaN(k)&&!isNaN(l)){a.w&&(k=-k);do{b=!1;var m=D(a,!1);c=0;for(var n;n=m[c];c++){var t=n.ta();if(1>=Math.abs(k-t.x)&&1>=Math.abs(l-t.y)){b=!0;break}}if(!b){var u=h.Hd(!1);c=0;for(var r;r=u[c];c++)if(r.closest(x.bd,new B(k,l)).connection){b=!0;break}}b&&(k=a.w?k-x.bd:k+x.bd,l+=2*x.bd)}while(b);h.moveBy(k,l)}}finally{x.i.enable()}x.i.isEnabled()&&!h.Da&&x.i.T(new x.i.Kk(h));h.select()}}
function Yg(a){if((a=a.ff?a.rh:a)&&!a.rb&&a.W&&a.W.G){a=a.W;var b=a.dc.qc;b&&b.je&&a.G.show(b.je)}}d.gh=function(a,b){Mg.u.gh.call(this,a,b);Yg(this)};d.Ag=function(a){Mg.u.Ag.call(this,a);Yg(this)};d.Cd=function(a,b,c){a=Mg.u.Cd.call(this,a,b,c);Yg(this);return a};function Rg(a){a.vr=a.cc&&a.A.parentNode?a.cc.Th():null;a.rr=a.G?a.G.Th():a.W?a.W.Th():null}function sf(a,b){b=new B(b.clientX,b.clientY);return a.vr&&a.vr.contains(b)?x.Jm:a.rr&&a.rr.contains(b)?x.Rp:x.Qp}
d.Zf=function(a){var b=this.te(a);b&&Rf(b,a,this)};d.xm=function(a,b){a=x.h.Rj(a,M(this),og(this));a.x/=this.scale;a.y/=this.scale;this.Gr=zc(b,a)};function se(a,b){b=x.h.Rj(b,M(a),og(a));b.x/=a.scale;b.y/=a.scale;return Ac(a.Gr,b)}d.Yb=function(){return null!=this.rb&&this.rb.Yb()};function Zg(a){return a.options.Lb&&a.options.Lb.scrollbars||a.options.Lb&&a.options.Lb.xh||a.options.Lb&&a.options.Lb.Bg||a.options.Qa&&a.options.Qa.controls||a.options.Qa&&a.options.Qa.xh}
d.Jb=function(){return this.options.Lb&&this.options.Lb.scrollbars||this.options.Lb&&this.options.Lb.xh||this.options.Lb&&this.options.Lb.Bg||this.options.Qa&&this.options.Qa.xh};
d.ay=function(a){if(Wf())a.preventDefault(),a.stopPropagation();else{var b=this.options.Qa&&this.options.Qa.xh,c=this.options.Lb&&this.options.Lb.xh;if(b||c){var e=x.h.Un(a);!b||!a.ctrlKey&&c?(b=this.scrollX-e.x,c=this.scrollY-e.y,a.shiftKey&&!e.x&&(b=this.scrollX-e.y,c=this.scrollY),this.scroll(b,c)):(e=-e.y/50,b=x.h.Rj(a,M(this),og(this)),this.zoom(b.x,b.y,e));a.preventDefault()}}};
function Sd(a){var b=I(a,!1);a=Jd(a,!1);b=b.concat(a);if(!b.length)return{x:0,y:0,width:0,height:0};a=b[0].zl();for(var c=1;c<b.length;c++){var e=b[c].zl();e.Kc.x<a.Kc.x&&(a.Kc.x=e.Kc.x);e.cd.x>a.cd.x&&(a.cd.x=e.cd.x);e.Kc.y<a.Kc.y&&(a.Kc.y=e.Kc.y);e.cd.y>a.cd.y&&(a.cd.y=e.cd.y)}return{x:a.Kc.x,y:a.Kc.y,width:a.cd.x-a.Kc.x,height:a.cd.y-a.Kc.y}}
d.Fv=function(){this.Qb(!1);x.i.P(!0);for(var a=I(this,!0),b=0,c=0,e;e=a[c];c++)if(e.Jb()){var f=e.ta();e.moveBy(-f.x,b-f.y);$g(e);b=e.ta().y+e.tb().height+25}x.i.P(!1);this.Qb(!0)};
d.Ci=function(a){function b(p){if(p.Xb())r=r.concat(Xc(p,!1));else{p=p.bf(!1);for(var w=0;w<p.length;w++)b(p[w])}}function c(){x.i.P(h);var p=r.shift();p&&(p.s?(p.D(!1,!0),setTimeout(c,10)):c());x.i.P(!1)}if(!this.options.readOnly&&!this.ff){var e=[],f=I(this,!0),h=x.h.re(),k=this,l={};l.text=x.g.UNDO;l.enabled=0<this.uh.length;l.Hb=this.Gp.bind(this,!1);e.push(l);l={};l.text=x.g.REDO;l.enabled=0<this.Zj.length;l.Hb=this.Gp.bind(this,!0);e.push(l);this.Jb()&&(l={},l.text=x.g.CLEAN_UP,l.enabled=1<
f.length,l.Hb=this.Fv.bind(this),e.push(l));if(this.options.collapse){for(var m=l=!1,n=0;n<f.length;n++)for(var t=f[n];t;)t.isCollapsed()?l=!0:m=!0,t=Yc(t);var u=function(p){for(var w=0,E=0;E<f.length;E++)for(var K=f[E];K;)setTimeout(K.hh.bind(K,p),w),K=Yc(K),w+=10};m={enabled:m};m.text=x.g.COLLAPSE_ALL;m.Hb=function(){u(!0)};e.push(m);l={enabled:l};l.text=x.g.EXPAND_ALL;l.Hb=function(){u(!1)};e.push(l)}var r=[];for(n=0;n<f.length;n++)b(f[n]);l={text:1==r.length?x.g.DELETE_BLOCK:x.g.DELETE_X_BLOCKS.replace("%1",
String(r.length)),enabled:0<r.length,Hb:function(){k.rb&&k.rb.cancel();2>r.length?c():x.confirm(x.g.DELETE_ALL_BLOCKS.replace("%1",r.length),function(p){p&&c()})}};e.push(l);this.Pq&&this.Pq(e);x.la.show(a,e,this.w)}};
d.Qt=function(a){if(a=$f(a)){if(!this.options.Be)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(a.getElementsByTagName("category").length){if(!this.W)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.Be=a;a=this.W.lm(a);ah(this.W);this.W.position();this.W.dc.Fe(a)}else{if(!this.G)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.Be=a;this.G.show(a.childNodes)}}else if(this.options.Be)throw Error("Can't nullify an existing toolbox.");
};function Mf(a){if(a.options.Tc)Mf(a.options.Tc);else{x.Kj=a;document.activeElement&&document.activeElement.blur();try{M(a).focus()}catch(b){try{M(a).parentNode.setActive()}catch(c){M(a).parentNode.focus()}}}}
d.zoom=function(a,b,c){c=Math.pow(this.options.Qa.vy,c);var e=this.scale*c;if(this.scale!=e){e>this.options.Qa.Pj?c=this.options.Qa.Pj/this.scale:e<this.options.Qa.Qj&&(c=this.options.Qa.Qj/this.scale);var f=this.Ea.getCTM(),h=M(this).createSVGPoint();h.x=a;h.y=b;h=h.matrixTransform(f.inverse());a=h.x;b=h.y;f=f.translate(a*(1-c),b*(1-c)).scale(c);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
function Jg(a,b){var c=a.bb();if(a.G){var e=c.Ly/2;c=c.Ky/2}else e=c.Ba/2+c.cb,c=c.Ga/2+c.eb;a.zoom(e,c,b)}d.scroll=function(a,b){var c=this.bb();a=Math.min(a,-c.qb);b=Math.min(b,-c.gb);a=Math.max(a,c.Ba-c.qb-c.zc);b=Math.max(b,c.Ga-c.gb-c.jc);x.I.pa(!0);this.Za.set(-a-c.qb,-b-c.gb)};function Kg(a){x.h.Na(a.Ea,"blocklyCanvasTransitioning");x.h.Na(a.sd,"blocklyCanvasTransitioning")}
function Lg(a){if(a.Jb()){var b=a.bb(),c=(b.zc-b.Ba)/2,e=(b.jc-b.Ga)/2;c=-c-b.qb;e=-e-b.gb;a.scroll(c,e)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}
d.setScale=function(a){this.options.Qa.Pj&&a>this.options.Qa.Pj?a=this.options.Qa.Pj:this.options.Qa.Qj&&a<this.options.Qa.Qj&&(a=this.options.Qa.Qj);this.scale=a;x.Wb(!1);this.G&&(this.G.Yo(),Rg(this));this.Jd&&this.Jd.update(this.scale);a=this.bb();this.scrollX-=a.cb;this.scrollY-=a.eb;a.$a+=a.cb;a.lb+=a.eb;this.scroll(this.scrollX,this.scrollY);this.Za&&(this.G?(ig(this.Za.jd,a),jg(this.Za.ud,a)):(lg(this.Za.jd,a),ng(this.Za.ud,a)))};
d.scroll=function(a,b){var c=this.bb(),e=c.zc+c.qb-c.Ba,f=c.jc+c.gb-c.Ga;a=Math.min(a,-c.qb);b=Math.min(b,-c.gb);a=Math.max(a,-e);b=Math.max(b,-f);this.scrollX=a;this.scrollY=b;this.Za&&(cg(this.Za.jd,-(a+c.qb)*this.Za.jd.Mb),cg(this.Za.ud,-(b+c.gb)*this.Za.ud.Mb));x.I.pa(!0);a+=c.cb;b+=c.eb;this.translate(a,b)};function bh(a){var b=0,c=0;a&&(b=a.mc(),c=a.Vh());return{width:b,height:c}}
function ch(a){var b=Sd(a),c=a.scale;a=b.width*c;var e=b.height*c,f=b.x*c;b=b.y*c;return{left:f,top:b,right:f+a,bottom:b+e,width:a,height:e}}
function Ng(){var a=bh(this.W),b=bh(this.G),c=x.Jt(M(this)),e=c.height,f=c.width;if(this.W)if(this.ga==x.xc||this.ga==x.yf)e-=a.height;else{if(this.ga==x.Nc||this.ga==x.ge)f-=a.width}else if(this.G)if(this.ga==x.xc||this.ga==x.yf)e-=b.height;else if(this.ga==x.Nc||this.ga==x.ge)f-=b.width;if(Zg(this)){var h=ch(this);var k=f,l=e,m=k/2,n=l/2,t=Math.min(h.left-m,h.right-k),u=Math.min(h.top-n,h.bottom-l);h={left:t,top:u,height:Math.max(h.bottom+n,h.top+l)-u,width:Math.max(h.right+m,h.left+k)-t}}else h=
ch(this);k=0;this.W&&this.ga==x.Nc?k=a.width:this.G&&this.ga==x.Nc&&(k=b.width);l=0;this.W&&this.ga==x.xc?l=a.height:this.G&&this.ga==x.xc&&(l=b.height);return{jc:h.height,zc:h.width,gb:h.top,qb:h.left,Ga:e,Ba:f,lb:-this.scrollY,$a:-this.scrollX,eb:l,cb:k,Ky:c.height,Ly:c.width,Nt:a.width,Mt:a.height,aA:b.width,$z:b.height,ga:this.ga}}
function Og(a){var b=this.bb();"number"==typeof a.x&&(this.scrollX=-b.zc*a.x-b.qb);"number"==typeof a.y&&(this.scrollY=-b.jc*a.y-b.gb);this.translate(this.scrollX+b.cb,this.scrollY+b.eb)}d.Qb=function(a){var b=!this.ep&&a;this.ep=a;b&&Vd(this)};d.clear=function(){this.Qb(!1);Mg.u.clear.call(this);this.Qb(!0)};function Ag(a,b,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.Jn[b]=c}function dh(a,b){return(a=a.Jn[b])?a:null}
function Pg(a,b,c){if("function"!=typeof c)throw TypeError("Toolbox category callbacks must be functions.");a.Fp[b]=c}d.te=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,c=this.rb;return c?b&&c.Jg?(console.warn("Tried to start the same gesture twice."),c.cancel(),null):c:b?this.rb=new pg(a,this):null};Mg.prototype.setVisible=Mg.prototype.qa;function eh(a){eh.u.constructor.call(this,null);this.gt=a}v(eh,ue);d=eh.prototype;d.Ji=0;d.Dk=0;
d.En=function(a){x.h.C("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);x.h.C("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
x.h.C("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};d.eo=function(a){Kd(this.V)&&ue.prototype.eo.call(this,a)};
d.bj=function(){this.nk=x.h.C("svg",{x:je,y:je},null);if(this.gt.length)for(var a=x.B.h.createElement("xml"),b=0,c;c=this.gt[b];b++){var e=x.B.h.createElement("block");e.setAttribute("type",c);a.appendChild(e)}else a=null;a={disable:!1,Ye:this.V.s.options.Ye,Be:a,Tc:this.V.s,Zd:this.V.s.options.Zd,w:this.V.w,ga:this.V.w?x.ge:x.Nc,Rc:!1,bb:this.Aw.bind(this),kf:null};this.j=new Mg(a);this.j.ei=!0;this.j.fc(x.i.Cr);a=Ug(this.j,"g");b=this.j.Z("blocklyMutatorBackground");b.insertBefore(a,this.j.Ea);
this.nk.appendChild(b);return this.nk};d.tf=function(){this.V.Fc||(Kd(this.V)?this.Ec&&x.h.ib(this.Ec,"blocklyIconGroupReadonly"):(this.qa(!1),this.Ec&&x.h.Na(this.Ec,"blocklyIconGroupReadonly")));ue.prototype.tf.call(this)};
d.rm=function(){var a=2*je,b=this.j.Ea.getBBox();var c=this.V.w?-b.x:b.width+b.x;b=b.height+3*a;if(this.j.G){var e=this.j.G.cf();b=Math.max(b,e.jc+20)}c+=3*a;if(Math.abs(this.Ji-c)>a||Math.abs(this.Dk-b)>a)this.Ji=c,this.Dk=b,this.Ra.jg(c+a,b+a),this.nk.setAttribute("width",this.Ji),this.nk.setAttribute("height",this.Dk);this.V.w&&this.j.Ea.setAttribute("transform","translate("+this.Ji+",0)");this.j.resize()};
d.qa=function(a){if(a!=this.isVisible())if(x.i.T(new C(this.V,"mutatorOpen",!a,a)),a){this.Ra=new ge(this.V.s,this.bj(),this.V.bc,this.Ng,null,null);pe(this.Ra,this.V.id);if(a=this.j.options.Be)this.j.G.$(this.j),this.j.G.show(a.childNodes);this.jf=this.V.dj(this.j);a=Xc(this.jf,!1);for(var b=0,c;c=a[b];b++)c.ca();this.jf.jh(!1);this.jf.bk(!1);this.j.G?(a=2*this.j.G.ma,b=Vg(this.j).mc()+a):b=a=16;this.V.w&&(b=-b);this.jf.moveBy(b,a);if(this.V.hp){var e=this;this.V.hp(this.jf);this.wm=function(){e.V.hp(e.jf)};
this.V.s.fc(this.wm)}this.rm();this.j.fc(this.bz.bind(this));this.sf()}else this.nk=null,this.j.D(),this.jf=this.j=null,this.Ra.D(),this.Ra=null,this.Dk=this.Ji=0,this.wm&&(this.V.s.dg(this.wm),this.wm=null)};
d.bz=function(a){if(a.type!=x.i.Uk&&(a.type!=x.i.Bh||"disabled"!=a.element)){if(!this.j.Yb()){a=I(this.j,!1);for(var b=0,c;c=a[b];b++){var e=c.ta(),f=c.tb();20>e.y+f.height&&c.moveBy(0,20-f.height-e.y)}}if(this.jf.s==this.j){x.i.P(!0);c=this.V;a=(a=c.Zb())&&x.B.Cc(a);b=c.S;c.S=!1;c.Yi(this.jf);c.S=b;c.Kd();b=(b=c.Zb())&&x.B.Cc(b);if(a!=b){x.i.T(new x.i.Lc(c,"mutation",null,a,b));var h=x.i.zb();setTimeout(function(){x.i.P(h);c.Gb();x.i.P(!1)},x.Jk)}c.S&&c.ca();this.j.Yb()||this.rm();x.i.P(!1)}}};
d.Aw=function(){return{Ga:this.Dk,Ba:this.Ji-Vg(this.j).mc(),eb:0,cb:this.j.w?0:Vg(this.j).mc()}};d.D=function(){this.V.kd=null;ue.prototype.D.call(this)};function fh(a,b,c){if(!a||!a.v.s)return!1;c=H(b,c).connection;var e=G(a);return e&&e!=b||c.U==a?!1:(c.isConnected()&&c.disconnect(),c.connect(a),!0)}g.Blockly||(g.Blockly={});g.Blockly.Mutator||(g.Blockly.Mutator={});g.Blockly.Mutator.reconnect=fh;x.X={};x.X.Gm={};x.X.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(x.X.Gm[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');x.X.Gm[a]=b};x.X.oy=function(){var a=x.La.$c.Lu;if(!a||"object"!=typeof a)throw Error('Error: Mixin "logic_ternary" must be a object');x.X.register("logic_ternary",function(){gh(this,a)})};
x.X.Zo=function(a,b,c,e){var f='Error when registering mutator "'+a+'": ';x.X.Cq(f,b.Ed,"domToMutation");x.X.Cq(f,b.Zb,"mutationToDom");var h=x.X.Eq(b,f);if(c&&"function"!=typeof c)throw Error('Extension "'+a+'" is not a function');x.X.register(a,function(){h&&this.wt(new eh(e));gh(this,b);c&&c.apply(this)})};
x.X.apply=function(a,b,c){var e=x.X.Gm[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(c)x.X.Dv(a,b);else var f=x.X.Tn(b);e.apply(b);if(c)x.X.Bv('Error after applying mutator "'+a+'": ',b);else if(!x.X.Cx(f,b))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
x.X.Cq=function(a,b,c){if(!b)throw Error(a+'missing required property "'+c+'"');if("function"!=typeof b)throw Error(a+'" required property "'+c+'" must be a function');};x.X.Dv=function(a,b){if(x.X.Tn(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);};
x.X.Eq=function(a,b){var c=void 0!==a.Yi,e=void 0!==a.dj;if(c&&e){if("function"!=typeof a.Yi)throw Error(b+"compose must be a function.");if("function"!=typeof a.dj)throw Error(b+"decompose must be a function.");return!0}if(c||e)throw Error(b+'Must have both or neither of "compose" and "decompose"');return!1};
x.X.Bv=function(a,b){if("function"!=typeof b.Ed)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.Zb)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');x.X.Eq(b,a)};x.X.Tn=function(a){var b=[];void 0!==a.Ed&&b.push(a.Ed);void 0!==a.Zb&&b.push(a.Zb);void 0!==a.Yi&&b.push(a.Yi);void 0!==a.dj&&b.push(a.dj);return b};x.X.Cx=function(a,b){b=x.X.Tn(b);if(b.length!=a.length)return!1;for(var c=0;c<b.length;c++)if(a[c]!=b[c])return!1;return!0};
x.X.wq=function(a){var b=[];"object"==typeof document&&x.h.qt(function(){for(var c in a)x.h.Dq(a[c])});return function(){this.type&&-1===b.indexOf(this.type)&&(x.X.Cv(this,a),b.push(this.type));this.pd(function(){var c=F(this,"OP"),e=a[c];null==e?-1===b.indexOf(this.type)&&(c="No tooltip mapping for value "+c+" of field OP",null!=this.type&&(c+=" of block type "+this.type),console.warn(c+".")):e=x.h.Ob(e);return e}.bind(this))}};
x.X.Cv=function(a,b){var c=Ed(a,"OP");if("function"!=typeof c.Vg){c=c.getOptions();for(var e=0;e<c.length;++e){var f=c[e][1];null==b[f]&&console.warn("No tooltip mapping for value "+f+" of field OP of block type "+a.type)}}};x.X.vv=function(){"object"==typeof document&&x.h.qt(function(){x.h.Dq("%{BKY_MATH_CHANGE_TOOLTIP}")});return function(){this.pd(function(){var a=Ed(this,"VAR");return x.h.Ob("%{BKY_MATH_CHANGE_TOOLTIP}").replace("%1",a?a.Ab():"")}.bind(this))}};
x.X.ow=function(){this.Uy=this.Xc;this.pd(function(){var a=this.getParent();return a&&hh(a)&&a.Xc||this.Uy}.bind(this))};x.X.register("parent_tooltip_when_inline",x.X.ow);function ih(a,b){var c=Ec(a);return c.defaultView&&c.defaultView.getComputedStyle&&(a=c.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function jh(a,b){return ih(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function Wc(){var a=document,b=a.body;a=a.documentElement;return new B(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)}
function kh(a){try{var b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}z&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}function lh(a){var b=Ec(a),c=new B(0,0);var e=b?Ec(b):document;e=!z||9<=Number(sc)||"CSS1Compat"==Cc(e).le.compatMode?e.documentElement:e.body;if(a==e)return c;a=kh(a);b=Ic(Cc(b).le);c.x=a.left+b.x;c.y=a.top+b.y;return c}
function mh(a){"number"==typeof a&&(a+="px");return a}function nh(a){var b=oh;if("none"!=jh(a,"display"))return b(a);var c=a.style,e=c.display,f=c.visibility,h=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=e;c.position=h;c.visibility=f;return a}function oh(a){var b=a.offsetWidth,c=a.offsetHeight,e=A&&!b&&!c;return(void 0===b||e)&&a.getBoundingClientRect?(a=kh(a),new Bc(a.right-a.left,a.bottom-a.top)):new Bc(b,c)}
function ph(a,b){a.style.display=b?"":"none"}var qh=gc?"MozUserSelect":A||fc?"WebkitUserSelect":null;function rh(a,b,c){c=c?null:a.getElementsByTagName("*");if(qh){if(b=b?"none":"",a.style&&(a.style[qh]=b),c){a=0;for(var e;e=c[a];a++)e.style&&(e.style[qh]=b)}}else if(z||ec)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;e=c[a];a++)e.setAttribute("unselectable",b)}var sh={thin:2,medium:4,thick:6};
function th(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;if(c in sh)a=sh[c];else if(/^\d+px?$/.test(c))a=parseInt(c,10);else{b=a.style.left;var e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=c;c=a.style.pixelLeft;a.style.left=b;a.runtimeStyle.left=e;a=+c}return a};function uh(a,b){this.Db=new Bc(0,25);this.setValue(a);this.Ck=b}var vh={};function wh(a,b){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'"');if(!b||"function"!=typeof b.ba)throw Error('Field "'+b+'" must have a fromJson function');vh[a]=b}var xh=null,yh=0;d=uh.prototype;d.name=void 0;d.As=50;d.ua="";d.v=null;d.oo=!0;d.Xa=!0;d.Ck=null;d.hn=null;d.vf=!0;d.Re=!1;d.tp=function(a){if(this.v)throw Error("Field already bound to a block.");this.v=a};
d.$=function(){this.Va||(this.Va=x.h.C("g",{},null),this.Xa||(this.Va.style.display="none"),this.yc=x.h.C("rect",{rx:4,ry:4,x:-5,y:0,height:16},this.Va),this.za=x.h.C("text",{"class":"blocklyText",y:this.Db.height-12.5},this.Va),this.tf(),this.hn=this.J(),this.v.J().appendChild(this.Va),this.em=x.R(this.hn,"mousedown",this,this.Zf))};d.Pg=function(){};d.Or=function(a){this.setValue(a.textContent)};d.tk=function(a){a.setAttribute("name",this.name);a.textContent=this.getValue();return a};
d.D=function(){this.em&&(x.Fa(this.em),this.em=null);this.v=null;this.Va&&(x.h.removeNode(this.Va),this.Va=null);this.Ck=this.yc=this.za=null};d.tf=function(){var a=this.hn||this.J();this.vf&&a&&(Kd(this.v)?(x.h.Na(a,"blocklyEditableText"),x.h.ib(a,"blocklyNonEditableText"),a.style.cursor=this.Ok):(x.h.Na(a,"blocklyNonEditableText"),x.h.ib(a,"blocklyEditableText"),a.style.cursor=""))};function Vf(a){return a.vf&&!!a.v&&Kd(a.v)}d.isVisible=function(){return this.Xa};
d.qa=function(a){if(this.Xa!=a){this.Xa=a;var b=this.J();b&&(b.style.display=a?"block":"none",this.Db.width=0)}};function zh(a,b){a.Ck=b}d.gn=function(a){return a};function Fd(a,b){var c=a.gn(b);if(null===c)return null;void 0!==c&&(b=c);if(c=a.Ck){a=c.call(a,b);if(null===a)return null;void 0!==a&&(b=a)}return b}d.J=function(){return this.Va};d.fg=function(){this.za.textContent=Ah(this);this.Ii();this.oo=!1};
d.Ii=function(){var a=Bh(this.za);this.yc&&this.yc.setAttribute("width",a+10);this.Db.width=a};function Bh(a){var b=a.textContent+"\n"+a.className.baseVal,c;if(xh&&(c=xh[b]))return c;try{c=z||fc?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}xh&&(xh[b]=c);return c}function Md(){yh++;xh||(xh={})}function Rd(){yh--;yh||(xh=null)}
d.qj=function(){this.oo?this.fg():this.Xa&&0==this.Db.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.fg());return this.Db};function Ch(a){var b=a.yc.getBBox(),c=b.height*a.v.s.scale;b=b.width*a.v.s.scale;a=lh(a.yc);return{top:a.y,bottom:a.y+c,left:a.x,right:a.x+b}}
function Ah(a){var b=a.ua;if(!b)return"\u00a0";b.length>a.As&&(b=b.substring(0,a.As-2)+"\u2026");b=b.replace(/\s/g,"\u00a0");a.v.w&&(b+="\u200f");return b}d.Ab=function(){return this.ua};d.jb=function(a){null!==a&&(a=String(a),a!==this.ua&&(this.ua=a,this.kj()))};d.kj=function(){this.oo=!0;this.v&&this.v.S&&(this.v.ca(),this.v.Gb())};d.getValue=function(){return this.Ab()};
d.setValue=function(a){if(null!==a){var b=Fd(this,a);null!==b&&(a=b);b=this.getValue();b!=a&&(this.v&&x.i.isEnabled()&&x.i.T(new x.i.Lc(this.v,"field",this.name,b,a)),this.jb(a))}};d.Zf=function(a){if(this.v&&this.v.s&&(a=this.v.s.te(a))){if(a.Jg)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.nh||(a.nh=this)}};d.pd=function(){};d.pm=function(){return!1};
d.ue=function(){for(var a=null,b=this.v,c=b.L,e=0;e<b.L.length;e++)for(var f=c[e],h=f.na,k=0;k<h.length;k++)if(h[k]===this){a=f;break}return a};function Dh(a,b){this.Db=new Bc(0,17.5);this.Hq=b;this.setValue(a);this.sh=""}v(Dh,uh);Dh.ba=function(a){var b=x.h.Ob(a.text);return new Dh(b,a["class"])};d=Dh.prototype;d.vf=!1;d.$=function(){this.za||(this.za=x.h.C("text",{"class":"blocklyText","aria-hidden":!0,y:this.Db.height-5},null),this.Hq&&x.h.Na(this.za,this.Hq),this.Xa||(this.za.style.display="none"),this.v.J().appendChild(this.za),this.za.Xc=this.sh?this.sh:this.v,x.F.wg(this.za))};
d.D=function(){this.za&&(x.h.removeNode(this.za),this.za=null)};d.J=function(){return this.za};d.pd=function(a){this.sh=a;this.za&&(this.za.Xc=a)};wh("field_label",Dh);function Eh(a,b,c,e){if(a!=x.Md&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.v=c;this.connection=e;this.na=[]}d=Eh.prototype;d.align=x.Li;d.Xa=!0;function Fh(a,b,c){Gh(a,a.na.length,b,c);return a}
function Gh(a,b,c,e){if(0>b||b>a.na.length)throw Error("index "+b+" out of bounds.");if(!c&&!e)return b;"string"==typeof c&&(c=new Dh(c));c.tp(a.v);a.v.S&&c.$();c.name=e;c.So&&(b=Gh(a,b,c.So));a.na.splice(b,0,c);++b;c.Dp&&(b=Gh(a,b,c.Dp));a.v.S&&(a.v.ca(),a.v.Gb());return b}d.isVisible=function(){return this.Xa};
d.qa=function(a){var b=[];if(this.Xa==a)return b;for(var c=(this.Xa=a)?"block":"none",e=0,f;f=this.na[e];e++)f.qa(a);this.connection&&(a?b=ff(this.connection):hf(this.connection),e=G(this.connection))&&(e.J().style.display=c,a||(e.S=!1));return b};d.Ic=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Ic(a);return this};d.$=function(){if(this.v.s.S)for(var a=0;a<this.na.length;a++)this.na[a].$()};
d.D=function(){for(var a=0,b;b=this.na[a];a++)b.D();this.connection&&this.connection.D();this.v=null};function ye(a){ye.u.constructor.call(this,a);ve(this);this.ua={}}v(ye,ue);d=ye.prototype;d.Kq=!1;d.En=function(a){x.h.C("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);x.h.C("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);x.h.C("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
d.qa=function(a){if(a!=this.isVisible())if(x.i.T(new C(this.V,"warningOpen",!a,a)),a){var b=this.Ab();a=x.h.C("text",{"class":"blocklyText blocklyBubbleText",y:je},null);b=b.split("\n");for(var c=0;c<b.length;c++)x.h.C("tspan",{dy:"1em",x:je},a).appendChild(document.createTextNode(b[c]));this.Ra=new ge(this.V.s,a,this.V.bc,this.Ng,null,null);pe(this.Ra,this.V.id);if(this.V.w){b=a.getBBox().width;c=0;for(var e;e=a.childNodes[c];c++)e.setAttribute("text-anchor","end"),e.setAttribute("x",b+je)}this.sf();
a=this.Ra.Eg();this.Ra.jg(a.width,a.height)}else this.Ra.D(),this.Ra=null};d.jb=function(a,b){this.ua[b]!=a&&(a?this.ua[b]=a:delete this.ua[b],this.isVisible()&&(this.qa(!1),this.qa(!0)))};d.Ab=function(){var a=[],b;for(b in this.ua)a.push(this.ua[b]);return a.join("\n")};d.D=function(){this.V.ec=null;ue.prototype.D.call(this)};function ce(a,b,c){if("undefined"!==typeof Hh.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=c&&!td(a,c)?c:x.h.re();a.$m[this.id]=this;this.N=this.M=this.K=null;this.L=[];this.Qf=void 0;this.disabled=!1;this.Xc="";this.contextMenu=!0;this.Yd=null;this.Ue=[];this.Ir=this.Sj=this.ej=!0;this.Xe=this.Da=!1;this.Pa=null;this.vd=new B(0,0);this.s=a;this.Fc=a.ff;this.w=a.w;this.Vd=!1;this.Kg=void 0;if(b){this.type=b;c=x.Ka[b];if(!c||"object"!=typeof c)throw TypeError("Unknown block type: "+
b);for(var e in c)this[e]=c[e]}a.Di.push(this);a.qf[this.type]||(a.qf[this.type]=[]);a.qf[this.type].push(this);"function"==typeof this.$&&this.$();this.hx=this.Qf;if(x.i.isEnabled()){(a=x.i.zb())||x.i.P(!0);try{x.i.T(new x.i.Kk(this))}finally{a||x.i.P(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.Uj&&this.s.dg(this.Uj);if(this.onchange=a)this.Uj=a.bind(this),this.s.fc(this.Uj)}}d=ce.prototype;d.data=null;
d.Bd="#000000";d.Mq=null;d.Nq=null;d.lk=null;
d.D=function(a){if(this.s){this.Uj&&this.s.dg(this.Uj);Hd(this,a);x.i.isEnabled()&&x.i.T(new x.i.Mp(this));x.i.disable();try{if(this.s){be(this.s,this);var b=this.s;b.qf[this.type].splice(b.qf[this.type].indexOf(this),1);b.qf[this.type].length||delete b.qf[this.type];delete this.s.$m[this.id];this.s=null}x.selected==this&&(x.selected=null);for(var c=this.Ue.length-1;0<=c;c--)this.Ue[c].D(!1);c=0;for(var e;e=this.L[c];c++)e.D();this.L.length=0;var f=this.Hd(!0);for(c=0;c<f.length;c++){var h=f[c];h.isConnected()&&
h.disconnect();f[c].D()}}finally{x.i.enable()}}};d.Pg=function(){for(var a=0,b;b=this.L[a];a++)for(var c=0,e;e=b.na[c];c++)e.Pg&&e.Pg()};
function Hd(a,b){if(a.K){var c=null;a.K.isConnected()&&(c=a.K.U,a.K.disconnect());if(c&&b){a:{b=null;for(var e=0;e<a.L.length;e++){var f=a.L[e].connection;if(f&&f.type==x.Ja&&f.U){if(b){a=null;break a}b=f}}a=b}a&&a.isConnected()&&!G(a).Da&&(a=a.U,Be(a,c)&&(a.disconnect(),c.connect(a)))}}else a.N&&(c=null,a.N.isConnected()&&(c=a.N.U,a.N.disconnect()),e=Yc(a),b&&e&&!e.Da&&(a=a.M.U,a.disconnect(),c&&Be(c,a)&&c.connect(a)))}
d.Hd=function(){var a=[];this.K&&a.push(this.K);this.N&&a.push(this.N);this.M&&a.push(this.M);for(var b=0,c;c=this.L[b];b++)c.connection&&a.push(c.connection);return a};d.Gb=function(){console.warn("Not expected to reach Block.bumpNeighbours_ function. BlockSvg.bumpNeighbours_ was expected to be called instead.")};d.getParent=function(){return this.Yd};function Ih(a){do{var b=a;a=a.getParent();if(!a)return null}while(Yc(a)==b);return a}function Yc(a){return a.M&&G(a.M)}
function af(a){var b=a;do a=b,b=a.Yd;while(b);return a}d.bf=function(a){if(!a)return this.Ue;a=[];for(var b=0,c;c=this.L[b];b++)c.connection&&(c=G(c.connection))&&a.push(c);(b=Yc(this))&&a.push(b);return a};d.kh=function(a){if(a!=this.Yd){if(this.Yd){x.h.Ti(this.Yd.Ue,this);if(this.N&&this.N.isConnected())throw Error("Still connected to previous block.");if(this.K&&this.K.isConnected())throw Error("Still connected to parent block.");this.Yd=null}else be(this.s,this);(this.Yd=a)?a.Ue.push(this):this.s.Di.push(this)}};
function Xc(a,b){var c=[a];a=a.bf(b);for(var e,f=0;e=a[f];f++)c.push.apply(c,Xc(e,b));return c}d.Xb=function(){return this.ej&&!this.Da&&!(this.s&&this.s.options.readOnly)};d.bk=function(a){this.ej=a};d.Jb=function(){return this.Sj&&!this.Da&&!(this.s&&this.s.options.readOnly)};d.jh=function(a){this.Sj=a};d.sp=function(a){this.Da=a};d.vt=function(a){this.Vd=a};function Kd(a){return a.Ir&&!(a.s&&a.s.options.readOnly)}d.pp=function(a){this.Ir=a;a=0;for(var b;b=this.L[a];a++)for(var c=0,e;e=b.na[c];c++)e.tf()};
function Td(a,b){if(!b&&a.isCollapsed()){if(a.K&&gf(a.K,b),a.N&&gf(a.N,b),a.M){gf(a.M,b);var c=G(a.M);c&&Td(c,b)}}else{a=a.Hd(!0);for(var e=0;c=a[e];e++)gf(c,b),Fe(c)&&(c=G(c))&&Td(c,b)}}d.pd=function(a){this.Xc=a};d.ae=function(a){var b="string"==typeof a?x.h.Ob(a):a,c=Number(b);if(!isNaN(c)&&0<=c&&360>=c)this.Bd=x.js(c);else if("string"==typeof b&&/^#[0-9a-fA-F]{6}$/.test(b))this.Bd=b;else throw c='Invalid colour: "'+b+'"',a!=b&&(c+=' (from "'+a+'")'),Error(c);};
function Jh(a,b){var c=x.qk;if(c)if(c=c.tv[b],a.lk=b,c)a.Mq=c.colourSecondary,a.Nq=c.colourTertiary,a.Kg=c.Kg,a.ae(c.colourPrimary);else throw Error("Invalid style name: "+b);}function Ed(a,b){for(var c=0,e;e=a.L[c];c++)for(var f=0,h;h=e.na[f];f++)if(h.name===b)return h;return null}function Ad(a){for(var b=[],c=0,e;e=a.L[c];c++)for(var f=0,h;h=e.na[f];f++)h.pm()&&(h=a.s.df(h.getValue()))&&b.push(h);return b}function F(a,b){return(a=Ed(a,b))?a.getValue():null}
function Cd(a,b,c){a=Ed(a,c);if(!a)throw Error('Field "'+c+'" not found.');a.setValue(b)}d.ek=function(a,b){if(a){void 0===b&&(b=null);if(!this.N){if(this.K)throw Error("Remove output connection prior to adding previous connection.");this.N=this.Lj(x.Od)}this.N.Ic(b)}else if(this.N){if(this.N.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.N.D();this.N=null}};
d.vm=function(a,b){if(a)void 0===b&&(b=null),this.M||(this.M=this.Lj(x.xa)),this.M.Ic(b);else if(this.M){if(this.M.isConnected())throw Error("Must disconnect next statement before removing connection.");this.M.D();this.M=null}};
d.dk=function(a,b){if(a){void 0===b&&(b=null);if(!this.K){if(this.N)throw Error("Remove previous connection prior to adding output connection.");this.K=this.Lj(x.Nd)}this.K.Ic(b)}else if(this.K){if(this.K.isConnected())throw Error("Must disconnect output value before removing connection.");this.K.D();this.K=null}};d.mg=function(a){this.Qf!=a&&(x.i.T(new x.i.Lc(this,"inline",null,this.Qf,a)),this.Qf=a)};
function hh(a){if(void 0!=a.Qf)return a.Qf;for(var b=1;b<a.L.length;b++)if(a.L[b-1].type==x.Md&&a.L[b].type==x.Md)return!1;for(b=1;b<a.L.length;b++)if(a.L[b-1].type==x.Ja&&a.L[b].type==x.Md)return!0;return!1}d.isEnabled=function(){return!this.disabled};d.Uc=function(a){this.isEnabled()!=a&&(x.i.T(new x.i.Lc(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Kh(a){for(a=Ih(a);a;){if(a.disabled)return!0;a=Ih(a)}return!1}d.isCollapsed=function(){return this.Xe};
d.hh=function(a){this.Xe!=a&&(x.i.T(new x.i.Lc(this,"collapsed",null,this.Xe,a)),this.Xe=a)};d.toString=function(a,b){var c=[],e=b||"?";if(this.Xe)c.push(H(this,"_TEMP_COLLAPSED_INPUT").na[0].ua);else for(var f=0,h;h=this.L[f];f++){for(var k=0,l;l=h.na[k];k++)l instanceof Lh&&!l.getValue()?c.push(e):c.push(l.Ab());h.connection&&((h=G(h.connection))?c.push(h.toString(void 0,b)):c.push(e))}c=c.join(" ").trim()||"???";a&&c.length>a&&(c=c.substring(0,a-3)+"...");return c};
function Mh(a,b){return a.Pd(x.Ja,b)}
function Nh(a,b){var c=b.type?'Block "'+b.type+'": ':"";if(b.output&&b.previousStatement)throw Error(c+"Must not have both an output and a previousStatement.");b.style&&b.style.Kg&&(a.Kg=b.style.Kg,b.style=null);if(b.style&&b.colour)throw Error(c+"Must not have both a colour and a style.");if(b.style){var e=b.style;try{Jh(a,e)}catch(p){console.warn(c+"Style does not exist: ",e)}}else if("colour"in b)if(void 0===b.colour)console.warn(c+"Undefined colour value.");else{e=b.colour;try{a.ae(e)}catch(p){console.warn(c+
"Illegal colour value: ",e)}}for(e=0;void 0!==b["message"+e];){for(var f=a,h=b["args"+e]||[],k=b["lastDummyAlign"+e],l=x.h.Ry(b["message"+e]),m=[],n=0,t=[],u=0;u<l.length;u++){var r=l[u];if("number"==typeof r){if(0>=r||r>h.length)throw Error('Block "'+f.type+'": Message index %'+r+" out of range.");if(m[r])throw Error('Block "'+f.type+'": Message index %'+r+" duplicated.");m[r]=!0;n++;t.push(h[r-1])}else(r=r.trim())&&t.push(r)}if(n!=h.length)throw Error('Block "'+f.type+'": Message does not reference all '+
h.length+" arg(s).");t.length&&("string"==typeof t[t.length-1]||x.h.startsWith(t[t.length-1].type,"field_"))&&(u={type:"input_dummy"},k&&(u.align=k),t.push(u));k={LEFT:x.Li,RIGHT:x.Hk,CENTRE:x.Gk};h=[];for(u=0;u<t.length;u++)if(m=t[u],"string"==typeof m)h.push([m,void 0]);else{l=r=null;do if(n=!1,"string"==typeof m)r=new Dh(m);else switch(m.type){case "input_value":l=Mh(f,m.name);break;case "input_statement":l=f.Pd(x.xa,m.name);break;case "input_dummy":l=f.Pd(x.Md,m.name||"");break;default:r=(r=vh[m.type])?
r.ba(m):null,r||(m.alt?(m=m.alt,n=!0):console.warn("Blockly could not create a field of type "+m.type+". You may need to register your custom field.  See github.com/google/blockly/issues/1584"))}while(n);if(r)h.push([r,m.name]);else if(l){m.check&&l.Ic(m.check);m.align&&(n=l,n.align=k[m.align],n.v.S&&n.v.ca());for(m=0;m<h.length;m++)Fh(l,h[m][0],h[m][1]);h.length=0}}e++}void 0!==b.inputsInline&&a.mg(b.inputsInline);void 0!==b.output&&a.dk(!0,b.output);void 0!==b.previousStatement&&a.ek(!0,b.previousStatement);
void 0!==b.nextStatement&&a.vm(!0,b.nextStatement);void 0!==b.tooltip&&(e=b.tooltip,e=x.h.Ob(e),a.pd(e));void 0!==b.enableContextMenu&&(e=b.enableContextMenu,a.contextMenu=!!e);void 0!==b.helpUrl&&(e=b.helpUrl,e=x.h.Ob(e),a.ef=e);"string"==typeof b.extensions&&(console.warn(c+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+b.type+"' block."),b.extensions=[b.extensions]);void 0!==b.mutator&&x.X.apply(b.mutator,a,!0);if(Array.isArray(b.extensions))for(b=b.extensions,
c=0;c<b.length;++c)x.X.apply(b[c],a,!1)}function gh(a,b){var c=[],e;for(e in b)void 0!==a[e]&&c.push(e);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));for(var f in b)a[f]=b[f]}d.Pd=function(a,b){var c=null;if(a==x.Ja||a==x.xa)c=this.Lj(a);a=new Eh(a,b,this,c);this.L.push(a);return a};
d.eh=function(a,b){for(var c=0,e;e=this.L[c];c++)if(e.name==a){e.connection&&e.connection.isConnected()&&(e.connection.Ge=null,a=G(e.connection),a.Da?a.D():Hd(a));e.D();this.L.splice(c,1);return}if(!b)throw Error("Input not found: "+a);};function H(a,b){for(var c=0,e;e=a.L[c];c++)if(e.name==b)return e;return null}function Oh(a,b){return(a=H(a,b))&&a.connection&&G(a.connection)}d.Dl=function(){return this.Pa||""};
d.$j=function(a){this.Pa!=a&&(x.i.T(new x.i.Lc(this,"comment",null,this.Pa,a||"")),this.Pa=a)};d.fk=function(){};d.wt=function(){};d.ta=function(){return this.vd};d.moveBy=function(a,b){if(this.Yd)throw Error("Block has parent.");var c=new x.i.Ah(this);this.vd.translate(a,b);c.De();x.i.T(c)};d.Lj=function(a){return new ze(this,a)};x.h.Gi={};x.h.Gi.qj=function(a){a=a.H();var b=nh(a);b.height=a.scrollHeight;return b};x.h.Gi.qq=function(a,b,c){b.left+=c.width;b.right+=c.width;a.left+=c.width;a.right+=c.width};function Ph(){0!=Qh&&(Rh[va(this)]=this);this.Ze=this.Ze;this.gf=this.gf}var Qh=0,Rh={};Ph.prototype.Ze=!1;Ph.prototype.D=function(){if(!this.Ze&&(this.Ze=!0,this.xb(),0!=Qh)){var a=va(this);if(0!=Qh&&this.gf&&0<this.gf.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Rh[a]}};function Sh(a,b){a.Ze?b():(a.gf||(a.gf=[]),a.gf.push(b))}Ph.prototype.xb=function(){if(this.gf)for(;this.gf.length;)this.gf.shift()()};
function Th(a){a&&"function"==typeof a.D&&a.D()};function Uh(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.dh=!1;this.ot=!0}Uh.prototype.stopPropagation=function(){this.dh=!0};Uh.prototype.preventDefault=function(){this.defaultPrevented=!0;this.ot=!1};var Vh={Eh:dd?"pointerdown":ed?"MSPointerDown":"mousedown",Fh:dd?"pointerup":ed?"MSPointerUp":"mouseup",Dh:dd?"pointercancel":ed?"MSPointerCancel":"mousecancel",Pu:dd?"pointermove":ed?"MSPointerMove":"mousemove",Ru:dd?"pointerover":ed?"MSPointerOver":"mouseover",Qu:dd?"pointerout":ed?"MSPointerOut":"mouseout",Nu:dd?"pointerenter":ed?"MSPointerEnter":"mouseenter",Ou:dd?"pointerleave":ed?"MSPointerLeave":"mouseleave"},Wh={Eh:"mousedown",Fh:"mouseup",Dh:"mousecancel",Pu:"mousemove",Ru:"mouseover",Qu:"mouseout",
Nu:"mouseenter",Ou:"mouseleave"};function Xh(a,b){Uh.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Ro=!1;this.pointerId=0;this.pointerType="";this.oe=null;a&&this.$(a,b)}v(Xh,Uh);var Yh=[1,4,2],Zh={2:"touch",3:"pen",4:"mouse"};
Xh.prototype.$=function(a,b){var c=this.type=a.type,e=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(gc){a:{try{bc(b.nodeName);var f=!0;break a}catch(h){}f=!1}f||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;e?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=
e.screenY||0):(this.offsetX=A||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=A||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Ro=ic?a.metaKey:
a.ctrlKey;this.pointerId=a.pointerId||0;this.pointerType=q(a.pointerType)?a.pointerType:Zh[a.pointerType]||"";this.state=a.state;this.oe=a;a.defaultPrevented&&this.preventDefault()};function $h(a){return $c?0==a.oe.button:"click"==a.type?!0:!!(a.oe.button&Yh[0])}Xh.prototype.stopPropagation=function(){Xh.u.stopPropagation.call(this);this.oe.stopPropagation?this.oe.stopPropagation():this.oe.cancelBubble=!0};
Xh.prototype.preventDefault=function(){Xh.u.preventDefault.call(this);var a=this.oe;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,bd)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var ai="closure_listenable_"+(1E6*Math.random()|0);function bi(a){return!(!a||!a[ai])}var ci=0;function di(a,b,c,e,f){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!e;this.Ol=f;this.key=++ci;this.zi=this.Yk=!1}function ei(a){a.zi=!0;a.listener=null;a.proxy=null;a.src=null;a.Ol=null};function fi(a){this.src=a;this.Gc={};this.yk=0}fi.prototype.add=function(a,b,c,e,f){var h=a.toString();a=this.Gc[h];a||(a=this.Gc[h]=[],this.yk++);var k=gi(a,b,e,f);-1<k?(b=a[k],c||(b.Yk=!1)):(b=new di(b,this.src,h,!!e,f),b.Yk=c,a.push(b));return b};fi.prototype.remove=function(a,b,c,e){a=a.toString();if(!(a in this.Gc))return!1;var f=this.Gc[a];b=gi(f,b,c,e);return-1<b?(ei(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete this.Gc[a],this.yk--),!0):!1};
function hi(a,b){var c=b.type;c in a.Gc&&La(a.Gc[c],b)&&(ei(b),0==a.Gc[c].length&&(delete a.Gc[c],a.yk--))}fi.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.Gc)if(!a||c==a){for(var e=this.Gc[c],f=0;f<e.length;f++)++b,ei(e[f]);delete this.Gc[c];this.yk--}return b};fi.prototype.oj=function(a,b,c,e){a=this.Gc[a.toString()];var f=-1;a&&(f=gi(a,b,c,e));return-1<f?a[f]:null};
function gi(a,b,c,e){for(var f=0;f<a.length;++f){var h=a[f];if(!h.zi&&h.listener==b&&h.capture==!!c&&h.Ol==e)return f}return-1};var ii="closure_lm_"+(1E6*Math.random()|0),ji={},ki=0;function li(a,b,c,e,f){if(e&&e.once)return mi(a,b,c,e,f);if(ra(b)){for(var h=0;h<b.length;h++)li(a,b[h],c,e,f);return null}c=ni(c);return bi(a)?a.wa(b,c,ua(e)?!!e.capture:!!e,f):oi(a,b,c,!1,e,f)}
function oi(a,b,c,e,f,h){if(!b)throw Error("Invalid event type");var k=ua(f)?!!f.capture:!!f,l=pi(a);l||(a[ii]=l=new fi(a));c=l.add(b,c,e,k,h);if(c.proxy)return c;e=qi();c.proxy=e;e.src=a;e.listener=c;if(a.addEventListener)fd||(f=k),void 0===f&&(f=!1),a.addEventListener(b.toString(),e,f);else if(a.attachEvent)a.attachEvent(ri(b.toString()),e);else if(a.addListener&&a.removeListener)a.addListener(e);else throw Error("addEventListener and attachEvent are unavailable.");ki++;return c}
function qi(){var a=si,b=ad?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function mi(a,b,c,e,f){if(ra(b)){for(var h=0;h<b.length;h++)mi(a,b[h],c,e,f);return null}c=ni(c);return bi(a)?a.xs(b,c,ua(e)?!!e.capture:!!e,f):oi(a,b,c,!0,e,f)}function ti(a,b,c,e,f){if(ra(b))for(var h=0;h<b.length;h++)ti(a,b[h],c,e,f);else e=ua(e)?!!e.capture:!!e,c=ni(c),bi(a)?a.td(b,c,e,f):a&&(a=pi(a))&&(b=a.oj(b,c,e,f))&&ui(b)}
function ui(a){if(!ma(a)&&a&&!a.zi){var b=a.src;if(bi(b))hi(b.$e,a);else{var c=a.type,e=a.proxy;b.removeEventListener?b.removeEventListener(c,e,a.capture):b.detachEvent?b.detachEvent(ri(c),e):b.addListener&&b.removeListener&&b.removeListener(e);ki--;(c=pi(b))?(hi(c,a),0==c.yk&&(c.src=null,b[ii]=null)):ei(a)}}}function ri(a){return a in ji?ji[a]:ji[a]="on"+a}
function vi(a,b,c,e){var f=!0;if(a=pi(a))if(b=a.Gc[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var h=b[a];h&&h.capture==c&&!h.zi&&(h=wi(h,e),f=f&&!1!==h)}return f}function wi(a,b){var c=a.listener,e=a.Ol||a.src;a.Yk&&ui(a);return c.call(e,b)}
function si(a,b){if(a.zi)return!0;if(!ad){if(!b)a:{b=["window","event"];for(var c=g,e=0;e<b.length;e++)if(c=c[b[e]],null==c){b=null;break a}b=c}e=b;b=new Xh(e,this);c=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(k){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=b.currentTarget;f;f=f.parentNode)e.push(f);a=a.type;for(f=e.length-1;!b.dh&&0<=f;f--){b.currentTarget=e[f];var h=vi(e[f],a,!0,b);c=c&&h}for(f=0;!b.dh&&f<e.length;f++)b.currentTarget=
e[f],h=vi(e[f],a,!1,b),c=c&&h}return c}return wi(a,new Xh(b,this))}function pi(a){a=a[ii];return a instanceof fi?a:null}var xi="__closure_events_fn_"+(1E9*Math.random()>>>0);function ni(a){if(ta(a))return a;a[xi]||(a[xi]=function(b){return a.handleEvent(b)});return a[xi]};function yi(a){Ph.call(this);this.ai=a;this.li={}}v(yi,Ph);var zi=[];d=yi.prototype;d.wa=function(a,b,c,e){ra(b)||(b&&(zi[0]=b.toString()),b=zi);for(var f=0;f<b.length;f++){var h=li(a,b[f],c||this.handleEvent,e||!1,this.ai||this);if(!h)break;this.li[h.key]=h}return this};d.xs=function(a,b,c,e){return Ai(this,a,b,c,e)};function Ai(a,b,c,e,f,h){if(ra(c))for(var k=0;k<c.length;k++)Ai(a,b,c[k],e,f,h);else{b=mi(b,c,e||a.handleEvent,f,h||a.ai||a);if(!b)return a;a.li[b.key]=b}return a}
d.td=function(a,b,c,e,f){if(ra(b))for(var h=0;h<b.length;h++)this.td(a,b[h],c,e,f);else c=c||this.handleEvent,e=ua(e)?!!e.capture:!!e,f=f||this.ai||this,c=ni(c),e=!!e,b=bi(a)?a.oj(b,c,e,f):a?(a=pi(a))?a.oj(b,c,e,f):null:null,b&&(ui(b),delete this.li[b.key]);return this};d.removeAll=function(){db(this.li,function(a,b){this.li.hasOwnProperty(b)&&ui(a)},this);this.li={}};d.xb=function(){yi.u.xb.call(this);this.removeAll()};
d.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Bi(){Ph.call(this);this.$e=new fi(this);this.dv=this;this.Oo=null}v(Bi,Ph);Bi.prototype[ai]=!0;d=Bi.prototype;d.Il=function(){return this.Oo};d.rp=function(a){this.Oo=a};d.addEventListener=function(a,b,c,e){li(this,a,b,c,e)};d.removeEventListener=function(a,b,c,e){ti(this,a,b,c,e)};
d.dispatchEvent=function(a){var b,c=this.Il();if(c)for(b=[];c;c=c.Il())b.push(c);c=this.dv;var e=a.type||a;if(q(a))a=new Uh(a,c);else if(a instanceof Uh)a.target=a.target||c;else{var f=a;a=new Uh(e,c);fb(a,f)}f=!0;if(b)for(var h=b.length-1;!a.dh&&0<=h;h--){var k=a.currentTarget=b[h];f=Ci(k,e,!0,a)&&f}a.dh||(k=a.currentTarget=c,f=Ci(k,e,!0,a)&&f,a.dh||(f=Ci(k,e,!1,a)&&f));if(b)for(h=0;!a.dh&&h<b.length;h++)k=a.currentTarget=b[h],f=Ci(k,e,!1,a)&&f;return f};
d.xb=function(){Bi.u.xb.call(this);this.removeAllListeners();this.Oo=null};d.wa=function(a,b,c,e){return this.$e.add(String(a),b,!1,c,e)};d.xs=function(a,b,c,e){return this.$e.add(String(a),b,!0,c,e)};d.td=function(a,b,c,e){return this.$e.remove(String(a),b,c,e)};d.removeAllListeners=function(a){return this.$e?this.$e.removeAll(a):0};
function Ci(a,b,c,e){b=a.$e.Gc[String(b)];if(!b)return!0;b=b.concat();for(var f=!0,h=0;h<b.length;++h){var k=b[h];if(k&&!k.zi&&k.capture==c){var l=k.listener,m=k.Ol||k.src;k.Yk&&hi(a.$e,k);f=!1!==l.call(m,e)&&f}}return f&&0!=e.ot}d.oj=function(a,b,c,e){return this.$e.oj(String(a),b,c,e)};function Di(){}pa(Di);Di.prototype.Hx=0;Di.prototype.$w="";function Ei(a){Bi.call(this);this.tl=a||Cc();this.Ai=Fi;this.ci=null;this.Ca=!1;this.Y=null;this.Lf=void 0;this.Bf=this.ic=this.md=this.Co=null;this.wi=this.az=!1}v(Ei,Bi);Ei.prototype.Zw=Di.Jf();var Fi=null;
function Gi(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}d=Ei.prototype;d.sa=function(){var a;(a=this.ci)||(a=this.Zw,a=this.ci=a.$w+":"+(a.Hx++).toString(36));return a};d.H=function(){return this.Y};
function Hi(a){a.Lf||(a.Lf=new yi(a));return a.Lf}d.kh=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.md&&this.ci&&Ii(this.md,this.ci)&&this.md!=a)throw Error("Unable to set parent component");this.md=a;Ei.u.rp.call(this,a)};d.getParent=function(){return this.md};d.rp=function(a){if(this.md&&this.md!=a)throw Error("Method not supported");Ei.u.rp.call(this,a)};d.se=function(){return this.tl};d.Z=function(){this.Y=this.tl.createElement("DIV")};d.ca=function(a){this.fg(a)};
d.fg=function(a,b){if(this.Ca)throw Error("Component already rendered");this.Y||this.Z();a?a.insertBefore(this.Y,b||null):this.tl.le.body.appendChild(this.Y);this.md&&!this.md.Ca||this.Ub()};d.Ub=function(){this.Ca=!0;Ji(this,function(a){!a.Ca&&a.H()&&a.Ub()})};d.Gd=function(){Ji(this,function(a){a.Ca&&a.Gd()});this.Lf&&this.Lf.removeAll();this.Ca=!1};
d.xb=function(){this.Ca&&this.Gd();this.Lf&&(this.Lf.D(),delete this.Lf);Ji(this,function(a){a.D()});!this.az&&this.Y&&Nc(this.Y);this.md=this.Co=this.Y=this.Bf=this.ic=null;Ei.u.xb.call(this)};d.Vk=function(a,b){this.Ih(a,Ki(this),b)};
d.Ih=function(a,b,c){if(a.Ca&&(c||!this.Ca))throw Error("Component already rendered");if(0>b||b>Ki(this))throw Error("Child component index out of bounds");this.Bf&&this.ic||(this.Bf={},this.ic=[]);if(a.getParent()==this){var e=a.sa();this.Bf[e]=a;La(this.ic,a)}else{e=this.Bf;var f=a.sa();if(null!==e&&f in e)throw Error('The object already contains the key "'+f+'"');e[f]=a}a.kh(this);Oa(this.ic,b,0,a);a.Ca&&this.Ca&&a.getParent()==this?(c=this.hd(),b=c.childNodes[b]||null,b!=a.H()&&c.insertBefore(a.H(),
b)):c?(this.Y||this.Z(),b=P(this,b+1),a.fg(this.hd(),b?b.Y:null)):this.Ca&&!a.Ca&&a.Y&&a.Y.parentNode&&1==a.Y.parentNode.nodeType&&a.Ub()};d.hd=function(){return this.Y};function Li(a){null==a.Ai&&(a.Ai="rtl"==jh(a.Ca?a.Y:a.tl.le.body,"direction"));return a.Ai}d.lf=function(a){if(this.Ca)throw Error("Component already rendered");this.Ai=a};function Mi(a){return!!a.ic&&0!=a.ic.length}function Ki(a){return a.ic?a.ic.length:0}
function Ii(a,b){a.Bf&&b?(a=a.Bf,b=(null!==a&&b in a?a[b]:void 0)||null):b=null;return b}function P(a,b){return a.ic?a.ic[b]||null:null}function Ji(a,b,c){a.ic&&Ga(a.ic,b,c)}function Ni(a,b){return a.ic&&b?Fa(a.ic,b):-1}d.removeChild=function(a,b){if(a){var c=q(a)?a:a.sa();a=Ii(this,c);if(c&&a){var e=this.Bf;c in e&&delete e[c];La(this.ic,a);b&&(a.Gd(),a.Y&&Nc(a.Y));a.kh(null)}}if(!a)throw Error("Child is not in parent component");return a};
d.kt=function(a){for(var b=[];Mi(this);)b.push(this.removeChild(P(this,0),a));return b};var Oi;gb("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));function Pi(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}
function Q(a,b,c){ra(c)&&(c=c.join(" "));var e="aria-"+b;""===c||void 0==c?(Oi||(Oi={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Oi,b in c?a.setAttribute(e,c[b]):a.removeAttribute(e)):a.setAttribute(e,c)};function Qi(a,b,c,e,f,h){if(A&&!rc("525"))return!0;if(ic&&f)return Ri(a);if(f&&!e)return!1;if(!gc){ma(b)&&(b=Si(b));var k=17==b||18==b||ic&&91==b;if((!c||ic)&&k||ic&&16==b&&(e||h))return!1}if((A||fc)&&e&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(z&&e&&b==a)return!1;switch(a){case 13:return gc?h||f?!1:!(c&&e):!0;case 27:return!(A||fc||gc)}return gc&&(e||f||h)?!1:Ri(a)}
function Ri(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(A||fc)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return gc;default:return!1}}function Si(a){if(gc)a=Ti(a);else if(ic&&A)switch(a){case 93:a=91}return a}
function Ti(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Ui(a,b){Bi.call(this);a&&Vi(this,a,b)}v(Ui,Bi);d=Ui.prototype;d.Y=null;d.Zl=null;d.po=null;d.$l=null;d.Sc=-1;d.Ae=-1;d.Xm=!1;
var Wi={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Xi={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Yi=!A||rc("525"),Zi=ic&&gc;d=Ui.prototype;
d.Lw=function(a){if(A||fc)if(17==this.Sc&&!a.ctrlKey||18==this.Sc&&!a.altKey||ic&&91==this.Sc&&!a.metaKey)this.Ae=this.Sc=-1;-1==this.Sc&&(a.ctrlKey&&17!=a.keyCode?this.Sc=17:a.altKey&&18!=a.keyCode?this.Sc=18:a.metaKey&&91!=a.keyCode&&(this.Sc=91));Yi&&!Qi(a.keyCode,this.Sc,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?this.handleEvent(a):(this.Ae=Si(a.keyCode),Zi&&(this.Xm=a.altKey))};d.Mw=function(a){this.Ae=this.Sc=-1;this.Xm=a.altKey};
d.handleEvent=function(a){var b=a.oe,c=b.altKey;if(z&&"keypress"==a.type){var e=this.Ae;var f=13!=e&&27!=e?b.keyCode:0}else(A||fc)&&"keypress"==a.type?(e=this.Ae,f=0<=b.charCode&&63232>b.charCode&&Ri(e)?b.charCode:0):ec&&!A?(e=this.Ae,f=Ri(e)?b.keyCode:0):("keypress"==a.type?(Zi&&(c=this.Xm),b.keyCode==b.charCode?32>b.keyCode?(e=b.keyCode,f=0):(e=this.Ae,f=b.charCode):(e=b.keyCode||this.Ae,f=b.charCode||0)):(e=b.keyCode||this.Ae,f=b.charCode||0),ic&&63==f&&224==e&&(e=191));var h=e=Si(e);e?63232<=
e&&e in Wi?h=Wi[e]:25==e&&a.shiftKey&&(h=9):b.keyIdentifier&&b.keyIdentifier in Xi&&(h=Xi[b.keyIdentifier]);gc&&Yi&&"keypress"==a.type&&!Qi(h,this.Sc,a.shiftKey,a.ctrlKey,c,a.metaKey)||(a=h==this.Sc,this.Sc=h,b=new $i(h,f,a,b),b.altKey=c,this.dispatchEvent(b))};d.H=function(){return this.Y};function Vi(a,b,c){a.$l&&a.detach();a.Y=b;a.Zl=li(a.Y,"keypress",a,c);a.po=li(a.Y,"keydown",a.Lw,c,a);a.$l=li(a.Y,"keyup",a.Mw,c,a)}
d.detach=function(){this.Zl&&(ui(this.Zl),ui(this.po),ui(this.$l),this.$l=this.po=this.Zl=null);this.Y=null;this.Ae=this.Sc=-1};d.xb=function(){Ui.u.xb.call(this);this.detach()};function $i(a,b,c,e){Xh.call(this,e);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}v($i,Xh);function aj(a){if(a.classList)return a.classList;a=a.className;return q(a)&&a.match(/\S+/g)||[]}function bj(a,b){return a.classList?a.classList.contains(b):Ka(aj(a),b)}function cj(a,b){a.classList?a.classList.add(b):bj(a,b)||(a.className+=0<a.className.length?" "+b:b)}function dj(a,b){if(a.classList)Ga(b,function(f){cj(a,f)});else{var c={};Ga(aj(a),function(f){c[f]=!0});Ga(b,function(f){c[f]=!0});a.className="";for(var e in c)a.className+=0<a.className.length?" "+e:e}}
function ej(a,b){a.classList?a.classList.remove(b):bj(a,b)&&(a.className=Ha(aj(a),function(c){return c!=b}).join(" "))}function fj(a,b){a.classList?Ga(b,function(c){ej(a,c)}):a.className=Ha(aj(a),function(c){return!Ka(b,c)}).join(" ")};function gj(a,b){if(!a)throw Error("Invalid class name "+a);if(!ta(b))throw Error("Invalid decorator function "+b);}var hj={};function ij(a){this.uq=a}pa(ij);d=ij.prototype;d.yl=function(){return this.uq};function jj(a,b){a&&(a.tabIndex=b?0:-1)}d.Z=function(a){return a.se().Z("DIV",this.Cl(a).join(" "))};d.hd=function(a){return a};d.Dj=function(a){a=a.H();rh(a,!0,gc);z&&(a.hideFocus=!0);var b=this.yl();b&&Pi(a,b)};d.Ib=function(a){return a.H()};d.kc=function(){return"goog-container"};d.Cl=function(a){var b=this.kc(),c=[b,a.bh==kj?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function lj(){}var mj;pa(lj);var nj={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};d=lj.prototype;d.yl=function(){};d.Z=function(a){return a.se().Z("DIV",this.Cl(a).join(" "),a.If())};d.hd=function(a){return a};d.gj=function(a,b,c){if(a=a.H?a.H():a){var e=[b];z&&!rc("7")&&(e=oj(aj(a),b),e.push(b));(c?dj:fj)(a,e)}};d.Dj=function(a){Li(a)&&this.lf(a.H(),!0);a.isEnabled()&&this.lg(a,a.isVisible())};
function pj(a,b,c){if(a=c||a.yl())c=b.getAttribute("role")||null,a!=c&&Pi(b,a)}function qj(a,b,c){var e=b.tq;null!=e&&a.mp(c,e);b.isVisible()||Q(c,"hidden",!b.isVisible());b.isEnabled()||rj(c,1,!b.isEnabled());b.ub&8&&rj(c,8,b.Wl());b.ub&16&&rj(c,16,!!(b.Oa&16));b.ub&64&&rj(c,64,b.ii())}d.mp=function(a,b){Q(a,"label",b)};d.lp=function(a,b){rh(a,!b,!z&&!ec)};d.lf=function(a,b){this.gj(a,this.kc()+"-rtl",b)};d.Sf=function(a){var b;return a.ub&32&&(b=a.Ib())?Sc(b)&&Tc(b):!1};
d.lg=function(a,b){var c;if(a.ub&32&&(c=a.Ib())){if(!b&&a.Oa&32){try{c.blur()}catch(e){}a.Oa&32&&a.uj(null)}(Sc(c)&&Tc(c))!=b&&(a=c,b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex")))}};d.qa=function(a,b){ph(a,b);a&&Q(a,"hidden",!b)};d.ce=function(a,b,c){var e=a.H();if(e){var f=this.Bl(b);f&&this.gj(a,f,c);rj(e,b,c)}};
function rj(a,b,c){mj||(mj={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=mj[b];var e=a.getAttribute("role")||null;e&&(e=nj[e]||b,b="checked"==b||"selected"==b?e:b);b&&Q(a,b,c)}d.Ee=function(a,b){var c=this.hd(a);c&&(Mc(c),b&&(q(b)?Pc(c,b):(a=function(e){if(e){var f=Ec(c);c.appendChild(q(e)?f.createTextNode(e):e)}},ra(b)?Ga(b,a):!sa(b)||"nodeType"in b?a(b):Ga(Na(b),a))))};d.Ib=function(a){return a.H()};d.kc=function(){return"goog-control"};
d.Cl=function(a){var b=this.kc(),c=[b],e=this.kc();e!=b&&c.push(e);b=a.getState();for(e=[];b;){var f=b&-b;e.push(this.Bl(f));b&=~f}c.push.apply(c,e);(a=a.pe)&&c.push.apply(c,a);z&&!rc("7")&&c.push.apply(c,oj(c));return c};function oj(a,b){var c=[];b&&(a=Ma(a,[b]));Ga([],function(e){!Ja(e,Ba(Ka,a))||b&&!Ka(e,b)||c.push(e.join("_"))});return c}
d.Bl=function(a){if(!this.Fq){var b=this.kc();b.replace(/\xa0|\s/g," ");this.Fq={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}}return this.Fq[a]};function R(a,b,c){Ei.call(this,c);if(!b){b=this.constructor;for(var e;b;){e=va(b);if(e=hj[e])break;b=b.u?b.u.constructor:null}b=e?ta(e.Jf)?e.Jf():new e:null}this.ya=b;this.Oc=void 0!==a?a:null;this.tq=null}v(R,Ei);d=R.prototype;d.Oc=null;d.Oa=0;d.ub=39;d.mv=255;d.kk=0;d.Xa=!0;d.pe=null;d.vj=!0;d.Wm=!1;d.jy=null;d.Ib=function(){return this.ya.Ib(this)};d.Gl=function(){return this.oc||(this.oc=new Ui)};
d.gj=function(a,b){b?a&&(this.pe?Ka(this.pe,a)||this.pe.push(a):this.pe=[a],this.ya.gj(this,a,!0)):a&&this.pe&&La(this.pe,a)&&(0==this.pe.length&&(this.pe=null),this.ya.gj(this,a,!1))};d.Z=function(){var a=this.ya.Z(this);this.Y=a;pj(this.ya,a,this.Jl());this.Wm||this.ya.lp(a,!1);this.isVisible()||this.ya.qa(a,!1)};d.Jl=function(){return this.jy};d.mp=function(a){this.tq=a;var b=this.H();b&&this.ya.mp(b,a)};d.hd=function(){return this.ya.hd(this.H())};
d.Ub=function(){R.u.Ub.call(this);qj(this.ya,this,this.Y);this.ya.Dj(this);if(this.ub&-2&&(this.vj&&sj(this,!0),this.ub&32)){var a=this.Ib();if(a){var b=this.Gl();Vi(b,a);Hi(this).wa(b,"key",this.Td).wa(a,"focus",this.Ml).wa(a,"blur",this.uj)}}};
function sj(a,b){var c=a.wi?Vh:Wh,e=Hi(a),f=a.H();b?(e.wa(f,c.Eh,a.Zh).wa(f,[c.Fh,c.Dh],a.$h).wa(f,"mouseover",a.$n).wa(f,"mouseout",a.Zn),a.wi&&e.wa(f,"gotpointercapture",a.nm),a.Yh!=oa&&e.wa(f,"contextmenu",a.Yh),z&&(rc(9)||e.wa(f,"dblclick",a.Zr),a.Bj||(a.Bj=new tj(a),Sh(a,Ba(Th,a.Bj))))):(e.td(f,c.Eh,a.Zh).td(f,[c.Fh,c.Dh],a.$h).td(f,"mouseover",a.$n).td(f,"mouseout",a.Zn),a.wi&&e.td(f,"gotpointercapture",a.nm),a.Yh!=oa&&e.td(f,"contextmenu",a.Yh),z&&(rc(9)||e.td(f,"dblclick",a.Zr),Th(a.Bj),a.Bj=
null))}d.Gd=function(){R.u.Gd.call(this);this.oc&&this.oc.detach();this.isVisible()&&this.isEnabled()&&this.ya.lg(this,!1)};d.xb=function(){R.u.xb.call(this);this.oc&&(this.oc.D(),delete this.oc);delete this.ya;this.Bj=this.pe=this.Oc=null};d.If=function(){return this.Oc};d.Ee=function(a){this.ya.Ee(this.H(),a);this.Oc=a};
d.Qn=function(){var a=this.If();if(!a)return"";if(!q(a))if(ra(a))a=Ia(a,Uc).join("");else{if(vc&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Vc(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");vc||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""))}return Xb(a)};d.lf=function(a){R.u.lf.call(this,a);var b=this.H();b&&this.ya.lf(b,a)};d.lp=function(a){this.Wm=a;var b=this.H();b&&this.ya.lp(b,a)};d.isVisible=function(){return this.Xa};
d.qa=function(a,b){return b||this.Xa!=a&&this.dispatchEvent(a?"show":"hide")?((b=this.H())&&this.ya.qa(b,a),this.isEnabled()&&this.ya.lg(this,a),this.Xa=a,!0):!1};d.isEnabled=function(){return!(this.Oa&1)};d.Uc=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!uj(this,1,!a)||(a||(this.setActive(!1),this.Vc(!1)),this.isVisible()&&this.ya.lg(this,a),this.ce(1,!a,!0))};d.Vc=function(a){uj(this,2,a)&&this.ce(2,a)};d.setActive=function(a){uj(this,4,a)&&this.ce(4,a)};
d.Wl=function(){return!!(this.Oa&8)};function vj(a,b){uj(a,16,b)&&a.ce(16,b)}d.ii=function(){return!!(this.Oa&64)};function wj(a,b){uj(a,64,b)&&a.ce(64,b)}d.getState=function(){return this.Oa};d.ce=function(a,b,c){c||1!=a?this.ub&a&&b!=!!(this.Oa&a)&&(this.ya.ce(this,a,b),this.Oa=b?this.Oa|a:this.Oa&~a):this.Uc(!b)};d.od=function(a,b){if(this.Ca&&this.Oa&a&&!b)throw Error("Component already rendered");!b&&this.Oa&a&&this.ce(a,!1);this.ub=b?this.ub|a:this.ub&~a};
function xj(a,b){return!!(a.mv&b)&&!!(a.ub&b)}function uj(a,b,c){return!!(a.ub&b)&&!!(a.Oa&b)!=c&&(!(a.kk&b)||a.dispatchEvent(Gi(b,c)))&&!a.Ze}d.$n=function(a){!yj(a,this.H())&&this.dispatchEvent("enter")&&this.isEnabled()&&xj(this,2)&&this.Vc(!0)};d.Zn=function(a){!yj(a,this.H())&&this.dispatchEvent("leave")&&(xj(this,4)&&this.setActive(!1),xj(this,2)&&this.Vc(!1))};d.nm=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};d.Yh=oa;
function yj(a,b){return!!a.relatedTarget&&Oc(b,a.relatedTarget)}d.Zh=function(a){this.isEnabled()&&(xj(this,2)&&this.Vc(!0),!$h(a)||A&&ic&&a.ctrlKey||(xj(this,4)&&this.setActive(!0),this.ya&&this.ya.Sf(this)&&this.Ib().focus()));this.Wm||!$h(a)||A&&ic&&a.ctrlKey||a.preventDefault()};d.$h=function(a){this.isEnabled()&&(xj(this,2)&&this.Vc(!0),this.Oa&4&&zj(this,a)&&xj(this,4)&&this.setActive(!1))};d.Zr=function(a){this.isEnabled()&&zj(this,a)};
function zj(a,b){xj(a,16)&&vj(a,!(a.Oa&16));xj(a,8)&&uj(a,8,!0)&&a.ce(8,!0);xj(a,64)&&wj(a,!a.ii());var c=new Uh("action",a);b&&(c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.Ro=b.Ro);return a.dispatchEvent(c)}d.Ml=function(){xj(this,32)&&uj(this,32,!0)&&this.ce(32,!0)};d.uj=function(){xj(this,4)&&this.setActive(!1);xj(this,32)&&uj(this,32,!1)&&this.ce(32,!1)};
d.Td=function(a){return this.isVisible()&&this.isEnabled()&&this.Hg(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};d.Hg=function(a){return 13==a.keyCode&&zj(this,a)};if(!ta(R))throw Error("Invalid component class "+R);if(!ta(lj))throw Error("Invalid renderer class "+lj);var Aj=va(R);hj[Aj]=lj;gj("goog-control",function(){return new R(null)});
function tj(a){Ph.call(this);this.hl=a;this.al=!1;this.ai=new yi(this);Sh(this,Ba(Th,this.ai));a=this.hl.Y;this.ai.wa(a,"mousedown",this.Nw).wa(a,"mouseup",this.Ow).wa(a,"click",this.Fw)}v(tj,Ph);var Bj=!z||9<=Number(sc);tj.prototype.Nw=function(){this.al=!1};tj.prototype.Ow=function(){this.al=!0};
function Cj(a,b){if(!Bj)return a.button=0,a.type=b,a;var c=document.createEvent("MouseEvents");c.initMouseEvent(b,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,a.relatedTarget||null);return c}tj.prototype.Fw=function(a){if(this.al)this.al=!1;else{var b=a.oe,c=b.button,e=b.type,f=Cj(b,"mousedown");this.hl.Zh(new Xh(f,a.currentTarget));f=Cj(b,"mouseup");this.hl.$h(new Xh(f,a.currentTarget));Bj||(b.button=c,b.type=e)}};
tj.prototype.xb=function(){this.hl=null;tj.u.xb.call(this)};function Dj(a,b,c){Ei.call(this,c);this.ya=b||ij.Jf();this.bh=a||Ej}v(Dj,Ei);var kj="horizontal",Ej="vertical";d=Dj.prototype;d.qo=null;d.oc=null;d.ya=null;d.bh=null;d.Xa=!0;d.Dg=!0;d.Mn=!0;d.Ya=-1;d.Bb=null;d.ri=!1;d.iv=!1;d.ey=!0;d.Ve=null;d.Ib=function(){return this.qo||this.ya.Ib(this)};d.Gl=function(){return this.oc||(this.oc=new Ui(this.Ib()))};d.Z=function(){this.Y=this.ya.Z(this)};d.hd=function(){return this.ya.hd(this.H())};
d.Ub=function(){Dj.u.Ub.call(this);Ji(this,function(c){c.Ca&&Fj(this,c)},this);var a=this.H();this.ya.Dj(this);this.qa(this.Xa,!0);var b=this.wi?Vh:Wh;Hi(this).wa(this,"enter",this.Xn).wa(this,"highlight",this.Kw).wa(this,"unhighlight",this.Sw).wa(this,"open",this.Pw).wa(this,"close",this.Gw).wa(a,b.Eh,this.Zh).wa(Ec(a),[b.Fh,b.Dh],this.Hw).wa(a,[b.Eh,b.Fh,b.Dh,"mouseover","mouseout","contextmenu"],this.Ew);this.wi&&Hi(this).wa(a,"gotpointercapture",this.nm);this.Sf()&&Gj(this,!0)};
d.nm=function(a){var b=a.target;b.releasePointerCapture&&b.releasePointerCapture(a.pointerId)};function Gj(a,b){var c=Hi(a),e=a.Ib();b?c.wa(e,"focus",a.Ml).wa(e,"blur",a.uj).wa(a.Gl(),"key",a.Td):c.td(e,"focus",a.Ml).td(e,"blur",a.uj).td(a.Gl(),"key",a.Td)}d.Gd=function(){this.Bi(-1);this.Bb&&wj(this.Bb,!1);this.ri=!1;Dj.u.Gd.call(this)};d.xb=function(){Dj.u.xb.call(this);this.oc&&(this.oc.D(),this.oc=null);this.ya=this.Bb=this.Ve=this.qo=null};d.Xn=function(){return!0};
d.Kw=function(a){var b=Ni(this,a.target);if(-1<b&&b!=this.Ya){var c=P(this,this.Ya);c&&c.Vc(!1);this.Ya=b;c=P(this,this.Ya);this.ri&&c.setActive(!0);this.ey&&this.Bb&&c!=this.Bb&&(c.ub&64?wj(c,!0):wj(this.Bb,!1))}b=this.H();null!=a.target.H()&&Q(b,"activedescendant",a.target.H().id)};d.Sw=function(a){a.target==P(this,this.Ya)&&(this.Ya=-1);this.H().removeAttribute("aria-activedescendant")};d.Pw=function(a){(a=a.target)&&a!=this.Bb&&a.getParent()==this&&(this.Bb&&wj(this.Bb,!1),this.Bb=a)};
d.Gw=function(a){a.target==this.Bb&&(this.Bb=null);var b=this.H(),c=a.target.H();b&&a.target.Oa&2&&c&&(a="",c&&(a=c.id),Q(b,"activedescendant",a))};d.Zh=function(a){this.Dg&&(this.ri=!0);var b=this.Ib();b&&Sc(b)&&Tc(b)?b.focus():a.preventDefault()};d.Hw=function(){this.ri=!1};
d.Ew=function(a){var b=this.wi?Vh:Wh;a:{var c=a.target;if(this.Ve)for(var e=this.H();c&&c!==e;){var f=c.id;if(f in this.Ve){c=this.Ve[f];break a}c=c.parentNode}c=null}if(c)switch(a.type){case b.Eh:c.Zh(a);break;case b.Fh:case b.Dh:c.$h(a);break;case "mouseover":c.$n(a);break;case "mouseout":c.Zn(a);break;case "contextmenu":c.Yh(a)}};d.Ml=function(){};d.uj=function(){this.Bi(-1);this.ri=!1;this.Bb&&wj(this.Bb,!1)};
d.Td=function(a){return this.isEnabled()&&this.isVisible()&&(0!=Ki(this)||this.qo)&&this.Hg(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
d.Hg=function(a){var b=P(this,this.Ya);if(b&&"function"==typeof b.Td&&b.Td(a)||this.Bb&&this.Bb!=b&&"function"==typeof this.Bb.Td&&this.Bb.Td(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Sf())this.Ib().blur();else return!1;break;case 36:Hj(this);break;case 35:Ij(this);break;case 38:if(this.bh==Ej)Jj(this);else return!1;break;case 37:if(this.bh==kj)Li(this)?Kj(this):Jj(this);else return!1;break;case 40:if(this.bh==Ej)Kj(this);else return!1;break;
case 39:if(this.bh==kj)Li(this)?Jj(this):Kj(this);else return!1;break;default:return!1}return!0};function Fj(a,b){var c=b.H();c=c.id||(c.id=b.sa());a.Ve||(a.Ve={});a.Ve[c]=b}d.Vk=function(a,b){Dj.u.Vk.call(this,a,b)};
d.Ih=function(a,b,c){a.kk|=2;a.kk|=64;!this.Sf()&&this.iv||a.od(32,!1);a.Ca&&0!=a.vj&&sj(a,!1);a.vj=!1;var e=a.getParent()==this?Ni(this,a):-1;Dj.u.Ih.call(this,a,b,c);a.Ca&&this.Ca&&Fj(this,a);a=e;-1==a&&(a=Ki(this));a==this.Ya?this.Ya=Math.min(Ki(this)-1,b):a>this.Ya&&b<=this.Ya?this.Ya++:a<this.Ya&&b>this.Ya&&this.Ya--};
d.removeChild=function(a,b){if(a=q(a)?Ii(this,a):a){var c=Ni(this,a);-1!=c&&(c==this.Ya?(a.Vc(!1),this.Ya=-1):c<this.Ya&&this.Ya--);var e=a.H();e&&e.id&&this.Ve&&(c=this.Ve,e=e.id,e in c&&delete c[e])}b=a=Dj.u.removeChild.call(this,a,b);b.Ca&&1!=b.vj&&sj(b,!0);b.vj=!0;return a};d.setOrientation=function(a){if(this.H())throw Error("Component already rendered");this.bh=a};d.isVisible=function(){return this.Xa};
d.qa=function(a,b){if(b||this.Xa!=a&&this.dispatchEvent(a?"show":"hide")){this.Xa=a;var c=this.H();c&&(ph(c,a),this.Sf()&&jj(this.Ib(),this.Dg&&this.Xa),b||this.dispatchEvent(this.Xa?"aftershow":"afterhide"));return!0}return!1};d.isEnabled=function(){return this.Dg};
d.Uc=function(a){this.Dg!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.Dg=!0,Ji(this,function(b){b.Xt?delete b.Xt:b.Uc(!0)})):(Ji(this,function(b){b.isEnabled()?b.Uc(!1):b.Xt=!0}),this.ri=this.Dg=!1),this.Sf()&&jj(this.Ib(),a&&this.Xa))};d.Sf=function(){return this.Mn};d.lg=function(a){a!=this.Mn&&this.Ca&&Gj(this,a);this.Mn=a;this.Dg&&this.Xa&&jj(this.Ib(),a)};d.Bi=function(a){(a=P(this,a))?a.Vc(!0):-1<this.Ya&&P(this,this.Ya).Vc(!1)};d.Vc=function(a){this.Bi(Ni(this,a))};
function Hj(a){Lj(a,function(b,c){return(b+1)%c},Ki(a)-1)}function Ij(a){Lj(a,function(b,c){b--;return 0>b?c-1:b},0)}function Kj(a){Lj(a,function(b,c){return(b+1)%c},a.Ya)}function Jj(a){Lj(a,function(b,c){b--;return 0>b?c-1:b},a.Ya)}function Lj(a,b,c){c=0>c?Ni(a,a.Bb):c;var e=Ki(a);c=b.call(a,c,e);for(var f=0;f<=e;){var h=P(a,c);if(h&&a.Bq(h)){a.Bi(c);break}f++;c=b.call(a,c,e)}}d.Bq=function(a){return a.isVisible()&&a.isEnabled()&&!!(a.ub&2)};function Mj(){}v(Mj,lj);pa(Mj);Mj.prototype.kc=function(){return"goog-menuheader"};function Nj(a,b,c){R.call(this,a,c||Mj.Jf(),b);this.od(1,!1);this.od(2,!1);this.od(4,!1);this.od(32,!1);this.Oa=1}v(Nj,R);gj("goog-menuheader",function(){return new Nj(null)});function Oj(){this.Gq=[]}v(Oj,lj);pa(Oj);function Pj(a,b){var c=a.Gq[b];if(!c){switch(b){case 0:c=a.kc()+"-highlight";break;case 1:c=a.kc()+"-checkbox";break;case 2:c=a.kc()+"-content"}a.Gq[b]=c}return c}d=Oj.prototype;d.yl=function(){return"menuitem"};d.Z=function(a){var b=a.se().Z("DIV",this.Cl(a).join(" "),Qj(this,a.If(),a.se()));Rj(this,a,b,!!(a.ub&8)||!!(a.ub&16));return b};d.hd=function(a){return a&&a.firstChild};
d.Ee=function(a,b){var c=this.hd(a),e=Sj(this,a)?c.firstChild:null;Oj.u.Ee.call(this,a,b);e&&!Sj(this,a)&&c.insertBefore(e,c.firstChild||null)};function Qj(a,b,c){a=Pj(a,2);return c.Z("DIV",a,b)}d.xt=function(a,b,c){a&&b&&Rj(this,a,b,c)};d.op=function(a,b,c){a&&b&&Rj(this,a,b,c)};function Sj(a,b){return(b=a.hd(b))?(b=b.firstChild,a=Pj(a,1),!!b&&ua(b)&&1==b.nodeType&&bj(b,a)):!1}
function Rj(a,b,c,e){pj(a,c,b.Jl());qj(a,b,c);e!=Sj(a,c)&&(e?cj(c,"goog-option"):ej(c,"goog-option"),c=a.hd(c),e?(a=Pj(a,1),c.insertBefore(b.se().Z("DIV",a),c.firstChild||null)):c.removeChild(c.firstChild))}d.Bl=function(a){switch(a){case 2:return Pj(this,0);case 16:case 8:return"goog-option-selected";default:return Oj.u.Bl.call(this,a)}};d.kc=function(){return"goog-menuitem"};function Tj(a,b,c,e){R.call(this,a,e||Oj.Jf(),c);this.setValue(b)}v(Tj,R);d=Tj.prototype;d.getValue=function(){var a=this.Co;return null!=a?a:this.Qn()};d.setValue=function(a){this.Co=a};d.od=function(a,b){Tj.u.od.call(this,a,b);switch(a){case 8:this.Oa&16&&!b&&vj(this,!1);(a=this.H())&&this.ya.xt(this,a,b);break;case 16:(a=this.H())&&this.ya.op(this,a,b)}};d.xt=function(a){this.od(8,a)};d.op=function(a){this.od(16,a)};
d.Qn=function(){var a=this.If();return ra(a)?(a=Ia(a,function(b){return ua(b)&&1==b.nodeType&&(bj(b,"goog-menuitem-accel")||bj(b,"goog-menuitem-mnemonic-separator"))?"":Uc(b)}).join(""),Xb(a)):Tj.u.Qn.call(this)};d.$h=function(a){var b=this.getParent();if(b){var c=b.Vs;b.Vs=null;if(c&&ma(a.clientX)&&xc(c,new B(a.clientX,a.clientY)))return}Tj.u.$h.call(this,a)};d.Hg=function(a){return a.keyCode==this.Cs&&zj(this,a)?!0:Tj.u.Hg.call(this,a)};d.Bw=function(){return this.Cs};gj("goog-menuitem",function(){return new Tj(null)});
Tj.prototype.Jl=function(){return this.ub&16?"menuitemcheckbox":this.ub&8?"menuitemradio":Tj.u.Jl.call(this)};Tj.prototype.getParent=function(){return R.prototype.getParent.call(this)};Tj.prototype.Il=function(){return R.prototype.Il.call(this)};function Uj(){}v(Uj,lj);pa(Uj);Uj.prototype.Z=function(a){return a.se().Z("DIV",this.kc())};Uj.prototype.Ee=function(){};Uj.prototype.kc=function(){return"goog-menuseparator"};function Vj(a,b){R.call(this,null,a||Uj.Jf(),b);this.od(1,!1);this.od(2,!1);this.od(4,!1);this.od(32,!1);this.Oa=1}v(Vj,R);Vj.prototype.Ub=function(){Vj.u.Ub.call(this);var a=this.H();Pi(a,"separator")};gj("goog-menuseparator",function(){return new Vj});function Wj(a){this.uq=a||"menu"}v(Wj,ij);pa(Wj);Wj.prototype.kc=function(){return"goog-menu"};Wj.prototype.Dj=function(a){Wj.u.Dj.call(this,a);a=a.H();Q(a,"haspopup","true")};gj("goog-menuseparator",function(){return new Vj});function Xj(a,b){Dj.call(this,Ej,b||Wj.Jf(),a);this.lg(!1)}v(Xj,Dj);d=Xj.prototype;d.Wk=!0;d.jv=!1;d.kc=function(){return this.ya.kc()};d.removeItem=function(a){(a=this.removeChild(a,!0))&&a.D()};d.setPosition=function(a,b){var c=this.isVisible();c||ph(this.H(),!0);var e=this.H(),f=a;a=lh(e);f instanceof B&&(b=f.y,f=f.x);var h=e.offsetLeft+(f-a.x);h instanceof B?(f=h.x,b=h.y):(f=h,b=e.offsetTop+(Number(b)-a.y));e.style.left=mh(f);e.style.top=mh(b);c||ph(this.H(),!1)};
d.Ur=function(){return this.isVisible()?lh(this.H()):null};d.qa=function(a,b,c){(b=Xj.u.qa.call(this,a,b))&&a&&this.Ca&&this.Wk&&this.Ib().focus();this.Vs=a&&c&&ma(c.clientX)?new B(c.clientX,c.clientY):null;return b};d.Xn=function(a){this.Wk&&this.Ib().focus();return Xj.u.Xn.call(this,a)};d.Bq=function(a){return(this.jv||a.isEnabled())&&a.isVisible()&&!!(a.ub&2)};
d.Hg=function(a){var b=Xj.u.Hg.call(this,a);b||Ji(this,function(c){!b&&c.Bw&&c.Cs==a.keyCode&&(this.isEnabled()&&this.Vc(c),b=c.Td(a))},this);return b};
d.Bi=function(a){Xj.u.Bi.call(this,a);if(a=P(this,a)){var b=a.H();a=this.H()||Jc(document);var c=a||Jc(document);var e=lh(b),f=lh(c);if(!z||9<=Number(sc)){k=ih(c,"borderLeftWidth");var h=ih(c,"borderRightWidth");l=ih(c,"borderTopWidth");m=ih(c,"borderBottomWidth");h=new sg(parseFloat(l),parseFloat(h),parseFloat(m),parseFloat(k))}else{var k=th(c,"borderLeft");h=th(c,"borderRight");var l=th(c,"borderTop"),m=th(c,"borderBottom");h=new sg(l,h,m,k)}c==Jc(document)?(k=e.x-c.scrollLeft,e=e.y-c.scrollTop,
!z||10<=Number(sc)||(k+=h.left,e+=h.top)):(k=e.x-f.x-h.left,e=e.y-f.y-h.top);b=oh(b);f=c.clientHeight-b.height;h=c.scrollLeft;l=c.scrollTop;h+=Math.min(k,Math.max(k-(c.clientWidth-b.width),0));l+=Math.min(e,Math.max(e-f,0));c=new B(h,l);a.scrollLeft=c.x;a.scrollTop=c.y}};x.la={};x.la.il=null;x.la.Kr=null;x.la.show=function(a,b,c){x.I.show(x.la,c,null);if(b.length){var e=x.la.lm(b,c);li(e,"action",x.la.pa);x.la.pc(e,a,c);setTimeout(function(){e.H().focus()},1);x.la.il=null}else x.la.pa()};x.la.lm=function(a,b){var c=new Xj;c.lf(b);for(var e=0,f;f=a[e];e++){var h=new Tj(f.text);h.lf(b);c.Vk(h,!0);h.Uc(f.enabled);f.enabled&&(li(h,"action",f.Hb),h.Yh=function(){this.dispatchEvent("action")})}return c};
x.la.pc=function(a,b,c){var e=x.h.Vr();b={top:b.clientY+e.top,bottom:b.clientY+e.top,left:b.clientX+e.left,right:b.clientX+e.left};x.la.cj(a);var f=x.h.Gi.qj(a);c&&x.h.Gi.qq(e,b,f);x.I.$s(e,b,f,c);a.H().focus()};x.la.cj=function(a){a.ca(x.I.ka);var b=a.H();x.h.Na(b,"blocklyContextMenu");x.R(b,"contextmenu",null,x.h.Ix);a.Wk=!0;a.lg(!0)};x.la.pa=function(){x.I.yj(x.la);x.la.il=null;x.la.Kr&&x.Fa(x.la.Kr)};
x.la.Tz=function(a,b){return function(){x.i.disable();try{var c=x.B.Qh(b,a.s),e=a.ta();e.x=a.w?e.x-x.bd:e.x+x.bd;e.y+=2*x.bd;c.moveBy(e.x,e.y)}finally{x.i.enable()}x.i.isEnabled()&&!c.Da&&x.i.T(new x.i.Kk(c));c.select()}};x.la.pv=function(a){var b=Xc(a,!1).length,c=Yc(a);c&&(b-=Xc(c,!1).length);return{text:1==b?x.g.DELETE_BLOCK:x.g.DELETE_X_BLOCKS.replace("%1",String(b)),enabled:!0,Hb:function(){x.i.P(!0);a.D(!0,!0);x.i.P(!1)}}};
x.la.rv=function(a){return{enabled:!("function"==typeof a.ef?!a.ef():!a.ef),text:x.g.HELP,Hb:function(){var b="function"==typeof a.ef?a.ef():a.ef;b&&window.open(b)}}};x.la.qv=function(a){var b=ee(a.s)?de(a.s,x.h.Pn(a,!0)):!0;return{text:x.g.DUPLICATE_BLOCK,enabled:b,Hb:function(){x.Hr(a)}}};x.la.ov=function(a){var b={enabled:!z};a.Pa?(b.text=x.g.REMOVE_COMMENT,b.Hb=function(){a.$j(null)}):(b.text=x.g.ADD_COMMENT,b.Hb=function(){a.$j("")});return b};
x.la.Iv=function(a){return{text:x.g.Lz,enabled:!0,Hb:function(){x.i.P(!0);a.D(!0,!0);x.i.P(!1)}}};x.la.Jv=function(a){return{text:x.g.mz,enabled:!0,Hb:function(){x.Hr(a)}}};x.la.qA=function(a,b){var c={enabled:!z};c.text=x.g.fz;c.Hb=function(){var e=new xf(a,x.g.Oz,100,100),f=Zc(a).getBoundingClientRect();f=new B(b.clientX-f.left,b.clientY-f.top);var h=x.h.nj(a.Ea);f=zc(f,h).scale(1/a.scale);e.moveBy(f.x,f.y);a.S&&(e.Kd(),e.ca(!1),e.select())};return c};var Yj=/#(.)(.)(.)/;function Zj(a){var b=a[0],c=a[1];a=a[2];b=Number(b);c=Number(c);a=Number(a);if(b!=(b&255)||c!=(c&255)||a!=(a&255))throw Error('"('+b+","+c+","+a+'") is not a valid RGB color');c=b<<16|c<<8|a;return 16>b?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)}var ak=/^#(?:[0-9a-f]{3}){1,2}$/i;function bk(a,b,c){c=Math.min(Math.max(c,0),1);return[Math.round(b[0]+c*(a[0]-b[0])),Math.round(b[1]+c*(a[1]-b[1])),Math.round(b[2]+c*(a[2]-b[2]))]};function N(a,b,c){this.A=x.h.C("g",{},null);this.A.pf="";this.ph=x.h.C("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.A);this.bc=x.h.C("path",{"class":"blocklyPath","aria-label":b.replace(/_/g," ")},this.A);this.Me=x.h.C("path",{"class":"blocklyPathLight"},this.A);this.bc.Xc=this;this.S=!1;this.Ne=x.h.Rf()&&!!a.ob;x.F.wg(this.bc);N.u.constructor.call(this,a,b,c);this.A.dataset&&(this.A.dataset.id=this.id)}v(N,ce);d=N.prototype;d.height=0;d.width=0;d.Zc=null;
d.Kd=function(){if(!this.s.S)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.L[a];a++)b.$();b=jf(this);for(a=0;a<b.length;a++)ve(b[a]);this.sf();yf(this);this.s.options.readOnly||this.Gn||x.R(this.J(),"mousedown",this,this.Zf);this.Gn=!0;this.J().parentNode||this.s.Ea.appendChild(this.J())};
function ck(a){var b="";a=ba(a.L);for(var c=a.next();!c.done;c=a.next())c=c.value,b+=c.na.reduce(function(e,f){return e+f.Ab()+" "},""),c.connection&&c.connection.U&&1===c.type&&(b+=ck(c.connection.U.v)+" ");return b.trim()}function Dd(a){var b=void 0===b?!0:b;a.bc&&(a.bc.setAttribute("aria-label",ck(a)),b&&a.getParent()&&Dd(a.getParent()))}
d.select=function(){if(this.Da&&this.getParent())this.getParent().select();else if(x.selected!=this){var a=null;if(x.selected){a=x.selected.id;x.i.disable();try{x.selected.rf()}finally{x.i.enable()}}a=new C(null,"selected",a,this.id);a.mb=this.s.id;x.i.T(a);x.selected=this;this.Jh()}};d.rf=function(){if(x.selected==this){var a=new C(null,"selected",this.id,null);a.mb=this.s.id;x.i.T(a);x.selected=null;this.fh()}};d.kd=null;d.Pa=null;d.ec=null;
function jf(a){var b=[];a.kd&&b.push(a.kd);a.Pa&&b.push(a.Pa);a.ec&&b.push(a.ec);return b}d.kh=function(a){var b=this.Yd;if(a!=b){Md();N.u.kh.call(this,a);Rd();var c=this.J();if(!this.s.mo&&c){var e=this.ta();a?(a.J().appendChild(c),a=this.ta(),ef(this,a.x-e.x,a.y-e.y)):b&&(this.s.Ea.appendChild(c),this.translate(e.x,e.y))}}};
d.ta=function(){var a=0,b=0,c=this.Ne?this.s.ob.zb():null,e=this.J();if(e){do{var f=x.h.Dc(e);a+=f.x;b+=f.y;this.Ne&&this.s.ob.Fd.firstChild==e&&(f=this.s.ob.Kl(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.s.Ea&&e!=c)}return new B(a,b)};d.moveBy=function(a,b){if(this.Yd)throw Error("Block has parent.");var c=x.i.isEnabled();if(c)var e=new x.i.Ah(this);var f=this.ta();this.translate(f.x+a,f.y+b);ef(this,a,b);c&&(e.De(),x.i.T(e));Vd(this.s)};
d.moveTo=function(a){if(this.Yd)throw Error("Block has parent.");var b=x.i.isEnabled();if(b)var c=new x.i.Ah(this);var e=this.ta();this.translate(a.x,a.y);ef(this,a.x-e.x,a.y-e.y);b&&(c.De(),x.i.T(c));Vd(this.s)};d.translate=function(a,b){this.J().setAttribute("transform","translate("+a+","+b+")")};d.gm=function(){if(this.Ne){var a=this.ta();x.h.removeAttribute(this.J(),"transform");this.s.ob.nf(a.x,a.y);Af(this.s.ob,this.J())}};d.Fs=function(a){this.Ne&&(this.translate(a.x,a.y),this.s.ob.Wi(this.s.Ea))};
d.fm=function(a){this.Ne?this.s.ob.nf(a.x,a.y):(this.A.pf="translate("+a.x+","+a.y+")",this.A.setAttribute("transform",this.A.pf+this.A.lh))};function $g(a){if(a.s&&!a.s.Yb()&&!a.getParent()&&!a.Fc){var b=a.s.Jd;if(b&&b.Dy){var c=b.yp,e=c/2,f=a.ta();b=Math.round((f.x-e)/c)*c+e-f.x;c=Math.round((f.y-e)/c)*c+e-f.y;b=Math.round(b);c=Math.round(c);0==b&&0==c||a.moveBy(b,c)}}}
d.zl=function(){var a=this.ta(),b=this.K?J:0,c=this.tb();if(this.w){var e=new B(a.x-(c.width-b),a.y);a=new B(a.x+b,a.y+c.height)}else e=new B(a.x-b,a.y),a=new B(a.x+c.width-b,a.y+c.height);return{Kc:e,cd:a}};
d.hh=function(a){if(this.Xe!=a){for(var b=[],c=0,e;e=this.L[c];c++)b.push.apply(b,e.qa(!a));if(a){e=jf(this);for(c=0;c<e.length;c++)e[c].qa(!1);c=this.toString(x.du);Fh(this.Pd(x.Md,"_TEMP_COLLAPSED_INPUT"),c).$();e=Xc(this,!0);if(c=Yc(this))c=e.indexOf(c),e.splice(c,e.length-c);c=1;for(var f;f=e[c];c++)if(f.ec){this.fk(x.g.COLLAPSED_WARNINGS_WARNING,"TEMP_COLLAPSED_WARNING_");break}}else this.eh("_TEMP_COLLAPSED_INPUT"),this.ec&&(this.ec.jb("","TEMP_COLLAPSED_WARNING_"),Object.keys(this.ec.ua).length||
this.fk(null));N.u.hh.call(this,a);b.length||(b[0]=this);if(this.S)for(c=0;f=b[c];c++)f.ca()}};function ek(a,b,c){for(var e=[],f=0,h;h=a.L[f];f++){for(var k=0,l;l=h.na[k];k++)l instanceof fk&&e.push(l);h.connection&&(h=G(h.connection))&&e.push(h)}b=e.indexOf(b);-1==b&&(b=c?-1:e.length);(e=e[c?b+1:b-1])?e instanceof uh?e.mf():ek(e,null,c):(e=a.getParent())&&ek(e,a,c)}
d.Zf=function(a){var b=this.s&&this.s.te(a);if(b){if(b.Jg)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Tf(b,this);b.Wd=a}};
d.Ci=function(a){if(!this.s.options.readOnly&&this.contextMenu){var b=this,c=[];if(!this.Fc){this.Xb()&&this.Jb()&&c.push(x.la.qv(b));this.s.options.Kv&&!this.Xe&&Kd(this)&&c.push(x.la.ov(b));if(this.Jb())if(this.Xe)this.s.options.collapse&&(e={enabled:!0},e.text=x.g.EXPAND_BLOCK,e.Hb=function(){b.hh(!1)},c.push(e));else{for(var e=1;e<this.L.length;e++)if(this.L[e-1].type!=x.xa&&this.L[e].type!=x.xa){e={enabled:!0};var f=hh(this);e.text=f?x.g.EXTERNAL_INPUTS:x.g.INLINE_INPUTS;e.Hb=function(){b.mg(!f)};
c.push(e);break}this.s.options.collapse&&(e={enabled:!0},e.text=x.g.COLLAPSE_BLOCK,e.Hb=function(){b.hh(!0)},c.push(e))}this.s.options.disable&&Kd(this)&&(e={text:this.disabled?x.g.ENABLE_BLOCK:x.g.DISABLE_BLOCK,enabled:!Kh(this),Hb:function(){var h=x.i.zb();h||x.i.P(!0);b.Uc(!b.isEnabled());h||x.i.P(!1)}},c.push(e));this.Xb()&&c.push(x.la.pv(b))}c.push(x.la.rv(b));this.Yv&&this.Yv(c);x.la.show(a,c,this.w);x.la.il=this}};
function ef(a,b,c){if(a.S){for(var e=a.Hd(!1),f=0;f<e.length;f++)e[f].moveBy(b,c);e=jf(a);for(f=0;f<e.length;f++)we(e[f]);for(f=0;f<a.Ue.length;f++)ef(a.Ue[f],b,c)}}d.kg=function(a){if(a){var b=this.J();b.pf="";b.lh="";x.fj=x.fj.concat(this.Hd(!0));x.h.Na(this.A,"blocklyDragging")}else x.fj=[],x.h.ib(this.A,"blocklyDragging");for(b=0;b<this.Ue.length;b++)this.Ue[b].kg(a)};d.jh=function(a){N.u.jh.call(this,a);yf(this)};d.pp=function(a){N.u.pp.call(this,a);a=jf(this);for(var b=0;b<a.length;b++)a[b].tf()};
d.sp=function(a){N.u.sp.call(this,a);this.sf()};d.vt=function(a){this.Vd!=a&&(this.Vd=a)&&(this.ae(x.Du),x.h.Na(this.A,"blocklyInsertionMarker"))};d.J=function(){return this.A};
d.D=function(a,b){if(this.s){x.F.pa();Md();var c=this.s;if(x.selected==this){this.rf();var e=this.s;e.rb&&e.rb.cancel()}x.la.il==this&&x.la.pa();b&&this.S&&(Hd(this,a),x.Ia.iw(this));this.S=!1;if(this.Zc){for(var f in this.Zc)clearTimeout(this.Zc[f]);this.Zc=null}Hd(this,a);var h;x.i.isEnabled()&&(h=new x.i.Mp(this));x.i.disable();try{var k=jf(this);for(b=0;b<k.length;b++)k[b].D();N.u.D.call(this,a)}finally{x.i.enable()}x.i.isEnabled()&&h&&x.i.T(h);x.h.removeNode(this.A);Vd(c);this.ph=this.Me=this.bc=
this.A=null;Rd()}};
d.sf=function(){if(!this.disabled){var a=this.Bd,b=this.Mq,c=this.Nq;var e=a;if(!ak.test(e))throw Error("'"+e+"' is not a valid hex color");4==e.length&&(e=e.replace(Yj,"#$1$1$2$2$3$3"));e=e.toLowerCase();e=parseInt(e.substr(1),16);e=[e>>16,e>>8&255,e&255];this.Da?(a=e,b?(this.Me.style.display="none",this.ph.style.display="none",this.bc.setAttribute("fill",b),a=b):(a=bk([255,255,255],a,.6),a=Zj(a),this.Me.style.display="none",this.ph.setAttribute("fill",a))):c?(this.Me.setAttribute("stroke","none"),
this.ph.setAttribute("fill","none"),this.bc.setAttribute("stroke",c)):(this.Me.style.display="",b=Zj(bk([255,255,255],e,.3)),c=Zj(bk([0,0,0],e,.2)),this.Me.setAttribute("stroke",b),this.ph.setAttribute("fill",c),this.bc.setAttribute("stroke","none"));this.bc.setAttribute("fill",a);a=jf(this);for(b=0;b<a.length;b++)a[b].sf();for(a=0;b=this.L[a];a++)for(c=0;e=b.na[c];c++)e.kj()}};
function Ud(a){a.disabled||Kh(a)?x.h.Na(a.A,"blocklyDisabled")&&a.bc.setAttribute("fill","url(#"+a.s.options.Ye+")"):x.h.ib(a.A,"blocklyDisabled")&&a.sf();a=a.bf(!1);for(var b=0,c;c=a[b];b++)Ud(c)}d.Dl=function(){return this.Pa?this.Pa.Ab().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""};d.$j=function(a){var b=!1;"string"==typeof a?(this.Pa||(this.Pa=new xe(this),b=!0),this.Pa.jb(a)):this.Pa&&(this.Pa.D(),b=!0);b&&this.S&&(this.ca(),this.Gb())};
d.fk=function(a,b){this.Zc||(this.Zc=Object.create(null));var c=b||"";if(c)this.Zc[c]&&(clearTimeout(this.Zc[c]),delete this.Zc[c]);else for(var e in this.Zc)clearTimeout(this.Zc[e]),delete this.Zc[e];if(this.s.Yb()){var f=this;this.Zc[c]=setTimeout(function(){f.s&&(delete f.Zc[c],f.fk(a,c))},100)}else{this.Fc&&(a=null);b=Ih(this);for(e=null;b;)b.isCollapsed()&&(e=b),b=Ih(b);e&&e.fk(x.g.COLLAPSED_WARNINGS_WARNING,"TEMP_COLLAPSED_WARNING_");b=!1;"string"==typeof a?(this.ec||(this.ec=new ye(this),b=
!0),this.ec.jb(a,c)):this.ec&&!c?(this.ec.D(),b=!0):this.ec&&(b=this.ec.Ab(),this.ec.jb("",c),(e=this.ec.Ab())||this.ec.D(),b=b!=e);b&&this.S&&(this.ca(),this.Gb())}};d.wt=function(a){this.kd&&this.kd!==a&&this.kd.D();a&&(a.V=this,this.kd=a,ve(a))};d.Uc=function(a){this.isEnabled()!=a&&(N.u.Uc.call(this,a),this.S&&Ud(this))};d.Vc=function(a){this.S&&(a?(this.bc.setAttribute("filter","url(#"+this.s.options.Jr+")"),this.Me.style.display="none"):(x.h.removeAttribute(this.bc,"filter"),delete this.Me.style.display))};
d.Jh=function(){x.h.Na(this.A,"blocklySelected")};d.fh=function(){x.h.ib(this.A,"blocklySelected")};d.ck=function(a){a?x.h.Na(this.A,"blocklyDraggingDelete"):x.h.ib(this.A,"blocklyDraggingDelete")};d.ae=function(a){N.u.ae.call(this,a);this.S&&this.sf()};function vf(a){do{var b=a.J();b.parentNode.appendChild(b);a=a.getParent()}while(a)}d.ek=function(a,b){N.u.ek.call(this,a,b);this.S&&(this.ca(),this.Gb())};d.vm=function(a,b){N.u.vm.call(this,a,b);this.S&&(this.ca(),this.Gb())};
d.dk=function(a,b){N.u.dk.call(this,a,b);this.S&&(this.ca(),this.Gb())};d.mg=function(a){N.u.mg.call(this,a);this.S&&(this.ca(),this.Gb())};d.eh=function(a,b){N.u.eh.call(this,a,b);this.S&&(this.ca(),this.Gb())};d.Pd=function(a,b){a=N.u.Pd.call(this,a,b);this.S&&(this.ca(),this.Gb());return a};d.Hd=function(a){var b=[];if(a||this.S)if(this.K&&b.push(this.K),this.N&&b.push(this.N),this.M&&b.push(this.M),a||!this.Xe){a=0;for(var c;c=this.L[a];a++)c.connection&&b.push(c.connection)}return b};
d.Lj=function(a){return new Ze(this,a)};d.Gb=function(){if(this.s&&!this.s.Yb()){var a=af(this);if(!a.Fc)for(var b=this.Hd(!1),c=0,e;e=b[c];c++){e.isConnected()&&Fe(e)&&G(e).Gb();for(var f=e.Gs(x.bd),h=0,k;k=f[h];h++)e.isConnected()&&k.isConnected()||af(k.v)!=a&&(Fe(e)?Ce(k,e):Ce(e,k))}}};function wf(a){var b=x.i.zb();setTimeout(function(){x.i.P(b);$g(a);x.i.P(!1)},x.Jk/2);setTimeout(function(){x.i.P(b);a.Gb();x.i.P(!1)},x.Jk)}
function pf(a,b,c){b.type!=x.xa&&b.type!=x.Ja||a.moveBy(c.vb-b.vb,c.Ha-b.Ha)};function gk(){this.Ke=[];this.Ud=[];this.ks=[];this.gs=[]}var J=8,hk=7.5*(1-Math.SQRT1_2)+.5,ik=8.5*(1-Math.SQRT1_2)-.5,Oe="v 5 c 0,10 -"+J+",-8 -"+J+",7.5 s "+J+",-2.5 "+J+",7.5",jk="v 6.5 m -"+.97*J+",3 q -"+.05*J+",10 "+.3*J+",9.5 m "+.67*J+",-1.9 v 1.4",kk="m "+hk+","+hk,lk="a 8,8 0 0,0 "+(-ik-.5)+","+(8-ik),mk="a 8.5,8.5 0 0,0 "+(8-ik)+","+(ik+.5);
N.prototype.tb=function(){var a=this.height,b=this.width,c=Yc(this);c?(c=c.tb(),a+=c.height-4,b=Math.max(b,c.width)):this.M||this.K||(a+=2);return{height:a,width:b}};
N.prototype.ca=function(a){if(this.s){Md();this.S=!0;var b=10;this.w&&(b=-b);for(var c=jf(this),e=0;e<c.length;e++){var f=c[e];if(f.Kq&&f.V.isCollapsed()||f.V.Vd)f.Ec.setAttribute("display","none");else{f.Ec.setAttribute("display","block");var h=f.Rm;f.V.w&&(b-=h);f.Ec.setAttribute("transform","translate("+b+",5)");we(f);b=f.V.w?b-10:b+(h+10)}}var k=b+=this.w?10:-10,l=this.L;c=[];c.ac=k+20;if(this.N||this.M)c.ac=Math.max(c.ac,40);f=e=0;for(var m=h=!1,n=!1,t=void 0,u=hh(this)&&!this.isCollapsed(),
r=0,p;p=l[r];r++)if(p.isVisible()){if(u&&t&&t!=x.xa&&p.type!=x.xa)var w=c[c.length-1];else t=p.type,w=[],w.type=u&&p.type!=x.xa?-1:p.type,w.height=0,c.push(w);w.push(p);p.eg=25;p.Nb=u&&p.type==x.Ja?J+12.5:0;if(p.connection&&p.connection.isConnected()){var E=G(p.connection).tb();p.eg=Math.max(p.eg,E.height);p.Nb=Math.max(p.Nb,E.width)}u||r!=l.length-1?!u&&p.type==x.Ja&&l[r+1]&&l[r+1].type==x.xa&&p.eg--:p.eg--;w.height=Math.max(w.height,p.eg);p.Sd=0;1==c.length&&(p.Sd+=this.w?-k:k);E=!1;for(var K=0,
T;T=p.na[K];K++){0!=K&&(p.Sd+=10);var cb=T.qj();T.Nb=cb.width;T.qm=E&&T.vf?10:0;p.Sd+=T.Nb+T.qm;w.height=Math.max(w.height,cb.height);E=T.vf}-1!=w.type&&(w.type==x.xa?(m=!0,f=Math.max(f,p.Sd)):(w.type==x.Ja?h=!0:w.type==x.Md&&(n=!0),e=Math.max(e,p.Sd)))}for(k=0;w=c[k];k++)if(w.Lt=!1,-1==w.type)for(l=0;p=w[l];l++)if(p.type==x.Ja){w.height+=10;w.Lt=!0;break}c.ym=20+f;m&&(c.ac=Math.max(c.ac,c.ym+30));h?c.ac=Math.max(c.ac,e+20+J):n&&(c.ac=Math.max(c.ac,e+20));c.Vw=h;c.hA=m;c.gA=n;e=b;this.Ap=!1;this.height=
0;this.K?this.zp=this.jk=!0:(b=this.Kg?"cap"===this.Kg:!1,this.zp=this.jk=!1,this.N?(b=G(this.N))&&Yc(b)==this&&(this.jk=!0):b&&(this.Ap=this.jk=!0,this.height+=15,c.ac=Math.max(c.ac,100)),Yc(this)&&(this.zp=!0));b=new gk;f=c.ac;h=b.Ke;m=b.Ud;this.jk?(h.push("m 0,0"),m.push("m 0.5,0.5"),this.Ap&&(h.push("c 30,-15 70,-15 100,0"),m.push(this.w?"m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7":"c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5"))):(h.push("m 0,8"),m.push(this.w?kk:"m 0.5,7.5"),h.push("A 8,8 0 0,1 8,0"),
m.push("A 7.5,7.5 0 0,1 8,0.5"));this.N&&(h.push("H",15),m.push("H",15),h.push("l 6,4 3,0 6,-4"),m.push("l 6,4 3,0 6,-4"),cf(this.N,this.w?-30:30,0));h.push("H",f);m.push("H",f-.5);this.width=f;f={x:0,y:0};h={x:0,y:0};for(m=0;n=c[m];m++){f.x=10;0==m&&(f.x+=this.w?-e:e);b.Ud.push("M",c.ac-.5+","+(f.y+.5));if(this.isCollapsed())k=n,p=b.Ke,w=b.Ud,nk(this,k[0].na,f.x,f.y),p.push("l 8,0 0,4 8,4 -16,8 8,4"),w.push("h 8"),k=k.height-20,p.push("v",k),this.w&&(w.push("v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5"),
w.push("v",k-.7)),this.width+=15;else if(-1==n.type){w=n;k=f;l=h;t=c.ac;u=b.ks;r=b.gs;E=b.Ke;K=b.Ud;for(T=0;p=w[T];T++){cb=k.x;var dk=k.y;w.Lt&&(dk+=5);k.x=nk(this,p.na,cb,dk);p.type!=x.Md&&(k.x+=p.Nb+10);p.type==x.Ja&&(u.push("M",k.x-10+","+(k.y+5)),u.push("h",J-2-p.Nb),u.push(Oe),u.push("v",p.eg+1-20),u.push("h",p.Nb+2-J),u.push("z"),this.w?(r.push("M",k.x-10-2.5+J-p.Nb+","+(k.y+5+.5)),r.push(jk),r.push("v",p.eg-20+2.5),r.push("h",p.Nb-J+2)):(r.push("M",k.x-10+.5+","+(k.y+5+.5)),r.push("v",p.eg+
1),r.push("h",J-2-p.Nb),r.push("M",k.x-p.Nb-10+.9+","+(k.y+5+20-.7)),r.push("l",.46*J+",-2.1")),l.x=this.w?-k.x-J+10+p.Nb+1:k.x+J-10-p.Nb-1,l.y=k.y+5+1,cf(p.connection,l.x,l.y))}k.x=Math.max(k.x,t);this.width=Math.max(this.width,k.x);E.push("H",k.x);K.push("H",k.x-.5);E.push("v",w.height);this.w&&K.push("v",w.height-1)}else n.type==x.Ja?(r=n,p=f,w=h,k=c.ac,l=b.Ke,t=b.Ud,u=r[0],E=p.x,K=p.y,u.align!=x.Li&&(T=k-u.Sd-J-20,u.align==x.Hk?E+=T:u.align==x.Gk&&(E+=T/2)),nk(this,u.na,E,K),l.push(Oe),r=r.height-
20,l.push("v",r),this.w?(t.push(jk),t.push("v",r+.5)):(t.push("M",k-5+","+(p.y+20-.7)),t.push("l",.46*J+",-2.1")),w.x=this.w?-k-1:k+1,cf(u.connection,w.x,p.y),u.connection.isConnected()&&(this.width=Math.max(this.width,k+G(u.connection).tb().width-J+1))):n.type==x.Md?(p=n,w=b.Ke,k=b.Ud,l=p[0],t=f.x,u=f.y,l.align!=x.Li&&(r=c.ac-l.Sd-20,c.Vw&&(r-=J),l.align==x.Hk?t+=r:l.align==x.Gk&&(t+=r/2)),nk(this,l.na,t,u),w.push("v",p.height),this.w&&k.push("v",p.height-1)):n.type==x.xa&&(p=n,w=f,k=h,l=c,t=m,u=
b.Ke,r=b.Ud,E=p[0],0==t&&(u.push("v",10),this.w&&r.push("v",9),w.y+=10),K=w.x,T=w.y,E.align!=x.Li&&(cb=l.ym-E.Sd-20,E.align==x.Hk?K+=cb:E.align==x.Gk&&(K+=cb/2)),nk(this,E.na,K,T),w.x=l.ym+30,u.push("H",w.x),u.push("l -6,4 -3,0 -6,-4 h -7 a 8,8 0 0,0 -8,8"),u.push("v",p.height-16),u.push("a 8,8 0 0,0 8,8"),u.push("H",l.ac),this.w?(r.push("M",w.x-30+ik+","+(w.y+ik)),r.push(lk),r.push("v",p.height-16),r.push("a 8.5,8.5 0 0,0 8.5,8.5")):(r.push("M",w.x-30+ik+","+(w.y+p.height-ik)),r.push(mk)),r.push("H",
l.ac-.5),k.x=this.w?-w.x:w.x+1,cf(E.connection,k.x,w.y+1),E.connection.isConnected()&&(this.width=Math.max(this.width,l.ym+G(E.connection).tb().width)),t==l.length-1||l[t+1].type==x.xa)&&(u.push("v",10),this.w&&r.push("v",9),w.y+=10);f.y+=n.height}c.length||(f.y=25,b.Ke.push("V",f.y),this.w&&b.Ud.push("V",f.y-1));c=f.y;e=b.Ke;f=b.Ud;this.height+=c+1;this.M&&(e.push("H",30+(this.w?.5:-.5)+" l -6,4 -3,0 -6,-4"),cf(this.M,this.w?-30:30,c+1),this.height+=4);this.zp?(e.push("H 0"),this.w||f.push("M","0.5,"+
(c-.5))):(e.push("H",8),e.push("a","8,8 0 0,1 -8,-8"),this.w||(f.push("M",hk+","+(c-hk)),f.push("A","7.5,7.5 0 0,1 0.5,"+(c-8))));c=b.Ke;e=b.Ud;this.K?(cf(this.K,0,0),c.push("V",20),c.push("c 0,-10 -"+J+",8 -"+J+",-7.5 s "+J+",2.5 "+J+",-7.5"),this.w?(e.push("M",-.25*J+",8.4"),e.push("l",-.45*J+",-2.1")):(e.push("V",18.5),e.push("m",-.92*J+",-0.5 q "+-.19*J+",-5.5 0,-11"),e.push("m",.92*J+",1 V 0.5 H 1")),this.width+=J):this.w||(this.jk?e.push("V",.5):e.push("V",8));c.push("z");c=b.Ke.join(" ")+"\n"+
b.ks.join(" ");this.bc.setAttribute("d",c);this.ph.setAttribute("d",c);c=b.Ud.join(" ")+"\n"+b.gs.join(" ");this.Me.setAttribute("d",c);this.w&&(this.bc.setAttribute("transform","scale(-1 1)"),this.Me.setAttribute("transform","scale(-1 1)"),this.ph.setAttribute("transform","translate(1,1) scale(-1 1)"));c=this.ta();this.N&&bf(this.N,c);this.K&&bf(this.K,c);for(b=0;b<this.L.length;b++)if(e=this.L[b].connection)bf(e,c),e.isConnected()&&df(e);this.M&&(bf(this.M,c),this.M.isConnected()&&df(this.M));!1!==
a&&((a=this.getParent())?a.ca(!0):Vd(this.s));Rd()}};function nk(a,b,c,e){e+=5;a.w&&(c=-c);for(var f=0,h;h=b[f];f++){var k=h.J();if(k){var l="";if(a.w){var m=c-=h.qm+h.Nb;h.Nb&&(c-=10)}else m=c+h.qm,h.Nb&&(c+=h.qm+h.Nb+10);a.w&&h instanceof ok&&h.tw&&(l="scale(-1 1)",m+=h.Nb);k.setAttribute("transform","translate("+m+","+e+")"+l);a.Vd&&k.setAttribute("display","none")}}return a.w?-c:c}function of(a,b){b?x.h.Na(a.A,"blocklyReplaceable"):x.h.ib(a.A,"blocklyReplaceable")};
var pk,qk,rk=null,sk=null,tk=null,uk=null,vk=0;function wk(){if(!rk){var a=document.createElement("div");a.className="blocklyDropDownDiv";document.body.appendChild(a);rk=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);pk=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);qk=b;rk.style.transition="transform 0.25s, opacity 0.25s"}}function xk(){pk.innerHTML="";pk.style.width=""}
function yk(a){var b=a.Va.getBoundingClientRect();var c=b.left+b.width/2;var e=b.bottom;b=b.top;sk=M(a.v.s).parentNode;tk=a;vk=void 0;a=sk.getBoundingClientRect();var f=nh(sk);var h=a.left;var k=a.left+f.width;var l=a.top;f=a.top+f.height;a=nh(rk);if(e+a.height>f)if(b-a.height<l){f=c;l=0;c=!1;var m=!0}else f=c,l=b-a.height-16,c=!0;else f=c,l=e+16,c=!1;var n=f;f-=a.width/2;f=x.h.fn(h,f,k-a.width);k=x.h.fn(h,n-8,k)-f;k=x.h.fn(12,k,a.width-12-16);h=f;e=c?b-a.height:e;b=f;a=(c?a.height-1:0)-9;m=!m;qk.style.transform=
"translate("+k+"px,"+a+"px) rotate(45deg)";qk.setAttribute("class",c?"blocklyDropDownArrow arrowBottom":"blocklyDropDownArrow arrowTop");qk.style.display=m?"":"none";zk(h,e,b,l)}function Ak(){var a=rk;a.style.transform="translate(0px, 0px)";a.style.opacity=0;uk=setTimeout(function(){Bk()},250);vk&&(vk(),vk=null)}function Bk(){tk&&(uk&&window.clearTimeout(uk),zk(),xk(),tk=null,vk&&(vk(),vk=null))}
function zk(a,b,c,e){a=null==a?a:Math.floor(a);b=null==b?b:Math.floor(b);c=null==c?c:Math.floor(c);e=null==e?e:Math.floor(e);var f=rk;f.style.left=null!=a?a+"px":"";f.style.top=null!=b?b+"px":"";null!=c?(f.style.display="block",f.style.opacity=1,f.style.transform="translate("+(c-a)+"px,"+(e-b)+"px)"):(f.style.display="none",f.style.transform="")};x.g={};function fk(a,b){fk.u.constructor.call(this,a,b)}v(fk,uh);fk.ba=function(a){var b=x.h.Ob(a.text);b=new fk(b,a["class"]);"boolean"===typeof a.spellcheck&&(b.Bt=a.spellcheck);return b};fk.prototype.Re=!0;var Ck=null;d=fk.prototype;d.Ok="text";d.Bt=!0;d.D=function(){x.I.yj(this);fk.u.D.call(this)};d.setValue=function(a){if(null!==a){if(this.v){var b=Fd(this,a);null!==b&&(a=b)}uh.prototype.setValue.call(this,a)}};
d.jb=function(a){null!==a&&(a=String(a),a!==this.ua&&(this.v&&x.i.isEnabled()&&x.i.T(new x.i.Lc(this.v,"field",this.name,this.ua,a)),uh.prototype.jb.call(this,a)))};
d.mf=function(a){this.j=this.v.s;a=a||!1;if(!a&&(hc||jc||lc))Dk(this);else{x.I.show(this,this.v.w,Ek(this));var b=x.I.ka,c=document.createElement("input");c.className="blocklyHtmlInput";c.setAttribute("spellcheck",this.Bt);var e=11*this.j.scale+"pt";b.style.fontSize=e;c.style.fontSize=e;Ck=c;b.appendChild(c);c.value=c.defaultValue=this.ua;c.Ks=null;Fk(this);this.sm();a||(c.focus(),c.select());c.Px=x.R(c,"keydown",this,this.Ox);c.Sx=x.R(c,"keyup",this,this.Os);c.Rx=x.R(c,"keypress",this,this.Os);c.Us=
this.sm.bind(this);this.j.fc(c.Us)}};function Dk(a){x.prompt(x.g.CHANGE_VALUE_TITLE,a.ua,function(b){a.v&&(b=Fd(a,b));a.setValue(b)})}d.Ox=function(a){var b=Ck;13==a.keyCode?(x.I.pa(),tk===this&&Ak()):27==a.keyCode?(b.value=b.defaultValue,x.I.pa(),tk===this&&Ak()):9==a.keyCode&&(x.I.pa(),tk===this&&Ak(),ek(this.v,this,!a.shiftKey),a.preventDefault())};d.Os=function(){var a=Ck,b=a.value;b!==a.Ks?(a.Ks=b,x.i.P(!0),this.setValue(b),x.i.P(!1),Fk(this)):A&&this.v.ca();this.sm();x.qh(this.v.s)};
function Fk(a){var b=!0;if(!Ck)throw Error("htmlInput not defined");var c=Ck;a.v&&(b=Fd(a,c.value));null===b?x.h.Na(c,"blocklyInvalidInput"):x.h.ib(c,"blocklyInvalidInput")}d.sm=function(){var a=x.I.ka,b=Ch(this);a.style.width=b.right-b.left+"px";a.style.height=b.bottom-b.top+"px";b=new B(this.v.w?b.right-a.offsetWidth:b.left,b.top);b.y+=1;gc&&x.I.ka.style.top&&(--b.x,--b.y);A&&(b.y-=3);a.style.left=b.x+"px";a.style.top=b.y+"px"};
function Ek(a){return function(){var b=Ck,c=Ck,e=c.value;a.v&&(e=Fd(a,e),null===e?e=c.defaultValue:a.Nx&&a.Nx(e));a.jb(e);a.v.S&&a.v.ca();x.Fa(b.Px);x.Fa(b.Sx);x.Fa(b.Rx);a.j.dg(b.Us);Ck=null;x.i.P(!1);b=x.I.ka.style;b.width="auto";b.height="auto";b.fontSize=""}}wh("field_input",fk);function Gk(a,b){this.Kt=x.h.C("tspan",{},null);this.Kt.appendChild(document.createTextNode("\u00b0"));a=a&&!isNaN(a)?String(a):"0";Gk.u.constructor.call(this,a,b)}v(Gk,fk);Gk.ba=function(a){return new Gk(a.angle)};d=Gk.prototype;d.Re=!0;d.fg=function(){this.za.textContent=Ah(this);this.za.appendChild(this.Kt);this.Ii()};d.Ph=function(){var a=this;return function(){Gk.u.Ph.call(a)();a.lj=null;a.jn&&x.Fa(a.jn);a.Do&&x.Fa(a.Do);a.Eo&&x.Fa(a.Eo)}};
d.mf=function(){Gk.u.mf.call(this,hc||jc||lc);Bk();xk();var a=x.h.C("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:"100px",width:"100px"},pk),b=x.h.C("circle",{cx:50,cy:50,r:49,"class":"blocklyAngleCircle"},a);this.lj=x.h.C("path",{"class":"blocklyAngleGauge"},a);this.ws=x.h.C("line",{x1:50,y1:50,"class":"blocklyAngleLine"},a);for(var c=0;360>c;c+=15)x.h.C("line",{x1:99,y1:50,x2:99-(0==c%45?10:
5),y2:50,"class":"blocklyAngleMarks",transform:"rotate("+c+",50,50)"},a);c=this.v.Bd;rk.style.backgroundColor=this.v.Bd;rk.style.borderColor=c;yk(this);this.jn=x.Tb(a,"click",this,this.Ww.bind(this));this.Do=x.Tb(b,"mousemove",this,this.Ts);this.Eo=x.Tb(this.lj,"mousemove",this,this.Ts);Hk(this)};d.Ww=function(){x.Fa(this.Do);x.Fa(this.Eo);x.Fa(this.jn);tk===this&&Ak();x.I.pa()};
d.Ts=function(a){var b=this.lj.ownerSVGElement.getBoundingClientRect(),c=a.clientX-b.left-50;a=a.clientY-b.top-50;b=Math.atan(-a/c);isNaN(b)||(b=x.h.Qy(b),0>c?b+=180:0<a&&(b+=360),b=15*Math.round((b-0)/15),b=Fd(this,b),Ck.value=b,this.setValue(b),Fk(this),this.sm())};d.jb=function(a){Gk.u.jb.call(this,a);this.za&&Hk(this)};
function Hk(a){if(a.lj){var b=Number(a.Ab())+0;b=x.h.rk(b);var c=["M ",50,",",50],e=50,f=50;if(!isNaN(b)){var h=x.h.rk(0),k=49*Math.cos(h),l=-49*Math.sin(h);e+=49*Math.cos(b);f-=49*Math.sin(b);c.push(" l ",k,",",l," A ",49,",",49," 0 ",Math.abs(Math.floor((b-h)/Math.PI)%2)," ",Number(!1)," ",e,",",f," z")}a.lj.setAttribute("d",c.join(""));a.ws.setAttribute("x2",e);a.ws.setAttribute("y2",f)}}
d.gn=function(a){if(null===a)return null;a=parseFloat(a||0);if(isNaN(a))return null;a%=360;0>a&&(a+=360);360<a&&(a-=360);return String(a)};wh("field_angle",Gk);function Ik(a,b){Ik.u.constructor.call(this,"",b);this.setValue(a)}v(Ik,uh);Ik.ba=function(a){return new Ik(a.checked?"TRUE":"FALSE")};d=Ik.prototype;d.Re=!0;d.Ok="default";d.$=function(){this.Va||(Ik.u.$.call(this),this.$k=x.h.C("text",{"class":"blocklyText blocklyCheckbox",x:-3,y:14},this.Va),this.$k.appendChild(document.createTextNode("\u2713")),this.$k.style.display=this.Oa?"block":"none")};d.getValue=function(){return String(this.Oa).toUpperCase()};
d.setValue=function(a){a="string"==typeof a?"TRUE"==a.toUpperCase():!!a;this.Oa!==a&&(this.v&&x.i.isEnabled()&&x.i.T(new x.i.Lc(this.v,"field",this.name,this.Oa,a)),this.Oa=a,this.$k&&(this.$k.style.display=a?"block":"none"))};d.mf=function(){var a=!this.Oa;this.v&&(a=Fd(this,a));null!==a&&this.setValue(String(a).toUpperCase())};wh("field_checkbox",Ik);function Jk(a,b){Jk.u.constructor.call(this,a,b);this.jb("\u00a0\u00a0\u00a0")}v(Jk,uh);Jk.ba=function(a){return new Jk(a.colour)};d=Jk.prototype;d.Re=!0;d.Hv=null;d.Py=null;d.Oq=0;d.qu="silver";d.pu="white";d.$=function(){Jk.u.$.call(this);this.Db=new Bc(16,12);this.yc.style.fillOpacity=1;this.yc.setAttribute("width",this.Db.width+10);this.setValue(this.getValue())};d.Ok="default";d.D=function(){x.I.yj(this);Jk.u.D.call(this)};d.Ii=function(){};d.getValue=function(){return this.Bd};
d.setValue=function(a){this.v&&x.i.isEnabled()&&this.Bd!=a&&x.i.T(new x.i.Lc(this.v,"field",this.name,this.Bd,a));this.Bd=a;this.yc&&(this.yc.style.fill=a)};d.Ab=function(){var a=this.Bd,b=a.match(/^#(.)\1(.)\2(.)\3$/);b&&(a="#"+b[1]+b[2]+b[3]);return a};
var Kk="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),Lk=
[];Jk.prototype.setColumns=function(a){this.Oq=a;return this};Jk.prototype.mf=function(){Bk();xk();var a=this.cj();pk.appendChild(a);var b=this.qu;rk.style.backgroundColor=this.pu;rk.style.borderColor=b;yk(this);x.Tb(a,"mouseup",this,this.Tj)};Jk.prototype.Tj=function(a){(a=a.target)&&!a.label&&(a=a.parentNode);a=a&&a.label;x.I.pa();this.v&&(a=Fd(this,a));null!==a&&this.setValue(a)};
Jk.prototype.cj=function(){var a=this.Oq||7,b=this.Hv||Kk,c=this.Py||Lk,e=this.getValue(),f=document.createElement("table");f.className="blocklyColourTable";for(var h,k=0;k<b.length;k++){0==k%a&&(h=document.createElement("tr"),f.appendChild(h));var l=document.createElement("td");h.appendChild(l);var m=document.createElement("div");l.appendChild(m);l.label=b[k];l.title=c[k]||b[k];m.style.backgroundColor=b[k];b[k]==e&&(m.className="blocklyColourSelected")}return f};wh("field_colour",Jk);function Lh(a,b){"function"!=typeof a&&Mk(a);this.Vg=a;this.Dp=this.So=null;a=this.Vg;if(Array.isArray(a)){for(var c=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=x.h.Ob(f):(null!=f.alt&&(a[e][0].alt=x.h.Ob(f.alt)),c=!0)}if(!(c||2>a.length)){f=[];for(e=0;e<a.length;e++)f.push(a[e][0]);var h=x.h.up(f);e=x.h.Lv(f,h);c=x.h.Mv(f,h);if((e||c)&&!(h<=e+c)){e&&(this.So=f[0].substring(0,e-1));c&&(this.Dp=f[0].substr(1-c));f=[];for(h=0;h<a.length;h++){var k=a[h][0],l=a[h][1];k=k.substring(e,
k.length-c);f[h]=[k,l]}this.Vg=f}}}a=this.getOptions()[0];Lh.u.constructor.call(this,a[1],b)}v(Lh,uh);Lh.ba=function(a){return new Lh(a.options)};Lh.prototype.Re=!0;var Nk=jc?"\u25bc":"\u25be";d=Lh.prototype;d.Ok="default";d.Sb="";d.nc=null;d.ye=null;d.$=function(){this.Va||(this.zf=x.h.C("tspan",{},null),this.zf.appendChild(document.createTextNode(this.v.w?Nk+" ":" "+Nk)),Lh.u.$.call(this))};
d.mf=function(){x.I.show(this,this.v.w,null);var a=new Xj;a.lf(this.v.w);for(var b=this.getOptions(),c=0;c<b.length;c++){var e=b[c][0],f=b[c][1];if("object"==typeof e){var h=new Image(e.width,e.height);h.src=e.src;h.alt=e.alt||"";e=h}e=new Tj(e);e.lf(this.v.w);e.setValue(f);e.op(!0);a.Vk(e,!0);vj(e,f==this.Sb)}Ok(this,a);b=x.h.Vr();c=Ch(this);this.v.w?c.right+=25:c.left-=25;this.cj(a);f=x.h.Gi.qj(a);e=.45*document.documentElement.clientHeight;f.height>e&&(f.height=e);this.v.w&&x.h.Gi.qq(b,c,f);x.I.$s(b,
c,f,this.v.w);a.H().focus()};function Ok(a,b){li(b,"action",function(c){(c=c.target)&&a.Ps(c);x.I.yj(a);x.i.P(!1)})}d.cj=function(a){a.ca(x.I.ka);x.h.Na(a.H(),"blocklyDropdownMenu");a.Wk=!0;a.lg(!0)};d.Ps=function(a){a=a.getValue();this.v&&(a=Fd(this,a));null!==a&&this.setValue(a)};d.getOptions=function(){if("function"==typeof this.Vg){var a=this.Vg.call(this);Mk(a);return a}return this.Vg};d.getValue=function(){return this.Sb};
d.setValue=function(a){if(!(null===a||a===this.Sb&&this.ua)){this.v&&x.i.isEnabled()&&x.i.T(new x.i.Lc(this.v,"field",this.name,this.Sb,a));this.Sb=a;for(var b=this.getOptions(),c=0;c<b.length;c++)if(b[c][1]==a){a=b[c][0];"object"==typeof a?(this.ye=a,this.ua=a.alt):(this.ye=null,this.ua=a);this.kj();return}this.ua=a;this.kj()}};
d.fg=function(){this.v&&this.zf&&(this.zf.style.fill=this.v.Bd);for(var a;a=this.za.firstChild;)this.za.removeChild(a);this.nc&&(x.h.removeNode(this.nc),this.nc=null);this.ye?(this.nc=x.h.C("image",{y:5,height:this.ye.height+"px",width:this.ye.width+"px"},this.Va),this.nc.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.ye.src),this.za.appendChild(this.zf),a=Bh(this.zf),this.Db.height=Number(this.ye.height)+19,this.Db.width=Number(this.ye.width)+a,this.v.w?(this.nc.setAttribute("x",
a),this.za.setAttribute("x",-1)):(this.za.setAttribute("text-anchor","end"),this.za.setAttribute("x",this.Db.width+1))):(a=document.createTextNode(Ah(this)),this.za.appendChild(a),this.v.w?this.za.insertBefore(this.zf,this.za.firstChild):this.za.appendChild(this.zf),this.za.setAttribute("text-anchor","start"),this.za.setAttribute("x",0),this.Db.height=25,this.Db.width=Bh(this.za));this.yc.setAttribute("height",this.Db.height-9);this.yc.setAttribute("width",this.Db.width+10)};
d.Ii=function(){if(this.ye&&(z||fc)){var a=Bh(this.zf);a=Number(this.ye.width)+a+10;this.yc&&this.yc.setAttribute("width",a);this.Db.width=a}else uh.prototype.Ii.call(this)};d.D=function(){x.I.yj(this);Lh.u.D.call(this)};
function Mk(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");for(var b=!1,c=0;c<a.length;++c){var e=a[c];Array.isArray(e)?"string"!=typeof e[1]?(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must have a string label or image description. Found"+e[0]+" in: ",e)):(b=!0,console.error("Invalid option["+
c+"]: Each FieldDropdown option must be an array. Found: ",e))}if(b)throw TypeError("Found invalid FieldDropdown options.");}wh("field_dropdown",Lh);function Pk(a,b){Pk.u.constructor.call(this,a,b)}v(Pk,Dh);Pk.ba=function(a){var b=x.h.Ob(a.text);return new Pk(b,a["class"])};Pk.prototype.vf=!1;Pk.prototype.Re=!0;wh("field_label_serializable",Pk);function ok(a,b,c,e,f,h){this.v=null;this.oa=Number(c);this.aa=Number(b);this.Db=new Bc(this.aa,this.oa+10);this.tw=h;this.sh="";this.setValue(a);this.jb(e);"function"==typeof f&&(this.bl=f)}v(ok,uh);ok.ba=function(a){var b=x.h.Ob(a.src),c=Number(x.h.Ob(a.width)),e=Number(x.h.Ob(a.height)),f=x.h.Ob(a.alt);return new ok(b,c,e,f,null,!!a.flipRtl)};d=ok.prototype;d.vf=!1;
d.$=function(){this.Va||(this.Va=x.h.C("g",{"aria-hidden":!0},null),this.Xa||(this.Va.style.display="none"),this.nc=x.h.C("image",{height:this.oa+"px",width:this.aa+"px"},this.Va),this.setValue(this.Ct),this.jb(this.ua),this.v.J().appendChild(this.Va),this.sh?this.nc.Xc=this.sh:this.pd(this.v),x.F.wg(this.nc),this.bl&&(this.em=x.R(this.Va,"mousedown",this,this.bl)))};d.D=function(){this.Va&&(x.h.removeNode(this.Va),this.Va=null);this.nc=null};d.pd=function(a){this.sh=a;this.nc&&(this.nc.Xc=a)};
d.getValue=function(){return this.Ct};d.setValue=function(a){null!==a&&(this.Ct=a,this.nc&&this.nc.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a||""))};d.jb=function(a){null!==a&&(this.ua=a,this.nc&&this.nc.setAttribute("alt",a||""))};d.fg=function(){};d.kj=function(){};d.Ii=function(){};d.mf=function(){this.bl&&this.bl(this)};wh("field_image",ok);function Qk(a,b,c,e,f){e=parseFloat(e);this.mm=isNaN(e)?0:e;e=this.mm.toString();var h=e.indexOf(".");this.Nr=-1==h?-1:e.length-(h+1);b=parseFloat(b);this.zx=isNaN(b)?-Infinity:b;c=parseFloat(c);this.yx=isNaN(c)?Infinity:c;a=a&&!isNaN(a)?String(a):"0";Qk.u.constructor.call(this,a,f)}v(Qk,fk);Qk.ba=function(a){return new Qk(a.value,a.min,a.max,a.precision)};Qk.prototype.Re=!0;
Qk.prototype.gn=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=parseFloat(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.zx),this.yx);this.mm&&isFinite(a)&&(a=Math.round(a/this.mm)*this.mm);return-1==this.Nr?String(a):a.toFixed(this.Nr)};wh("field_number",Qk);function Rk(a,b,c,e){this.Vg=Sk;this.Db=new Bc(0,25);this.Ck=b;this.$v=a||"";a=e||"";if(null==c||void 0==c)c=null;else if(Array.isArray(c)){b=!1;for(e=0;e<c.length;e++)c[e]==a&&(b=!0);if(!b)throw Error("Invalid default type '"+a+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.Zv=a;this.Zy=c;this.Sb=null}v(Rk,Lh);Rk.ba=function(a){var b=x.h.Ob(a.variable);return new Rk(b,null,a.variableTypes,a.defaultType)};
d=Rk.prototype;d.Re=!0;d.$=function(){this.Va||(Rk.u.$.call(this),this.Pg())};d.Pg=function(){if(!this.Yc){this.j=this.v.s;var a=x.O.Tr(this.j,null,this.$v,this.Zv);x.i.disable();try{this.setValue(a.sa())}finally{x.i.enable()}}};d.Or=function(a){var b=a.getAttribute("id"),c=a.textContent;a=a.getAttribute("variabletype")||"";b=x.O.Tr(this.j||this.v.s,b,c,a);this.setValue(b.sa())};
d.tk=function(a){this.Pg();a.setAttribute("name",this.name);a.setAttribute("id",this.Yc.sa());a.textContent=this.Yc.name;a.setAttribute("variableType",this.Yc.type);return a};d.D=function(){Rk.u.D.call(this);this.va=this.j=null};d.tp=function(a){if(a.Da)throw Error("Variable fields are not allowed to exist on shadow blocks.");Rk.u.tp.call(this,a)};d.getValue=function(){return this.Yc?this.Yc.sa():null};d.Ab=function(){return this.Yc?this.Yc.name:""};d.ve=function(){return this.Yc};
d.setValue=function(a){var b=x.O.ve(this.v.s,a);if(!b)throw Error("Variable id doesn't point to a real variable!  ID was "+a);var c=b.type,e;a:if(e=Tk(this)){for(var f=0;f<e.length;f++)if(c==e[f]){e=!0;break a}e=!1}else e=!0;if(!e)throw Error("Variable type doesn't match this field!  Type was "+c);this.v&&x.i.isEnabled()&&(c=this.Yc?this.Yc.sa():null,x.i.T(new x.i.Lc(this.v,"field",this.name,c,a)));this.Yc=b;this.Sb=a;this.jb(b.name)};
function Tk(a){var b=a.Zy;if(null===b&&a.v)return a.v.s.Vn();b=b||[""];if(0==b.length)throw a=a.Ab(),Error("'variableTypes' of field variable "+a+" was an empty list");return b}
function Sk(){if(!this.Yc)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.Ab(),b=null;this.v&&(b=this.v.s);var c=[];if(b)for(var e=Tk(this),f=0;f<e.length;f++)c=c.concat(b.sj(e[f]));c.sort(zg);b=[];for(f=0;f<c.length;f++)b[f]=[c[f].name,c[f].sa()];b.push([x.g.RENAME_VARIABLE,x.eq]);x.g.DELETE_VARIABLE&&b.push([x.g.DELETE_VARIABLE.replace("%1",a),x.Sp]);return b}
d.Ps=function(a){a=a.getValue();if(this.v&&this.v.s){var b=this.v.s;if(a==x.eq){x.O.$o(b,this.Yc);return}if(a==x.Sp){b.Ag(this.Yc.sa());return}}this.setValue(a)};d.pm=function(){return!0};wh("field_variable",Rk);function Hh(){this.Fx="JavaScript";this.uu=new RegExp(this.wf,"g")}d=Hh.prototype;d.fq=null;d.Vp="  ";d.fu=60;d.Tk=[];function Uk(){var a=x.m,b=O;b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=x.Pc());var c=[];a.$(b);b=I(b,!0);for(var e=0,f;f=b[e];e++){var h=Vk(a,f);Array.isArray(h)&&(h=h[0]);h&&(f.K&&(h=a.rt(h)),c.push(h))}c=c.join("\n");c=a.finish(c);c=c.replace(/^\s+\n/,"");c=c.replace(/\n\s+$/,"\n");return c=c.replace(/[ \t]+\n/g,"\n")}
function Wk(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}
function Vk(a,b){if(!b)return"";if(b.disabled)return Vk(a,Yc(b));var c=a[b.type];if("function"!=typeof c)throw Error('Language "'+a.Fx+'" does not know how to generate  code for block type "'+b.type+'".');c=c.call(b,b);if(Array.isArray(c)){if(!b.K)throw TypeError("Expecting string from statement block: "+b.type);return[a.jp(b,c[0],void 0),c[1]]}if("string"==typeof c){var e=b.id.replace(/\$/g,"$$$$");a.fq&&(c=a.fq.replace(/%1/g,"'"+e+"'")+c);return a.jp(b,c,void 0)}if(null===c)return"";throw SyntaxError("Invalid code generated: "+
c);}
function S(a,b,c){var e=x.m;if(isNaN(c))throw TypeError("Expecting valid order from block: "+a.type);var f=Oh(a,b);if(!f)return"";b=Vk(e,f);if(""===b)return"";if(!Array.isArray(b))throw TypeError("Expecting tuple from value block: "+f.type);a=b[0];b=b[1];if(isNaN(b))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var h=Math.floor(c),k=Math.floor(b);if(h<=k&&(h!=k||0!=h&&99!=h))for(f=!0,h=0;h<e.Tk.length;h++)if(e.Tk[h][0]==c&&e.Tk[h][1]==b){f=!1;break}f&&(a="("+
a+")");return a}function Xk(a,b){var c=x.m;a=Oh(a,b);b=Vk(c,a);if("string"!=typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=Wk(b,c.Vp));return b}d.Qm="";function Yk(a){var b=x.m;b.Qm+=a+","}d.wf="{leCUI8hutHZI4480Dc}";function Zk(a,b){var c=x.m;if(!c.Oh[a]){var e=$k(c.rg,a,x.ab.tg);c.Nn[a]=e;b=b.join("\n").replace(c.uu,e);for(var f;f!=b;)f=b,b=b.replace(/^(( {2})*) {2}/gm,"$1\x00");b=b.replace(/\0/g,c.Vp);c.Oh[a]=b}return c.Nn[a]}d.$=function(){};
d.jp=function(a,b){return b};d.finish=function(a){return a};d.rt=function(a){return a};function al(a,b,c){if(!b)throw Error("Cannot create a node without a location.");this.rc=a;a:{switch(a){case Ue:case $d:case "input":case ae:a=!0;break a}a=!1}this.Ej=a;this.ea=b;if(b=c||null)b.wsCoordinate?this.Ki=b.wsCoordinate:b.input&&(this.iy=b.input)}var Ve="field",Te="block",ae="output",$d="next",Ue="previous",Xe="stack",We="workspace";
function bl(a){return a?a.type===x.Ja||a.type===x.xa&&a.ue()?cl(a.ue()):a.type===x.xa?new al($d,a):a.type===x.Nd?new al(ae,a):a.type===x.Od?new al(Ue,a):null:null}function cl(a){return a?new al("input",a.connection,{input:a}):null}function dl(a){return new al(Te,a)}function Qf(a,b){return new al(We,a,{wsCoordinate:b})}d=al.prototype;d.ue=function(){return this.iy};
function el(a,b){a=a.ea;a instanceof ce||(a=a.v);if(!a)return null;var c=af(a);a=I(c.s,!0);for(var e=0,f;f=a[e];e++)if(c.id==f.id)return b=e+(b?1:-1),-1==b||b==a.length?null:new al(Xe,a[b]);throw Error("Couldn't find "+(b?"next":"previous")+" stack?!?!?!");}function fl(a){if(a.N)for(;a&&a.N&&a.N.U&&G(a.N).M==a.N.U;)a=G(a.N);var b=a.N||a.K;return b&&b.U&&b.U.ue()?cl(b.U.ue()):new al(Xe,a)}
d.next=function(){switch(this.rc){case We:return Qf(this.ea,new B(this.Ki.x+10,this.Ki.y));case Xe:return el(this,!0);case ae:return dl(this.ea.v);case Ve:a:{var a=this.ea;var b=a.ue();var c=a.v;a=b.na.indexOf(a)+1;for(var e=c.L.indexOf(b);b=c.L[e];e++){for(var f=b.na;a<f.length;){if(Vf(f[a])){b=new al(Ve,f[a]);break a}a++}a=0;if(b.connection){b=cl(b);break a}}b=null}return b;case "input":a:{c=this.ea.ue();b=c.v;for(c=b.L.indexOf(c)+1;a=b.L[c];c++){e=a.na;f=0;for(var h;h=e[f];f++)if(Vf(h)){b=new al(Ve,
h);break a}if(a.connection){b=cl(a);break a}}b=null}return b;case Te:if(b=this.ea.M)return bl(b);break;case Ue:return dl(this.ea.v);case $d:if(b=this.ea.U)return bl(b)}return null};
d.Cj=function(){switch(this.rc){case We:var a=I(this.ea,!0);if(0<a.length)return new al(Xe,a[0]);break;case Xe:a=this.ea;var b=a.N||a.K;return b?bl(b):dl(a);case Te:a:{a=this.ea.L;b=0;for(var c;c=a[b];b++){for(var e=c.na,f=0,h;h=e[f];f++)if(Vf(h)){a=new al(Ve,h);break a}if(c.connection){a=cl(c);break a}}a=null}return a;case "input":if(a=this.ea.U)return bl(a)}return null};
d.yi=function(){switch(this.rc){case We:return Qf(this.ea,new B(this.Ki.x-10,this.Ki.y));case Xe:return el(this,!1);case Ve:a:{var a=this.ea;var b=a.ue();var c=a.v;a=b.na.indexOf(a)-1;for(var e=c.L.indexOf(b),f;f=c.L[e];e--){if(f.connection&&f!==b){b=cl(f);break a}for(f=f.na;-1<a;){if(Vf(f[a])){b=new al(Ve,f[a]);break a}a--}0<=e-1&&(a=c.L[e-1].na.length-1)}b=null}return b;case "input":a:{b=this.ea.ue();c=b.v;for(a=c.L.indexOf(b);e=c.L[a];a--){if(e.connection&&e!==b){b=cl(e);break a}e=e.na;f=e.length-
1;for(var h;h=e[f];f--)if(Vf(h)){b=new al(Ve,h);break a}}b=null}return b;case Te:b=this.ea.K;if(b=this.ea.N||b)return bl(b);break;case Ue:if(b=this.ea.U)return bl(b);break;case $d:return dl(this.ea.v)}return null};d.Vj=function(){switch(this.rc){case Xe:var a=this.ea.ta();return Qf(this.ea.s,new B(a.x,a.y+-20));case ae:return(a=this.ea.U)?bl(a):new al(Xe,this.ea.v);case Ve:return dl(this.ea.v);case "input":return dl(this.ea.v);case Te:return fl(this.ea);case Ue:return fl(this.ea.v);case $d:return fl(this.ea.v)}return null};x.o={};x.o.sb=null;x.o.Ug=null;x.o.Ac=null;x.o.qe=null;x.o.mi=null;x.o.gq=1;x.o.Um=2;x.o.hq=3;x.o.jl=x.o.Um;x.o.ut=function(a){x.o.sb=a};x.o.Ay=function(a){x.o.Ug=a};x.o.zo=function(){Zd(x.o.Ug,x.o.sb.hb)};x.o.py=function(){Zd(x.o.Ug,null);x.o.Ug.pa()};x.o.Mr=function(){x.o.nt(!1);x.o.jl=x.o.hq;var a=x.Pc(),b=a.W;x.o.Ug.hb||x.o.zo();a&&!x.o.Ac&&(x.o.Ac=b.dc.In);b.dc.Fe(x.o.Ac)};x.o.Gx=function(){if(x.o.Ac){var a=gl(x.o.Ac);a&&(a.select(),x.o.Ac=a)}};
x.o.ky=function(){if(x.o.Ac){var a=hl(x.o.Ac);a&&(a.select(),x.o.Ac=a)}};x.o.ex=function(){if(x.o.Ac){var a=x.o.Ac;Mi(a)?a.Vb()?(P(a,0).select(),x.o.Ac=P(a,0)):a.nd(!0):x.o.Lr()}};x.o.gy=function(){if(x.o.Ac){var a=x.o.Ac;if(Mi(a)&&a.Vb()&&a.ji)a.nd(!1);else{var b=a.getParent();a=a.lc();b&&(a.ng||b!=a)&&(b.select(),x.o.Ac=b)}}};x.o.Lr=function(){x.o.jl=x.o.gq;var a=x.Pc();var b=a.W,c=x.o.sb;a=b?b.G:Vg(a);x.o.Ug.hb||x.o.zo();a&&a.Kf()&&(a=I(a.Kf()),0<a.length&&(a=a[0],x.o.qe=a,a=dl(x.o.qe),Zd(c,a)))};
x.o.xy=function(){if(x.o.qe){var a=x.o.Sr(),b=a.indexOf(x.o.qe),c=x.o.sb,e;-1<b&&a[++b]&&(e=a[b]);e&&(x.o.qe=e,a=dl(e),Zd(c,a))}};x.o.yy=function(){if(x.o.qe){var a=x.o.Sr(),b=a.indexOf(x.o.qe),c=x.o.sb,e;-1<b&&a[--b]&&(e=a[b]);e&&(x.o.qe=e,a=dl(e),Zd(c,a))}};x.o.Sr=function(){var a=x.Pc(),b=a.W,c=[];(a=b?b.G:Vg(a))&&a.Kf()&&(c=I(a.Kf()));return c};
x.o.ix=function(){var a=Vg(x.Pc());if(a&&a.isVisible()){var b=Lf(a,x.o.qe);b.ca();Td(b,!1);Zd(x.o.sb,dl(b));x.o.modify()||x.o.warn("Something went wrong while inserting a block from the flyout.");x.o.xl();a=b.N;b=b.K;a=bl(a?a:b);Zd(x.o.sb,a);x.o.py()}else x.o.warn("Trying to insert from the flyout when the flyout does not  exist or is not visible")};x.o.nt=function(a){var b=x.o.sb;x.o.qe=null;b.pa();a&&Vg(b.j).pa()};
x.o.modify=function(){var a=x.o.Ug.hb,b=x.o.sb.hb;if(!a)return x.o.warn("Cannot insert with no marked node."),!1;if(!b)return x.o.warn("Cannot insert with no cursor node."),!1;var c=a.rc,e=b.rc;if(c==Ve)return x.o.warn("Should not have been able to mark a field."),!1;if(c==Te)return x.o.warn("Should not have been able to mark a block."),!1;if(c==Xe)return x.o.warn("Should not have been able to mark a stack."),!1;if(e==Ve)return x.o.warn("Cannot attach a field to anything else."),!1;if(e==We)return x.o.warn("Cannot attach a workspace to anything else."),
!1;var f=b.ea,h=a.ea;if(a.Ej){if(b.Ej)return x.o.connect(f,h);if(e==Te||e==Xe)return x.o.ns(f,h)}else if(c==We){if(b.Ej){if("input"==e||e==$d)return x.o.warn("Cannot move a next or input connection to the workspace."),!1;b=f.v}else if(e==Te||e==Xe)b=f;else return!1;if(b.Da)return x.o.warn("Cannot move a shadow block to the workspace."),!1;b.getParent()&&Hd(b,!1);b.moveTo(a.Ki);return!0}x.o.warn("Unexpected state in Blockly.Navigation.modify.");return!1};
x.o.connect=function(a,b){if(a){var c=a.v;b.type!=x.Od&&b.type!=x.Nd||pf(c,a,b);try{return b.connect(a),!0}catch(e){x.o.warn("Connection failed with error: "+e)}}return!1};x.o.qw=function(a,b){if(!a||!b)return null;if(b.type===x.Od)return a.M;if(b.type===x.xa)return a.N;if(b.type===x.Ja)return a.K;if(b.type===x.Nd)for(b=0;b<a.L.length;b++){var c=a.L[b].connection;if(c.type===x.Ja)return c}return null};
x.o.ns=function(a,b){(a=x.o.qw(a,b))&&a.isConnected()&&!G(a).Da&&a.disconnect();return x.o.connect(a,b)};x.o.gw=function(){var a=x.o.sb.hb;if(a.Ej){var b=a.ea;b.isConnected()?(a=Fe(b)?b:b.U,b=Fe(b)?b.U:b,b.v.Da?x.o.log("Cannot disconnect a shadow block"):(a.disconnect(),Ce(b,a),vf(af(a.v)),a=bl(a),Zd(x.o.sb,a))):x.o.log("Cannot disconnect unconnected connection")}else x.o.log("Cannot disconnect blocks when the cursor is not on a connection")};
x.o.xl=function(){var a=x.o.sb;x.o.nt(x.Pc().W?!0:!1);x.o.jl=x.o.Um;x.o.mw();if(x.selected){var b=x.selected.N,c=x.selected.K;b=bl(b?b:c);Zd(a,b);x.selected.rf()}else b=Qf(a.j,new B(100,100)),Zd(a,b)};x.o.Iw=function(){var a=x.o.sb.hb,b=a.rc;b===Ve?a.ea.mf():a.Ej||b==We?x.o.zo():b==Te?x.o.warn("Cannot mark a block."):b==Xe&&x.o.warn("Cannot mark a stack.")};
x.o.navigate=function(a){var b=x.o.jl;if(84===a.keyCode)return x.Pc().W?(x.o.Mr(),x.o.log("T: Focus Toolbox")):(x.o.Lr(),x.o.log("T: Focus Flyout")),!0;if(b===x.o.gq)return x.o.uw(a);if(b===x.o.Um)return x.o.cz(a);if(b===x.o.hq)return x.o.Ty(a);x.o.log("Not a valid key ");return!1};
x.o.uw=function(a){return 87===a.keyCode?(x.o.yy(),x.o.log("W: Flyout : Previous"),!0):65===a.keyCode?(x.o.Mr(),x.o.log("A: Flyout : Go To Toolbox"),!0):83===a.keyCode?(x.o.xy(),x.o.log("S: Flyout : Next"),!0):13===a.keyCode?(x.o.ix(),x.o.log("Enter: Flyout : Select"),!0):69===a.keyCode||27===a.keyCode?(x.o.xl(),x.o.log("E or ESC: Flyout: Exit"),!0):!1};
x.o.Ty=function(a){return 87===a.keyCode?(x.o.ky(),x.o.log("W: Toolbox : Previous"),!0):65===a.keyCode?(x.o.gy(),x.o.log("A: Toolbox : Out"),!0):83===a.keyCode?(x.o.Gx(),x.o.log("S: Toolbox : Next"),!0):68===a.keyCode?(x.o.ex(),x.o.log("D: Toolbox : Go to flyout"),!0):13===a.keyCode?!0:69===a.keyCode||27===a.keyCode?(x.o.log("E or ESC: Toolbox: Exit"),x.o.xl(),!0):!1};
x.o.cz=function(a){return 87===a.keyCode?(x.o.sb.yi(),x.o.log("W: Workspace : Previous"),!0):65===a.keyCode?(x.o.sb.Vj(),x.o.log("A: Workspace : Out"),!0):83===a.keyCode?(x.o.sb.next(),x.o.log("S: Workspace : Next"),!0):68===a.keyCode?(x.o.sb.Cj(),x.o.log("D: Workspace : In"),!0):73===a.keyCode?(x.o.modify(),x.o.log("I: Workspace : Insert/Connect Blocks"),!0):13===a.keyCode?(x.o.Iw(),x.o.log("Enter: Workspace : Mark"),!0):88===a.keyCode?(x.o.log("X: Workspace: Disconnect Blocks"),x.o.gw(),!0):!1};
x.o.mw=function(){x.ki=!0};x.o.Xz=function(){x.ki=!1};x.o.log=function(a){x.o.mi?x.o.mi("log",a):console.log(a)};x.o.warn=function(a){x.o.mi?x.o.mi("warn",a):console.warn(a)};x.o.error=function(a){x.o.mi?x.o.mi("error",a):console.error(a)};function il(){var a=x.m.Qm;this.Tt="";this.mt=Object.create(null);if(a){a=a.split(",");for(var b=0;b<a.length;b++)this.mt[a[b]]=!0}this.reset()}il.prototype.reset=function(){this.Dd=Object.create(null);this.qr=Object.create(null);this.va=null};
il.prototype.getName=function(a,b){if(b==x.O.tg){var c=a;this.va?c=(c=this.va.df(c))?c.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),c=null);c&&(a=c)}c=a.toLowerCase()+"_"+b;var e=b==x.O.tg||"DEVELOPER_VARIABLE"==b?this.Tt:"";if(c in this.Dd)return e+this.Dd[c];a=$k(this,a,b);this.Dd[c]=
a.substr(e.length);return a};function $k(a,b,c){b?(b=encodeURI(b.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(b[0])&&(b="my_"+b)):b="unnamed";for(var e="";a.qr[b+e]||b+e in a.mt;)e=e?e+1:2;b+=e;a.qr[b]=!0;return(c==x.O.tg||"DEVELOPER_VARIABLE"==c?a.Tt:"")+b};x.ab={};x.ab.tg=x.cq;x.ab.hv=function(a){a=D(a,!1);for(var b=[],c=[],e=0;e<a.length;e++)if(a[e].Gg){var f=a[e].Gg();f&&(f[2]?b.push(f):c.push(f))}c.sort(x.ab.et);b.sort(x.ab.et);return[c,b]};x.ab.et=function(a,b){return a[0].toLowerCase().localeCompare(b[0].toLowerCase())};x.ab.rw=function(a,b){if(b.Fc)return a;for(;!x.ab.kx(a,b.s,b);){var c=a.match(/^(.*?)(\d+)$/);a=c?c[1]+(parseInt(c[2],10)+1):a+"2"}return a};x.ab.kx=function(a,b,c){return!x.ab.mx(a,b,c)};
x.ab.mx=function(a,b,c){b=D(b,!1);for(var e=0;e<b.length;e++)if(b[e]!=c&&b[e].Gg&&b[e].Gg()[0].toLowerCase()==a.toLowerCase())return!0;return!1};x.ab.nA=function(a){a=a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"");var b=x.ab.rw(a,this.v),c=this.ua;if(c!=a&&c!=b){a=D(this.v.s,!1);for(var e=0;e<a.length;e++)a[e].qy&&a[e].qy(c,b)}return b};
x.ab.Hf=function(a){function b(h,k){for(var l=0;l<h.length;l++){var m=h[l][0],n=h[l][1],t=x.B.h.createElement("block");t.setAttribute("type",k);t.setAttribute("gap",16);var u=x.B.h.createElement("mutation");u.setAttribute("name",m);t.appendChild(u);for(m=0;m<n.length;m++){var r=x.B.h.createElement("arg");r.setAttribute("name",n[m]);u.appendChild(r)}c.push(t)}}var c=[];if(x.Ka.procedures_defnoreturn){var e=x.B.h.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=x.B.h.createElement("field");f.setAttribute("name","NAME");f.appendChild(x.B.h.createTextNode(x.g.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);c.push(e)}x.Ka.procedures_defreturn&&(e=x.B.h.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=x.B.h.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(x.B.h.createTextNode(x.g.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),c.push(e));x.Ka.procedures_ifreturn&&(e=x.B.h.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),c.push(e));c.length&&c[c.length-1].setAttribute("gap",24);a=x.ab.hv(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");return c};x.ab.yw=function(a,b){var c=[];b=D(b,!1);for(var e=0;e<b.length;e++)if(b[e].Cw){var f=b[e].Cw();f&&f.toLowerCase()==a.toLowerCase()&&c.push(b[e])}return c};
x.ab.kA=function(a){var b=x.i.$b,c=a.Gg()[0],e=a.Zb(!0);a=x.ab.yw(c,a.s);c=0;for(var f;f=a[c];c++){var h=f.Zb();h=h&&x.B.Cc(h);f.Ed(e);var k=f.Zb();k=k&&x.B.Cc(k);h!=k&&(x.i.$b=!1,x.i.T(new x.i.Lc(f,"mutation",null,h,k)),x.i.$b=b)}};x.ab.dA=function(a,b){b=I(b,!1);for(var c=0;c<b.length;c++)if(b[c].Gg){var e=b[c].Gg();if(e&&e[0].toLowerCase()==a.toLowerCase())return b[c]}return null};function jl(a,b,c,e){this.j=a;this.ra=b;this.ua=c.getAttribute("text");this.pc=new B(0,0);this.Tf=e;this.Zk=c.getAttribute("callbackKey");this.$q=c.getAttribute("web-class")||null}d=jl.prototype;d.width=0;d.height=0;d.ah=null;
d.Z=function(){var a=this.Tf?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.$q&&(a+=" "+this.$q);this.A=x.h.C("g",{"class":a},this.j.Ea);if(!this.Tf)var b=x.h.C("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.A);a=x.h.C("rect",{"class":this.Tf?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.A);var c=x.h.C("text",{"class":this.Tf?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.A);c.textContent=x.h.Ob(this.ua);this.width=
Bh(c);this.height=20;this.Tf||(this.width+=10,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);c.setAttribute("x",this.width/2);c.setAttribute("y",this.height-5);kl(this);this.ah=x.R(this.A,"mouseup",this,this.$x);return this.A};d.show=function(){kl(this);this.A.setAttribute("display","block")};function kl(a){a.A.setAttribute("transform","translate("+a.pc.x+","+a.pc.y+")")}
d.moveTo=function(a,b){this.pc.x=a;this.pc.y=b;kl(this)};d.Ur=function(){return this.pc};d.D=function(){this.ah&&x.Fa(this.ah);this.A&&(x.h.removeNode(this.A),this.A=null);this.ra=this.j=null};d.$x=function(a){(a=this.ra.te(a))&&a.cancel();this.Tf&&this.Zk?console.warn("Labels should not have callbacks. Label text: "+this.ua):this.Tf||this.Zk&&dh(this.ra,this.Zk)?this.Tf||dh(this.ra,this.Zk)(this):console.warn("Buttons should have callbacks. Button text: "+this.ua)};function ll(a){a.bb=this.cf.bind(this);a.kf=this.um.bind(this);this.j=new Mg(a);this.j.ff=!0;this.w=!!a.w;this.Jc=a.ga;this.Fn=[];this.Nj=[];this.Vi=[];this.Hc=[];this.Qo=[]}d=ll.prototype;d.Kh=!0;d.Vf=!1;d.xg=!0;d.ma=8;d.xd=ll.prototype.ma;d.wu=3*ll.prototype.xd;d.xu=3*ll.prototype.xd;d.ug=2;d.aa=0;d.oa=0;d.Fr=70;d.Z=function(a){this.A=x.h.C(a,{"class":"blocklyFlyout",style:"display: none"},null);this.rd=x.h.C("path",{"class":"blocklyFlyoutBackground"},this.A);this.A.appendChild(this.j.Z());return this.A};
d.$=function(a){this.ra=a;this.j.rh=a;this.Pb=new bg(this.j,this.xe,!1,"blocklyFlyoutScrollbar");this.pa();Array.prototype.push.apply(this.Fn,x.R(this.A,"wheel",this,this.Yt));this.Kh||(this.vl=this.Hn.bind(this),this.ra.fc(this.vl));Array.prototype.push.apply(this.Fn,x.R(this.rd,"mousedown",this,this.Zf));this.j.te=this.ra.te.bind(this.ra);this.j.va=this.ra.va;a=this.j;a.xi=new xd(a)};
d.D=function(){this.pa();x.Fa(this.Fn);this.vl&&(this.ra.dg(this.vl),this.vl=null);this.Pb&&(this.Pb.D(),this.Pb=null);this.j&&(this.j.rh=null,this.j.D(),this.j=null);this.A&&(x.h.removeNode(this.A),this.A=null);this.ra=this.rd=null};d.mc=function(){return this.aa};d.Vh=function(){return this.oa};d.Kf=function(){return this.j};d.isVisible=function(){return this.Vf};d.qa=function(a){var b=a!=this.isVisible();this.Vf=a;b&&this.zk()};d.ih=function(a){var b=a!=this.xg;this.xg=a;b&&this.zk()};
d.zk=function(){var a=this.xg?this.isVisible():!1;this.A.style.display=a?"block":"none";this.Pb.ih(a)};function ml(a,b,c,e,f){a.A.setAttribute("width",b);a.A.setAttribute("height",c);"svg"==a.A.tagName?x.h.ak(a.A,"translate("+e+"px,"+f+"px)"):a.A.setAttribute("transform","translate("+e+","+f+")");a.Pb&&(a.Pb.No=new B(e,f),a.Pb.resize(),hg(a.Pb,a.Pb.pc.x,a.Pb.pc.y))}
d.pa=function(){if(this.isVisible()){this.qa(!1);for(var a=0,b;b=this.Hc[a];a++)x.Fa(b);this.Hc.length=0;this.ag&&(this.j.dg(this.ag),this.ag=null)}};
d.show=function(a){this.j.Qb(!1);this.pa();nl(this);if("string"==typeof a){a=this.j.rh.Fp[a]||null;if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.j.rh);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.qa(!0);var b=[],c=[];this.Qo.length=0;for(var e=this.xe?this.wu:this.xu,f=0,h;h=a[f];f++)if(h.tagName)switch(h.tagName.toUpperCase()){case "BLOCK":var k=x.B.Qh(h,this.j);k.disabled&&
this.Qo.push(k);b.push({type:"block",block:k});h=parseInt(h.getAttribute("gap"),10);c.push(isNaN(h)?e:h);break;case "SEP":h=parseInt(h.getAttribute("gap"),10);!isNaN(h)&&0<c.length?c[c.length-1]=h:c.push(e);break;case "LABEL":case "BUTTON":h=new jl(this.j,this.ra,h,"LABEL"==h.tagName.toUpperCase()),b.push({type:"button",button:h}),c.push(e)}this.us(b,c);this.Hc.push(x.R(this.rd,"mouseover",this,function(){for(var l=I(this.j,!1),m=0,n;n=l[m];m++)n.fh()}));this.xe?this.oa=0:this.aa=0;this.j.Qb(!0);
this.Yo();this.Hn();this.position();this.ag=this.Yo.bind(this);this.j.fc(this.ag)};function nl(a){for(var b=I(a.j,!1),c=0,e;e=b[c];c++)e.s==a.j&&e.D(!1,!1);for(c=0;c<a.Nj.length;c++)(b=a.Nj[c])&&x.h.removeNode(b);for(c=a.Nj.length=0;b=a.Vi[c];c++)b.D();a.Vi.length=0;a.j.xi.clear()}
function ol(a,b,c,e){a.Hc.push(x.R(b,"mousedown",null,pl(a,c)));a.Hc.push(x.R(e,"mousedown",null,pl(a,c)));a.Hc.push(x.Tb(b,"mouseover",c,c.Jh));a.Hc.push(x.Tb(b,"mouseout",c,c.fh));a.Hc.push(x.Tb(e,"mouseover",c,c.Jh));a.Hc.push(x.Tb(e,"mouseout",c,c.fh))}function pl(a,b){return function(c){var e=a.ra.te(c);e&&(Tf(e,b),Sf(e,c,a))}}d.Zf=function(a){var b=this.ra.te(a);b&&Sf(b,a,this)};d.ps=function(a){return!a.disabled};
function Lf(a,b){var c=null;x.i.disable();var e=a.ra.af();a.ra.Qb(!1);try{var f=a.ra;if(!b.J())throw Error("oldBlock is not rendered.");var h=x.B.Af(b);f.Qb(!1);var k=x.B.Qh(h,f);if(!k.J())throw Error("block is not rendered.");var l=x.h.nj(f.Ea),m=x.h.nj(a.j.Ea),n=b.ta().scale(a.j.scale),t=zc(Ac(m,n),l).scale(1/f.scale);k.moveBy(t.x,t.y);c=k;x.Wb()}finally{x.i.enable()}b=x.O.Qr(a.ra,e);if(x.i.isEnabled())for(x.i.P(!0),x.i.T(new id(c)),e=0;e<b.length;e++)x.i.T(new md(b[e]));a.Kh?a.pa():a.Hn();return c}
function ql(a,b,c,e){var f=b.Z();b.moveTo(c,e);b.show();a.Hc.push(x.R(f,"mousedown",a,a.Zf));a.Vi.push(b)}function rl(a,b,c,e,f,h){c=x.h.C("rect",{"fill-opacity":0,x:c,y:e,height:f.height,width:f.width},null);c.Xc=b;x.F.wg(c);a.j.Ea.insertBefore(c,b.J());b.wl=c;return a.Nj[h]=c}function sl(a,b,c){var e=c.tb();b.setAttribute("width",e.width);b.setAttribute("height",e.height);var f=c.Ap?15:0;f&&c.moveBy(0,f);f=c.K?J:0;c=c.ta();b.setAttribute("y",c.y);b.setAttribute("x",a.w?c.x-e.width+f:c.x-f)}
d.Hn=function(){for(var a=I(this.j,!1),b=0,c;c=a[b];b++)if(-1==this.Qo.indexOf(c))for(var e=de(this.ra,x.h.Pn(c));c;)c.Uc(e),c=Yc(c)};d.Yo=function(){this.ag&&this.j.dg(this.ag);this.jt();this.ag&&this.j.fc(this.ag)};function Jf(a){return a.Pb?a.Pb.isVisible():!1};function vg(a){a.bb=this.cf.bind(this);a.kf=this.um.bind(this);vg.u.constructor.call(this,a);this.xe=!0}v(vg,ll);d=vg.prototype;d.cf=function(){if(!this.isVisible())return null;try{var a=this.j.Ea.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.ug,c=this.ug;this.Jc==x.yf&&(b=0);var e=this.oa;this.Jc==x.xc&&(e-=this.ug);return{Ga:e,Ba:this.aa-2*this.ug,jc:(a.height+2*this.xd)*this.j.scale,zc:(a.width+2*this.xd)*this.j.scale,lb:-this.j.scrollY,$a:-this.j.scrollX,gb:0,qb:0,eb:b,cb:c}};
d.um=function(a){var b=this.cf();b&&("number"==typeof a.x&&(this.j.scrollX=-b.zc*a.x),this.j.translate(this.j.scrollX+b.cb,this.j.scrollY+b.eb))};d.position=function(){if(this.isVisible()){var a=this.ra.bb();a&&(this.aa=a.Ba,this.np(a.Ba-2*this.ma,this.oa-this.ma),ml(this,this.aa,this.oa,0,this.ra.ga==this.Jc?a.Mt?this.Jc==x.xc?a.Mt:a.Ga-this.oa:this.Jc==x.xc?0:a.Ga:this.Jc==x.xc?0:a.Ga+a.eb-this.oa))}};
d.np=function(a,b){var c=this.Jc==x.xc,e=["M 0,"+(c?0:this.ma)];c?(e.push("h",a+2*this.ma),e.push("v",b),e.push("a",this.ma,this.ma,0,0,1,-this.ma,this.ma),e.push("h",-1*a),e.push("a",this.ma,this.ma,0,0,1,-this.ma,-this.ma)):(e.push("a",this.ma,this.ma,0,0,1,this.ma,-this.ma),e.push("h",a),e.push("a",this.ma,this.ma,0,0,1,this.ma,this.ma),e.push("v",b),e.push("h",-a-2*this.ma));e.push("z");this.rd.setAttribute("d",e.join(" "))};d.ip=function(){this.Pb.set(this.w?Infinity:0)};
d.Yt=function(a){var b=x.h.Un(a),c=b.x||b.y;c&&(b=this.cf(),c=b.$a+c,c=Math.min(c,b.zc-b.Ba),c=Math.max(c,0),this.Pb.set(c),x.I.pa());a.preventDefault();a.stopPropagation()};
d.us=function(a,b){this.j.scale=this.ra.scale;var c=this.xd,e=this.w?c:c+J;this.w&&(a=a.reverse());for(var f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=Xc(h,!1),l=0,m;m=k[l];l++)m.Fc=!0;h.ca();k=h.J();l=h.tb();m=h.K?J:0;m=this.w?e+l.width:e+m;h.moveBy(m,c);m=rl(this,h,m,c,l,f);e+=l.width+b[f];ol(this,k,h,m)}else"button"==h.type&&(ql(this,h.button,e,c),e+=h.button.width+b[f])};d.qs=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.Fr;return a<90+b&&a>90-b||a>-90-b&&a<-90+b?!0:!1};
d.Th=function(){if(!this.A)return null;var a=this.A.getBoundingClientRect(),b=a.top;a=a.height;if(this.Jc==x.xc)return new tg(-1E9,b-1E9,2E9,1E9+a);if(this.Jc==x.yf)return new tg(-1E9,b,2E9,1E9+a)};d.jt=function(){this.j.scale=this.ra.scale;for(var a=0,b=I(this.j,!1),c=0,e;e=b[c];c++)a=Math.max(a,e.tb().height);a+=1.5*this.xd;a*=this.j.scale;a+=L;if(this.oa!=a){for(c=0;e=b[c];c++)e.wl&&sl(this,e.wl,e);this.oa=a;this.position()}};function wg(a){a.bb=this.cf.bind(this);a.kf=this.um.bind(this);wg.u.constructor.call(this,a);this.xe=!1}v(wg,ll);d=wg.prototype;d.cf=function(){if(!this.isVisible())return null;try{var a=this.j.Ea.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.ug,c=this.oa-2*this.ug,e=this.aa;this.w||(e-=this.ug);return{Ga:c,Ba:e,jc:a.height*this.j.scale+2*this.xd,zc:a.width*this.j.scale+2*this.xd,lb:-this.j.scrollY+a.y,$a:-this.j.scrollX,gb:a.y,qb:a.x,eb:b,cb:0}};
d.um=function(a){var b=this.cf();b&&("number"==typeof a.y&&(this.j.scrollY=-b.jc*a.y),this.j.translate(this.j.scrollX+b.cb,this.j.scrollY+b.eb))};d.position=function(){if(this.isVisible()){var a=this.ra.bb();a&&(this.oa=a.Ga,this.np(this.aa-this.ma,a.Ga-2*this.ma),ml(this,this.aa,this.oa,this.ra.ga==this.Jc?a.Nt?this.Jc==x.Nc?a.Nt:a.Ba-this.aa:this.Jc==x.Nc?0:a.Ba:this.Jc==x.Nc?0:a.Ba+a.cb-this.aa,0))}};
d.np=function(a,b){var c=this.Jc==x.ge,e=a+this.ma;e=["M "+(c?e:0)+",0"];e.push("h",c?-a:a);e.push("a",this.ma,this.ma,0,0,c?0:1,c?-this.ma:this.ma,this.ma);e.push("v",Math.max(0,b));e.push("a",this.ma,this.ma,0,0,c?0:1,c?this.ma:-this.ma,this.ma);e.push("h",c?a:-a);e.push("z");this.rd.setAttribute("d",e.join(" "))};d.ip=function(){this.Pb.set(0)};
d.Yt=function(a){var b=x.h.Un(a);if(b.y){var c=this.cf();b=c.lb-c.gb+b.y;b=Math.min(b,c.jc-c.Ga);b=Math.max(b,0);this.Pb.set(b);x.I.pa()}a.preventDefault();a.stopPropagation()};
d.us=function(a,b){this.j.scale=this.ra.scale;for(var c=this.xd,e=this.w?c:c+J,f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=Xc(h,!1),l=0,m;m=k[l];l++)m.Fc=!0;h.ca();k=h.J();l=h.tb();h.moveBy(e,c);m=rl(this,h,this.w?e-l.width:e,c,l,f);ol(this,k,h,m);c+=l.height+b[f]}else"button"==h.type&&(ql(this,h.button,e,c),c+=h.button.height+b[f])};d.qs=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.Fr;return a<b&&a>-b||a<-180+b||a>180-b?!0:!1};
d.Th=function(){if(!this.A)return null;var a=this.A.getBoundingClientRect(),b=a.left;a=a.width;if(this.Jc==x.Nc)return new tg(b-1E9,-1E9,1E9+a,2E9);if(gc&&this.ra&&this.ra.ei){var c=this.ra.A.getBoundingClientRect().x;10>Math.abs(c-b)&&(b+=this.jA*this.ra.options.Tc.scale)}return new tg(b,-1E9,1E9+a,2E9)};
d.jt=function(){this.j.scale=this.ra.scale;for(var a=0,b=I(this.j,!1),c=0,e;e=b[c];c++){var f=e.tb().width;e.K&&(f-=J);a=Math.max(a,f)}for(c=0;e=this.Vi[c];c++)a=Math.max(a,e.width);a+=1.5*this.xd+J;a*=this.j.scale;a+=L;if(this.aa!=a){for(c=0;e=b[c];c++)this.w&&(f=e.ta().x,e.moveBy(a/this.j.scale-this.xd-J-f,0)),e.wl&&sl(this,e.wl,e);if(this.w)for(c=0;e=this.Vi[c];c++)b=e.Ur().y,e.moveTo(a/this.j.scale-e.width-this.xd-J,b);this.aa=a;this.position()}};function tl(a){Bi.call(this);this.Y=a;a=z?"focusout":"blur";this.qx=li(this.Y,z?"focusin":"focus",this,!z);this.sx=li(this.Y,a,this,!z)}v(tl,Bi);tl.prototype.handleEvent=function(a){var b=new Xh(a.oe);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};tl.prototype.xb=function(){tl.u.xb.call(this);ui(this.qx);ui(this.sx);delete this.Y};function ul(a,b){null!=a&&this.append.apply(this,arguments)}d=ul.prototype;d.wb="";d.set=function(a){this.wb=""+a};d.append=function(a,b,c){this.wb+=String(a);if(null!=b)for(var e=1;e<arguments.length;e++)this.wb+=arguments[e];return this};d.clear=function(){this.wb=""};d.toString=function(){return this.wb};function vl(a,b,c){Ei.call(this,c);this.Ta=b||wl;a instanceof Hb||(a=Kb(a),a=Lb(Jb(a).toString().replace(/(\r\n|\r|\n)/g,"<br>"),a.Fg()));this.Aj=a;this.hj=this.kp=!1;this.Sy=null;this.ev=Sb;this.ji=!0;this.ol=-1}v(vl,Ei);var xl={};d=vl.prototype;d.xb=function(){vl.u.xb.call(this);this.pg&&(this.pg.removeNode(this),this.pg=null);this.Y=null};
d.Rl=function(){var a=this.H();if(a){var b=yl(this);b&&!b.id&&(b.id=this.sa()+".label");Pi(a,"treeitem");Q(a,"selected",!1);Q(a,"level",this.Uh());b&&Q(a,"labelledby",b.id);(b=this.Fl())&&Pi(b,"presentation");(b=this.El())&&Pi(b,"presentation");if(b=zl(this))if(Pi(b,"group"),b.hasChildNodes())for(Q(a,"expanded",!1),a=Ki(this),b=1;b<=a;b++){var c=P(this,b-1).H();Q(c,"setsize",a);Q(c,"posinset",b)}}};
d.Z=function(){var a=this.se();var b=this.Am(),c=a.le;a=c.createElement("DIV");z?(b=Qb(Tb,b),Vb(a,b),a.removeChild(a.firstChild)):Vb(a,b);if(1==a.childNodes.length)a=a.removeChild(a.firstChild);else{for(b=c.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a=b}this.Y=a};d.Ub=function(){vl.u.Ub.call(this);xl[this.sa()]=this;this.Rl()};d.Gd=function(){vl.u.Gd.call(this);delete xl[this.sa()]};
d.Ih=function(a,b){var c=P(this,b-1),e=P(this,b);vl.u.Ih.call(this,a,b);a.$d=c;a.Xd=e;c?c.Xd=a:this.In=a;e?e.$d=a:this.ss=a;(b=this.lc())&&Al(a,b);Bl(a,this.Uh()+1);if(b=this.H())if(this.Hi(),Q(b,"expanded",this.Vb()),this.Vb()){b=zl(this);a.H()||a.Z();var f=a.H(),h=e&&e.H();b.insertBefore(f,h);this.Ca&&a.Ub();e||(c?c.Hi():(ph(b,!0),this.nd(this.Vb())))}};d.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.Ih(a,b?Ni(this,b):Ki(this));return a};
d.removeChild=function(a){var b=this.lc(),c=b?b.qc:null;if(c==a||a.contains(c))if(b.hasFocus()){this.select();c=this.by;if(ta(c))this&&(c=Aa(c,this));else if(c&&"function"==typeof c.handleEvent)c=Aa(c.handleEvent,c);else throw Error("Invalid listener argument");2147483647<Number(10)||g.setTimeout(c,10)}else this.select();vl.u.removeChild.call(this,a);this.ss==a&&(this.ss=a.$d);this.In==a&&(this.In=a.Xd);a.$d&&(a.$d.Xd=a.Xd);a.Xd&&(a.Xd.$d=a.$d);c=!a.Xd;a.pg=null;a.ol=-1;if(b&&(b.removeNode(a),this.Ca)){b=
zl(this);if(a.Ca){var e=a.H();b.removeChild(e);a.Gd()}c&&(c=P(this,Ki(this)-1))&&c.Hi();Mi(this)||(b.style.display="none",this.Hi(),this.Fl().className=this.Al(),(b=this.H())&&b.removeAttribute("aria-expanded"))}return a};d.remove=vl.prototype.removeChild;d.by=function(){this.select()};d.Uh=function(){var a=this.ol;0>a&&(a=(a=this.getParent())?a.Uh()+1:0,Bl(this,a));return a};
function Bl(a,b){if(b!=a.ol){a.ol=b;var c=Cl(a);if(c){var e=Dl(a)+"px";Li(a)?c.style.paddingRight=e:c.style.paddingLeft=e}Ji(a,function(f){Bl(f,b+1)})}}d.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};d.bf=function(){var a=[];Ji(this,function(b){a.push(b)});return a};d.Wl=function(){return this.kp};d.select=function(){var a=this.lc();a&&a.Fe(this)};
function El(a,b){if(a.kp!=b){a.kp=b;Fl(a);var c=a.H();c&&(Q(c,"selected",b),b&&(b=a.lc().H(),Q(b,"activedescendant",a.sa())))}}d.Vb=function(){return this.hj};
d.nd=function(a){var b=a!=this.hj;if(!b||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){this.hj=a;var c=this.lc();var e=this.H();if(Mi(this)){if(!a&&c&&this.contains(c.qc)&&this.select(),e){if(c=zl(this))if(ph(c,a),Q(e,"expanded",a),a&&this.Ca&&!c.hasChildNodes()){var f=[];Ji(this,function(h){f.push(h.Am())});Wb(c,Qb(f));Ji(this,function(h){h.Ub()})}this.Hi()}}else(c=zl(this))&&ph(c,!1);e&&(this.Fl().className=this.Al());b&&this.dispatchEvent(a?"expand":"collapse")}};d.toggle=function(){this.nd(!this.Vb())};
d.expand=function(){this.nd(!0)};d.collapse=function(){this.nd(!1)};d.gp=function(){var a=this.getParent();a&&(a.nd(!0),a.gp())};d.Am=function(){var a=this.lc(),b=!a.hk||a==this.getParent()&&!a.xp?this.Ta.Zq:this.Ta.Yq;a=this.Vb()&&Mi(this);b={"class":b,style:Gl(this)};var c=[];a&&Ji(this,function(e){c.push(e.Am())});a=Pb("div",b,c);return Pb("div",{"class":this.Ta.lr,id:this.sa()},[Hl(this),a])};function Dl(a){return Math.max(0,(a.Uh()-1)*a.Ta.ho)}
function Hl(a){var b={};b["padding-"+(Li(a)?"right":"left")]=Dl(a)+"px";b={"class":a.pj(),style:b};var c=a.Sn(),e=Pb("span",{style:{display:"inline-block"},"class":a.Al()}),f=Pb("span",{"class":a.Ta.mr,title:a.Sy||null},a.Aj);a=Qb(f,Pb("span",{},a.ev));return Pb("div",b,[c,e,a])}d.pj=function(){return this.Ta.rn+(this.Wl()?" "+this.Ta.pr:"")};d.Sn=function(){return Pb("span",{type:"expand",style:{display:"inline-block"},"class":Il(this)})};
function Il(a){var b=a.lc(),c=!b.hk||b==a.getParent()&&!b.xp,e=a.Ta,f=new ul;f.append(e.yg," ",e.Rv," ");if(Mi(a)){var h=0;b.wp&&a.ji&&(h=a.Vb()?2:1);c||(h=a.Xd?h+8:h+4);switch(h){case 1:f.append(e.Vv);break;case 2:f.append(e.Uv);break;case 4:f.append(e.gr);break;case 5:f.append(e.Tv);break;case 6:f.append(e.Sv);break;case 8:f.append(e.ir);break;case 9:f.append(e.Xv);break;case 10:f.append(e.Wv);break;default:f.append(e.er)}}else c?f.append(e.er):a.Xd?f.append(e.ir):f.append(e.gr);return f.toString()}
function Gl(a){var b=a.Vb()&&Mi(a);return yb({"background-position":Jl(a),display:b?null:"none"})}function Jl(a){return(a.Xd?(a.Uh()-1)*a.Ta.ho:"-100")+"px 0"}d.H=function(){var a=vl.u.H.call(this);a||(this.Y=a=this.se().H(this.sa()));return a};function Cl(a){return(a=a.H())?a.firstChild:null}d.El=function(){var a=Cl(this);return a?a.firstChild:null};d.Fl=function(){var a=Cl(this);return a?a.childNodes[1]:null};function yl(a){return(a=Cl(a))&&a.lastChild?a.lastChild.previousSibling:null}
function zl(a){return(a=a.H())?a.lastChild:null}d.jb=function(a){this.Aj=a=Kb(a);var b=yl(this);b&&Vb(b,a);(a=this.lc())&&Kl(a,this)};d.Ab=function(){var a=Jb(this.Aj).toString();return-1!=a.indexOf("&")?"document"in g?Zb(a):ac(a):a};function Fl(a){var b=Cl(a);b&&(b.className=a.pj())}d.Hi=function(){var a=this.El();a&&(a.className=Il(this));if(a=zl(this))a.style.backgroundPosition=Jl(this)};d.Qs=function(a){"expand"==a.target.getAttribute("type")&&Mi(this)?this.ji&&this.toggle():(this.select(),Fl(this))};
d.Tj=function(a){a.preventDefault()};d.Ns=function(a){"expand"==a.target.getAttribute("type")&&Mi(this)||this.ji&&this.toggle()};
d.Ko=function(a){var b=!0;switch(a.keyCode){case 39:if(a.altKey)break;Mi(this)&&(this.Vb()?P(this,0).select():this.nd(!0));break;case 37:if(a.altKey)break;if(Mi(this)&&this.Vb()&&this.ji)this.nd(!1);else{var c=this.getParent(),e=this.lc();c&&(e.ng||c!=e)&&c.select()}break;case 40:(c=gl(this))&&c.select();break;case 38:(c=hl(this))&&c.select();break;default:b=!1}b&&(a.preventDefault(),(e=this.lc())&&e.xk.clear());return b};function Ll(a){return a.Vb()&&Mi(a)?Ll(P(a,Ki(a)-1)):a}
function gl(a){if(Mi(a)&&a.Vb())return P(a,0);for(var b=a,c;b!=a.lc();){c=b.Xd;if(null!=c)return c;b=b.getParent()}return null}function hl(a){var b=a.$d;if(null!=b)return Ll(b);b=a.getParent();var c=a.lc();return!c.ng&&b==c||a==c?null:b}function Al(a,b){a.pg!=b&&(a.pg=b,Kl(b,a),Ji(a,function(c){Al(c,b)}))}
var wl={ho:19,nr:"goog-tree-root goog-tree-item",kr:"goog-tree-hide-root",lr:"goog-tree-item",Yq:"goog-tree-children",Zq:"goog-tree-children-nolines",rn:"goog-tree-row",mr:"goog-tree-item-label",yg:"goog-tree-icon",Rv:"goog-tree-expand-icon",Vv:"goog-tree-expand-icon-plus",Uv:"goog-tree-expand-icon-minus",Xv:"goog-tree-expand-icon-tplus",Wv:"goog-tree-expand-icon-tminus",Tv:"goog-tree-expand-icon-lplus",Sv:"goog-tree-expand-icon-lminus",ir:"goog-tree-expand-icon-t",gr:"goog-tree-expand-icon-l",er:"goog-tree-expand-icon-blank",
pn:"goog-tree-expanded-folder-icon",cr:"goog-tree-collapsed-folder-icon",qn:"goog-tree-file-icon",jr:"goog-tree-expanded-folder-icon",dr:"goog-tree-collapsed-folder-icon",pr:"selected"};function Ml(a,b,c){vl.call(this,a,b,c)}v(Ml,vl);Ml.prototype.lc=function(){if(this.pg)return this.pg;var a=this.getParent();return a&&(a=a.lc())?(Al(this,a),a):null};Ml.prototype.Al=function(){var a=this.Vb(),b=this.nw;if(a&&b)return b;b=this.Yw;if(!a&&b)return b;b=this.Ta;if(Mi(this)){if(a&&b.pn)return b.yg+" "+b.pn;if(!a&&b.cr)return b.yg+" "+b.cr}else if(b.qn)return b.yg+" "+b.qn;return""};function Nl(a){if(a.rj&&"function"==typeof a.rj)return a.rj();if(q(a))return a.split("");if(sa(a)){for(var b=[],c=a.length,e=0;e<c;e++)b.push(a[e]);return b}b=[];c=0;for(e in a)b[c++]=a[e];return b};function Ol(a){this.Sb=void 0;this.hc={};if(a){if(a.Hl&&"function"==typeof a.Hl)var b=a.Hl();else if(a.rj&&"function"==typeof a.rj)b=void 0;else if(sa(a)||q(a)){b=[];for(var c=a.length,e=0;e<c;e++)b.push(e)}else for(e in b=[],c=0,a)b[c++]=e;a=Nl(a);for(c=0;c<b.length;c++)this.set(b[c],a[c])}}d=Ol.prototype;d.set=function(a,b){Pl(this,a,b,!1)};d.add=function(a,b){Pl(this,a,b,!0)};
function Pl(a,b,c,e){for(var f=0;f<b.length;f++){var h=b.charAt(f);a.hc[h]||(a.hc[h]=new Ol);a=a.hc[h]}if(e&&void 0!==a.Sb)throw Error('The collection already contains the key "'+b+'"');a.Sb=c}d.get=function(a){a:{for(var b=this,c=0;c<a.length;c++)if(b=b.hc[a.charAt(c)],!b){a=void 0;break a}a=b}return a?a.Sb:void 0};d.rj=function(){var a=[];Ql(this,a);return a};function Ql(a,b){void 0!==a.Sb&&b.push(a.Sb);for(var c in a.hc)Ql(a.hc[c],b)}
d.Hl=function(a){var b=[];if(a){for(var c=this,e=0;e<a.length;e++){var f=a.charAt(e);if(!c.hc[f])return[];c=c.hc[f]}Rl(c,a,b)}else Rl(this,"",b);return b};function Rl(a,b,c){void 0!==a.Sb&&c.push(b);for(var e in a.hc)Rl(a.hc[e],b+e,c)}d.clear=function(){this.hc={};this.Sb=void 0};
d.remove=function(a){for(var b=this,c=[],e=0;e<a.length;e++){var f=a.charAt(e);if(!b.hc[f])throw Error('The collection does not have the key "'+a+'"');c.push([b,f]);b=b.hc[f]}a=b.Sb;for(delete b.Sb;0<c.length;)if(f=c.pop(),b=f[0],f=f[1],b.hc[f].rs())delete b.hc[f];else break;return a};d.clone=function(){return new Ol(this)};d.rs=function(){var a;if(a=void 0===this.Sb)a:{for(var b in this.hc){a=!1;break a}a=!0}return a};function Sl(){this.Zg=new Ol;this.wb="";this.cm=this.Ao=null;this.oi=this.Mj=0}function Tl(a,b){var c=b.Ab();if(c&&!/^[\s\xa0]*$/.test(null==c?"":String(c))){c=c.toLowerCase();var e=a.Zg.get(c);if(e){for(var f=Ki(b),h=0;h<f;h++)Tl(a,P(b,h));La(e,b);e.length||a.Zg.remove(c)}}}function Ul(a,b){var c=!1;(b=a.Zg.Hl(b))&&b.length&&(a.oi=0,a.Mj=0,c=a.Zg.get(b[0]),c=Vl(a,c))&&(a.Ao=b);return c}function Vl(a,b){if(b){if(a.oi<b.length){var c=b[a.oi];a.cm=b}c&&(c.gp(),c.select())}return!!c}
Sl.prototype.clear=function(){this.wb=""};function Wl(a,b,c){vl.call(this,a,b,c);this.hj=!0;El(this,!0);this.qc=this;this.xk=new Sl;this.Ln=this.oc=null;this.jj=!1;this.vw=null;this.xp=this.ng=this.wp=this.hk=!0;if(z)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}}v(Wl,vl);d=Wl.prototype;d.lc=function(){return this};d.Uh=function(){return 0};d.gp=function(){};d.Jw=function(){this.jj=!0;cj(this.H(),"focused");this.qc&&this.qc.select()};d.Dw=function(){this.jj=!1;ej(this.H(),"focused")};d.hasFocus=function(){return this.jj};
d.Vb=function(){return!this.ng||Wl.u.Vb.call(this)};d.nd=function(a){this.ng?Wl.u.nd.call(this,a):this.hj=a};d.Sn=function(){return Sb};d.Fl=function(){var a=Cl(this);return a?a.firstChild:null};d.El=function(){return null};d.Hi=function(){};d.pj=function(){return Wl.u.pj.call(this)+(this.ng?"":" "+this.Ta.kr)};d.Al=function(){var a=this.Vb(),b=this.nw;if(a&&b)return b;b=this.Yw;if(!a&&b)return b;b=this.Ta;return a&&b.jr?b.yg+" "+b.jr:!a&&b.dr?b.yg+" "+b.dr:""};
d.Fe=function(a){if(this.qc!=a){var b=!1;this.qc&&(b=this.qc==this.vw,El(this.qc,!1));if(this.qc=a)El(a,!0),b&&a.select();this.dispatchEvent("change")}};function Xl(a){0!=a.hk&&(a.hk=!1,a.Ca&&Yl(a))}function Yl(a){function b(h){var k=zl(h);if(k){var l=!e||c==h.getParent()&&!f?h.Ta.Zq:h.Ta.Yq;k.className=l;if(k=h.El())k.className=Il(h)}Ji(h,b)}var c=a,e=c.hk,f=c.xp;b(a)}function Zl(a){0!=a.wp&&(a.wp=!1,a.Ca&&Yl(a))}
function $l(a){if(0!=a.ng){a.ng=!1;if(a.Ca){var b=Cl(a);b&&(b.className=a.pj())}a.qc==a&&P(a,0)&&a.Fe(P(a,0))}}d.Rl=function(){Wl.u.Rl.call(this);var a=this.H();Pi(a,"tree");Q(a,"labelledby",yl(this).id)};
d.Ub=function(){Wl.u.Ub.call(this);var a=this.H();a.className=this.Ta.nr;a.setAttribute("hideFocus","true");a=this.H();a.tabIndex=0;var b=this.oc=new Ui(a),c=this.Ln=new tl(a);Hi(this).wa(c,"focusout",this.Dw).wa(c,"focusin",this.Jw).wa(b,"key",this.Td).wa(a,"mousedown",this.Yn).wa(a,"click",this.Yn).wa(a,"dblclick",this.Yn);this.Rl()};d.Gd=function(){Wl.u.Gd.call(this);this.oc.D();this.oc=null;this.Ln.D();this.Ln=null};
d.Yn=function(a){var b=am(this,a);if(b)switch(a.type){case "mousedown":b.Qs(a);break;case "click":b.Tj(a);break;case "dblclick":b.Ns(a)}};
d.Td=function(a){var b=this.xk;var c=!1;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){c=40==a.keyCode?1:-1;var e=b.Ao;if(e){var f=null,h=!1;if(b.cm){var k=b.oi+c;0<=k&&k<b.cm.length?(b.oi=k,f=b.cm):h=!0}f||(k=b.Mj+c,0<=k&&k<e.length&&(b.Mj=k),e.length>b.Mj&&(f=b.Zg.get(e[b.Mj])),f&&f.length&&h&&(b.oi=-1==c?f.length-1:0));Vl(b,f)&&(b.Ao=e)}c=!0}break;case 8:e=b.wb.length-1;c=!0;0<e?(b.wb=b.wb.substring(0,e),Ul(b,b.wb)):0==e?b.wb="":c=!1;break;case 27:b.wb="",c=!0}(b=c||this.qc&&this.qc.Ko(a))||(b=
this.xk,c=!1,a.ctrlKey||a.altKey||(e=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),(1==e.length&&" "<=e&&"~">=e||"\u0080"<=e&&"\ufffd">=e)&&(" "!=e||b.wb)&&(b.wb+=e,c=Ul(b,b.wb))),b=c);b&&a.preventDefault();return b};function am(a,b){for(var c=b.target;null!=c;){if(b=xl[c.id])return b;if(c==a.H())break;c=c.parentNode}return null}d.createNode=function(a){return new Ml(a||Sb,this.Ta,this.se())};
function Kl(a,b){a=a.xk;var c=b.Ab();if(c&&!/^[\s\xa0]*$/.test(null==c?"":String(c))){c=c.toLowerCase();var e=a.Zg.get(c);e?e.push(b):a.Zg.set(c,[b])}}d.removeNode=function(a){Tl(this.xk,a)};function Qg(a){this.j=a;this.w=a.options.w;this.xe=a.options.Rc;this.ga=a.options.ga;this.Ta={ho:19,nr:"blocklyTreeRoot",kr:"blocklyHidden",lr:"",rn:"blocklyTreeRow",mr:"blocklyTreeLabel",yg:"blocklyTreeIcon",pn:"blocklyTreeIconOpen",qn:"blocklyTreeIconNone",pr:"blocklyTreeSelected"};this.Ot={rn:"blocklyTreeSeparator"};this.xe&&(this.Ta.cssTreeRow+=a.w?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.Ot.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.w?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),
this.Ta.cssTreeIcon="")}d=Qg.prototype;d.width=0;d.height=0;d.Hj=null;
d.$=function(){var a=this.j,b=M(this.j);this.vc=document.createElement("div");this.vc.className="blocklyToolboxDiv";this.vc.setAttribute("dir",a.w?"RTL":"LTR");b.parentNode.insertBefore(this.vc,b);x.R(this.vc,"mousedown",this,function(c){x.h.Uf(c)||c.target==this.vc?x.Wb(!1):x.Wb(!0);x.Touch.We()},!1,!0);b={Ye:a.options.Ye,Tc:a,w:a.w,$f:a.options.$f,Rc:a.Rc,ga:a.options.ga};this.G=null;this.G=a.Rc?new vg(b):new wg(b);x.h.Qg(this.G.Z("svg"),M(this.j));this.G.$(a);this.Ta.cleardotPath=a.options.Zd+
"1x1.gif";this.Ta.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.w?"Rtl":"Ltr");this.dc=b=new bm(this,this.Ta);$l(b);Xl(b);Zl(b);b.Fe(null);a=this.lm(a.options.Be);b.ca(this.vc);a&&b.Fe(a);ah(this);this.position()};d.D=function(){this.G.D();this.dc.D();x.h.removeNode(this.vc);this.Hj=this.j=null};d.mc=function(){return this.width};d.Vh=function(){return this.height};
d.position=function(){var a=this.vc;if(a){var b=M(this.j);b=x.Jt(b);this.xe?(a.style.left="0",a.style.height="auto",a.style.width=b.width+"px",this.height=a.offsetHeight,this.ga==x.xc?a.style.top="0":a.style.bottom="0"):(this.ga==x.ge?a.style.right="0":a.style.left="0",a.style.height=b.height+"px",this.width=a.offsetWidth);this.G.position()}};
d.lm=function(a){this.dc.kt();this.dc.je=[];this.bo=!1;a=cm(this,a,this.dc,this.j.options.Zd);if(this.dc.je.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");Vd(this.j);return a};
function cm(a,b,c,e){for(var f=null,h=null,k=0,l;l=b.childNodes[k];k++)if(l.tagName)switch(l.tagName.toUpperCase()){case "CATEGORY":h=x.h.Ob(l.getAttribute("name"));var m=a.dc.createNode(h);m.je=[];c.add(m);var n=l.getAttribute("custom");n?m.je=n:(n=cm(a,l,m,e))&&(f=n);n=l.getAttribute("categorystyle");var t=l.getAttribute("colour");t&&n?(m.Lg="",console.warn('Toolbox category "'+h+'" can not have both a style and a colour')):n?dm(a,n,m,h):em(a,t,m,h);"true"==l.getAttribute("expanded")?(m.je.length&&
(f=m),m.nd(!0)):m.nd(!1);h=l;break;case "SEP":if(h&&"CATEGORY"==h.tagName.toUpperCase()){c.add(new fm(a.Ot));break}case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":c.je.push(l),h=l}return f}function em(a,b,c,e){b=x.h.Ob(b);null===b||""===b?c.Lg="":/^#[0-9a-fA-F]{6}$/.test(b)?(c.Lg=b,a.bo=!0):"number"===typeof b||"string"===typeof b&&!isNaN(Number(b))?(c.Lg=x.js(Number(b)),a.bo=!0):(c.Lg="",console.warn('Toolbox category "'+e+'" has unrecognized colour attribute: '+b))}
function dm(a,b,c,e){if((c.Ht=b)&&x.qk){var f;(f=x.qk.yv[b])&&f.Lq?em(a,f.Lq,c,e):console.warn('Style "'+b+'" must exist and contain a colour value')}}function gm(a,b){if(b=b||a.dc){b=b.bf(!1);for(var c=0,e;e=b[c];c++)e.Ht&&(dm(a,e.Ht,e,""),ah(a)),gm(a,e)}}function hm(a){var b=a.dc;if(b&&(gm(a,b),a=b.qc)){var c=a.Lg||"#57e";Cl(a).style.backgroundColor=c;ah(b.W,a)}}
function ah(a,b){b=(b||a.dc).bf(!1);for(var c=0,e;e=b[c];c++){var f=Cl(e);if(f){var h=a.bo?"8px solid "+(e.Lg||"#ddd"):"none";a.j.w?f.style.borderRight=h:f.style.borderLeft=h}ah(a,e)}}d.Th=function(){if(!this.vc)return null;var a=this.vc.getBoundingClientRect(),b=a.left,c=a.top,e=a.width;a=a.height;return this.ga==x.Nc?new tg(-1E7,-1E7,1E7+b+e,2E7):this.ga==x.ge?new tg(b,-1E7,1E7+e,2E7):this.ga==x.xc?new tg(-1E7,-1E7,2E7,1E7+c+a):new tg(0,c,2E7,1E7+e)};
function bm(a,b){this.W=a;Wl.call(this,Sb,b)}v(bm,Wl);bm.prototype.Ub=function(){bm.u.Ub.call(this);if(cd){var a=this.H();x.R(a,"touchend",this,this.Rw)}};bm.prototype.Rw=function(a){var b=am(this,a);b&&"touchend"===a.type&&setTimeout(function(){b.Tj(a)},1)};bm.prototype.createNode=function(a){a=a?Kb(a):Sb;return new im(this.W,a,this.Ta)};
bm.prototype.Fe=function(a){var b=this.W;if(a!=this.qc&&a!=b.dc){b.Hj&&(Cl(b.Hj).style.backgroundColor="");if(a){var c=a.Lg||"#57e";Cl(a).style.backgroundColor=c;ah(b,a)}c=this.qc;Wl.prototype.Fe.call(this,a);a&&a.je&&a.je.length?(b.G.show(a.je),b.Hj!=a&&b.G.ip()):b.G.pa();c!=a&&c!=this&&(c=new C(null,"category",c&&Jb(c.Aj).toString(),a&&Jb(a.Aj).toString()),c.mb=b.j.id,x.i.T(c));a&&(b.Hj=a)}};
function im(a,b,c){vl.call(this,b,c,void 0);a&&(b=function(){x.qh(a.j)},li(a.dc,"expand",b),li(a.dc,"collapse",b))}v(im,Ml);d=im.prototype;d.Sn=function(){return Pb("span")};d.Tj=function(){Mi(this)&&this.ji?(this.toggle(),this.select()):this.Wl()?this.lc().Fe(null):this.select();Fl(this)};d.Qs=function(){};d.Ns=function(){};d.Ko=function(a){if(this.pg.W.xe){var b={};b[39]=this.Ai?38:40;b[37]=this.Ai?40:38;b[38]=37;b[40]=39;a.keyCode=b[a.keyCode]||a.keyCode}return im.u.Ko.call(this,a)};
function fm(a){im.call(this,null,Sb,a)}v(fm,im);x.wd={};x.wd.Wz="";x.wd.It=null;x.wd.Bs="";x.wd.Pf=function(a,b){if(!x.wd.It){var c=".blocklyDraggable {}\n";a&&(c+=x.wd.iu.join("\n"),x.vu&&(c+=x.vu.CSS.join("\n")));x.wd.Bs=b.replace(/[\\\/]$/,"");c=c.replace(/<<<PATH>>>/g,x.wd.Bs);a=document.createElement("style");document.head.insertBefore(a,document.head.firstChild);a.appendChild(document.createTextNode(c));x.wd.It=a.sheet}};x.wd.ut=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")};
x.wd.iu=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;",
"top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: fixed;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-radius: 2px;","padding: 4px;","-webkit-user-select: none;","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;",
"width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".arrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".arrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;",
"border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",
".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',
"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {",
"display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyReplaceable .blocklyPath {","fill-opacity: 0.5;","}",".blocklyReplaceable .blocklyPathLight,",".blocklyReplaceable .blocklyPathDark {",
"display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;",
"z-index: 20;","}",".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklyFlyoutLabel {","cursor: default;","}",".blocklyFlyoutLabelBackground {","opacity: 0;","}",".blocklyFlyoutLabelText {","fill: #000;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {",
"display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentForeignObject {","position: relative;","z-index: 0;","}",".blocklyCommentRect {","fill: #E7DE8E;",
"stroke: #bcA903;","stroke-width: 1px","}",".blocklyCommentTarget {","fill: transparent;","stroke: #bcA903;","}",".blocklyCommentTargetFocused {","fill: none;","}",".blocklyCommentHandleTarget {","fill: none;","}",".blocklyCommentHandleTargetFocused {","fill: transparent;","}",".blocklyFocused>.blocklyCommentRect {","fill: #B9B272;","stroke: #B9B272;","}",".blocklySelected>.blocklyCommentTarget {","stroke: #fc3;","stroke-width: 3px;","}",".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;",
"outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyCommentDeleteIcon {","cursor: pointer;","fill: #000;","display: none","}",".blocklySelected > .blocklyCommentDeleteIcon {","display: block","}",".blocklyDeleteIconShape {","fill: #000;","stroke: #000;","stroke-width: 1px;","}",".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {","stroke: #fc3;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;",
"height: 100%;","margin: 0;","outline: none;","padding: 0 1px;","width: 100%","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyTransparentBackground {","opacity: 0;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {",
"position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}",".blocklyFlyout .blocklyScrollbarHandle {",
"fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;",
"pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyVerticalCursor {","stroke-width: 3px;","fill: rgba(255,255,255,0.5);","}",".blocklyDropdownMenu {","padding: 0 !important;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;",
"overflow-y: auto;","position: absolute;","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {",
"float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;",
"vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;",
"}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}",".blocklyColourTable {","border-collapse: collapse;","}",".blocklyColourTable>tr>td {","border: 1px solid #666;",
"padding: 0;","}",".blocklyColourTable>tr>td>div {","border: 1px solid #666;","height: 13px;","width: 15px;","}",".blocklyColourTable>tr>td>div:hover {","border: 1px solid #fff;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border: 1px solid #000 !important;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;",
"padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem, ",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","padding: 5px 5px 5px 28px;","white-space: nowrap;",
"}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl, ",".blocklyDropDownDiv .goog-menuitem.goog-menuitem-rtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem { ","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noaccel .goog-menuitem {",
"padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-content {","color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon, ",
".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight, ",".blocklyWidgetDiv .goog-menuitem-hover {","background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 4px;","padding-top: 4px;","}",".blocklyDropDownDiv .goog-menuitem-highlight, ",".blocklyDropDownDiv .goog-menuitem-hover {","background-color: rgba(0, 0, 0, 0.2);","}",".blocklyWidgetDiv .goog-menuitem-checkbox, ",
".blocklyWidgetDiv .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {",
"left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","background: url(//ssl.gstatic.com/editor/editortoolbar.png) no-repeat -512px 0;","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",
".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}",".blocklyWidgetDiv .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel, ",
".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;","text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint, ",".blocklyDropDownDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator, ",".blocklyDropDownDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator, ",".blocklyDropDownDiv .goog-menuseparator {",
"border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""];x.I={};x.I.ka=null;x.I.Wj=null;x.I.Ph=null;x.I.Z=function(){x.I.ka||(x.I.ka=document.createElement("div"),x.I.ka.className="blocklyWidgetDiv",document.body.appendChild(x.I.ka))};x.I.show=function(a,b,c){x.I.pa();x.I.Wj=a;x.I.Ph=c;x.I.ka.style.top=Wc().y+"px";x.I.ka.style.direction=b?"rtl":"ltr";x.I.ka.style.display="block"};x.I.pa=function(){x.I.Wj&&(x.I.Wj=null,x.I.ka.style.display="none",x.I.ka.style.left="",x.I.ka.style.top="",x.I.Ph&&x.I.Ph(),x.I.Ph=null,x.I.ka.innerHTML="")};x.I.isVisible=function(){return!!x.I.Wj};
x.I.yj=function(a){x.I.Wj==a&&x.I.pa()};x.I.Zs=function(a,b,c){x.I.ka.style.left=a+"px";x.I.ka.style.top=b+"px";x.I.ka.style.height=c+"px"};x.I.$s=function(a,b,c,e){var f=x.I.xv(a,b,c);a=x.I.wv(a,b,c,e);0>f?x.I.Zs(a,0,c.height+f):x.I.Zs(a,f,c.height)};x.I.wv=function(a,b,c,e){if(e)return b=Math.max(b.right-c.width,a.left),Math.min(b,a.right-c.width);b=Math.min(b.left,a.right-c.width);return Math.max(b,a.left)};x.I.xv=function(a,b,c){return b.bottom+c.height>=a.bottom?b.top-c.height:b.bottom};function jm(a){this.Zi=a;this.Z()}d=jm.prototype;d.Ma=null;d.Fd=null;d.Zi=null;d.hg=1;d.mk=null;d.Z=function(){this.Ma||(this.Ma=x.h.C("svg",{xmlns:x.Mc,"xmlns:html":x.xf,"xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyBlockDragSurface"},this.Zi),this.Fd=x.h.C("g",{},this.Ma))};function Af(a,b){if(a.Fd.childNodes.length)throw Error("Already dragging a block.");a.Fd.appendChild(b);a.Ma.style.display="block";a.mk=new B(0,0)}
d.nf=function(a,b){this.mk=new B(a*this.hg,b*this.hg);a=this.mk.x;b=this.mk.y;a=a.toFixed(0);b=b.toFixed(0);this.Ma.style.display="block";x.h.ak(this.Ma,"translate3d("+a+"px, "+b+"px, 0px)")};d.Kl=function(){var a=x.h.Dc(this.Ma);return new B(a.x/this.hg,a.y/this.hg)};d.zb=function(){return this.Fd};
d.Wi=function(a){a?a.appendChild(this.Fd.firstChild):this.Fd.removeChild(this.Fd.firstChild);this.Ma.style.display="none";if(this.Fd.childNodes.length)throw Error("Drag group was not cleared.");this.mk=null};x.Pf=function(a,b){x.Av();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!x.h.containsNode(document,a))throw Error("Error: container is not in current document.");b=new Zf(b||{});var c=document.createElement("div");c.className="injectionDiv";a.appendChild(c);a=x.aj(c,b);var e=new jm(c);c=new Eg(c);c=x.Pv(a,b,e,c);x.By(b.Oy);x.gx(c);x.Kj=c;x.qh(c);return c};
x.aj=function(a,b){a.setAttribute("dir","LTR");Fi=b.w;x.wd.Pf(b.Tw,b.Zd);a=x.h.C("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg"},a);var c=x.h.C("defs",{},a),e=String(Math.random()).substring(2),f=x.h.C("filter",{id:"blocklyEmbossFilter"+e},c);x.h.C("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},f);var h=x.h.C("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,
specularExponent:10,"lighting-color":"white",result:"specOut"},f);x.h.C("fePointLight",{x:-5E3,y:-1E4,z:2E4},h);x.h.C("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},f);x.h.C("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},f);b.Jr=f.id;f=x.h.C("pattern",{id:"blocklyDisabledPattern"+e,patternUnits:"userSpaceOnUse",width:10,height:10},c);x.h.C("rect",{width:10,height:10,fill:"#aaa"},f);x.h.C("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",
stroke:"#cc0"},f);b.Ye=f.id;f=b.Wr;c=x.h.C("pattern",{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},c);0<f.length&&0<f.spacing?(x.h.C("line",{stroke:f.colour},c),1<f.length&&x.h.C("line",{stroke:f.colour},c)):x.h.C("line",{},c);b.Xr=c;return a};
x.Pv=function(a,b,c,e){b.Tc=null;var f=new Mg(b,c,e);f.scale=b.Qa.Ft;a.appendChild(f.Z("blocklyMainBackground"));!b.$r&&b.Be&&(c=Ug(f,"svg"),x.h.Qg(c,a));b.ds&&Sg(f);b.Qa&&b.Qa.controls&&Tg(f);x.o.ut(f.cursor);x.o.Ay(f.zs);f.translate(0,0);x.Kj=f;b.readOnly||f.Jb()||f.fc(function(h){if(!f.Yb()&&!f.Jb()&&-1!=x.i.cu.indexOf(h.type)){var k=Object.create(null),l=f.bb(),m=f.scale;k.$a=l.$a/m;k.lb=l.lb/m;k.Vt=(l.$a+l.Ba)/m;k.Ut=(l.lb+l.Ga)/m;Zg(f)?(l=Sd(f),k.qb=l.x,k.gb=l.y,k.Uq=l.x+l.width,k.Sq=l.y+l.height):
(k.qb=l.qb/m,k.gb=l.gb/m,k.Uq=(l.qb+l.zc)/m,k.Sq=(l.gb+l.jc)/m);if(k.gb<k.lb||k.Sq>k.Ut||k.qb<k.$a||k.Uq>k.Vt){l=null;h&&(l=x.i.zb(),x.i.P(h.group));switch(h.type){case x.i.Kp:case x.i.Lp:var n=td(f,h.Fb);break;case x.i.Lk:case x.i.Mk:n=Xd(f,h.ke)}if(n){m=n.zl();var t=k.lb-m.Kc.y;0<t&&n.moveBy(0,t);t=k.Ut-m.cd.y;0>t&&n.moveBy(0,t);t=k.$a-m.Kc.x;0<t&&n.moveBy(t,0);k=k.Vt-m.cd.x;0>k&&n.moveBy(k,0)}h&&(h.group||console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),
x.i.P(l))}}});x.qh(f);x.I.Z();wk();x.F.Z();return f};x.gx=function(a){var b=a.options,c=M(a);x.R(c.parentNode,"contextmenu",null,function(e){x.h.Xl(e)||e.preventDefault()});c=x.R(window,"resize",null,function(){x.Wb(!0);x.qh(a)});a.tm=c;x.Pf.nv();b.Be&&(a.W?a.W.$(a):a.G&&(a.G.$(a),a.G.show(b.Be.childNodes),a.G.ip()));c=L;b.ds&&(c=a.cc.$(c));b.Qa&&b.Qa.controls&&a.zh.$(c);b.Lb&&b.Lb.scrollbars?(a.Za=new ag(a),a.Za.resize()):a.kf({x:.5,y:.5});b.Uw&&x.Pf.ux(b.Zd,a)};
x.Pf.nv=function(){x.jw||(x.R(document,"scroll",null,function(){for(var a=fe(),b=0,c;c=a[b];b++)c.Ak&&c.Ak()}),x.R(document,"keydown",null,x.Qx),x.Tb(document,"touchend",null,x.Xf),x.Tb(document,"touchcancel",null,x.Xf),lc&&x.R(window,"orientationchange",document,function(){x.qh(x.Pc())}));x.jw=!0};
x.Pf.ux=function(a,b){function c(){for(;f.length;)x.Fa(f.pop());e.preload()}var e=b.zd;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(x.R(document,"mousemove",null,c,!0));f.push(x.R(document,"touchstart",null,c,!0))};
x.Qt=function(a){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead.");x.Pc().Qt(a)};x.Kj=null;x.selected=null;x.cursor=null;x.ki=!1;x.fj=[];x.Xi=null;x.cl=null;x.kn=null;x.Sz=null;x.qk=null;x.js=function(a){var b=x.Au,c=255*x.Bu,e=0,f=0,h=0;if(0==b)h=f=e=c;else{var k=Math.floor(a/60),l=a/60-k;a=c*(1-b);var m=c*(1-b*l);b=c*(1-b*(1-l));switch(k){case 1:e=m;f=c;h=a;break;case 2:e=a;f=c;h=b;break;case 3:e=a;f=m;h=c;break;case 4:e=b;f=a;h=c;break;case 5:e=c;f=a;h=m;break;case 6:case 0:e=c,f=b,h=a}}return Zj([Math.round(e),Math.round(f),Math.round(h)])};
x.Jt=function(a){return{width:a.zq,height:a.xq}};x.oA=function(a){Vd(a)};x.qh=function(a){for(;a.options.Tc;)a=a.options.Tc;var b=M(a),c=b.parentNode;if(c){var e=c.offsetWidth;c=c.offsetHeight;b.zq!=e&&(b.setAttribute("width",e+"px"),b.zq=e);b.xq!=c&&(b.setAttribute("height",c+"px"),b.xq=c);a.resize()}};
x.Qx=function(a){var b=x.Kj;if(!(b.options.readOnly||x.h.Xl(a)||b.S&&!b.isVisible())){var c=!1;if(27==a.keyCode)x.Wb(),x.ki&&x.o.navigate(a);else if(8==a.keyCode||46==a.keyCode){a.preventDefault();if(Wf())return;x.selected&&x.selected.Xb()&&(c=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(Wf())return;x.selected&&x.selected.Xb()&&x.selected.Jb()&&(67==a.keyCode?(x.Wb(),x.on(x.selected)):88!=a.keyCode||x.selected.s.ff||(x.on(x.selected),c=!0));86==a.keyCode?x.Xi&&(b=x.cl,b.ff&&(b=b.rh),x.kn&&de(b,
x.kn)&&(x.i.P(!0),Xg(b),x.i.P(!1))):90==a.keyCode&&(x.Wb(),b.Gp(a.shiftKey))}else if(x.ki&&x.o.navigate(a))return;c&&!x.selected.s.ff&&(x.i.P(!0),x.Wb(),x.selected.D(!0,!0),x.i.P(!1))}};x.on=function(a){if(a.no)var b=a.vk();else{b=x.B.Af(a);x.B.dw(b);var c=a.ta();b.setAttribute("x",a.w?-c.x:c.x);b.setAttribute("y",c.y)}x.Xi=b;x.cl=a.s;x.kn=a.no?null:x.h.Pn(a,!0)};x.Hr=function(a){var b=x.Xi,c=x.cl;x.on(a);Xg(a.s);x.Xi=b;x.cl=c};x.lA=function(a){x.h.Xl(a)||a.preventDefault()};
x.Wb=function(a){x.F.pa();x.I.pa();Bk();var b=x.Pc();b.cc&&b.cc.G&&b.cc.G.pa();a||b.W&&b.W.G&&b.W.G.Kh&&b.W.dc.Fe(null)};x.fc=function(a){console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead.");return x.Pc().fc(a)};x.Pc=function(){return x.Kj};x.alert=function(a,b){window.alert(a);b&&b()};x.confirm=function(a,b){b(window.confirm(a))};x.prompt=function(a,b,c){c(window.prompt(a,b))};x.ox=function(a){return function(){Nh(this,a)}};
x.tn=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(c){var e=c.type;null==e||""===e?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(x.Ka[e]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+e+'".'),x.Ka[e]={$:x.ox(c)})}else console.warn("Block definition #"+b+" in JSON array is "+c+". Skipping.")}};
x.R=function(a,b,c,e,f,h){function k(r){var p=!f;r=x.Touch.Ey(r);for(var w=0,E;E=r[w];w++)if(!p||x.Touch.vp(E))x.Touch.zy(E),c?e.call(c,E):e(E),l=!0}var l=!1,m=[];if(g.PointerEvent&&b in x.Touch.ie)for(var n=0,t;t=x.Touch.ie[b][n];n++)a.addEventListener(t,k,!1),m.push([a,t,k]);else if(a.addEventListener(b,k,!1),m.push([a,b,k]),b in x.Touch.ie){var u=function(r){k(r);var p=!h;l&&p&&r.preventDefault()};for(n=0;t=x.Touch.ie[b][n];n++)a.addEventListener(t,u,!1),m.push([a,t,u])}return m};
x.Tb=function(a,b,c,e){function f(n){c?e.call(c,n):e(n)}var h=[],k=g.window;if(k&&k.PointerEvent&&b in x.Touch.ie){k=0;for(var l;l=x.Touch.ie[b][k];k++)a.addEventListener(l,f,!1),h.push([a,l,f])}else if(a.addEventListener(b,f,!1),h.push([a,b,f]),b in x.Touch.ie){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var t=n.changedTouches[0];n.clientX=t.clientX;n.clientY=t.clientY}f(n);n.preventDefault()};for(k=0;l=x.Touch.ie[b][k];k++)a.addEventListener(l,m,!1),h.push([a,l,m])}return h};
x.Fa=function(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};x.nx=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};
x.Av=function(){x.gc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);x.gc("LOGIC_HUE",["Constants","Logic","HUE"],210);x.gc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);x.gc("LOOPS_HUE",["Constants","Loops","HUE"],120);x.gc("MATH_HUE",["Blocks","math","HUE"],void 0);x.gc("MATH_HUE",["Constants","Math","HUE"],230);x.gc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);x.gc("TEXTS_HUE",["Constants","Text","HUE"],160);x.gc("LISTS_HUE",["Blocks","lists","HUE"],void 0);x.gc("LISTS_HUE",["Constants","Lists","HUE"],
260);x.gc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);x.gc("COLOUR_HUE",["Constants","Colour","HUE"],20);x.gc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);x.gc("VARIABLES_HUE",["Constants","Variables","HUE"],330);x.gc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);x.gc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
x.gc=function(a,b,c){for(var e="Blockly",f=x,h=0;h<b.length;++h)e+="."+b[h],f&&(f=f[b[h]]);f&&f!==c&&(a=(void 0===c?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};x.By=function(a){this.qk=a;(a=x.Pc())&&this.ny(a)};x.ny=function(a){this.Pt(D(a).filter(function(c){return void 0!==c.lk}));!a.W&&a.G&&a.G.j?this.Pt(D(a.G.j)):Yg(a);a.W&&hm(a.W);var b=new C(null,"theme");b.mb=a.id;x.i.T(b)};
x.Pt=function(a){for(var b=0,c;c=a[b];b++)if(Jh(c,c.lk),c.kd){var e=c.kd.j;if(e&&D(e)){var f=D(e);for(c=0;c<f.length;c++){var h=f[c];Jh(h,h.lk)}e=D(e.G.j);for(c=0;c<e.length;c++)h=e[c],Jh(h,h.lk)}}};x.fA=function(){return this.qk};g.Blockly||(g.Blockly={});g.Blockly.getMainWorkspace=x.Pc;g.Blockly.addChangeListener=x.fc;x.Ka.vx={};x.La={};x.La.$c={};x.La.$c.Cu=210;
x.tn([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",
helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",
message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",
tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",
name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
x.tn([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",
tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);x.La.$c.Vm={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};x.X.register("logic_op_tooltip",x.X.wq(x.La.$c.Vm));
x.La.$c.ju={fd:0,Rd:0,Zb:function(){if(!this.fd&&!this.Rd)return null;var a=document.createElement("mutation");this.fd&&a.setAttribute("elseif",this.fd);this.Rd&&a.setAttribute("else",1);return a},Ed:function(a){this.fd=parseInt(a.getAttribute("elseif"),10)||0;this.Rd=parseInt(a.getAttribute("else"),10)||0;this.ly()},dj:function(a){var b=a.si("controls_if_if");b.Kd();for(var c=b.M,e=1;e<=this.fd;e++){var f=a.si("controls_if_elseif");f.Kd();c.connect(f.N);c=f.M}this.Rd&&(a=a.si("controls_if_else"),
a.Kd(),c.connect(a.N));return b},Yi:function(a){a=G(a.M);this.Rd=this.fd=0;for(var b=[null],c=[null],e=null;a;){switch(a.type){case "controls_if_elseif":this.fd++;b.push(a.Yy);c.push(a.Bp);break;case "controls_if_else":this.Rd++;e=a.Bp;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.M&&G(a.M)}this.Bk();this.ht(b,c,e)},hp:function(a){a=G(a.M);for(var b=1;a;){switch(a.type){case "controls_if_elseif":var c=H(this,"IF"+b),e=H(this,"DO"+b);a.Yy=c&&c.connection.U;a.Bp=e&&e.connection.U;
b++;break;case "controls_if_else":e=H(this,"ELSE");a.Bp=e&&e.connection.U;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.M&&G(a.M)}},ly:function(){var a=[null],b=[null],c=null;H(this,"ELSE")&&(c=H(this,"ELSE").connection.U);for(var e=1;H(this,"IF"+e);){var f=H(this,"DO"+e);a.push(H(this,"IF"+e).connection.U);b.push(f.connection.U);e++}this.Bk();this.ht(a,b,c)},Bk:function(){H(this,"ELSE")&&this.eh("ELSE");for(var a=1;H(this,"IF"+a);)this.eh("IF"+a),this.eh("DO"+a),a++;for(a=1;a<=
this.fd;a++)Fh(Mh(this,"IF"+a).Ic("Boolean"),x.g.CONTROLS_IF_MSG_ELSEIF),Fh(this.Pd(x.xa,"DO"+a),x.g.CONTROLS_IF_MSG_THEN);this.Rd&&Fh(this.Pd(x.xa,"ELSE"),x.g.CONTROLS_IF_MSG_ELSE)},ht:function(a,b,c){for(var e=1;e<=this.fd;e++)fh(a[e],this,"IF"+e),fh(b[e],this,"DO"+e);fh(c,this,"ELSE")}};x.X.Zo("controls_if_mutator",x.La.$c.ju,null,["controls_if_elseif","controls_if_else"]);
x.La.$c.ku=function(){this.pd(function(){if(this.fd||this.Rd){if(!this.fd&&this.Rd)return x.g.CONTROLS_IF_TOOLTIP_2;if(this.fd&&!this.Rd)return x.g.CONTROLS_IF_TOOLTIP_3;if(this.fd&&this.Rd)return x.g.CONTROLS_IF_TOOLTIP_4}else return x.g.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))};x.X.register("controls_if_tooltip",x.La.$c.ku);
x.La.$c.Ku={onchange:function(a){this.Xj||(this.Xj=[null,null]);var b=Oh(this,"A"),c=Oh(this,"B");b&&c&&!Be(b.K,c.K)&&(x.i.P(a.group),a=this.Xj[0],a!==b&&(Hd(b),a&&!a.Da&&H(this,"A").connection.connect(a.K)),b=this.Xj[1],b!==c&&(Hd(c),b&&!b.Da&&H(this,"B").connection.connect(b.K)),this.Gb(),x.i.P(!1));this.Xj[0]=Oh(this,"A");this.Xj[1]=Oh(this,"B")}};x.La.$c.Ju=function(){gh(this,x.La.$c.Ku)};x.X.register("logic_compare",x.La.$c.Ju);
x.La.$c.Lu={at:null,onchange:function(a){var b=Oh(this,"THEN"),c=Oh(this,"ELSE"),e=this.K.U;if((b||c)&&e)for(var f=0;2>f;f++){var h=1==f?b:c;h&&!Be(h.K,e)&&(x.i.P(a.group),e===this.at?(Hd(this),e.v.Gb()):(Hd(h),h.Gb()),x.i.P(!1))}this.at=e}};x.X.oy();x.Ka.xx={};x.La.Math={};x.La.Math.Cu=230;
x.tn([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],
["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",
extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",
options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},
{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",
helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}",
"RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",
message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,
output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",
style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
x.La.Math.Vm={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};
x.X.register("math_op_tooltip",x.X.wq(x.La.Math.Vm));x.La.Math.Eu={Zb:function(){var a=document.createElement("mutation"),b="DIVISIBLE_BY"==F(this,"PROPERTY");a.setAttribute("divisor_input",b);return a},Ed:function(a){a="true"==a.getAttribute("divisor_input");this.Bk(a)},Bk:function(a){var b=H(this,"DIVISOR");a?b||Mh(this,"DIVISOR").Ic("Number"):b&&this.eh("DIVISOR")}};x.La.Math.Fu=function(){zh(Ed(this,"PROPERTY"),function(a){this.v.Bk("DIVISIBLE_BY"==a)})};
x.X.Zo("math_is_divisibleby_mutator",x.La.Math.Eu,x.La.Math.Fu);x.X.register("math_change_tooltip",x.X.vv());x.La.Math.Iu={Rt:function(a){"MODE"==a?this.K.Ic("Array"):this.K.Ic("Number")},Zb:function(){var a=document.createElement("mutation");a.setAttribute("op",F(this,"OP"));return a},Ed:function(a){this.Rt(a.getAttribute("op"))}};x.La.Math.Hu=function(){zh(Ed(this,"OP"),function(a){this.Rt(a)}.bind(this))};x.X.Zo("math_modes_of_list_mutator",x.La.Math.Iu,x.La.Math.Hu);
x.m=new Hh;Yk("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan");
x.m.Qk=0;x.m.Ez=1.1;x.m.Pe=1.2;x.m.ad=2;x.m.Cz=3;x.m.yz=3;x.m.uz=4.1;x.m.Gz=4.2;x.m.Ri=4.3;x.m.Mm=4.4;x.m.Fz=4.5;x.m.Hz=4.6;x.m.zz=4.7;x.m.rz=4.8;x.m.Az=5;x.m.Om=5.1;x.m.Pi=5.2;x.m.Qi=5.3;x.m.Pm=6.1;x.m.Hh=6.2;x.m.wz=7;x.m.aq=8;x.m.Bz=8;x.m.Dz=8;x.m.$p=9;x.m.sz=10;x.m.xz=11;x.m.vz=12;x.m.Sk=13;x.m.Nm=14;x.m.Rk=15;x.m.qz=16;x.m.Iz=17;x.m.fe=18;x.m.Qe=99;x.m.Tk=[[x.m.ad,x.m.Pe],[x.m.ad,x.m.ad],[x.m.Pe,x.m.Pe],[x.m.Pe,x.m.ad],[x.m.Mm,x.m.Mm],[x.m.Om,x.m.Om],[x.m.Hh,x.m.Hh],[x.m.Sk,x.m.Sk],[x.m.Nm,x.m.Nm]];
x.m.$=function(a){x.m.Oh=Object.create(null);x.m.Nn=Object.create(null);x.m.rg?x.m.rg.reset():x.m.rg=new il;x.m.rg.va=a.va;for(var b=[],c=x.O.fv(a),e=0;e<c.length;e++)b.push(x.m.rg.getName(c[e],"DEVELOPER_VARIABLE"));a=x.O.rq(a);for(e=0;e<a.length;e++)b.push(x.m.rg.getName(a[e].sa(),x.O.tg));b.length&&(x.m.Oh.variables="var "+b.join(", ")+";")};x.m.finish=function(a){var b=[],c;for(c in x.m.Oh)b.push(x.m.Oh[c]);delete x.m.Oh;delete x.m.Nn;x.m.rg.reset();return b.join("\n\n")+"\n\n\n"+a};
x.m.rt=function(a){return a+";\n"};x.m.mA=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};
x.m.jp=function(a,b,c){var e="";if(!a.K||!a.K.U){var f=a.Dl();(f=x.h.Zt(f,x.m.fu-3))&&(e=a.Gg?e+("/**\n"+Wk(f+"\n"," * ")+" */\n"):e+Wk(f+"\n","// "));for(var h=0;h<a.L.length;h++)if(a.L[h].type==x.Ja){var k=G(a.L[h].connection);if(k){f=[];k=Xc(k,!0);for(var l=0;l<k.length;l++){var m=k[l].Dl();m&&f.push(m)}f.length&&f.push("");(f=f.join("\n"))&&(e+=Wk(f,"// "))}}}a=a.M&&G(a.M);c=c?"":Vk(x.m,a);return e+b+c};
x.m.cA=function(a,b,c,e,f){c=c||0;f=f||x.m.Qe;a.s.options.$f&&c--;var h=a.s.options.$f?"1":"0";a=0<c?S(a,b,x.m.Hh)||h:0>c?S(a,b,x.m.Pm)||h:e?S(a,b,x.m.Ri)||h:S(a,b,f)||h;if(x.nx(a))a=parseFloat(a)+c,e&&(a=-a);else{if(0<c){a=a+" + "+c;var k=x.m.Hh}else 0>c&&(a=a+" - "+-c,k=x.m.Pm);e&&(a=c?"-("+a+")":"-"+a,k=x.m.Ri);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};x.m.vx={};x.m.controls_if=function(a){var b=0,c="";do{var e=S(a,"IF"+b,x.m.Qe)||"false";var f=Xk(a,"DO"+b);c+=(0<b?" else ":"")+"if ("+e+") {\n"+f+"}";++b}while(H(a,"IF"+b));H(a,"ELSE")&&(f=Xk(a,"ELSE"),c+=" else {\n"+f+"}");return c+"\n"};x.m.controls_ifelse=x.m.controls_if;x.m.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[F(a,"OP")],c="=="==b||"!="==b?x.m.$p:x.m.aq,e=S(a,"A",c)||"0";a=S(a,"B",c)||"0";return[e+" "+b+" "+a,c]};
x.m.logic_operation=function(a){var b="AND"==F(a,"OP")?"&&":"||",c="&&"==b?x.m.Sk:x.m.Nm,e=S(a,"A",c);a=S(a,"B",c);if(e||a){var f="&&"==b?"true":"false";e||(e=f);a||(a=f)}else a=e="false";return[e+" "+b+" "+a,c]};x.m.logic_negate=function(a){var b=x.m.Mm;return["!"+(S(a,"BOOL",b)||"true"),b]};x.m.logic_boolean=function(a){return["TRUE"==F(a,"BOOL")?"true":"false",x.m.Qk]};x.m.logic_null=function(){return["null",x.m.Qk]};
x.m.logic_ternary=function(a){var b=S(a,"IF",x.m.Rk)||"false",c=S(a,"THEN",x.m.Rk)||"null";a=S(a,"ELSE",x.m.Rk)||"null";return[b+" ? "+c+" : "+a,x.m.Rk]};x.m.xx={};x.m.math_number=function(a){a=parseFloat(F(a,"NUM"));return[a,0<=a?x.m.Qk:x.m.Ri]};x.m.math_arithmetic=function(a){var b={ADD:[" + ",x.m.Hh],MINUS:[" - ",x.m.Pm],MULTIPLY:[" * ",x.m.Om],DIVIDE:[" / ",x.m.Pi],POWER:[null,x.m.fe]}[F(a,"OP")],c=b[0];b=b[1];var e=S(a,"A",b)||"0";a=S(a,"B",b)||"0";return c?[e+c+a,b]:["Math.pow("+e+", "+a+")",x.m.ad]};
x.m.math_single=function(a){var b=F(a,"OP");if("NEG"==b)return a=S(a,"NUM",x.m.Ri)||"0","-"==a[0]&&(a=" "+a),["-"+a,x.m.Ri];a="SIN"==b||"COS"==b||"TAN"==b?S(a,"NUM",x.m.Pi)||"0":S(a,"NUM",x.m.Qe)||"0";switch(b){case "ABS":var c="Math.abs("+a+")";break;case "ROOT":c="Math.sqrt("+a+")";break;case "LN":c="Math.log("+a+")";break;case "EXP":c="Math.exp("+a+")";break;case "POW10":c="Math.pow(10,"+a+")";break;case "ROUND":c="Math.round("+a+")";break;case "ROUNDUP":c="Math.ceil("+a+")";break;case "ROUNDDOWN":c=
"Math.floor("+a+")";break;case "SIN":c="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":c="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":c="Math.tan("+a+" / 180 * Math.PI)"}if(c)return[c,x.m.ad];switch(b){case "LOG10":c="Math.log("+a+") / Math.log(10)";break;case "ASIN":c="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":c="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":c="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+b);}return[c,x.m.Pi]};
x.m.math_constant=function(a){return{PI:["Math.PI",x.m.Pe],E:["Math.E",x.m.Pe],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",x.m.Pi],SQRT2:["Math.SQRT2",x.m.Pe],SQRT1_2:["Math.SQRT1_2",x.m.Pe],INFINITY:["Infinity",x.m.Qk]}[F(a,"CONSTANT")]};
x.m.math_number_property=function(a){var b=S(a,"NUMBER_TO_CHECK",x.m.Qi)||"0",c=F(a,"PROPERTY");if("PRIME"==c){var e=Zk("mathIsPrime",["function "+x.m.wf+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")";return[e,x.m.ad]}switch(c){case "EVEN":e=b+" % 2 == 0";break;case "ODD":e=b+" % 2 == 1";break;case "WHOLE":e=b+" % 1 == 0";break;case "POSITIVE":e=b+" > 0";break;case "NEGATIVE":e=b+" < 0";break;case "DIVISIBLE_BY":a=S(a,"DIVISOR",x.m.Qi)||"0",e=b+" % "+a+" == 0"}return[e,x.m.$p]};
x.m.math_change=function(a){var b=S(a,"DELTA",x.m.Hh)||"0";a=x.m.rg.getName(F(a,"VAR"),x.O.tg);return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+b+";\n"};x.m.math_round=x.m.math_single;x.m.math_trig=x.m.math_single;
x.m.math_on_list=function(a){var b=F(a,"OP");switch(b){case "SUM":a=S(a,"LIST",x.m.Pe)||"[]";a+=".reduce(function(x, y) {return x + y;})";break;case "MIN":a=S(a,"LIST",x.m.fe)||"[]";a="Math.min.apply(null, "+a+")";break;case "MAX":a=S(a,"LIST",x.m.fe)||"[]";a="Math.max.apply(null, "+a+")";break;case "AVERAGE":b=Zk("mathMean",["function "+x.m.wf+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);a=S(a,"LIST",x.m.Qe)||"[]";a=b+"("+a+")";break;case "MEDIAN":b=
Zk("mathMedian",["function "+x.m.wf+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);a=S(a,"LIST",x.m.Qe)||"[]";a=b+"("+a+")";break;case "MODE":b=Zk("mathModes",
["function "+x.m.wf+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);",
"  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);a=S(a,"LIST",x.m.Qe)||"[]";a=b+"("+a+")";break;case "STD_DEV":b=Zk("mathStandardDeviation",["function "+x.m.wf+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);",
"  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]);a=S(a,"LIST",x.m.Qe)||"[]";a=b+"("+a+")";break;case "RANDOM":b=Zk("mathRandomList",["function "+x.m.wf+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]);a=S(a,"LIST",x.m.Qe)||"[]";a=b+"("+a+")";break;default:throw Error("Unknown operator: "+b);}return[a,x.m.ad]};x.m.math_modulo=function(a){var b=S(a,"DIVIDEND",x.m.Qi)||"0";a=S(a,"DIVISOR",x.m.Qi)||"0";return[b+" % "+a,x.m.Qi]};
x.m.math_constrain=function(a){var b=S(a,"VALUE",x.m.fe)||"0",c=S(a,"LOW",x.m.fe)||"0";a=S(a,"HIGH",x.m.fe)||"Infinity";return["Math.min(Math.max("+b+", "+c+"), "+a+")",x.m.ad]};
x.m.math_random_int=function(a){var b=S(a,"FROM",x.m.fe)||"0";a=S(a,"TO",x.m.fe)||"0";return[Zk("mathRandomInt",["function "+x.m.wf+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+b+", "+a+")",x.m.ad]};x.m.math_random_float=function(){return["Math.random()",x.m.ad]};
x.m.math_atan2=function(a){var b=S(a,"X",x.m.fe)||"0";return["Math.atan2("+(S(a,"Y",x.m.fe)||"0")+", "+b+") / Math.PI * 180",x.m.Pi]};function km(a,b){var c=a.className;c=q(c)&&c.match(/\S+/g)||[];for(var e=Pa(arguments,1),f=0;f<e.length;f++)Ka(c,e[f])||c.push(e[f]);c=c.join(" ");a.className=c};var lm={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",
he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas",
"pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587",
"zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},mm="ace ar fa he mzn ps ur".split(" "),nm=window.BlocklyGamesLang,om=window.BlocklyGamesLanguages,pm=!!window.location.pathname.match(/\.html$/),O=null,U,qm=Number,rm,sm=window.location.search.match(/[?&]level=([^&]+)/);rm=sm?decodeURIComponent(sm[1].replace(/\+/g,"%20")):"NaN";var tm=qm(rm);U=isNaN(tm)?1:Math.min(Math.max(1,tm),10);
function um(){document.title=document.getElementById("title").textContent;document.dir=-1!=mm.indexOf(nm)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",nm);var a=document.getElementById("languageMenu");if(a){for(var b=[],c=0;c<om.length;c++){var e=om[c];b.push([lm[e],e])}b.sort(function(h,k){return h[0]>k[0]?1:h[0]<k[0]?-1:0});for(c=a.options.length=0;c<b.length;c++){var f=b[c];e=f[1];f=new Option(f[0],e);e==nm&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display=
"none")}for(c=1;10>=c;c++)a=document.getElementById("level"+c),b=!!vm(c),a&&b&&km(a,"level_done");(c=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&c.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(wm,1)}function vm(a){var b=xm;try{var c=window.localStorage[b+a]}catch(e){}return c}function ym(a){var b;(b=document.getElementById(a))?(b=b.textContent,b=b.replace(/\\n/g,"\n")):b=null;return null===b?"[Unknown message: "+a+"]":b}
function zm(a,b){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",b,!0)}
function wm(){if(!pm){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(c){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")}};var Am,V,Bm,Cm,Dm,Em;x.Ka.bird_noWorm={$:function(){Nh(this,{message0:ym("Bird_noWorm"),output:"Boolean",colour:330,tooltip:ym("Bird_noWormTooltip")})}};x.m.bird_noWorm=function(){return["noWorm()",x.m.ad]};x.Ka.bird_heading={$:function(){this.ae(290);Fh(Fh(this.Pd(x.Md,""),ym("Bird_heading")),new Gk("90"),"ANGLE");this.ek(!0);this.pd(ym("Bird_headingTooltip"))}};x.m.bird_heading=function(a){return"heading("+parseFloat(F(a,"ANGLE"))+", 'block_id_"+a.id+"');\n"};
x.Ka.bird_position={$:function(){Nh(this,{message0:"%1",args0:[{type:"field_dropdown",name:"XY",options:[["x","X"],["y","Y"]]}],output:"Number",colour:330,tooltip:ym("Bird_positionTooltip")})}};x.m.bird_position=function(a){return["get"+F(a,"XY").charAt(0)+"()",x.m.ad]};
x.Ka.bird_compare={$:function(){this.ef=x.g.LOGIC_COMPARE_HELPURL;this.ae(x.g.LOGIC_HUE);this.dk(!0,"Boolean");Mh(this,"A").Ic("Number");Fh(Mh(this,"B").Ic("Number"),new Lh([["\u200f<","LT"],["\u200f>","GT"]]),"OP");this.mg(!0);var a=this;this.pd(function(){var b=F(a,"OP");return{LT:x.g.LOGIC_COMPARE_TOOLTIP_LT,GT:x.g.LOGIC_COMPARE_TOOLTIP_GT}[b]})}};x.m.bird_compare=function(a){var b="LT"==F(a,"OP")?"<":">",c=x.m.aq,e=S(a,"A",c)||"0";a=S(a,"B",c)||"0";return[e+" "+b+" "+a,c]};
x.Ka.bird_and={$:function(){this.ef=x.g.LOGIC_OPERATION_HELPURL;this.ae(x.g.LOGIC_HUE);this.dk(!0,"Boolean");Mh(this,"A").Ic("Boolean");Fh(Mh(this,"B").Ic("Boolean"),x.g.LOGIC_OPERATION_AND);this.mg(!0);this.pd(x.g.LOGIC_OPERATION_TOOLTIP_AND)}};x.m.bird_and=function(a){var b=x.m.Sk,c=S(a,"A",b);a=S(a,"B",b);c||a?(c||(c="true"),a||(a="true")):a=c="false";return[c+" && "+a,b]};
x.Ka.bird_ifElse={$:function(){this.ef=x.g.CONTROLS_IF_HELPURL;this.ae(x.g.LOGIC_HUE);Fh(Mh(this,"CONDITION"),x.g.CONTROLS_IF_MSG_IF).Ic("Boolean");Fh(this.Pd(x.xa,"DO"),x.g.CONTROLS_IF_MSG_THEN);Fh(this.Pd(x.xa,"ELSE"),x.g.CONTROLS_IF_MSG_ELSE);this.bk(!1);this.pd(x.g.CONTROLS_IF_TOOLTIP_2)}};x.m.bird_ifElse=function(a){var b=S(a,"CONDITION",x.m.Qe)||"false",c=Xk(a,"DO");a=Xk(a,"ELSE");return"if ("+b+") {\n"+c+"} else {\n"+a+"}\n"};x.Ka.controls_if.Jx=x.Ka.controls_if.$;
x.Ka.controls_if.$=function(){this.Jx();this.ek(!1);this.vm(!1);this.bk(!1)};var Fm={};function Gm(){throw Error("Do not instantiate directly");}Gm.prototype.nn=null;Gm.prototype.If=function(){return this.content};Gm.prototype.toString=function(){return this.content};Gm.prototype.Am=function(){if(this.Tq!==Fm)throw Error("Sanitized content was not of kind HTML.");return Lb(this.toString(),this.nn||null)};function Hm(a){if(null!=a)switch(a.nn){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Im(){Gm.call(this)}v(Im,Gm);Im.prototype.Tq=Fm;function Jm(a){return null!=a&&a.Tq===Fm?a:Km(String(String(a)).replace(Lm,Mm),Hm(a))}
var Km=function(a){function b(){}b.prototype=a.prototype;return function(c,e){var f=new b;f.content=String(c);void 0!==e&&(f.nn=e);return f}}(Im),Nm={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Mm(a){return Nm[a]}var Lm=/[\x00\x22\x26\x27\x3c\x3e]/g;function Om(){for(var a='<div style="display: none"><span id="Games_name">Blockly Games</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">Movie</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Bird_noWorm">does not have worm</span><span id="Bird_heading">heading</span><span id="Bird_noWormTooltip">The condition when the bird has not gotten the worm.</span><span id="Bird_headingTooltip">Move in the direction of the given angle: 0 is to the right, 90 is straight up, etc.</span><span id="Bird_positionTooltip">x and y mark the bird\'s position. When x = 0 the bird is near the left edge, when x = 100 it\'s near the right edge. When y = 0 the bird is at the bottom, when y = 100 it\'s at the top.</span></div><table width="100%"><tr><td><h1>'+
('<span id="title">'+(pm?'<a href="index.html?lang='+Jm(nm)+'">':'<a href="./?lang='+Jm(nm)+'">')+"Blockly Games</a> : "+Jm({appName:"Bird"}.appName)+"</span>"),b=" &nbsp; ",c=1;11>c;c++)b+=" "+(c==U?'<span class="level_number level_done" id="level'+Jm(c)+'">'+Jm(c)+"</span>":10==c?'<a class="level_number" id="level'+Jm(c)+'" href="?lang='+Jm(nm)+"&level="+Jm(c)+Jm("")+'">'+Jm(c)+"</a>":'<a class="level_dot" id="level'+Jm(c)+'" href="?lang='+Jm(nm)+"&level="+Jm(c)+Jm("")+'"></a>');return a+b+'</h1></td><td class="farSide"><select id="languageMenu"></select>&nbsp;<button id="linkButton" title="Save and link to blocks."><img src="common/1x1.gif" class="link icon21"></button></td></tr></table><div id="visualization"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgBird" width="400px" height="400px"></svg></div><table width="400"><tr><td style="width: 190px;"></td><td><button id="runButton" class="primary" title="Run the program you wrote."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton" class="primary" style="display: none" title="Stop the program and reset the level."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table>'+
('<xml id="toolbox" style="display: none;"><block type="bird_heading"></block>'+(2<=U?(4==U||5==U?'<block type="bird_noWorm" disabled="true"></block>':'<block type="bird_noWorm"></block>')+(4<=U?'<block type="bird_compare"><field name="OP">LT</field><value name="A"><block type="bird_position" movable="false"><field name="XY">X</field></block></value><value name="B"><block type="math_number" movable="false"><field name="NUM">50</field></block></value></block>'+(5<=U?'<block type="bird_compare"><field name="OP">LT</field><value name="A"><block type="bird_position" movable="false"><field name="XY">Y</field></block></value><value name="B"><block type="math_number" movable="false"><field name="NUM">50</field></block></value></block>'+
(8<=U?'<block type="bird_and"></block>':""):""):""):"")+"</xml>")+'<div id="blockly"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneCancel">Cancel</button><button id="doneOk" class="secondary">OK</button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel">Cancel</button><button id="abortOk" class="secondary">OK</button></div></div><div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div><div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div></div><div id="dialogHelp" class="dialogHiddenContent">'+
(1==U?'<table><tr><td rowspan=2><img src="common/help.png"></td><td><div class="farSide"><img src="bird/help_heading.png" class="mirrorImg" height=27 width=141></div></td></tr><tr><td>Change the heading angle to make the bird get the worm and land in her nest.</td></tr></table>':2==U?'<table><tr><td><img src="common/help.png"></td><td>Use this block to go in one heading if you have the worm, or a different heading if you don\'t have the worm.</td><td><img src="bird/help_up.png"></td></tr></table>':
4==U?"<table><tr><td><img src=\"common/help.png\"></td><td>'x' is your current horizontal position. Use this block to go in one heading if 'x' is less than a number, or a different heading otherwise.</td><td><img src=\"bird/help_up.png\"></td></tr></table>":5==U?'<table><tr><td><img src="bird/help_up.png"></td><td>Click the icon to modify the \'if\' block.</td><td><img src="common/help.png"></td></tr></table>':6==U?"<table><tr><td><img src=\"bird/help_up.png\"></td><td>This level needs both an 'else if' and an 'else' block.</td><td><img src=\"common/help.png\"></td></tr></table>":
8==U?'<table><tr><td><img src="bird/help_up.png"></td><td>The \'and\' block is true only if both its inputs are true.</td><td><img src="common/help.png"></td></tr></table>':"")+"</div>"+(5==U?'<div id="dialogMutatorHelp" class="dialogHiddenContent"><table><tr><td><img src="bird/help_mutator.png" class="mirrorImg" height=58 width=107></td><td>Drag an \'else\' block into the \'if\' block.</td></tr></table></div>':"")};x.g.Zz={};x.g.ADD_COMMENT="Add Comment";x.g.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";x.g.CHANGE_VALUE_TITLE="Change value:";x.g.CLEAN_UP="Clean up Blocks";x.g.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.";x.g.COLLAPSE_ALL="Collapse Blocks";x.g.COLLAPSE_BLOCK="Collapse Block";x.g.COLOUR_BLEND_COLOUR1="colour 1";x.g.COLOUR_BLEND_COLOUR2="colour 2";x.g.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp";
x.g.COLOUR_BLEND_RATIO="ratio";x.g.COLOUR_BLEND_TITLE="blend";x.g.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).";x.g.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color";x.g.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.";x.g.COLOUR_RANDOM_HELPURL="http://randomcolour.com";x.g.COLOUR_RANDOM_TITLE="random colour";x.g.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.";x.g.COLOUR_RGB_BLUE="blue";x.g.COLOUR_RGB_GREEN="green";
x.g.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html";x.g.COLOUR_RGB_RED="red";x.g.COLOUR_RGB_TITLE="colour with";x.g.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.";x.g.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";x.g.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop";x.g.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop";
x.g.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.";x.g.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.";x.g.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.";x.g.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each";x.g.CONTROLS_FOREACH_TITLE="for each item %1 in list %2";x.g.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.";
x.g.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with";x.g.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4";x.g.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";x.g.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.";x.g.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.";x.g.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse";
x.g.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.";x.g.CONTROLS_IF_MSG_ELSE="else";x.g.CONTROLS_IF_MSG_ELSEIF="else if";x.g.CONTROLS_IF_MSG_IF="if";x.g.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.";x.g.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";x.g.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";
x.g.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";x.g.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop";x.g.CONTROLS_REPEAT_INPUT_DO="do";x.g.CONTROLS_REPEAT_TITLE="repeat %1 times";x.g.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.";x.g.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat";
x.g.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until";x.g.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while";x.g.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.";x.g.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.";x.g.DELETE_ALL_BLOCKS="Delete all %1 blocks?";x.g.DELETE_BLOCK="Delete Block";x.g.DELETE_VARIABLE="Delete the '%1' variable";x.g.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";
x.g.DELETE_X_BLOCKS="Delete %1 Blocks";x.g.DISABLE_BLOCK="Disable Block";x.g.DUPLICATE_BLOCK="Duplicate";x.g.DUPLICATE_COMMENT="Duplicate Comment";x.g.ENABLE_BLOCK="Enable Block";x.g.EXPAND_ALL="Expand Blocks";x.g.EXPAND_BLOCK="Expand Block";x.g.EXTERNAL_INPUTS="External Inputs";x.g.HELP="Help";x.g.INLINE_INPUTS="Inline Inputs";x.g.IOS_CANCEL="Cancel";x.g.IOS_ERROR="Error";x.g.IOS_OK="OK";x.g.IOS_PROCEDURES_ADD_INPUT="+ Add Input";x.g.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements";
x.g.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.";x.g.IOS_PROCEDURES_INPUTS="INPUTS";x.g.IOS_VARIABLES_ADD_BUTTON="Add";x.g.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable";x.g.IOS_VARIABLES_DELETE_BUTTON="Delete";x.g.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.";x.g.IOS_VARIABLES_RENAME_BUTTON="Rename";x.g.IOS_VARIABLES_VARIABLE_NAME="Variable name";x.g.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list";
x.g.LISTS_CREATE_EMPTY_TITLE="create empty list";x.g.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records";x.g.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list";x.g.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.";x.g.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";x.g.LISTS_CREATE_WITH_INPUT_WITH="create list with";x.g.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.";
x.g.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.";x.g.LISTS_GET_INDEX_FIRST="first";x.g.LISTS_GET_INDEX_FROM_END="# from end";x.g.LISTS_GET_INDEX_FROM_START="#";x.g.LISTS_GET_INDEX_GET="get";x.g.LISTS_GET_INDEX_GET_REMOVE="get and remove";x.g.LISTS_GET_INDEX_LAST="last";x.g.LISTS_GET_INDEX_RANDOM="random";x.g.LISTS_GET_INDEX_REMOVE="remove";x.g.LISTS_GET_INDEX_TAIL="";x.g.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.";
x.g.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.";x.g.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.";x.g.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.";x.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.";x.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.";x.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.";
x.g.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.";x.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.";x.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.";x.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.";x.g.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.";x.g.LISTS_GET_SUBLIST_END_FROM_END="to # from end";
x.g.LISTS_GET_SUBLIST_END_FROM_START="to #";x.g.LISTS_GET_SUBLIST_END_LAST="to last";x.g.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist";x.g.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first";x.g.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end";x.g.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #";x.g.LISTS_GET_SUBLIST_TAIL="";x.g.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.";
x.g.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.";x.g.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.";x.g.LISTS_INDEX_OF_FIRST="find first occurrence of item";x.g.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list";x.g.LISTS_INDEX_OF_LAST="find last occurrence of item";x.g.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.";x.g.LISTS_INLIST="in list";
x.g.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty";x.g.LISTS_ISEMPTY_TITLE="%1 is empty";x.g.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.";x.g.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of";x.g.LISTS_LENGTH_TITLE="length of %1";x.g.LISTS_LENGTH_TOOLTIP="Returns the length of a list.";x.g.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";x.g.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times";
x.g.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.";x.g.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list";x.g.LISTS_REVERSE_MESSAGE0="reverse %1";x.g.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.";x.g.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set";x.g.LISTS_SET_INDEX_INPUT_TO="as";x.g.LISTS_SET_INDEX_INSERT="insert at";x.g.LISTS_SET_INDEX_SET="set";
x.g.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.";x.g.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.";x.g.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.";x.g.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.";x.g.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.";x.g.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.";
x.g.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.";x.g.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.";x.g.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list";x.g.LISTS_SORT_ORDER_ASCENDING="ascending";x.g.LISTS_SORT_ORDER_DESCENDING="descending";x.g.LISTS_SORT_TITLE="sort %1 %2 %3";x.g.LISTS_SORT_TOOLTIP="Sort a copy of a list.";x.g.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case";x.g.LISTS_SORT_TYPE_NUMERIC="numeric";
x.g.LISTS_SORT_TYPE_TEXT="alphabetic";x.g.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists";x.g.LISTS_SPLIT_LIST_FROM_TEXT="make list from text";x.g.LISTS_SPLIT_TEXT_FROM_LIST="make text from list";x.g.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.";x.g.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.";x.g.LISTS_SPLIT_WITH_DELIMITER="with delimiter";
x.g.LOGIC_BOOLEAN_FALSE="false";x.g.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values";x.g.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.";x.g.LOGIC_BOOLEAN_TRUE="true";x.g.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)";x.g.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.";x.g.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.";x.g.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.";
x.g.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.";x.g.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.";x.g.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.";x.g.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not";x.g.LOGIC_NEGATE_TITLE="not %1";x.g.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.";
x.g.LOGIC_NULL="null";x.g.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type";x.g.LOGIC_NULL_TOOLTIP="Returns null.";x.g.LOGIC_OPERATION_AND="and";x.g.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations";x.g.LOGIC_OPERATION_OR="or";x.g.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.";x.g.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.";x.g.LOGIC_TERNARY_CONDITION="test";x.g.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:";
x.g.LOGIC_TERNARY_IF_FALSE="if false";x.g.LOGIC_TERNARY_IF_TRUE="if true";x.g.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";x.g.MATH_ADDITION_SYMBOL="+";x.g.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic";x.g.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.";x.g.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.";
x.g.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.";x.g.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.";x.g.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.";x.g.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2";x.g.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2";x.g.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.";x.g.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";
x.g.MATH_CHANGE_TITLE="change %1 by %2";x.g.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.";x.g.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant";x.g.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";x.g.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)";x.g.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3";
x.g.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).";x.g.MATH_DIVISION_SYMBOL="\u00f7";x.g.MATH_IS_DIVISIBLE_BY="is divisible by";x.g.MATH_IS_EVEN="is even";x.g.MATH_IS_NEGATIVE="is negative";x.g.MATH_IS_ODD="is odd";x.g.MATH_IS_POSITIVE="is positive";x.g.MATH_IS_PRIME="is prime";x.g.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";x.g.MATH_IS_WHOLE="is whole";
x.g.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation";x.g.MATH_MODULO_TITLE="remainder of %1 \u00f7 %2";x.g.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.";x.g.MATH_MULTIPLICATION_SYMBOL="\u00d7";x.g.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number";x.g.MATH_NUMBER_TOOLTIP="A number.";x.g.MATH_ONLIST_HELPURL="";x.g.MATH_ONLIST_OPERATOR_AVERAGE="average of list";x.g.MATH_ONLIST_OPERATOR_MAX="max of list";x.g.MATH_ONLIST_OPERATOR_MEDIAN="median of list";
x.g.MATH_ONLIST_OPERATOR_MIN="min of list";x.g.MATH_ONLIST_OPERATOR_MODE="modes of list";x.g.MATH_ONLIST_OPERATOR_RANDOM="random item of list";x.g.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list";x.g.MATH_ONLIST_OPERATOR_SUM="sum of list";x.g.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.";x.g.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.";x.g.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.";
x.g.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.";x.g.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.";x.g.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.";x.g.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.";x.g.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.";x.g.MATH_POWER_SYMBOL="^";x.g.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";
x.g.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction";x.g.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";x.g.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";x.g.MATH_RANDOM_INT_TITLE="random integer from %1 to %2";x.g.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.";x.g.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding";x.g.MATH_ROUND_OPERATOR_ROUND="round";
x.g.MATH_ROUND_OPERATOR_ROUNDDOWN="round down";x.g.MATH_ROUND_OPERATOR_ROUNDUP="round up";x.g.MATH_ROUND_TOOLTIP="Round a number up or down.";x.g.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root";x.g.MATH_SINGLE_OP_ABSOLUTE="absolute";x.g.MATH_SINGLE_OP_ROOT="square root";x.g.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.";x.g.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.";x.g.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.";
x.g.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.";x.g.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.";x.g.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.";x.g.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.";x.g.MATH_SUBTRACTION_SYMBOL="-";x.g.MATH_TRIG_ACOS="acos";x.g.MATH_TRIG_ASIN="asin";x.g.MATH_TRIG_ATAN="atan";x.g.MATH_TRIG_COS="cos";x.g.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions";
x.g.MATH_TRIG_SIN="sin";x.g.MATH_TRIG_TAN="tan";x.g.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.";x.g.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.";x.g.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.";x.g.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).";x.g.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).";x.g.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).";x.g.NEW_COLOUR_VARIABLE="Create colour variable...";
x.g.NEW_NUMBER_VARIABLE="Create number variable...";x.g.NEW_STRING_VARIABLE="Create string variable...";x.g.NEW_VARIABLE="Create variable...";x.g.NEW_VARIABLE_TITLE="New variable name:";x.g.NEW_VARIABLE_TYPE_TITLE="New variable type:";x.g.ORDINAL_NUMBER_SUFFIX="";x.g.PROCEDURES_ALLOW_STATEMENTS="allow statements";x.g.PROCEDURES_BEFORE_PARAMS="with:";x.g.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";x.g.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.";
x.g.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";x.g.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.";x.g.PROCEDURES_CALL_BEFORE_PARAMS="with:";x.g.PROCEDURES_CREATE_DO="Create '%1'";x.g.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...";x.g.PROCEDURES_DEFNORETURN_DO="";x.g.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";x.g.PROCEDURES_DEFNORETURN_PROCEDURE="do something";
x.g.PROCEDURES_DEFNORETURN_TITLE="to";x.g.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.";x.g.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";x.g.PROCEDURES_DEFRETURN_RETURN="return";x.g.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.";x.g.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.";x.g.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition";x.g.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause";
x.g.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.";x.g.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.";x.g.PROCEDURES_MUTATORARG_TITLE="input name:";x.g.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.";x.g.PROCEDURES_MUTATORCONTAINER_TITLE="inputs";x.g.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.";x.g.REDO="Redo";x.g.REMOVE_COMMENT="Remove Comment";
x.g.RENAME_VARIABLE="Rename variable...";x.g.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";x.g.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";x.g.TEXT_APPEND_TITLE="to %1 append text %2";x.g.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.";x.g.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case";x.g.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case";x.g.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case";
x.g.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE";x.g.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.";x.g.TEXT_CHARAT_FIRST="get first letter";x.g.TEXT_CHARAT_FROM_END="get letter # from end";x.g.TEXT_CHARAT_FROM_START="get letter #";x.g.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text";x.g.TEXT_CHARAT_LAST="get last letter";x.g.TEXT_CHARAT_RANDOM="get random letter";x.g.TEXT_CHARAT_TAIL="";x.g.TEXT_CHARAT_TITLE="in text %1 %2";
x.g.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.";x.g.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings";x.g.TEXT_COUNT_MESSAGE0="count %1 in %2";x.g.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.";x.g.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.";x.g.TEXT_CREATE_JOIN_TITLE_JOIN="join";x.g.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.";
x.g.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end";x.g.TEXT_GET_SUBSTRING_END_FROM_START="to letter #";x.g.TEXT_GET_SUBSTRING_END_LAST="to last letter";x.g.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text";x.g.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text";x.g.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter";x.g.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end";x.g.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #";
x.g.TEXT_GET_SUBSTRING_TAIL="";x.g.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.";x.g.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text";x.g.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text";x.g.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text";x.g.TEXT_INDEXOF_TITLE="in text %1 %2 %3";x.g.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.";
x.g.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text";x.g.TEXT_ISEMPTY_TITLE="%1 is empty";x.g.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.";x.g.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation";x.g.TEXT_JOIN_TITLE_CREATEWITH="create text with";x.g.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.";x.g.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";
x.g.TEXT_LENGTH_TITLE="length of %1";x.g.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.";x.g.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text";x.g.TEXT_PRINT_TITLE="print %1";x.g.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.";x.g.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user";x.g.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.";
x.g.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.";x.g.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message";x.g.TEXT_PROMPT_TYPE_TEXT="prompt for text with message";x.g.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings";x.g.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3";x.g.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.";x.g.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text";
x.g.TEXT_REVERSE_MESSAGE0="reverse %1";x.g.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.";x.g.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)";x.g.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.";x.g.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces";x.g.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of";x.g.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of";x.g.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of";
x.g.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.";x.g.TODAY="Today";x.g.UNDO="Undo";x.g.VARIABLES_DEFAULT_NAME="item";x.g.VARIABLES_GET_CREATE_SET="Create 'set %1'";x.g.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get";x.g.VARIABLES_GET_TOOLTIP="Returns the value of this variable.";x.g.VARIABLES_SET="set %1 to %2";x.g.VARIABLES_SET_CREATE_GET="Create 'get %1'";x.g.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set";
x.g.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.";x.g.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";x.g.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";x.g.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";x.g.CONTROLS_FOREACH_INPUT_DO=x.g.CONTROLS_REPEAT_INPUT_DO;x.g.CONTROLS_FOR_INPUT_DO=x.g.CONTROLS_REPEAT_INPUT_DO;x.g.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=x.g.CONTROLS_IF_MSG_ELSEIF;
x.g.CONTROLS_IF_ELSE_TITLE_ELSE=x.g.CONTROLS_IF_MSG_ELSE;x.g.CONTROLS_IF_IF_TITLE_IF=x.g.CONTROLS_IF_MSG_IF;x.g.CONTROLS_IF_MSG_THEN=x.g.CONTROLS_REPEAT_INPUT_DO;x.g.CONTROLS_WHILEUNTIL_INPUT_DO=x.g.CONTROLS_REPEAT_INPUT_DO;x.g.LISTS_CREATE_WITH_ITEM_TITLE=x.g.VARIABLES_DEFAULT_NAME;x.g.LISTS_GET_INDEX_HELPURL=x.g.LISTS_INDEX_OF_HELPURL;x.g.LISTS_GET_INDEX_INPUT_IN_LIST=x.g.LISTS_INLIST;x.g.LISTS_GET_SUBLIST_INPUT_IN_LIST=x.g.LISTS_INLIST;x.g.LISTS_INDEX_OF_INPUT_IN_LIST=x.g.LISTS_INLIST;
x.g.LISTS_SET_INDEX_INPUT_IN_LIST=x.g.LISTS_INLIST;x.g.MATH_CHANGE_TITLE_ITEM=x.g.VARIABLES_DEFAULT_NAME;x.g.PROCEDURES_DEFRETURN_COMMENT=x.g.PROCEDURES_DEFNORETURN_COMMENT;x.g.PROCEDURES_DEFRETURN_DO=x.g.PROCEDURES_DEFNORETURN_DO;x.g.PROCEDURES_DEFRETURN_PROCEDURE=x.g.PROCEDURES_DEFNORETURN_PROCEDURE;x.g.PROCEDURES_DEFRETURN_TITLE=x.g.PROCEDURES_DEFNORETURN_TITLE;x.g.TEXT_APPEND_VARIABLE=x.g.VARIABLES_DEFAULT_NAME;x.g.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=x.g.VARIABLES_DEFAULT_NAME;x.g.LOGIC_HUE="210";
x.g.LOOPS_HUE="120";x.g.MATH_HUE="230";x.g.TEXTS_HUE="160";x.g.LISTS_HUE="260";x.g.COLOUR_HUE="20";x.g.VARIABLES_HUE="330";x.g.VARIABLES_DYNAMIC_HUE="310";x.g.PROCEDURES_HUE="290";var X={Rh:null,$:function(){um();var a=document.getElementById("linkButton");"BlocklyStorage"in window?(BlocklyStorage.HTTPREQUEST_ERROR=ym("Games_httpRequestError"),BlocklyStorage.LINK_ALERT=ym("Games_linkAlert"),BlocklyStorage.HASH_ERROR=ym("Games_hashError"),BlocklyStorage.XML_ERROR=ym("Games_xmlError"),BlocklyStorage.alert=W.Gt.bind(W,a),a&&zm(a,BlocklyStorage.link)):a&&(a.style.display="none");(a=document.getElementById("languageMenu"))&&a.addEventListener("change",X.zv,!0);x.Ka&&(x.Ka.Su=!1);
x.m&&(x.m.Su=!1)},tx:function(a,b){if("BlocklyStorage"in window&&1<window.location.hash.length)BlocklyStorage.retrieveXml(window.location.hash.substring(1));else{var c=null;try{c=window.sessionStorage.ys}catch(h){}c&&delete window.sessionStorage.ys;var e=vm(U),f=b&&vm(U-1);f&&"function"==typeof b&&(f=b(f));(a=c||e||f||a)&&X.tt(a)}},tt:function(a){X.Rh?X.Rh.setValue(a,-1):(a=x.B.Wc(a),O.clear(),x.B.Gf(a,O),O.Iq())},Rn:function(){if(X.Rh)var a=X.Rh.getValue();else{a=x.B.Cm(O,!0);if(1==I(O,!1).length&&
a.querySelector){var b=a.querySelector("block");b&&(b.removeAttribute("x"),b.removeAttribute("y"))}a=x.B.Cc(a)}return a},Kf:function(){return O},uy:function(){window.localStorage&&(window.localStorage[xm+U]=X.Rn())},Ql:function(){window.location=(pm?"index.html":"./")+"?lang="+nm},zv:function(){if(window.sessionStorage){if(X.Rh)var a=X.Rh.getValue();else a=x.B.Cm(O),a=x.B.Cc(a);window.sessionStorage.ys=a}a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);
var b=window.location.search;b=1>=b.length?"?lang="+a:b.match(/[?&]lang=[^&]*/)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b},Go:function(){10>U?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+nm+"&level="+(U+1):X.Ql()},Pl:function(a,b){if(a){var c=a.match(/^block_id_([^']+)$/);c&&(a=c[1])}Wg(a,b)},iA:function(a,b){a=document.getElementById(a);
a.firstChild||(a=x.Pf(a,{rtl:-1!=mm.indexOf(nm),readOnly:!0}),"string"!=typeof b&&(b=b.join("")),x.B.Gf(x.B.Wc(b),a))},Jy:function(a){return a.replace(/(,\s*)?'block_id_[^']+'\)/g,")").replace(/[\s\xa0]+$/,"")},ne:function(a){if("click"==a.type&&"touchend"==X.ne.Uo&&X.ne.To+2E3>Date.now()||X.ne.Uo==a.type&&X.ne.To+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;X.ne.Uo=a.type;X.ne.To=Date.now();return!1}};X.ne.Uo=null;X.ne.To=0;
X.ax=function(){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","third-party/JS-Interpreter/compressed.js");document.head.appendChild(a)};
X.bx=function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href","common/prettify.css");document.head.appendChild(a);a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","common/prettify.js");document.head.appendChild(a)};window.BlocklyInterface=X;X.setCode=X.tt;X.getCode=X.Rn;X.getWorkspace=X.Kf;var W={Rg:!1,yr:null,ql:null,gk:function(a,b,c,e,f,h){function k(){W.Rg&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);W.Rg&&W.Qc(!1);x.Pc()&&x.Wb(!0);W.Rg=!0;W.yr=b;W.ql=h;var l=document.getElementById("dialog");h=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(h.style.visibility="visible",h.style.opacity=.3,h.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),W.un=x.Tb(e,"mousedown",null,W.ew));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");c&&b?(W.bm(b,!1,.2),W.bm(l,!0,.8),setTimeout(k,175)):k()},zr:0,Ar:0,ew:function(a){W.xn();if(!x.h.Uf(a)){var b=document.getElementById("dialog");W.zr=b.offsetLeft-a.clientX;W.Ar=b.offsetTop-a.clientY;W.wn=x.Tb(document,"mouseup",null,W.xn);W.vn=x.Tb(document,"mousemove",null,W.fw);a.stopPropagation()}},fw:function(a){var b=document.getElementById("dialog"),
c=W.zr+a.clientX;a=W.Ar+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);c=Math.max(c,0);c=Math.min(c,window.innerWidth-b.offsetWidth);b.style.left=c+"px";b.style.top=a+"px"},xn:function(){W.wn&&(x.Fa(W.wn),W.wn=null);W.vn&&(x.Fa(W.vn),W.vn=null)},Qc:function(a){function b(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(W.Rg){W.xn();W.un&&(x.Fa(W.un),W.un=null);W.Rg=!1;W.ql&&W.ql();W.ql=null;var c=!1===a?
null:W.yr;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;c&&a?(W.bm(a,!1,.8),W.bm(c,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((c=document.getElementById("dialogHeader"))&&c.parentNode.removeChild(c);a.firstChild;)c=a.firstChild,c.className+=" dialogHiddenContent",document.body.appendChild(c)}},bm:function(a,b,c){function e(){f.style.width=h.width+"px";f.style.height=h.height+"px";f.style.left=h.x+"px";f.style.top=
h.y+"px";f.style.opacity=c}if(a){var f=document.getElementById("dialogBorder"),h=W.xw(a);b?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},xw:function(a){var b=lh(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},Gt:function(a,b){var c=document.getElementById("containerStorage");c.textContent="";b=b.split("\n");for(var e=0;e<b.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(b[e]));c.appendChild(f)}c=document.getElementById("dialogStorage");W.gk(c,a,!0,!0,{width:"50%",left:"25%",top:"5em"},W.Iy);W.Fy()},pq:function(){if(!vm(U))if(W.Rg||O.Yb())setTimeout(W.pq,15E3);else{var a=document.getElementById("dialogAbort"),b=document.getElementById("abortCancel");b.addEventListener("click",W.Qc,!0);b.addEventListener("touchend",W.Qc,!0);b=document.getElementById("abortOk");b.addEventListener("click",X.Ql,!0);b.addEventListener("touchend",X.Ql,
!0);W.gk(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",W.oq,!0)});document.body.addEventListener("keydown",W.oq,!0)}},zt:function(){document.getElementById("galleryXml").value=X.Rn();var a=document.getElementById("galleryDialog");if(!W.zt.ty){var b=document.getElementById("galleryCancel");b.addEventListener("click",W.Qc,!0);b.addEventListener("touchend",W.Qc,!0);b=document.getElementById("galleryOk");b.addEventListener("click",W.On,!0);b.addEventListener("touchend",
W.On,!0);W.zt.ty=!0}b=document.getElementById("submitButton");W.gk(a,b,!0,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",W.Pr,!0)});document.body.addEventListener("keydown",W.Pr,!0);setTimeout(function(){document.getElementById("galleryTitle").focus()},250)},Nv:function(){var a=document.getElementById("dialogDone");if(O){var b=document.getElementById("dialogLinesText");b.textContent="";var c=Uk();c=X.Jy(c);var e=c.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,
"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=c;"function"==typeof prettyPrintOne&&(c=f.innerHTML,c=prettyPrintOne(c,"js"),f.innerHTML=c);c=1==e?ym("Games_linesOfCode1"):ym("Games_linesOfCode2").replace("%1",String(e));b.appendChild(document.createTextNode(c))}c=10>U?ym("Games_nextLevel").replace("%1",String(U+1)):ym("Games_finalLevel");b=document.getElementById("doneCancel");b.addEventListener("click",
W.Qc,!0);b.addEventListener("touchend",W.Qc,!0);b=document.getElementById("doneOk");b.addEventListener("click",X.Go,!0);b.addEventListener("touchend",X.Go,!0);W.gk(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",W.Qq,!0)});document.body.addEventListener("keydown",W.Qq,!0);document.getElementById("dialogDoneText").textContent=c},xr:function(a){!W.Rg||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(W.Qc(!0),a.stopPropagation(),a.preventDefault())},
Fy:function(){document.body.addEventListener("keydown",W.xr,!0)},Iy:function(){document.body.removeEventListener("keydown",W.xr,!0)},Qq:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)W.Qc(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&X.Go()},oq:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)W.Qc(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&X.Ql()},Pr:function(a){27==a.keyCode?W.Qc(!0):13==a.keyCode&&W.On()},On:function(){var a=document.getElementById("galleryTitle");
if(a.value.trim()){a=document.getElementById("galleryForm");for(var b=[],c=0,e;e=a.elements[c];c++)e.name&&(b[c]=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value));var f=new XMLHttpRequest;f.open("POST",a.action);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.onload=function(){if(4==f.readyState){var h=200==f.status?ym("Games_submitted"):ym("Games_httpRequestError")+"\nStatus: "+f.status;W.Gt(null,h)}};f.send(b.join("&"));W.Qc(!0)}else a.value="",a.focus()}};
window.BlocklyDialogs=W;W.hideDialog=W.Qc;function Y(a,b,c,e){this.Ek=a;this.Fk=b;this.x1=c;this.y1=e}Y.prototype.clone=function(){return new Y(this.Ek,this.Fk,this.x1,this.y1)};var xm="bird",Z=[void 0,{start:new B(20,20),Ie:90,uc:new B(50,50),ld:new B(80,80),tc:[]},{start:new B(20,20),Ie:0,uc:new B(80,20),ld:new B(80,80),tc:[new Y(0,50,60,50)]},{start:new B(20,70),Ie:270,uc:new B(50,20),ld:new B(80,70),tc:[new Y(50,50,50,100)]},{start:new B(20,80),Ie:0,uc:null,ld:new B(80,20),tc:[new Y(0,0,65,65)]},{start:new B(80,80),Ie:270,uc:null,ld:new B(20,20),tc:[new Y(0,100,65,35)]},{start:new B(20,40),Ie:0,uc:new B(80,20),ld:new B(20,80),tc:[new Y(0,59,50,59)]},{start:new B(80,80),
Ie:180,uc:new B(80,20),ld:new B(20,20),tc:[new Y(0,70,40,70),new Y(70,50,100,50)]},{start:new B(20,25),Ie:90,uc:new B(80,25),ld:new B(80,75),tc:[new Y(50,0,50,25),new Y(75,50,100,50),new Y(50,100,50,75),new Y(0,50,25,50)]},{start:new B(80,70),Ie:180,uc:new B(20,20),ld:new B(80,20),tc:[new Y(0,69,31,100),new Y(40,50,71,0),new Y(80,50,100,50)]},{start:new B(20,20),Ie:90,uc:new B(80,50),ld:new B(20,20),tc:[new Y(40,60,60,60),new Y(40,60,60,30),new Y(60,30,100,30)]}][U],Pm=[],Qm=1;
function Rm(){var a=document.getElementById("svgBird");Z.tc.push(new Y(-5,-5,-5,105));Z.tc.push(new Y(-5,105,105,105));Z.tc.push(new Y(105,105,105,-5));Z.tc.push(new Y(105,-5,-5,-5));for(var b=0;b<Z.tc.length;b++){var c=Z.tc[b],e=document.createElementNS(x.h.ed.Mc,"line");e.setAttribute("x1",c.Ek/100*400);e.setAttribute("y1",400*(1-c.Fk/100));e.setAttribute("x2",c.x1/100*400);e.setAttribute("y2",400*(1-c.y1/100));e.setAttribute("stroke","#CCB");e.setAttribute("stroke-width",10);e.setAttribute("stroke-linecap",
"round");a.appendChild(e)}b=document.createElementNS(x.h.ed.Mc,"image");b.setAttribute("id","nest");b.setAttributeNS(x.h.ed.nq,"xlink:href","bird/nest.png");b.setAttribute("height",100);b.setAttribute("width",100);a.appendChild(b);Z.uc&&(b=document.createElementNS(x.h.ed.Mc,"image"),b.setAttribute("id","worm"),b.setAttributeNS(x.h.ed.nq,"xlink:href","bird/worm.png"),b.setAttribute("height",100),b.setAttribute("width",100),a.appendChild(b));b=document.createElementNS(x.h.ed.Mc,"clipPath");b.setAttribute("id",
"birdClipPath");c=document.createElementNS(x.h.ed.Mc,"rect");c.setAttribute("id","clipRect");c.setAttribute("width",120);c.setAttribute("height",120);b.appendChild(c);a.appendChild(b);b=document.createElementNS(x.h.ed.Mc,"image");b.setAttribute("id","bird");b.setAttributeNS(x.h.ed.nq,"xlink:href","bird/birds-120.png");b.setAttribute("height",480);b.setAttribute("width",1440);b.setAttribute("clip-path","url(#birdClipPath)");a.appendChild(b);b=document.createElementNS(x.h.ed.Mc,"rect");b.setAttribute("class",
"edges");b.setAttribute("width",400);b.setAttribute("height",400);a.appendChild(b);b=3<U;c=4<U;e=1;for(var f=.1;.9>f;f+=.1){if(b){var h=document.createElementNS(x.h.ed.Mc,"line");h.setAttribute("class","edges");h.setAttribute("x1",400*f);h.setAttribute("y1",400);h.setAttribute("x2",400*f);h.setAttribute("y2",400-9*e);a.appendChild(h)}c&&(h=document.createElementNS(x.h.ed.Mc,"line"),h.setAttribute("class","edges"),h.setAttribute("x1",0),h.setAttribute("y1",400*f),h.setAttribute("x2",9*e),h.setAttribute("y2",
400*f),a.appendChild(h));2==e&&(b&&(h=document.createElementNS(x.h.ed.Mc,"text"),h.setAttribute("class","edgeX"),h.setAttribute("x",400*f+2),h.setAttribute("y",396),h.appendChild(document.createTextNode(Math.round(100*f))),a.appendChild(h)),c&&(h=document.createElementNS(x.h.ed.Mc,"text"),h.setAttribute("class","edgeY"),h.setAttribute("x",3),h.setAttribute("y",400*f-2),h.appendChild(document.createTextNode(Math.round(100-100*f))),a.appendChild(h)));e=1==e?2:1}}
window.addEventListener("load",function(){function a(){c.style.top=Math.max(10,e.offsetTop-window.pageYOffset)+"px";c.style.left=b?"10px":"420px";c.style.width=window.innerWidth-440+"px"}document.body.innerHTML=Om();X.$();var b=-1!=mm.indexOf(nm),c=document.getElementById("blockly"),e=document.getElementById("visualization");window.addEventListener("scroll",function(){a(null);x.qh(O)});window.addEventListener("resize",a);a(null);var f=document.getElementById("toolbox");O=x.Pf("blockly",{media:"third-party/blockly/media/",
rtl:b,toolbox:f,trashcan:!0});O.zd.load(["bird/quack.ogg","bird/quack.mp3"],"quack");O.zd.load(["bird/whack.mp3","bird/whack.ogg"],"whack");O.zd.load(["bird/worm.mp3","bird/worm.ogg"],"worm");1<U&&O.fc(x.i.Cr);Yk("noWorm,heading,getX,getY");Rm();f="";f=1==U?'<xml>  <block type="bird_heading" x="70" y="70"></block></xml>':5>U?'<xml>  <block type="bird_ifElse" x="70" y="70"></block></xml>':'<xml>  <block type="controls_if" x="70" y="70"></block></xml>';X.tx(f,!1);Sm();zm("runButton",Tm);zm("resetButton",
Um);setTimeout(function(){O.fc(function(){Vm()});Vm()},5E3);8<U&&setTimeout(W.pq,3E5);setTimeout(X.ax,1);setTimeout(X.bx,1)});var Wm=0;
function Vm(){if(!O.Yb()&&!vm(U)){var a=-1!=mm.indexOf(nm),b=x.B.Cc(x.B.Cm(O)),c=I(O.G.j,!0),e=document.getElementById("dialogHelp"),f=null,h=null;if(1==U)-1==b.indexOf(">90<")&&-1!=b.indexOf("bird_heading")||x.I.isVisible()||(h={width:"370px",top:"140px"},h[a?"right":"left"]="215px",f=I(O,!0),f=f.length?f[0].J():c[0].J());else if(2==U)-1==b.indexOf("bird_noWorm")&&(h={width:"350px",top:"170px"},h[a?"right":"left"]="180px",f=c[1].J());else if(4==U)-1==b.indexOf("bird_compare")&&(h={width:"350px",
top:"230px"},h[a?"right":"left"]="180px",f=c[2].J());else if(5==U){if(Wm||(Wm=setInterval(Vm,100)),-1==b.indexOf("mutation else")){f=I(O,!1);for(h=0;(c=f[h])&&"controls_if"!=c.type;h++);c.kd.isVisible()?(e=document.getElementById("dialogMutatorHelp"),f=c.kd.j.G.Nj[1],b=lh(f),h={width:"340px",top:b.y+60+"px"},h.left=b.x-(a?310:0)+"px"):(b=lh(c.J()),h={width:"340px",top:b.y+100+"px"},h.left=b.x-(a?280:0)+"px",f=c.J())}}else if(6==U){if(-1==b.indexOf("mutation")){f=I(O,!1);for(h=0;(c=f[h])&&"controls_if"!=
c.type;h++);b=lh(c.J());h={width:"350px",top:b.y+220+"px"};h.left=b.x-(a?350:0)+"px";f=c.J()}}else 8==U&&-1==b.indexOf("bird_and")&&(h={width:"350px",top:"360px"},h[a?"right":"left"]="450px",f=c[4].J());h?e.parentNode!=document.getElementById("dialog")&&W.gk(e,f,!0,!1,h,null):W.Qc(!1)}}
function Sm(){for(var a=0;a<Pm.length;a++)window.clearTimeout(Pm[a]);Pm=[];V=Z.start.clone();Cm=Bm=Z.Ie;Dm=!Z.uc;Qm=1;Xm();if(a=document.getElementById("worm"))a.setAttribute("x",Z.uc.x/100*400-50),a.setAttribute("y",400*(1-Z.uc.y/100)-50),a.style.visibility="visible";a=document.getElementById("nest");a.setAttribute("x",Z.ld.x/100*400-50);a.setAttribute("y",400*(1-Z.ld.y/100)-50)}
function Tm(a){if(!X.ne(a)){a=document.getElementById("runButton");var b=document.getElementById("resetButton");b.style.minWidth||(b.style.minWidth=a.offsetWidth+"px");a.style.display="none";b.style.display="inline";Sm();Ym()}}function Um(a){X.ne(a)||(document.getElementById("runButton").style.display="inline",document.getElementById("resetButton").style.display="none",Wg(null),Sm())}
function Zm(a,b){a.setProperty(b,"heading",a.createNativeFunction(function(c,e){var f=c*Math.PI/180;V.x+=Math.cos(f);V.y+=Math.sin(f);Bm=c;Em.push(["move",V.x,V.y,Bm,e]);if(Dm&&15>yc(V,Z.ld))throw Em.push(["play","quack",null]),$m(Z.ld),Em.push(["finish",null]),!0;!Dm&&Z.uc&&15>yc(V,Z.uc)&&($m(Z.uc),Em.push(["worm",null]),Em.push(["play","worm",null]),Dm=!0);a:{for(c=0;e=Z.tc[c];c++){var h=V;h instanceof B?(f=h.y,h=h.x):f=void 0;var k=e.Ek,l=e.Fk;var m=e.x1-e.Ek;var n=e.y1-e.Fk;m=m*m+n*n;f=Math.min(Math.max(((Number(h)-
k)*(e.x1-k)+(Number(f)-l)*(e.y1-l))/m,0),1);h=e.Ek;h+=f*(e.x1-h);k=e.Fk;e=k+f*(e.y1-k);if(6>yc(new B(h,e),V)){c=!0;break a}}c=!1}if(c)throw Em.push(["play","whack",null]),!1;}));a.setProperty(b,"noWorm",a.createNativeFunction(function(){return!Dm}));a.setProperty(b,"getX",a.createNativeFunction(function(){return V.x}));a.setProperty(b,"getY",a.createNativeFunction(function(){return V.y}))}
function Ym(){if("Interpreter"in window){Em=[];x.selected&&x.selected.rf();var a=Uk(),b=a.indexOf("if ("),c=a.indexOf("}\n");-1!=b&&-1!=c&&(a=a.substring(b,c+2));b=0;a=new Interpreter("while(true) {\n"+a+"}",Zm);try{for(c=1E5;a.step();)if(0>=c--)throw Infinity;b=-1}catch(e){Infinity===e?b=2:!0===e?b=1:!1===e?b=-2:(b=-2,window.alert(e))}Am=1==b?10:15;Sm();Pm.push(setTimeout(an,1))}else setTimeout(Ym,250)}
function an(){Pm=[];var a=Em.shift();a?(X.Pl(a.pop()),"move"==a[0]||"goto"==a[0]?(V.x=a[1],V.y=a[2],Bm=a[3],Qm="move"==a[0]?2:1,Xm()):"worm"==a[0]?document.getElementById("worm").style.visibility="hidden":"finish"==a[0]?(Qm=3,Xm(),X.uy(),W.Nv()):"play"==a[0]&&O.zd.play(a[1],.5),Pm.push(setTimeout(an,5*Am))):X.Pl(null)}
function Xm(){var a=wc(Cm)-wc(Bm);180<a?a-=360:-180>=a&&(a=360+a);10>=Math.abs(a)?Cm=Bm:(Cm-=10*(0<a?1:0>a?-1:a),Cm=wc(Cm));var b=(14-Math.round(Cm/360*12))%12,c=Cm%30;15<=c&&(c-=30);c*=-1;if(1==Qm)var e=0;else if(3==Qm)e=3;else if(2==Qm)e=Math.round(Date.now()/100)%3;else throw"Unknown pose.";a=V.x/100*400-60;var f=400*(1-V.y/100)-60,h=document.getElementById("bird");h.setAttribute("x",a-120*b);h.setAttribute("y",f-120*e);h.setAttribute("transform","rotate("+c+", "+(a+60)+", "+(f+60)+")");b=document.getElementById("clipRect");
b.setAttribute("x",a);b.setAttribute("y",f)}function $m(a){var b=Math.round(yc(V,a));a=wc(180*Math.atan2(a.y-V.y,a.x-V.x)/Math.PI);for(var c=a*Math.PI/180,e=0;e<b;e++)V.x+=Math.cos(c),V.y+=Math.sin(c),Em.push(["goto",V.x,V.y,a,null])};
